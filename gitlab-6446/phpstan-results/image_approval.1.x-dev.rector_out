modules/contrib/image_approval/image_approval.install
modules/contrib/image_approval/image_approval.module
modules/contrib/image_approval/src/Form/ImageApprovalOverview.php
modules/contrib/image_approval/src/ImageApprovalItemInterface.php

1 file with changes
===================

1) modules/contrib/image_approval/image_approval.module:80

    ---------- begin diff ----------
@@ @@
   $url = $file->getFileUri();
   $info = pathinfo($url);
   \Drupal::service('file_system')->prepareDirectory($info['dirname'], FileSystemInterface::CREATE_DIRECTORY);
-  $destination = file_stream_wrapper_uri_normalize($info['dirname'] . '/picture-' . $uid . '-' . REQUEST_TIME . '.' . $info['extension']);
+  $destination = file_stream_wrapper_uri_normalize($info['dirname'] . '/picture-' . $uid . '-' . \Drupal::time()->getRequestTime() . '.' . $info['extension']);
   // Move the temporary file into the final location.
-  $file = file_move($file, $destination, FILE_EXISTS_RENAME);
+  $file = \Drupal::service('file.repository')->move($file, $destination, FileSystemInterface::EXISTS_RENAME);
   $file->setPermanent();
   $file->save();
   image_approval_image_to_be_moderated($uid, $upload);
@@ @@
     ->values([
       'uid' => $user_id,
       'fid' => $fid,
-      'timestamp' => REQUEST_TIME,
+      'timestamp' => \Drupal::time()->getRequestTime(),
       'status' => ImageApprovalItemInterface::IMAGE_APPROVAL_PENDING ,
       'name' => $username ,
     ])
@@ @@
     ->fields([
       'status' => $status,
       'moderator' => $user->getDisplayName(),
-      'timestamp' => REQUEST_TIME,
+      'timestamp' => \Drupal::time()->getRequestTime(),
     ])
     ->condition('fid', $fid)
     ->execute();
@@ @@
     ->fields([
       'status' => $status,
       'moderator' => $user->getDisplayName(),
-      'timestamp' => REQUEST_TIME,
+      'timestamp' => \Drupal::time()->getRequestTime(),
     ])
     ->condition('fid', $fid)
     ->execute();
    ----------- end diff -----------

Applied rules:
 * FileExistsRenameRector
 * FileMoveRector
 * RequestTimeConstRector
 * ArgumentRemoverRector


 [OK] 1 file has been changed by Rector                                         

