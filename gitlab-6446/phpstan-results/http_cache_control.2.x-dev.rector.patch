diff --git a/src/EventSubscriber/CacheControlEventSubscriber.php b/src/EventSubscriber/CacheControlEventSubscriber.php
index 0606959..c02d06c 100644
--- a/src/EventSubscriber/CacheControlEventSubscriber.php
+++ b/src/EventSubscriber/CacheControlEventSubscriber.php
@@ -2,9 +2,9 @@
 
 namespace Drupal\http_cache_control\EventSubscriber;
 
+use Symfony\Component\HttpKernel\Event\ResponseEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpKernel\KernelEvents;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Drupal\Core\Site\Settings;
 use Drupal\Core\Config\ConfigFactory;
 
@@ -30,7 +30,7 @@ class CacheControlEventSubscriber implements EventSubscriberInterface {
     /**
      * Set http cache control headers.
      */
-    public function setHeaderCacheControl(FilterResponseEvent $event) {
+    public function setHeaderCacheControl(ResponseEvent $event) {
         $config = $this->configFactory->get('http_cache_control.settings');
         $response = $event->getResponse();
 
diff --git a/tests/src/HttpCacheControlTest.php b/tests/src/HttpCacheControlTest.php
index 20c7403..6de4505 100644
--- a/tests/src/HttpCacheControlTest.php
+++ b/tests/src/HttpCacheControlTest.php
@@ -23,7 +23,7 @@ class HttpCacheControlTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->config('system.site')
@@ -43,8 +43,8 @@ class HttpCacheControlTest extends BrowserTestBase {
     // Fill the cache.
     $this->drupalGet('system-test/set-header', ['query' => ['name' => 'Foo', 'value' => 'max-age']]);
 
-    $this->assertEqual($this->drupalGetHeader('Cache-Control'), 'max-age=300, public', 'Cache-Control header was sent.');
-    $this->assertNotContains('s-maxage', $this->drupalGetHeader('Cache-Control'), 'Cache-Control header does not contain s-maxage');
+    $this->assertEquals($this->drupalGetHeader('Cache-Control'), 'max-age=300, public', 'Cache-Control header was sent.');
+    $this->assertStringNotContainsString('s-maxage', $this->drupalGetHeader('Cache-Control'), 'Cache-Control header does not contain s-maxage');
     $this->assertEmpty($this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control is not present');
 
     $config = $this->config('http_cache_control.settings');
@@ -52,35 +52,35 @@ class HttpCacheControlTest extends BrowserTestBase {
     $config->save();
 
     $this->drupalGet('system-test/set-header', ['query' => ['name' => 'Foo', 'value' => 's-maxage']]);
-    $this->assertContains('s-maxage=400', $this->drupalGetHeader('Cache-Control'), 'Cache-Control header contain s-maxage');
+    $this->assertStringContainsString('s-maxage=400', $this->drupalGetHeader('Cache-Control'), 'Cache-Control header contain s-maxage');
 
     $config->set('cache.http.404_max_age', 404);
     $config->save();
 
     $this->drupalGet('system-test/not-found');
-    $this->assertContains('max-age=404', $this->drupalGetHeader('Cache-Control'), 'Cache-Control header contain maxage for 404');
-    $this->assertContains('s-maxage=404', $this->drupalGetHeader('Cache-Control'), 'Cache-Control header does not contain s-maxage');
+    $this->assertStringContainsString('max-age=404', $this->drupalGetHeader('Cache-Control'), 'Cache-Control header contain maxage for 404');
+    $this->assertStringContainsString('s-maxage=404', $this->drupalGetHeader('Cache-Control'), 'Cache-Control header does not contain s-maxage');
 
     $config->set('cache.http.vary', 'Drupal-Test-Header');
     $config->save();
 
     $this->drupalGet('system-test/set-header', ['query' => ['name' => 'Foo', 'value' => 'vary']]);
-    $this->assertContains('Drupal-Test-Header', $this->drupalGetHeader('Vary'), 'Vary header contains Drupal-Test-Header.');
+    $this->assertStringContainsString('Drupal-Test-Header', $this->drupalGetHeader('Vary'), 'Vary header contains Drupal-Test-Header.');
 
     // Surrogate Control tests
     $config->set('cache.surrogate.maxage', 405);
     $config->save();
 
     $this->drupalGet('system-test/set-header', ['query' => ['name' => 'Foo', 'value' => 'surrogate-max-age']]);
-    $this->assertContains('max-age=405', $this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control header contains maxage');
-    $this->assertNotContains('no-store', $this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control header does not contain no-store');
+    $this->assertStringContainsString('max-age=405', $this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control header contains maxage');
+    $this->assertStringNotContainsString('no-store', $this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control header does not contain no-store');
 
     $config->set('cache.surrogate.nostore', true);
     $config->save();
 
     $this->drupalGet('system-test/set-header', ['query' => ['name' => 'Foo', 'value' => 'surrogate-nostore']]);
-    $this->assertContains('max-age=405', $this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control header contains maxage');
-    $this->assertContains('no-store', $this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control header does contain no-store');
+    $this->assertStringContainsString('max-age=405', $this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control header contains maxage');
+    $this->assertStringContainsString('no-store', $this->drupalGetHeader('Surrogate-Control'), 'Surrogate-Control header does contain no-store');
 
   }
 }
