diff --git a/src/Form/RenameAdminPathsSettingsForm.php b/src/Form/RenameAdminPathsSettingsForm.php
index 97bbaba..6de7307 100644
--- a/src/Form/RenameAdminPathsSettingsForm.php
+++ b/src/Form/RenameAdminPathsSettingsForm.php
@@ -63,7 +63,7 @@ class RenameAdminPathsSettingsForm extends ConfigFormBase {
    */
   public static function create(ContainerInterface $container): self {
     return new static(
-      $container->get(Config::class),
+      $this->config,
       $container->get('router.builder'),
       $container->get('string_translation')
     );
diff --git a/tests/src/Functional/AccessTest.php b/tests/src/Functional/AccessTest.php
index 37a6c66..2744ebb 100644
--- a/tests/src/Functional/AccessTest.php
+++ b/tests/src/Functional/AccessTest.php
@@ -16,10 +16,10 @@ class AccessTest extends BrowserTestBase {
    */
   public function testAdminNotAccessibleAfterRenaming() {
     $output = $this->drupalGet('admin');
-    $this->assertContains('You are not authorized to access this page.', $output);
+    $this->assertStringContainsString('You are not authorized to access this page.', $output);
 
     $output = $this->drupalGet('admin/modules');
-    $this->assertContains('You are not authorized to access this page.', $output);
+    $this->assertStringContainsString('You are not authorized to access this page.', $output);
 
     $admin = $this->drupalCreateUser(['administer modules', 'administer site configuration'], 'administrator', TRUE);
     $this->drupalLogin($admin);
@@ -36,9 +36,9 @@ class AccessTest extends BrowserTestBase {
     $this->drupalLogout();
 
     $output = $this->drupalGet('backend');
-    $this->assertContains('You are not authorized to access this page.', $output);
+    $this->assertStringContainsString('You are not authorized to access this page.', $output);
 
     $output = $this->drupalGet('backend/modules');
-    $this->assertContains('You are not authorized to access this page.', $output);
+    $this->assertStringContainsString('You are not authorized to access this page.', $output);
   }
 }
diff --git a/tests/src/Functional/AdminFormTest.php b/tests/src/Functional/AdminFormTest.php
index 2c6afa2..6e65503 100644
--- a/tests/src/Functional/AdminFormTest.php
+++ b/tests/src/Functional/AdminFormTest.php
@@ -14,7 +14,7 @@ class AdminFormTest extends BrowserTestBase {
   /**
    * Setup admin user.
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $admin = $this->drupalCreateUser(['administer modules', 'administer site configuration'], 'administrator', TRUE);
@@ -38,7 +38,7 @@ class AdminFormTest extends BrowserTestBase {
    */
   public function testEnablePathReplacements() {
     $output = $this->drupalGet('user/1');
-    $this->assertContains('Member for', $output);
+    $this->assertStringContainsString('Member for', $output);
 
     $this->drupalGet('admin/config/system/rename-admin-paths');
 
@@ -55,17 +55,17 @@ class AdminFormTest extends BrowserTestBase {
     $this->assertSession()->fieldValueEquals('user_path_value', 'member');
 
     $output = $this->drupalGet('user/1');
-    $this->assertContains('The requested page could not be found.', $output);
+    $this->assertStringContainsString('The requested page could not be found.', $output);
 
     $output = $this->drupalGet('member/1');
-    $this->assertContains('Member for', $output);
+    $this->assertStringContainsString('Member for', $output);
   }
 
   private function assertRenameAdminPathFormIsVisible() {
     $output = $this->getSession()->getPage()->getContent();
-    $this->assertContains('Rename admin path', $output);
-    $this->assertContains('Replace "admin" in admin path by', $output);
-    $this->assertContains('Rename user path', $output);
-    $this->assertContains('Replace "user" in user path by', $output);
+    $this->assertStringContainsString('Rename admin path', $output);
+    $this->assertStringContainsString('Replace "admin" in admin path by', $output);
+    $this->assertStringContainsString('Rename user path', $output);
+    $this->assertStringContainsString('Replace "user" in user path by', $output);
   }
 }
diff --git a/tests/src/Unit/EventSubscriber/RenameAdminPathEventSubscriberTest.php b/tests/src/Unit/EventSubscriber/RenameAdminPathEventSubscriberTest.php
index 778153e..57d12f7 100644
--- a/tests/src/Unit/EventSubscriber/RenameAdminPathEventSubscriberTest.php
+++ b/tests/src/Unit/EventSubscriber/RenameAdminPathEventSubscriberTest.php
@@ -17,7 +17,7 @@ class RenameAdminPathEventSubscriberTest extends UnitTestCase {
   public function testGetSubscribedEvents() {
     $events = RenameAdminPathsEventSubscriber::getSubscribedEvents();
 
-    $this->assertInternalType('array', $events);
+    $this->assertIsArray($events);
     $this->assertCount(1, $events);
   }
 
diff --git a/tests/src/Unit/Form/RenameAdminPathsSettingsFormTest.php b/tests/src/Unit/Form/RenameAdminPathsSettingsFormTest.php
index f0f558c..0235c27 100644
--- a/tests/src/Unit/Form/RenameAdminPathsSettingsFormTest.php
+++ b/tests/src/Unit/Form/RenameAdminPathsSettingsFormTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\rename_admin_paths\Unit\Form;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Routing\RouteBuilderInterface;
 use Drupal\Core\StringTranslation\TranslationInterface;
@@ -15,6 +16,7 @@ use Prophecy\Argument;
  */
 class RenameAdminPathsSettingsFormTest extends UnitTestCase {
 
+  use ProphecyTrait;
   public function testValidatePathWithoutValue() {
     $element = [];
     $this->getForm()->validate($element, $this->getInvalidFormState());
