diff --git a/src/Plugin/MediaLibrarySource/ConfigurableLoremPicsum.php b/src/Plugin/MediaLibrarySource/ConfigurableLoremPicsum.php
index cfc8c03..969e25f 100644
--- a/src/Plugin/MediaLibrarySource/ConfigurableLoremPicsum.php
+++ b/src/Plugin/MediaLibrarySource/ConfigurableLoremPicsum.php
@@ -166,7 +166,7 @@ class ConfigurableLoremPicsum extends MediaLibrarySourceBase {
       $filename = $selected_id . '.jpg';
 
       // Save to filesystem.
-      $file = file_save_data($response->getBody(), $this->getUploadLocation() . '/' . $filename);
+      $file = \Drupal::service('file.repository')->writeData($response->getBody(), $this->getUploadLocation() . '/' . $filename);
 
       // Attach file to media entity.
       $source_field = $this->getSourceField();
diff --git a/src/Plugin/MediaLibrarySource/LoremPicsum.php b/src/Plugin/MediaLibrarySource/LoremPicsum.php
index db9e7d2..8eef675 100644
--- a/src/Plugin/MediaLibrarySource/LoremPicsum.php
+++ b/src/Plugin/MediaLibrarySource/LoremPicsum.php
@@ -157,7 +157,7 @@ class LoremPicsum extends MediaLibrarySourceBase {
       $filename = $selected_id . '.jpg';
 
       // Save to filesystem.
-      $file = file_save_data($response->getBody(), $this->getUploadLocation() . '/' . $filename);
+      $file = \Drupal::service('file.repository')->writeData($response->getBody(), $this->getUploadLocation() . '/' . $filename);
 
       // Attach file to media entity.
       $source_field = $this->getSourceField();
