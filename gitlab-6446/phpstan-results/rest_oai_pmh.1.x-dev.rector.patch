diff --git a/src/Plugin/OaiMetadataMapBase.php b/src/Plugin/OaiMetadataMapBase.php
index 6aa876f..4dbba2e 100644
--- a/src/Plugin/OaiMetadataMapBase.php
+++ b/src/Plugin/OaiMetadataMapBase.php
@@ -32,10 +32,7 @@ abstract class OaiMetadataMapBase extends PluginBase implements OaiMetadataMapIn
     protected function getTemplatePath()
     {
         $template = $this->getPluginDefinition()['template'];
-        return drupal_get_path(
-            $template['type'],
-            $template['name']
-        ) . '/' . $template['directory'] . '/' . $template['file'] . '.html.twig';
+        return \Drupal::service('extension.path.resolver')->getPath($template['type'], $template['name']) . '/' . $template['directory'] . '/' . $template['file'] . '.html.twig';
     }
 
 }
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index 987ca76..5e0a108 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -29,7 +29,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
