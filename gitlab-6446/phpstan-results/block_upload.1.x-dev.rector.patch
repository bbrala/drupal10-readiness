diff --git a/src/Form/BlockUploadForm.php b/src/Form/BlockUploadForm.php
index 9601e1e..f65093c 100755
--- a/src/Form/BlockUploadForm.php
+++ b/src/Form/BlockUploadForm.php
@@ -83,7 +83,7 @@ class BlockUploadForm extends FormBase {
       ];
     }
     if ($submit) {
-      $module_path = drupal_get_path('module', 'block_upload');
+      $module_path = \Drupal::service('extension.list.module')->getPath('block_upload');
       $form['#attached']['library'][] = 'block_upload/table-file';
       $form['block_upload_nid'] = [
         '#type' => 'textfield',
diff --git a/src/Form/BlockUploadPluploadForm.php b/src/Form/BlockUploadPluploadForm.php
index 90a6617..1f93db6 100644
--- a/src/Form/BlockUploadPluploadForm.php
+++ b/src/Form/BlockUploadPluploadForm.php
@@ -64,7 +64,7 @@ class BlockUploadPluploadForm extends FormBase {
       ];
     }
     if ($submit) {
-      $module_path = drupal_get_path('module', 'block_upload');
+      $module_path = \Drupal::service('extension.list.module')->getPath('block_upload');
       $form['#attached']['library'][] = 'block_upload/table-file';
       $form['block_upload_nid'] = [
         '#type' => 'textfield',
