diff --git a/path_guard.info.yml b/path_guard.info.yml
index 8b99f02..3a125cc 100644
--- a/path_guard.info.yml
+++ b/path_guard.info.yml
@@ -1,8 +1,7 @@
 name: 'Path Guard'
 type: module
 description: 'Disallows existing paths as aliases.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 package: 'Custom'
 dependencies:
   - drupal:path
diff --git a/tests/src/Functional/PathGuardTest.php b/tests/src/Functional/PathGuardTest.php
index 733813e..b3a9fd2 100644
--- a/tests/src/Functional/PathGuardTest.php
+++ b/tests/src/Functional/PathGuardTest.php
@@ -26,7 +26,7 @@ class PathGuardTest extends PathTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create test user and log in.
@@ -44,33 +44,37 @@ class PathGuardTest extends PathTestBase {
   public function testPathFormElement() {
     $assert_session = $this->assertSession();
 
+    $this->drupalGet('node/add/page');
     $this->drupalGet('node/add/page');
 
     // Tests existing path.
-    $this->drupalPostForm('node/add/page', [
+    $this->submitForm([
       'path[0][alias]' => '/node/add/page',
       'title[0][value]' => 'Page',
     ], 'Save');
 
     $assert_session->pageTextContains('The path is already in use.');
+    $this->drupalGet('node/add/page');
 
     // Tests not existing path.
-    $this->drupalPostForm('node/add/page', [
+    $this->submitForm([
       'path[0][alias]' => '/page',
       'title[0][value]' => 'Page',
     ], 'Save');
 
     $assert_session->pageTextContains('Basic page Page has been created.');
+    $this->drupalGet('node/1/edit');
 
     // Tests updating node with the existing path.
-    $this->drupalPostForm('node/1/edit', [
+    $this->submitForm([
       'title[0][value]' => 'Page updated',
     ], 'Save');
 
     $assert_session->pageTextContains('Basic page Page updated has been updated.');
+    $this->drupalGet('node/add/page');
 
     // Tests omitting path.
-    $this->drupalPostForm('node/add/page', [
+    $this->submitForm([
       'title[0][value]' => 'Page 2',
     ], 'Save');
 
