diff --git a/tag_block_site_branding_switcher.info.yml b/tag_block_site_branding_switcher.info.yml
index 1b5274c..1dc9741 100644
--- a/tag_block_site_branding_switcher.info.yml
+++ b/tag_block_site_branding_switcher.info.yml
@@ -2,7 +2,6 @@ name: Tag Block Site Branding Switcher
 description: Provide a way to switch HTML Tag from Frontpage to other pages.
 type: module
 package: Custom
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:block
diff --git a/tag_block_site_branding_switcher.module b/tag_block_site_branding_switcher.module
index 76e960a..4897c1f 100644
--- a/tag_block_site_branding_switcher.module
+++ b/tag_block_site_branding_switcher.module
@@ -61,7 +61,7 @@ function tag_block_site_branding_switcher_theme_registry_alter(&$theme_registry)
 
     // Set the branding block template.
     if (in_array($base_theme, ['bartik', 'classy', 'stable'])) {
-      $module_path = drupal_get_path('module', 'tag_block_site_branding_switcher');
+      $module_path = \Drupal::service('extension.list.module')->getPath('tag_block_site_branding_switcher');
       $theme_registry['block__system_branding_block']['path'] = implode(
         '/',
         [$module_path, 'templates', $base_theme]
@@ -77,7 +77,7 @@ function tag_block_site_branding_switcher_get_core_theme($base_theme, $themes, $
 
   // Check theme use block--system-branding-block template.
   // If not use base theme.
-  $templates = drupal_find_theme_templates($theme_registry, '.html.twig', drupal_get_path('theme', $base_theme));
+  $templates = drupal_find_theme_templates($theme_registry, '.html.twig', \Drupal::service('extension.list.theme')->getPath($base_theme));
   if (
     !empty($themes[$base_theme]->base_theme) &&
     ((!empty($themes[$base_theme]->origin) && $themes[$base_theme]->origin !== 'core') || empty($templates['block__system_branding_block']['path']))
