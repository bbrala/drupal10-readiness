modules/contrib/calendar_links_token/calendar_links_token.module

1 file with changes
===================

1) modules/contrib/calendar_links_token/calendar_links_token.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\File\FileSystemInterface;
 /**
  * @file
  * Embed calendar links using tokens.
@@ @@
       $ics_data = base64_decode($ics_data);

       // Save file to disk.
-      $ics_uri = file_unmanaged_save_data($ics_data, "public://invite_$nid.ics", FILE_EXISTS_REPLACE);
-      $ics_link = file_create_url($ics_uri);
+      $ics_uri = \Drupal::service('file_system')->saveData($ics_data, "public://invite_$nid.ics", FileSystemInterface::EXISTS_REPLACE);
+      $ics_link = \Drupal::service('file_url_generator')->generateAbsoluteString($ics_uri);
       $ics_link .= '?' . time();

       // Generate calendar links invitation.
    ----------- end diff -----------

Applied rules:
 * FileExistsReplaceRector
 * FileUnmanagedSaveDataRector
 * FileCreateUrlRector
 * ArgumentRemoverRector


 [OK] 1 file has been changed by Rector                                         

