diff --git a/entity_machine_name.install b/entity_machine_name.install
index 2c0e31b..989418f 100644
--- a/entity_machine_name.install
+++ b/entity_machine_name.install
@@ -15,7 +15,7 @@ use Drupal\node\Entity\Node;
 function entity_machine_name_install() {
   batch_set(
     [
-      'file' => drupal_get_path('module', 'entity_machine_name') . '/entity_machine_name.install',
+      'file' => \Drupal::service('extension.list.module')->getPath('entity_machine_name') . '/entity_machine_name.install',
       'title' => t('Generating missing taxonomy term machine names'),
       'init_message' => t('Starting taxonomy term machine names update'),
       'error_message' => t('Error updating taxonomy term machine names'),
