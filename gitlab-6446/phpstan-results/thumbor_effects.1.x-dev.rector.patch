diff --git a/composer.json b/composer.json
index e497da1..3678f84 100644
--- a/composer.json
+++ b/composer.json
@@ -17,8 +17,8 @@
   },
   "license": "GPL-2.0+",
   "require": {
-      "drupal/core": "^8.8 || ^9",
       "ext-gd": "*",
-      "php": "^7.3 || ^8.0"
+      "php": "^7.3 || ^8.0",
+    "drupal/core": "^9.3 || ^10"
   }
 }
diff --git a/src/Plugin/ImageEffect/ThumborImageEffect.php b/src/Plugin/ImageEffect/ThumborImageEffect.php
index 7b828d2..2bd88bd 100644
--- a/src/Plugin/ImageEffect/ThumborImageEffect.php
+++ b/src/Plugin/ImageEffect/ThumborImageEffect.php
@@ -609,7 +609,7 @@ class ThumborImageEffect extends ConfigurableImageEffectBase {
    *   The formatted Thumbor URL.
    */
   public static function getUrlFromImage(array $configuration, ImageInterface $image): string {
-    $image_url = \file_create_url($image->getSource());
+    $image_url = \Drupal::service('file_url_generator')->generateAbsoluteString($image->getSource());
     return static::getUrlFromParameters(static::getUrlParameters($configuration, $image_url));
   }
 
diff --git a/thumbor_effects.info.yml b/thumbor_effects.info.yml
index a2da92e..b1ffe31 100644
--- a/thumbor_effects.info.yml
+++ b/thumbor_effects.info.yml
@@ -6,4 +6,4 @@ configure: thumbor_effects.settings_form
 php: 7.1
 dependencies:
   - drupal:image
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
