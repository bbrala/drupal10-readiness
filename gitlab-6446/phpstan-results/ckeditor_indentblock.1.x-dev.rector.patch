diff --git a/ckeditor_indentblock.install b/ckeditor_indentblock.install
index 2cb9ffd..86866a4 100644
--- a/ckeditor_indentblock.install
+++ b/ckeditor_indentblock.install
@@ -25,7 +25,7 @@ function ckeditor_indentblock_requirements($phase) {
     // Installation profiles can place libraries into a 'libraries' directory,
     // so search for that option too.
     if ($installProfile = \Drupal::installProfile()) {
-      $profile_path = drupal_get_path('profile', $installProfile);
+      $profile_path = \Drupal::service('extension.list.profile')->getPath($installProfile);
       $directories[] = "$profile_path/libraries/";
     }
 
diff --git a/src/Plugin/CKEditorPlugin/IndentBlock.php b/src/Plugin/CKEditorPlugin/IndentBlock.php
index 15e94cd..801554e 100644
--- a/src/Plugin/CKEditorPlugin/IndentBlock.php
+++ b/src/Plugin/CKEditorPlugin/IndentBlock.php
@@ -28,7 +28,7 @@ class IndentBlock extends CKEditorPluginBase implements CKEditorPluginContextual
    */
   public function getCssFiles(Editor $editor) {
     return [
-      drupal_get_path('module', 'ckeditor_indentblock') . '/css/plugins/indentblock/ckeditor.indentblock.css',
+      \Drupal::service('extension.list.module')->getPath('ckeditor_indentblock') . '/css/plugins/indentblock/ckeditor.indentblock.css',
     ];
   }
 
@@ -148,7 +148,7 @@ class IndentBlock extends CKEditorPluginBase implements CKEditorPluginContextual
     // Installation profiles can place libraries into a 'libraries' directory,
     // so search that too.
     if ($installProfile = \Drupal::installProfile()) {
-      $profile_path = drupal_get_path('profile', $installProfile);
+      $profile_path = \Drupal::service('extension.list.profile')->getPath($installProfile);
       $directories[] = "$profile_path/libraries/";
     }
 
