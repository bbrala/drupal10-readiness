modules/contrib/rocketship_core/modules/menu_clickthrough/menu_clickthrough.module
modules/contrib/rocketship_core/modules/rocketship_blocks/rocketship_blocks.install
modules/contrib/rocketship_core/modules/rocketship_blocks/src/Form/SimpleSearchForm.php
modules/contrib/rocketship_core/modules/rocketship_blocks_content/rocketship_blocks_content.install
modules/contrib/rocketship_core/modules/rocketship_content/rocketship_content.install
modules/contrib/rocketship_core/modules/rocketship_page/rocketship_page.install
modules/contrib/rocketship_core/modules/rocketship_seo/rocketship_seo.install
modules/contrib/rocketship_core/modules/rocketship_social_widgets/rocketship_social_widgets.install
modules/contrib/rocketship_core/rocketship_core.field.inc
modules/contrib/rocketship_core/src/Plugin/DataType/CalculatedValueList.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/StaticLinkFormatter.php
modules/contrib/rocketship_core/src/Plugin/Layout/CarouselLayout.php
modules/contrib/rocketship_core/tests/src/Kernel/PathAliasUpdateTest.php
modules/contrib/rocketship_core/modules/rocketship_social_widgets/rocketship_social_widgets.module
modules/contrib/rocketship_core/rocketship_core.install
modules/contrib/rocketship_core/modules/rocketship_content/rocketship_content.module
modules/contrib/rocketship_core/modules/rocketship_blocks_content/rocketship_blocks_content.module
modules/contrib/rocketship_core/modules/rocketship_blocks/rocketship_blocks.module
modules/contrib/rocketship_core/modules/rocketship_content/src/EventSubscriber/RocketshipCoreDemoContentSubscriber.php
modules/contrib/rocketship_core/modules/rocketship_blocks_content/src/EventSubscriber/MigrateSubscriber.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/AuthorRender.php
modules/contrib/rocketship_core/modules/rocketship_social_widgets/src/Controller/SocialShareLinkListBuilder.php
modules/contrib/rocketship_core/modules/rocketship_page/rocketship_page.module
modules/contrib/rocketship_core/modules/menu_clickthrough/src/Menu/MenuHelperInterface.php
modules/contrib/rocketship_core/modules/rocketship_blocks/src/Plugin/Block/CopyrightBlock.php
modules/contrib/rocketship_core/rocketship_core.module
modules/contrib/rocketship_core/modules/rocketship_seo/rocketship_seo.module
modules/contrib/rocketship_core/modules/menu_clickthrough/src/Menu/MenuTreeStorageMenuHelper.php
modules/contrib/rocketship_core/src/Plugin/Layout/CustomLayouts.php
modules/contrib/rocketship_core/src/Plugin/Layout/FourColumnLayout.php
modules/contrib/rocketship_core/src/Plugin/Layout/OneColumnWithOptionalSubregionLayout.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/BreadcrumbRender.php
modules/contrib/rocketship_core/modules/rocketship_social_widgets/src/Entity/SocialShareLink.php
modules/contrib/rocketship_core/modules/rocketship_social_widgets/src/Form/SocialShareLinkDeleteForm.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/CanonicalLink.php
modules/contrib/rocketship_core/modules/rocketship_social_widgets/src/Form/SocialShareLinkForm.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/TabbedFormatter.php
modules/contrib/rocketship_core/src/Plugin/Layout/RocketshipCoreBaseLayout.php
modules/contrib/rocketship_core/modules/rocketship_blocks/src/Plugin/Block/PoweredByDropsolid.php
modules/contrib/rocketship_core/modules/rocketship_blocks/src/Plugin/Block/SearchRedirectBlock.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/TagSelectionTextFieldFormatter.php
modules/contrib/rocketship_core/modules/rocketship_social_widgets/src/Plugin/Block/SocialSharingBlock.php
modules/contrib/rocketship_core/modules/menu_clickthrough/src/Path/CurrentPathHelper.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/ClassyLinkFormatter.php
modules/contrib/rocketship_core/modules/rocketship_blocks/src/Routing/RouteSubscriber.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/TimeAgoFormatter.php
modules/contrib/rocketship_core/modules/rocketship_blocks/src/Controller/ChooseBlockController.php
modules/contrib/rocketship_core/modules/rocketship_social_widgets/src/SocialShareLinkInterface.php
modules/contrib/rocketship_core/modules/rocketship_social_widgets/src/SocialShareLinkManager.php
modules/contrib/rocketship_core/modules/menu_clickthrough/src/Path/PathHelperInterface.php
modules/contrib/rocketship_core/modules/menu_clickthrough/src/Plugin/Field/FieldFormatter/ClickthroughFormatter.php
modules/contrib/rocketship_core/tests/src/Unit/PathAliasUpdateCalculationTest.php
modules/contrib/rocketship_core/modules/rocketship_styleguide/rocketship_styleguide.module
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/TitleDescriptionFormatter.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/WebformRender.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/ConfigurableLink.php
modules/contrib/rocketship_core/modules/menu_clickthrough/src/Plugin/Field/FieldType/ClickthroughFieldType.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldType/ContentBlockTitleReplacement.php
modules/contrib/rocketship_core/modules/rocketship_blocks/src/EventSubscriber/RocketshipBlocksSectionLibraryTemplateMigrateSubscriber.php
modules/contrib/rocketship_core/modules/menu_clickthrough/src/Plugin/Field/FieldWidget/ClickthroughWidget.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldType/ImageDescriptionTitle.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldType/LabelValueField.php
modules/contrib/rocketship_core/src/Plugin/Layout/RocketshipCoreBaseMultiColumnLayout.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/ContentBlockTitleReplacementFormatter.php
modules/contrib/rocketship_core/src/Plugin/Layout/ThreeColumnDynamicLayout.php
modules/contrib/rocketship_core/src/Plugin/Layout/ThreeColumnLayout.php
modules/contrib/rocketship_core/src/Plugin/Layout/TwoColumnLayout.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldType/RocketshipDisplayField.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldType/TabbedItem.php
modules/contrib/rocketship_core/src/Plugin/migrate/process/TokenReplacer.php
modules/contrib/rocketship_core/src/RocketshipConfigInstaller.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldType/TitleDescriptionField.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldWidget/ContentBlockTitleReplacementWidget.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/DownloadLinkFileFormatter.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldWidget/ImageDescriptionTitleDefaultWidget.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/HeaderTextFieldFormatter.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/ImageDescriptionTitleDefaultFormatter.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldWidget/LabelValueWidget.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldWidget/LinkTargetWidget.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldWidget/RocketshipDisplayFieldWidget.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldWidget/TabbedWidget.php
modules/contrib/rocketship_core/src/Event/PathAliasUpdateEvent.php
modules/contrib/rocketship_core/src/EventSubscriber/PathAliasUpdateSubscriber.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/LabelValueFormatter.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldWidget/TagSelectionTextfieldWidget.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/LabelValueTableFormatter.php
modules/contrib/rocketship_core/src/Form/DefaultContentDefaultLanguage.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldWidget/TitleDescriptionWidget.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/LinkVideoEmbedColorbox.php
modules/contrib/rocketship_core/src/Form/MigrateGeneratorForm.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/MediaGenericFileFormatter.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/MultiViewModeEntityReferenceEntityFormatter.php
modules/contrib/rocketship_core/src/Form/RocketshipSettingsForm.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/PositionBasedImageFormatter.php
modules/contrib/rocketship_core/src/Form/UserLoginLinkGeneratorForm.php
modules/contrib/rocketship_core/src/Matcher/EntityAutocompleteMatcher.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/PostDateRender.php
modules/contrib/rocketship_core/src/Matcher/EntityAutocompleteMatcherDecorator.php
modules/contrib/rocketship_core/src/MigrateGenerator.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/RelatedPaddedReferenceItemFormatter.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/ScrollToFormatter.php
modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/ShowParentFieldFormatter.php
modules/contrib/rocketship_core/src/Plugin/Condition/NodeUuid.php

13 files with changes
=====================

1) modules/contrib/rocketship_core/modules/rocketship_content/rocketship_content.module:3

    ---------- begin diff ----------
@@ @@
  * Implements hook_migration_plugins_alter().
  */
 function rocketship_content_migration_plugins_alter(&$definitions) {
-  $path = drupal_get_path('module', 'rocketship_content');
+  $path = \Drupal::service('extension.list.module')->getPath('rocketship_content');
   $migrations = _rocketship_content_content_migrates();

   foreach ($migrations as $migration) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


2) modules/contrib/rocketship_core/tests/src/Kernel/PathAliasUpdateTest.php:69

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->entityTypeManager = $this->container->get('entity_type.manager');
@@ @@

     // Make sure current language has been changed.
     $current_language = $this->languageManager->getCurrentLanguage()->getId();
-    $this->assertEqual($current_language, $language->getId());
+    $this->assertEquals($current_language, $language->getId());
   }

   /**
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/rocketship_core/src/Plugin/Layout/RocketshipCoreBaseLayout.php:337

    ---------- begin diff ----------
@@ @@
     }

     $theme = \Drupal::configFactory()->get('system.theme')->get('default');
-    $path = drupal_get_path('theme', $theme) . '/' . "$theme.theme";
+    $path = \Drupal::service('extension.list.theme')->getPath($theme) . '/' . "$theme.theme";
     if (is_file($path)) {
       require_once $path;
     }
@@ @@
     $settings = \Drupal::config('rocketship_core.settings');
     $variants = $settings->get('color_variants');
     $cssPath = 'public://css';
-    $cssTemplatePath = drupal_get_path('module', 'rocketship_core') . '/css/style.content-blocks.colors.min.css';
+    $cssTemplatePath = \Drupal::service('extension.list.module')->getPath('rocketship_core') . '/css/style.content-blocks.colors.min.css';
     // Make an array of the Changed CSS to save.
     $finalCSS = '';
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/rocketship_core/modules/rocketship_blocks/src/Controller/ChooseBlockController.php:54

    ---------- begin diff ----------
@@ @@
    */
   protected function getBlockLinks(SectionStorageInterface $section_storage, int $delta, $region, array $blocks) {
     $links = [];
-    $icons_folder_path = drupal_get_path('module', 'rocketship_blocks') . '/assets/images/';
-    $default_icon_path = file_create_url($icons_folder_path . 'default-block.svg');
+    $icons_folder_path = \Drupal::service('extension.list.module')->getPath('rocketship_blocks') . '/assets/images/';
+    $default_icon_path = \Drupal::service('file_url_generator')->generateAbsoluteString($icons_folder_path . 'default-block.svg');
     foreach ($blocks as $block_id => $block) {
       $description = '';
       $icon_path = $default_icon_path;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/rocketship_core/modules/rocketship_blocks/rocketship_blocks.module:314

    ---------- begin diff ----------
@@ @@
  * Implements hook_migration_plugins_alter().
  */
 function rocketship_blocks_migration_plugins_alter(&$definitions) {
-  $path = drupal_get_path('module', 'rocketship_blocks');
+  $path = \Drupal::service('extension.list.module')->getPath('rocketship_blocks');
   $definitions['rs_blocks_images']['source']['path'] = $path . $definitions['rs_blocks_images']['source']['path'];
   $definitions['rs_blocks_image_media']['source']['path'] = $path . $definitions['rs_blocks_image_media']['source']['path'];
   $definitions['rs_blocks_image_blocks']['source']['path'] = $path . $definitions['rs_blocks_image_blocks']['source']['path'];
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


6) modules/contrib/rocketship_core/modules/rocketship_blocks/rocketship_blocks.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\migrate\MigrateExecutable;
 /**
  * @file
  * Install file.
@@ @@
     foreach ($migrations as $name) {
       $migration = $migrationManager->createInstance($name);
       if ($migration) {
-        $executable = new \Drupal\migrate\MigrateExecutable($migration);
+        $executable = new MigrateExecutable($migration);
         $executable->import();
       }
     }
@@ @@
     foreach ($migrations as $name) {
       $migration = $migrationManager->createInstance($name);
       if ($migration) {
-        $executable = new \Drupal\migrate\MigrateExecutable($migration);
+        $executable = new MigrateExecutable($migration);
         $executable->rollback();
       }
       \Drupal::configFactory()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


7) modules/contrib/rocketship_core/modules/rocketship_blocks_content/src/EventSubscriber/MigrateSubscriber.php:87

    ---------- begin diff ----------
@@ @@
     $entity_type_id = 'node';
     $entity_type_storage = $this->entityTypeManager->getStorage($entity_type_id);

-    $path = drupal_get_path('module', 'rocketship_blocks_content');
+    $path = \Drupal::service('extension.list.module')->getPath('rocketship_blocks_content');
     $handle = fopen("$path/assets/csv/rocketship_blocks_content_node_page.csv", "r");
     // skip first line
     fgetcsv($handle);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


8) modules/contrib/rocketship_core/modules/rocketship_blocks_content/rocketship_blocks_content.module:3

    ---------- begin diff ----------
@@ @@
  * Implements hook_migration_plugins_alter().
  */
 function rocketship_blocks_content_migration_plugins_alter(&$definitions) {
-  $path = drupal_get_path('module', 'rocketship_blocks_content');
+  $path = \Drupal::service('extension.list.module')->getPath('rocketship_blocks_content');
   $migrations = _rocketship_blocks_content_content_migrates();

   foreach ($migrations as $migration) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


9) modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/PositionBasedImageFormatter.php:223

    ---------- begin diff ----------
@@ @@
         // context to ensure different file URLs are generated for different
         // sites in a multisite setup, including HTTP and HTTPS versions of the
         // same site. Fix in https://www.drupal.org/node/2646744.
-        $url = Url::fromUri(file_create_url($image_uri));
+        $url = \Drupal::service('file_url_generator')->generate($image_uri);
         $cache_contexts[] = 'url.site';
       }
       $cache_tags = Cache::mergeTags($base_cache_tags, $file->getCacheTags());
    ----------- end diff -----------

Applied rules:
 * FromUriRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


10) modules/contrib/rocketship_core/src/Plugin/Field/FieldFormatter/ImageDescriptionTitleDefaultFormatter.php:187

    ---------- begin diff ----------
@@ @@
         // context to ensure different file URLs are generated for different
         // sites in a multisite setup, including HTTP and HTTPS versions of the
         // same site. Fix in https://www.drupal.org/node/2646744.
-        $url = Url::fromUri(file_create_url($image_uri));
+        $url = \Drupal::service('file_url_generator')->generate($image_uri);
         $cache_contexts[] = 'url.site';
       }
       $cache_tags = Cache::mergeTags($base_cache_tags, $file->getCacheTags());
    ----------- end diff -----------

Applied rules:
 * FromUriRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


11) modules/contrib/rocketship_core/src/MigrateGenerator.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\rocketship_core;

+use Drupal\file\Entity\File;
 use Drupal\block_content\Plugin\Block\BlockContentBlock;
 use Drupal\Core\Archiver\ArchiveTar;
 use Drupal\Core\Field\FieldDefinitionInterface;
@@ @@
       $this->created_migrates[$this->module_name . '_menu_link_content_menu_link_content'] = $this->module_name . '_menu_link_content_menu_link_content';
     }

-    $path = drupal_get_path('module', 'rocketship_core');
+    $path = \Drupal::service('extension.list.module')->getPath('rocketship_core');
     $files = [
       $path . '/assets/templates/generated_migrate_info_file.yml.twig' => "$dir/$this->module_name.info.yml",
       $path . '/assets/templates/generated_migrate_install_file.php.twig' => "$dir/$this->module_name.install",
@@ @@
     $entities = [];
     if (!empty($ids)) {
       /** @var \Drupal\file\Entity\File[] $entities */
-      $entities = \Drupal\file\Entity\File::loadMultiple($ids);
+      $entities = File::loadMultiple($ids);
     }
     $rows = [];
     foreach ($entities as $idx => $entity) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


12) modules/contrib/rocketship_core/src/Event/PathAliasUpdateEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\rocketship_core\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\path_alias\PathAliasInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Class PathAliasUpdateEvent.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


13) modules/contrib/rocketship_core/rocketship_core.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\rocketship_core\MigrateGenerator;
 define('ROCKETSHIP_FEATURES_MENU_LINK', '48a98eba-72c7-4e43-9f99-58af7623ce2d');

 use Drupal\block\Entity\Block;
@@ @@

   // Dispatch the path alias update event.
   $event = new PathAliasUpdateEvent($path_alias);
-  $event_dispatcher->dispatch(PathAliasUpdateEvent::PATH_ALIAS_UPDATE, $event);
+  $event_dispatcher->dispatch($event, PathAliasUpdateEvent::PATH_ALIAS_UPDATE);
 }

 /**
@@ @@
  * Implements hook_language_switch_links_alter().
  *
  */
-function rocketship_core_language_switch_links_alter(array &$links, $type, \Drupal\Core\Url $url) {
+function rocketship_core_language_switch_links_alter(array &$links, $type, Url $url) {
   // if a theme setting exists (and is true) to set an abbreviated language as text, do it
   $lang_abbr = theme_get_setting('language_abbr');

@@ @@
 class Rocketship {

   public static function generateMigrate($entity_type_id, $ids = [], $bundles = [], $module_name = 'rs_generated_migrate', $default_content_mode = FALSE) {
-    $generator = new \Drupal\rocketship_core\MigrateGenerator($entity_type_id, $bundles, $ids, $module_name, $default_content_mode);
+    $generator = new MigrateGenerator($entity_type_id, $bundles, $ids, $module_name, $default_content_mode);
     return $generator->generateMigrate();
   }

@@ @@
 /**
  * Implements hook_form_BASE_FORM_ID_alter().
  */
-function rocketship_core_form_node_layout_builder_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
+function rocketship_core_form_node_layout_builder_form_alter(&$form, FormStateInterface $form_state, $form_id) {
   $form['actions']['submit']['#value'] = t('Save content');

   rocketship_core_form_entity_view_display_layout_builder_form_alter($form, $form_state, $form_id);
@@ @@
 /**
  * Implements hook_form_BASE_FORM_ID_alter().
  */
-function rocketship_core_form_entity_view_display_layout_builder_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
+function rocketship_core_form_entity_view_display_layout_builder_form_alter(&$form, FormStateInterface $form_state, $form_id) {
   $form['actions']['preview_toggle']['toggle_content_preview'] = [
     '#type' => 'select',
     '#title' => t('Change content preview'),
@@ @@
  * Implements hook_form_FORM_ID_alter().
  * @see https://www.drupal.org/project/rocketship_core/issues/3222425
  */
-function rocketship_core_form_search_api_fulltext_facet_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
+function rocketship_core_form_search_api_fulltext_facet_form_alter(&$form, FormStateInterface $form_state, $form_id) {
   $form_state->setRequestMethod('POST');
   $form_state->setCached(TRUE);
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector


 [OK] 13 files have been changed by Rector                                      

