modules/contrib/lazyloader/lazyloader.api.php
modules/contrib/lazyloader/src/tests/ExcludeTestCase.php
modules/contrib/lazyloader/lazyloader.install
modules/contrib/lazyloader/lazyloader.module
modules/contrib/lazyloader/src/Form/AdminConfigure.php
modules/contrib/lazyloader/src/Form/AdminExclude.php
modules/contrib/lazyloader/src/tests/TestBase.php
modules/contrib/lazyloader/src/Hooks/ThemeRegistryAlter.php
modules/contrib/lazyloader/tests/src/Kernel/ThemeTest.php
modules/contrib/lazyloader/src/ResponsiveImage.php
modules/contrib/lazyloader/src/ThemePreprocess.php
modules/contrib/lazyloader/src/VisibilityChecker.php
modules/contrib/lazyloader/tests/src/Unit/ResponsiveImageTest.php
modules/contrib/lazyloader/tests/src/Unit/ThemePreprocessTest.php

3 files with changes
====================

1) modules/contrib/lazyloader/lazyloader.module:95

    ---------- begin diff ----------
@@ @@
   }

   $vars['attributes']['class'][] = 'lazyload';
-  $vars['attributes']['src'] = file_create_url($image_placeholder_src);
+  $vars['attributes']['src'] = \Drupal::service('file_url_generator')->generateAbsoluteString($image_placeholder_src);

   if (isset($responsive_image)) {
     $vars['attributes']['data-srcset'] = $responsive_image->__toString();
   }
   else {
-    $vars['attributes']['data-src'] = file_create_url($uri);
+    $vars['attributes']['data-src'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
   }

 }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector


2) modules/contrib/lazyloader/tests/src/Kernel/ThemeTest.php:55

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->installEntitySchema('node');
@@ @@
     $renderer = \Drupal::service('renderer');

     $image = $this->node->field_images;
-    $path = file_url_transform_relative(file_create_url($image->entity->uri->value));
+    $path = \Drupal::service('file_url_generator')->generateString($image->entity->uri->value);

     \Drupal::configFactory()->getEditable('lazyloader.configuration')
       ->set('enabled', TRUE)
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/lazyloader/src/tests/TestBase.php:33

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->createContentType([
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

