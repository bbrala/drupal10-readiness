modules/contrib/stacks/inc/admin.inc
modules/contrib/stacks/modules/stacks_content_feed/src/Controller/GridController.php
modules/contrib/stacks/modules/stacks_content_feed/stacks_content_feed.module
modules/contrib/stacks/modules/stacks_content_list/stacks_content_list.module
modules/contrib/stacks/modules/stacks_example_code_grids/src/Controller/ContentFeedController.php
modules/contrib/stacks/src/Ajax/CancelWidgetCommand.php
modules/contrib/stacks/modules/stacks_examples/src/Plugin/WidgetType/ArticleContent.php
modules/contrib/stacks/src/Form/WidgetEntityTypeForm.php
modules/contrib/stacks/src/TwigExtension/BlockEmbed.php
modules/contrib/stacks/src/WidgetAdmin/Controller/WidgetAdmin.php
modules/contrib/stacks/src/WidgetEntityTypeListBuilder.php
modules/contrib/stacks/stacks.module
modules/contrib/stacks/src/Ajax/ReplaceWidgetCommand.php
modules/contrib/stacks/src/Ajax/UndoWidgetDeleteCommand.php
modules/contrib/stacks/src/Annotation/WidgetType.php
modules/contrib/stacks/src/Controller/WidgetEntityAddController.php
modules/contrib/stacks/inc/cron.inc
modules/contrib/stacks/modules/stacks_example_code_grids/src/Plugin/WidgetType/ContentFeedCode.php
modules/contrib/stacks/src/WidgetExtendEntityAccessControlHandler.php
modules/contrib/stacks/modules/stacks_examples/stacks_examples.module
modules/contrib/stacks/src/Ajax/AttachOnChangeEvents.php
modules/contrib/stacks/modules/stacks_example_code_grids/stacks_example_code_grids.module
modules/contrib/stacks/src/WidgetExtendEntityHtmlRouteProvider.php
modules/contrib/stacks/inc/form_alters.inc
modules/contrib/stacks/src/Form/WidgetExtendEntityDeleteForm.php
modules/contrib/stacks/src/Form/WidgetExtendEntityForm.php
modules/contrib/stacks/src/TwigExtension/EmbedWidgetInstance.php
modules/contrib/stacks/inc/theme.inc
modules/contrib/stacks/src/Controller/WidgetExtendEntityAddController.php
modules/contrib/stacks/src/Form/WidgetExtendEntityInlineForm.php
modules/contrib/stacks/modules/stacks_content_feed/src/Plugin/WidgetType/ContentFeed.php
modules/contrib/stacks/src/Form/WidgetExtendEntitySettingsForm.php
modules/contrib/stacks/src/Form/WidgetExtendEntityTypeDeleteForm.php
modules/contrib/stacks/src/Controller/admin/StacksAdminController.php
modules/contrib/stacks/src/WidgetExtendEntityInterface.php
modules/contrib/stacks/src/WidgetExtendEntityListBuilder.php
modules/contrib/stacks/src/Entity/WidgetEntity.php
modules/contrib/stacks/src/Form/WidgetExtendEntityTypeForm.php
modules/contrib/stacks/src/TwigExtension/GetThemePath.php
modules/contrib/stacks/src/TwigExtension/ImageHtml.php
modules/contrib/stacks/src/WidgetExtendEntityTypeHtmlRouteProvider.php
modules/contrib/stacks/src/Form/WidgetInstanceEntityDeleteForm.php
modules/contrib/stacks/src/Form/WidgetInstanceEntityForm.php
modules/contrib/stacks/template_preprocess/widget_entity.page.inc
modules/contrib/stacks/src/Form/WidgetInstanceEntitySettingsForm.php
modules/contrib/stacks/src/TwigExtension/OutputView.php
modules/contrib/stacks/src/Plugin/Field/FieldFormatter/TestFormatter.php
modules/contrib/stacks/src/WidgetExtendEntityTypeInterface.php
modules/contrib/stacks/src/WidgetExtendEntityTypeListBuilder.php
modules/contrib/stacks/src/TwigExtension/Pagination.php
modules/contrib/stacks/template_preprocess/widget_extend.page.inc
modules/contrib/stacks/src/WidgetInstanceEntityAccessControlHandler.php
modules/contrib/stacks/template_preprocess/widget_instance_entity.page.inc
modules/contrib/stacks/src/TwigExtension/ViewMode.php
modules/contrib/stacks/src/WidgetInstanceEntityHtmlRouteProvider.php
modules/contrib/stacks/src/Widget/WidgetAutomaticTitleHandler.php
modules/contrib/stacks/src/Plugin/Field/FieldFormatter/WidgetFormatterType.php
modules/contrib/stacks/src/WidgetInstanceEntityInterface.php
modules/contrib/stacks/src/WidgetInstanceEntityListBuilder.php
modules/contrib/stacks/src/Widget/WidgetData.php
modules/contrib/stacks/src/Entity/WidgetEntityType.php
modules/contrib/stacks/stacks.api.php
modules/contrib/stacks/stacks.install
modules/contrib/stacks/src/Entity/WidgetEntityViewsData.php
modules/contrib/stacks/src/Plugin/Field/FieldType/StacksType.php
modules/contrib/stacks/src/Entity/WidgetExtendEntity.php
modules/contrib/stacks/src/Plugin/Field/FieldWidget/FormWidgetType.php
modules/contrib/stacks/src/Entity/WidgetExtendEntityType.php
modules/contrib/stacks/src/Entity/WidgetExtendEntityViewsData.php
modules/contrib/stacks/src/Entity/WidgetInstanceEntity.php
modules/contrib/stacks/src/Widget/WidgetFieldHandlers.php
modules/contrib/stacks/modules/stacks_content_feed/src/StacksQuery/StacksDatabaseQuery.php
modules/contrib/stacks/src/WidgetAdmin/Form/WidgetFormAdmin.php
modules/contrib/stacks/src/Plugin/WidgetType/DefaultWidget.php
modules/contrib/stacks/src/Plugin/WidgetTypeBase.php
modules/contrib/stacks/src/Plugin/WidgetTypeInterface.php
modules/contrib/stacks/src/Plugin/WidgetTypeManager.php
modules/contrib/stacks/src/Plugin/views/field/WidgetInstanceBulkForm.php
modules/contrib/stacks/modules/stacks_content_feed/src/StacksQuery/StacksQueryBase.php
modules/contrib/stacks/src/Widget/WidgetRequiredFields.php
modules/contrib/stacks/modules/stacks_content_feed/src/StacksQuery/StacksSolrQuery.php
modules/contrib/stacks/src/Services/TaxonomyHelper.php
modules/contrib/stacks/src/WidgetAdmin/Manager/StepManager.php
modules/contrib/stacks/src/Widget/WidgetTemplates.php
modules/contrib/stacks/src/WidgetAdmin/Step/BaseStep.php
modules/contrib/stacks/src/WidgetAdmin/Step/StepFinalize.php
modules/contrib/stacks/src/WidgetAdmin/Step/StepInterface.php
modules/contrib/stacks/src/WidgetAdmin/Step/StepOne.php
modules/contrib/stacks/src/Entity/WidgetInstanceEntityViewsData.php
modules/contrib/stacks/src/Form/WidgetEntityDeleteForm.php
modules/contrib/stacks/src/Form/WidgetEntityDeleteFromContentForm.php
modules/contrib/stacks/src/Form/WidgetEntityForm.php
modules/contrib/stacks/src/WidgetAdmin/Button/BaseButton.php
modules/contrib/stacks/src/WidgetAdmin/Button/ButtonInterface.php
modules/contrib/stacks/src/WidgetAdmin/Button/StepCancelButton.php
modules/contrib/stacks/src/WidgetAdmin/Button/StepExistingFinishButton.php
modules/contrib/stacks/src/WidgetAdmin/Button/StepOneNextButton.php
modules/contrib/stacks/src/WidgetAdmin/Button/StepTwoFinishButton.php
modules/contrib/stacks/src/WidgetAdmin/Button/StepTwoFinishEditButton.php
modules/contrib/stacks/src/WidgetAdmin/Button/StepTwoPreviousButton.php
modules/contrib/stacks/src/Form/WidgetEntitySettingsForm.php
modules/contrib/stacks/src/Form/WidgetEntityTypeDeleteForm.php
modules/contrib/stacks/src/WidgetAdmin/Step/StepTwo.php
modules/contrib/stacks/src/WidgetAdmin/Step/StepsEnum.php
modules/contrib/stacks/src/WidgetAdmin/Validator/BaseValidator.php
modules/contrib/stacks/src/WidgetAdmin/Validator/ValidatorCustom.php
modules/contrib/stacks/src/WidgetAdmin/Validator/ValidatorInterface.php
modules/contrib/stacks/src/WidgetAdmin/Validator/ValidatorRegex.php
modules/contrib/stacks/src/WidgetAdmin/Validator/ValidatorRequired.php
modules/contrib/stacks/src/WidgetEntityAccessControlHandler.php
modules/contrib/stacks/src/WidgetEntityHtmlRouteProvider.php
modules/contrib/stacks/src/WidgetEntityInterface.php
modules/contrib/stacks/src/WidgetEntityListBuilder.php
modules/contrib/stacks/src/WidgetEntityTypeHtmlRouteProvider.php
modules/contrib/stacks/src/WidgetEntityTypeInterface.php

3 files with changes
====================

1) modules/contrib/stacks/src/Widget/WidgetTemplates.php:26

    ---------- begin diff ----------
@@ @@
     }

     // Look for the /stacks directory in the active theme.
-    $directory_path = drupal_get_path('theme', $default_active_theme) . '/stacks';
+    $directory_path = \Drupal::service('extension.list.theme')->getPath($default_active_theme) . '/stacks';

     if (is_dir($directory_path)) {
       return $directory_path;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


2) modules/contrib/stacks/src/Widget/WidgetFieldHandlers.php:125

    ---------- begin diff ----------
@@ @@
     $uri = $this->field[$this->delta]->entity->getFileUri();

     return [
-      'url' => file_create_url($uri),
+      'url' => \Drupal::service('file_url_generator')->generateAbsoluteString($uri),
       'title' => isset($this->field[$this->delta]->title) ? $this->field[$this->delta]->title : '',
       'alt' => isset($this->field[$this->delta]->alt) ? $this->field[$this->delta]->alt : '',
       'uri' => $uri,
@@ @@
     $uri = $this->field[$this->delta]->entity->getFileUri();

     return [
-      'url' => file_create_url($uri),
+      'url' => \Drupal::service('file_url_generator')->generateAbsoluteString($uri),
       'description' => (isset($this->value['description']) ? $this->value['description'] : ''),
       'uri' => $uri,
     ];
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector


3) modules/contrib/stacks/src/WidgetAdmin/Step/StepOne.php:470

    ---------- begin diff ----------
@@ @@
                 'height' => 234,
                 'title' => '',
                 'alt' => '',
-                'src' => '/' . drupal_get_path('module', 'stacks') . '/images/no-preview-img.png',
+                'src' => '/' . \Drupal::service('extension.list.module')->getPath('stacks') . '/images/no-preview-img.png',
               ],
             ],
           ];
@@ @@
                   'width' => 100,
                   'title' => $option_value,
                   'alt' => $option_value,
-                  'src' => '/' . drupal_get_path('module', 'stacks') . '/images/no-preview-img.png',
+                  'src' => '/' . \Drupal::service('extension.list.module')->getPath('stacks') . '/images/no-preview-img.png',
                 ],
               ],
             ];
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

