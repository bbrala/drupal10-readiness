modules/contrib/opigno_learning_path/modules/opigno_alter_entity_autocomplete/opigno_alter_entity_autocomplete.module
modules/contrib/opigno_learning_path/opigno_learning_path.install
modules/contrib/opigno_learning_path/src/Controller/LearningPathProgress.php
modules/contrib/opigno_learning_path/src/LPStatusInterface.php
modules/contrib/opigno_learning_path/src/Plugin/views/field/OpignoLearningPathProgress.php
modules/contrib/opigno_learning_path/tests/src/Functional/LearningPathBrowserTestBase.php
modules/contrib/opigno_learning_path/tests/src/FunctionalJavascript/LearningPathWebDriverTestBase.php
modules/contrib/opigno_learning_path/modules/opigno_alter_entity_autocomplete/src/Controller/EntityAutocompleteController.php
modules/contrib/opigno_learning_path/src/LatestActivityAccessControlHandler.php
modules/contrib/opigno_learning_path/modules/opigno_alter_entity_autocomplete/src/EntityAutocompleteMatcherOverride.php
modules/contrib/opigno_learning_path/src/LatestActivityInterface.php
modules/contrib/opigno_learning_path/src/LearningPathAccess.php
modules/contrib/opigno_learning_path/modules/opigno_alter_entity_autocomplete/src/Routing/AutocompleteRouteSubscriber.php
modules/contrib/opigno_learning_path/src/Controller/LearningPathResults.php
modules/contrib/opigno_learning_path/tests/src/Functional/OpignoLinkConditionTest.php
modules/contrib/opigno_learning_path/modules/opigno_user_selection/opigno_user_selection.module
modules/contrib/opigno_learning_path/tests/src/FunctionalJavascript/TrainingEditInterfaceTest.php
modules/contrib/opigno_learning_path/modules/opigno_user_selection/src/Controller/OpignoUserSelectionController.php
modules/contrib/opigno_learning_path/src/Plugin/views/field/OpignoLearningPathTakeLink.php
modules/contrib/opigno_learning_path/src/Plugin/views/filter/OpignoGroupMembershipBoolean.php
modules/contrib/opigno_learning_path/src/Controller/LearningPathStepsController.php
modules/contrib/opigno_learning_path/src/Plugin/views/filter/OpignoGroupMembershipStatus.php
modules/contrib/opigno_learning_path/src/Progress.php
modules/contrib/opigno_learning_path/opigno_learning_path.module
modules/contrib/opigno_learning_path/tests/src/Functional/OpignoModuleScoreTest.php
modules/contrib/opigno_learning_path/tests/src/Functional/TrainingAccessTest.php
modules/contrib/opigno_learning_path/modules/opigno_user_selection/src/Element/EntitySelector.php
modules/contrib/opigno_learning_path/tests/src/Functional/TrainingCompleteTest.php
modules/contrib/opigno_learning_path/src/LearningPathContent.php
modules/contrib/opigno_learning_path/tests/src/Functional/TrainingContentTrait.php
modules/contrib/opigno_learning_path/src/LearningPathContentTypesManager.php
modules/contrib/opigno_learning_path/src/LearningPathGroupOperationsLinks.php
modules/contrib/opigno_learning_path/src/Routing/RouteSubscriber.php
modules/contrib/opigno_learning_path/tests/src/Functional/TrainingEditInterfaceAccessTest.php
modules/contrib/opigno_learning_path/src/Traits/LearningPathAchievementTrait.php
modules/contrib/opigno_learning_path/src/LearningPathMembersManager.php
modules/contrib/opigno_learning_path/src/LearningPathMembersPluginBase.php
modules/contrib/opigno_learning_path/src/LearningPathMembersPluginInterface.php
modules/contrib/opigno_learning_path/src/LearningPathValidator.php
modules/contrib/opigno_learning_path/src/Controller/OpignoPopupController.php
modules/contrib/opigno_learning_path/src/TwigExtension/DefaultTwigExtension.php
modules/contrib/opigno_learning_path/src/LpSteps.php
modules/contrib/opigno_learning_path/src/Entity/LPManagedContent.php
modules/contrib/opigno_learning_path/src/Entity/LPManagedLink.php
modules/contrib/opigno_learning_path/src/Entity/LPModuleAvailability.php
modules/contrib/opigno_learning_path/src/Entity/LPResult.php
modules/contrib/opigno_learning_path/src/Plugin/Block/BackLinkBlock.php
modules/contrib/opigno_learning_path/src/Entity/LPStatus.php
modules/contrib/opigno_learning_path/src/Plugin/Block/DocumentsLastGroupBlock.php
modules/contrib/opigno_learning_path/src/Plugin/Block/GroupOperationsBlockLP.php
modules/contrib/opigno_learning_path/src/Plugin/Block/StepsBlock.php
modules/contrib/opigno_learning_path/src/Plugin/LearningPathMembers/MembersPlugin.php
modules/contrib/opigno_learning_path/src/Entity/LPStatusViewsData.php
modules/contrib/opigno_learning_path/src/Entity/LatestActivity.php
modules/contrib/opigno_learning_path/src/Plugin/LearningPathMembers/RecipientsPlugin.php
modules/contrib/opigno_learning_path/src/Plugin/views/field/GroupMembershipStatus.php
modules/contrib/opigno_learning_path/src/Plugin/views/field/OpignoGroupMembership.php
modules/contrib/opigno_learning_path/src/EventSubscriber/LearningPathEventSubscriber.php
modules/contrib/opigno_learning_path/src/Form/DeleteAchievementsForm.php
modules/contrib/opigno_learning_path/src/Form/LearningPathAdminSettingsForm.php
modules/contrib/opigno_learning_path/src/Form/LearningPathCreateClassForm.php
modules/contrib/opigno_learning_path/src/Form/LearningPathCreateMemberForm.php
modules/contrib/opigno_learning_path/src/Form/LearningPathCreateUserForm.php
modules/contrib/opigno_learning_path/src/Form/LearningPathMembersForm.php
modules/contrib/opigno_learning_path/src/JoinService.php
modules/contrib/opigno_learning_path/src/LPResultAccessControlHandler.php
modules/contrib/opigno_learning_path/opigno_learning_path.tokens.inc
modules/contrib/opigno_learning_path/opigno_learning_path.views.inc
modules/contrib/opigno_learning_path/src/Annotation/LearningPathContentType.php
modules/contrib/opigno_learning_path/src/Annotation/LearningPathMembers.php
modules/contrib/opigno_learning_path/src/Cache/Context/OpignoCurrentCacheContext.php
modules/contrib/opigno_learning_path/src/Controller/LearningPathAchievementController.php
modules/contrib/opigno_learning_path/src/Controller/LearningPathContentController.php
modules/contrib/opigno_learning_path/src/Controller/LearningPathController.php
modules/contrib/opigno_learning_path/src/Controller/LearningPathManagerController.php
modules/contrib/opigno_learning_path/src/Controller/LearningPathMembershipController.php

14 files with changes
=====================

1) modules/contrib/opigno_learning_path/tests/src/FunctionalJavascript/LearningPathWebDriverTestBase.php:48

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->entityTypeManager = $this->container->get('entity_type.manager');
     $this->accountSwitcher = $this->container->get('account_switcher');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/opigno_learning_path/modules/opigno_user_selection/src/Controller/OpignoUserSelectionController.php:82

    ---------- begin diff ----------
@@ @@
    * @opigno_deprecated
    */
   public function getUserAvatar($user) {
-    $default_image = file_create_url(drupal_get_path('module', 'opigno_user_selection') . '/assets/profile.svg');
+    $default_image = \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('opigno_user_selection') . '/assets/profile.svg');
     $image_style = ImageStyle::load('thumbnail');
     if (!($image_style instanceof ImageStyle)) {
       return $default_image;
@@ @@
    * @opigno_deprecated
    */
   public function getGroupImage($type, $group) {
-    $default_image = file_create_url(drupal_get_path('module', 'opigno_user_selection') . '/assets/' . $type . '.svg');
+    $default_image = \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('opigno_user_selection') . '/assets/' . $type . '.svg');

     $image_style = ImageStyle::load('thumbnail');
     if (!($image_style instanceof ImageStyle)) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/opigno_learning_path/tests/src/Functional/OpignoModuleScoreTest.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     \Drupal::service('module_installer')->install([
       'opigno_statistics',
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/opigno_learning_path/tests/src/Functional/OpignoLinkConditionTest.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Install dependencies.
     \Drupal::service('module_installer')->install([
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/opigno_learning_path/tests/src/Functional/LearningPathBrowserTestBase.php:48

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->entityTypeManager = $this->container->get('entity_type.manager');
     $this->accountSwitcher = $this->container->get('account_switcher');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/opigno_learning_path/src/TwigExtension/DefaultTwigExtension.php:186

    ---------- begin diff ----------
@@ @@
           $link = [
             'title' => $joinLabel,
             'route' => 'user.login',
-            'args' => ['destination' => render($url)->toString()],
+            'args' => ['destination' => \Drupal::service('renderer')->render($url)->toString()],
           ];
         }
       }
@@ @@
       $link = [
         'title' => t('Create an account and subscribe'),
         'route' => 'user.login',
-        'args' => ['prev_path' => render($url)->toString()],
+        'args' => ['prev_path' => \Drupal::service('renderer')->render($url)->toString()],
       ];
     }

@@ @@
         $url = Url::fromRoute($link['route'], $link['args'], ['attributes' => $attributes]);
         $l = Link::fromTextAndUrl($link['title'], $url)->toRenderable();

-        return render($l);
+        return \Drupal::service('renderer')->render($l);
       }
     }

@@ @@
             '#type' => 'inline_template',
             '#template' => '<div class="top-text complete"><i class="fi fi-rr-lock"></i><div>{{"Complete"|t}}<br>{{top_text}}<br>{{"before"|t}}</div></div>',
             '#context' => [
-              'top_text' => render($top_text) ?? '',
+              'top_text' => \Drupal::service('renderer')->render($top_text) ?? '',
             ],
           ];
         }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


7) modules/contrib/opigno_learning_path/src/Progress.php:453

    ---------- begin diff ----------
@@ @@
    */
   public function getProgressBuildModulePage(int $group_id, int $account_id): array {
     $home_link = Link::createFromRoute(Markup::create($this->t('home') . '<i class="icon-home-2"></i>'), 'entity.group.canonical', ['group' => $group_id], ['attributes' => ['class' => ['w-100']]])->toRenderable();
-    $home_link = render($home_link);
+    $home_link = \Drupal::service('renderer')->render($home_link);

     $progress = $this->getProgressRound($group_id, $account_id);
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector


8) modules/contrib/opigno_learning_path/src/Form/LearningPathMembersForm.php:220

    ---------- begin diff ----------
@@ @@
         'members_table' => !empty($members_view_renderable) ? [
           '#type' => 'html_tag',
           '#tag' => 'div',
-          '#value' => render($members_view_renderable),
+          '#value' => \Drupal::service('renderer')->render($members_view_renderable),
           '#attributes' => [
             'id' => 'class-' . $class_entity->id(),
             'class' => ['class_members', 'class_members_row'],
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


9) modules/contrib/opigno_learning_path/src/Form/LearningPathCreateUserForm.php:139

    ---------- begin diff ----------
@@ @@
     $user = User::create();
     $user->enforceIsNew();
     $user->setUsername($name);
-    $user->setPassword(user_password());
+    $user->setPassword(\Drupal::service('password_generator')->generate());
     $user->setEmail($email);
     $user->set('init', $email);
     $user->set('langcode', $lang);
    ----------- end diff -----------

Applied rules:
 * UserPasswordRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


10) modules/contrib/opigno_learning_path/src/EventSubscriber/LearningPathEventSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\opigno_learning_path\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\RequestEvent;
+use Symfony\Component\HttpKernel\Event\ResponseEvent;
 use Drupal\Core\Url;
 use Drupal\opigno_learning_path\LearningPathContentTypesManager;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\RedirectResponse;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;

 /**
@@ @@
   /**
    * Event called when a request is sent.
    */
-  public function onKernelRequest(GetResponseEvent $event) {
+  public function onKernelRequest(RequestEvent $event) {
   }

   /**
    * Redirect from canonical module path to module edit.
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
    *   The route building event.
    */
-  public function moduleRedirect(FilterResponseEvent $event) {
+  public function moduleRedirect(ResponseEvent $event) {
     $route = \Drupal::routeMatch();
     $route_name = $route->getRouteName();
     if ($route_name == 'entity.opigno_module.canonical') {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector


11) modules/contrib/opigno_learning_path/src/Controller/LearningPathManagerController.php:103

    ---------- begin diff ----------
@@ @@
     $item['entityId'] = $entity->id();
     $item['entityBundle'] = \Drupal::routeMatch()->getParameter('type');
     $item['title'] = $entity->get('label')->getString();
-    $item['imageUrl'] = ($file) ? file_create_url($file->getFileUri()) : '';
+    $item['imageUrl'] = ($file) ? \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri()) : '';

     $response->addCommand(
       new SettingsCommand([
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


12) modules/contrib/opigno_learning_path/src/Controller/LearningPathContentController.php:79

    ---------- begin diff ----------
@@ @@
       '#learning_path_id' => $gid,
       '#group_type' => $group_type,
       '#view_type' => $view_type,
-      '#next_link' => isset($next_link) ? render($next_link) : NULL,
+      '#next_link' => isset($next_link) ? \Drupal::service('renderer')->render($next_link) : NULL,
       '#user_has_info_card' => $tempstore->get('hide_info_card') ? FALSE : TRUE,
       '#parent_learning_path' => $group_type == 'learning_path' ? '?learning_path=' . $gid : '',
     ];
@@ @@
       '#base_href' => $request->getPathInfo(),
       '#learning_path_id' => $group->id(),
       '#module_context' => 'false',
-      '#next_link' => isset($next_link) ? render($next_link) : NULL,
+      '#next_link' => isset($next_link) ? \Drupal::service('renderer')->render($next_link) : NULL,
       '#user_has_info_card' => $tempstore->get('hide_info_card') ? FALSE : TRUE,
     ];
   }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


13) modules/contrib/opigno_learning_path/opigno_learning_path.module:474

    ---------- begin diff ----------
@@ @@
           ],
         ],
       ])->toRenderable();
-      $variables['add_member_link'] = render($link);
+      $variables['add_member_link'] = \Drupal::service('renderer')->render($link);
     }
     else {
       $variables['add_member_link'] = [
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector


14) modules/contrib/opigno_learning_path/opigno_learning_path.install:343

    ---------- begin diff ----------
@@ @@
  * Create a step lp block for aristotle theme.
  */
 function opigno_learning_path_update_9002() {
-  $config_path = drupal_get_path('module', 'opigno_learning_path') . '/config/optional';
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_learning_path') . '/config/optional';
   /* @var Drupal\Core\Config\CachedStorage $config_storage */
   $storage = new FileStorage($config_path);
   $config_storage = \Drupal::service('config.storage');
@@ @@
   }

   // Add taxonomy duration field.
-  $config_path = drupal_get_path('module', 'opigno_learning_path') . '/config/optional';
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_learning_path') . '/config/optional';
   $storage = new FileStorage($config_path);

   $data = $storage->read('field.storage.group.field_learning_path_duration');
@@ @@
  * Import optional configs.
  */
 function opigno_learning_path_update_9004() {
-  $config_path = drupal_get_path('module', 'opigno_learning_path') . '/config/optional';
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_learning_path') . '/config/optional';
   $files = \Drupal::service('file_system')
     ->scanDirectory($config_path, '/\.yml$/');
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 14 files have been changed by Rector                                      

