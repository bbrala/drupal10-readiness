diff --git a/recurring_events.install b/recurring_events.install
index ec6aabe..644895d 100644
--- a/recurring_events.install
+++ b/recurring_events.install
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\views\Views;
 /**
  * @file
  * Installation and update functionality for the recurring_events module.
@@ -444,7 +445,7 @@ function recurring_events_update_8010() {
   ];
 
   foreach ($configs as $config) {
-    $path = drupal_get_path('module', 'recurring_events') . '/config/install';
+    $path = \Drupal::service('extension.list.module')->getPath('recurring_events') . '/config/install';
     $source = new FileStorage($path);
     /** @var \Drupal\Core\Config\StorageInterface $active_storage */
     $active_storage = \Drupal::service('config.storage');
@@ -603,7 +604,7 @@ function recurring_events_update_8013() {
 
   $config_factory = \Drupal::configFactory();
 
-  if (!$views = \Drupal\views\Views::getAllViews()) {
+  if (!$views = Views::getAllViews()) {
     return [];
   }
 
diff --git a/tests/src/Unit/Plugin/migrate/destination/EntityEventSeriesTest.php b/tests/src/Unit/Plugin/migrate/destination/EntityEventSeriesTest.php
index 98b2987..9c3923d 100644
--- a/tests/src/Unit/Plugin/migrate/destination/EntityEventSeriesTest.php
+++ b/tests/src/Unit/Plugin/migrate/destination/EntityEventSeriesTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\recurring_events\Unit\Plugin\migrate\destination;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\DependencyInjection\ContainerBuilder;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Field\FieldTypePluginManagerInterface;
@@ -21,6 +22,7 @@ class EntityEventSeriesTest extends EntityTestBase {
 
   const SAVED_NEW = 1;
   const TEST_ENTITY_ID = 8;
+  use ProphecyTrait;
 
   /**
    * Mocked field type plugin manager service.
