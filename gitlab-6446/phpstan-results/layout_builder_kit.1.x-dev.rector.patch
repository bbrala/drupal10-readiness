diff --git a/src/Plugin/Block/LBKBookNavigation/LBKBookNavigationEventSubscriber.php b/src/Plugin/Block/LBKBookNavigation/LBKBookNavigationEventSubscriber.php
index 504f9bb..3b79340 100644
--- a/src/Plugin/Block/LBKBookNavigation/LBKBookNavigationEventSubscriber.php
+++ b/src/Plugin/Block/LBKBookNavigation/LBKBookNavigationEventSubscriber.php
@@ -45,7 +45,7 @@ class LBKBookNavigationEventSubscriber implements EventSubscriberInterface {
    *   The event.
    */
   public function themeEvent(ThemeEvent $event) {
-    $modulePath = drupal_get_path('module', 'layout_builder_kit');
+    $modulePath = \Drupal::service('extension.list.module')->getPath('layout_builder_kit');
 
     $newThemes = [
       'LBKBookNavigation' => [
diff --git a/src/Plugin/Block/LBKIconText/LBKIconTextEventSubscriber.php b/src/Plugin/Block/LBKIconText/LBKIconTextEventSubscriber.php
index 9daff1f..de6ed0a 100755
--- a/src/Plugin/Block/LBKIconText/LBKIconTextEventSubscriber.php
+++ b/src/Plugin/Block/LBKIconText/LBKIconTextEventSubscriber.php
@@ -45,7 +45,7 @@ class LBKIconTextEventSubscriber implements EventSubscriberInterface {
    *   The event.
    */
   public function themeEvent(ThemeEvent $event) {
-    $modulePath = drupal_get_path('module', 'layout_builder_kit');
+    $modulePath = \Drupal::service('extension.list.module')->getPath('layout_builder_kit');
 
     $newThemes = [
       'LBKIconText' => [
diff --git a/src/Plugin/Block/LBKImage/LBKImageEventSubscriber.php b/src/Plugin/Block/LBKImage/LBKImageEventSubscriber.php
index 6d6f044..78220d6 100755
--- a/src/Plugin/Block/LBKImage/LBKImageEventSubscriber.php
+++ b/src/Plugin/Block/LBKImage/LBKImageEventSubscriber.php
@@ -45,7 +45,7 @@ class LBKImageEventSubscriber implements EventSubscriberInterface {
    *   The event.
    */
   public function themeEvent(ThemeEvent $event) {
-    $modulePath = drupal_get_path('module', 'layout_builder_kit');
+    $modulePath = \Drupal::service('extension.list.module')->getPath('layout_builder_kit');
 
     $newThemes = [
       'LBKImage' => [
diff --git a/src/Plugin/Block/LBKRender/LBKRender.php b/src/Plugin/Block/LBKRender/LBKRender.php
index cfc888e..d633164 100644
--- a/src/Plugin/Block/LBKRender/LBKRender.php
+++ b/src/Plugin/Block/LBKRender/LBKRender.php
@@ -295,7 +295,7 @@ class LBKRender extends LBKBaseComponent implements ContainerFactoryPluginInterf
         $toRender = ['#markup' => '<span>' . $this->t('Media module is not enabled.') . '</span>'];
       }
     }
-    $output = render($toRender);
+    $output = \Drupal::service('renderer')->render($toRender);
 
     $build['#entity'] = $output;
 
diff --git a/src/Plugin/Block/LBKRender/LBKRenderEventSubscriber.php b/src/Plugin/Block/LBKRender/LBKRenderEventSubscriber.php
index 803f932..df61e1f 100644
--- a/src/Plugin/Block/LBKRender/LBKRenderEventSubscriber.php
+++ b/src/Plugin/Block/LBKRender/LBKRenderEventSubscriber.php
@@ -45,7 +45,7 @@ class LBKRenderEventSubscriber implements EventSubscriberInterface {
    *   The event.
    */
   public function themeEvent(ThemeEvent $event) {
-    $modulePath = drupal_get_path('module', 'layout_builder_kit');
+    $modulePath = \Drupal::service('extension.list.module')->getPath('layout_builder_kit');
 
     $newThemes = [
       'LBKRender' => [
diff --git a/src/Plugin/Block/LBKRichText/LBKRichTextEventSubscriber.php b/src/Plugin/Block/LBKRichText/LBKRichTextEventSubscriber.php
index e30d025..b9c86d7 100755
--- a/src/Plugin/Block/LBKRichText/LBKRichTextEventSubscriber.php
+++ b/src/Plugin/Block/LBKRichText/LBKRichTextEventSubscriber.php
@@ -45,7 +45,7 @@ class LBKRichTextEventSubscriber implements EventSubscriberInterface {
    *   The event.
    */
   public function themeEvent(ThemeEvent $event) {
-    $modulePath = drupal_get_path('module', 'layout_builder_kit');
+    $modulePath = \Drupal::service('extension.list.module')->getPath('layout_builder_kit');
 
     $newThemes = [
       'LBKRichText' => [
diff --git a/src/Plugin/Block/LBKTab/LBKTabEventSubscriber.php b/src/Plugin/Block/LBKTab/LBKTabEventSubscriber.php
index c45f7b1..5821f6c 100755
--- a/src/Plugin/Block/LBKTab/LBKTabEventSubscriber.php
+++ b/src/Plugin/Block/LBKTab/LBKTabEventSubscriber.php
@@ -45,7 +45,7 @@ class LBKTabEventSubscriber implements EventSubscriberInterface {
    *   The event.
    */
   public function themeEvent(ThemeEvent $event) {
-    $modulePath = drupal_get_path('module', 'layout_builder_kit');
+    $modulePath = \Drupal::service('extension.list.module')->getPath('layout_builder_kit');
 
     $newThemes = [
       'LBKTab' => [
diff --git a/src/Plugin/Block/LBKVideo/LBKVideo.php b/src/Plugin/Block/LBKVideo/LBKVideo.php
index 6f8f849..d5ecf27 100644
--- a/src/Plugin/Block/LBKVideo/LBKVideo.php
+++ b/src/Plugin/Block/LBKVideo/LBKVideo.php
@@ -361,7 +361,7 @@ class LBKVideo extends LBKBaseComponent implements ContainerFactoryPluginInterfa
             $filePath = $fieldOutput['value'][0]['#file'];
             if ($filePath) {
               $videoFieldUri = $filePath->getFileUri();
-              $videoFieldPath = file_create_url($videoFieldUri);
+              $videoFieldPath = \Drupal::service('file_url_generator')->generateAbsoluteString($videoFieldUri);
               $build['#video_field']['value'] = $videoFieldPath;
             }
             break;
@@ -399,7 +399,7 @@ class LBKVideo extends LBKBaseComponent implements ContainerFactoryPluginInterfa
               $filePath = $fieldOutput['value'][0]['#file'];
               if ($filePath) {
                 $videoFieldUri = $filePath->getFileUri();
-                $videoFieldPath = file_create_url($videoFieldUri);
+                $videoFieldPath = \Drupal::service('file_url_generator')->generateAbsoluteString($videoFieldUri);
                 $build['#video_field']['value'] = $videoFieldPath;
               }
               break;
diff --git a/src/Plugin/Block/LBKVideo/LBKVideoEventSubscriber.php b/src/Plugin/Block/LBKVideo/LBKVideoEventSubscriber.php
index 59cc565..8660340 100644
--- a/src/Plugin/Block/LBKVideo/LBKVideoEventSubscriber.php
+++ b/src/Plugin/Block/LBKVideo/LBKVideoEventSubscriber.php
@@ -45,7 +45,7 @@ class LBKVideoEventSubscriber implements EventSubscriberInterface {
    *   The event.
    */
   public function themeEvent(ThemeEvent $event) {
-    $modulePath = drupal_get_path('module', 'layout_builder_kit');
+    $modulePath = \Drupal::service('extension.list.module')->getPath('layout_builder_kit');
 
     $newThemes = [
       'LBKVideo' => [
