diff --git a/src/Plugin/IconHandlerFileBase.php b/src/Plugin/IconHandlerFileBase.php
index 87ccb6e..f35f383 100644
--- a/src/Plugin/IconHandlerFileBase.php
+++ b/src/Plugin/IconHandlerFileBase.php
@@ -129,7 +129,7 @@ abstract class IconHandlerFileBase extends PluginBase implements IconHandlerFile
     }
     else {
       $pluginDef = $iconset->getPluginDefinition();
-      $filepath = drupal_get_path($pluginDef['type'], $pluginDef['provider']) . '/' . $uri;
+      $filepath = \Drupal::service('extension.path.resolver')->getPath($pluginDef['type'], $pluginDef['provider']) . '/' . $uri;
     }
 
     if (!file_exists($filepath)) {
