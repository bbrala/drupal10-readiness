diff --git a/theme-settings.php b/theme-settings.php
index fcb9d8e..db41a34 100755
--- a/theme-settings.php
+++ b/theme-settings.php
@@ -123,7 +123,7 @@ function yg_biz_form_system_theme_settings_alter(array &$form, FormStateInterfac
 function yg_biz_form_submit(&$form, $form_state) {
   $fid = $form_state->getValue('bg-image');
   if (array_key_exists(0,$fid)){
-    $file = file_load($fid[0]);
+    $file = \Drupal::service('entity_type.manager')->getStorage('file')->load($fid[0]);
     if (!empty($file)) {
       $file->setPermanent();
       $file->save();
diff --git a/yg_biz.theme b/yg_biz.theme
index cdb0403..502bbc9 100755
--- a/yg_biz.theme
+++ b/yg_biz.theme
@@ -56,7 +56,7 @@ function yg_biz_preprocess_page(&$variables) {
   if (!empty($fid)) {
       $file = File::load($fid);
       $uri = $file->getFileUri();
-      $path = file_create_url($uri);
+      $path = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   $variables['bg_image_url'] = $path;
