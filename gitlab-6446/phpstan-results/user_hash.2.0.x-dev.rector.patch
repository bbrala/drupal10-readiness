diff --git a/tests/src/Functional/UserHashGenerationTest.php b/tests/src/Functional/UserHashGenerationTest.php
index 1bb4c52..c391199 100644
--- a/tests/src/Functional/UserHashGenerationTest.php
+++ b/tests/src/Functional/UserHashGenerationTest.php
@@ -70,7 +70,8 @@ class UserHashGenerationTest extends BrowserTestBase {
       'user_bulk_form[1]' => TRUE,// selects adminUser
     ];
     $path = 'admin/people';
-    $this->drupalPostForm($path, $edit, t('Apply to selected items'), [], 'views-form-user-admin-people-page-1');
+    $this->drupalGet($path, []);
+    $this->submitForm($edit, t('Apply to selected items'), 'views-form-user-admin-people-page-1');
     $this->assertSession()->pageTextContains('Generate hash for the selected user(s) was applied to');
     $this->drupalGet('user/' . $this->adminUser->id());
     $this->assertSession()->statusCodeEquals(200);
@@ -81,7 +82,8 @@ class UserHashGenerationTest extends BrowserTestBase {
       'user_bulk_form[0]' => TRUE,// selects baseUser
     ];
     $path = 'admin/people';
-    $this->drupalPostForm($path, $edit, t('Apply to selected items'), [], 'views-form-user-admin-people-page-1');
+    $this->drupalGet($path, []);
+    $this->submitForm($edit, t('Apply to selected items'), 'views-form-user-admin-people-page-1');
     $this->drupalGet('user/' . $this->baseUser->id());
     $this->assertSession()->statusCodeEquals(200);
     $this->assertSession()->elementNotContains('css', 'h4', 'Hash');
@@ -99,7 +101,8 @@ class UserHashGenerationTest extends BrowserTestBase {
       'user_bulk_form[1]' => TRUE,
     ];
     $path = 'admin/people';
-    $this->drupalPostForm($path, $edit, t('Apply to selected items'), [], 'views-form-user-admin-people-page-1');
+    $this->drupalGet($path, []);
+    $this->submitForm($edit, t('Apply to selected items'), 'views-form-user-admin-people-page-1');
     $this->assertSession()->pageTextContains('Delete hash from the selected user(s) was applied to');
     $this->drupalGet('user/' . $this->adminUser->id());
     $this->assertSession()->statusCodeEquals(200);
diff --git a/tests/src/Functional/UserHashSettingsFormTest.php b/tests/src/Functional/UserHashSettingsFormTest.php
index ce94731..5c7d200 100644
--- a/tests/src/Functional/UserHashSettingsFormTest.php
+++ b/tests/src/Functional/UserHashSettingsFormTest.php
@@ -60,7 +60,8 @@ class UserHashSettingsFormTest extends BrowserTestBase {
       'random_bytes' => 48,
     ];
     $path = 'admin/config/people/user_hash';
-    $this->drupalPostForm($path, $edit, t('Save configuration'));
+    $this->drupalGet($path);
+    $this->submitForm($edit, t('Save configuration'));
     $this->drupalGet($path);
     $this->assertSession()->statusCodeEquals(200);
     $this->assertSession()->fieldValueEquals('algorithm', 'sha1');
diff --git a/user_hash.info.yml b/user_hash.info.yml
index 7b98a60..9b467fb 100644
--- a/user_hash.info.yml
+++ b/user_hash.info.yml
@@ -2,8 +2,7 @@ name: User Hash
 description: "Generate user hashes."
 package: Custom
 type: module
-core: "8.x"
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 configure: user_hash.settings
 
 dependencies:
