modules/contrib/autoslave/autoslave.cache.inc
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Update.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Upsert.php
modules/contrib/autoslave/autoslave.cachesafe.inc
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/autoslave.affected_tables.db-accurate.inc
modules/contrib/autoslave/autoslave.install
modules/contrib/autoslave/autoslave.module
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/autoslave.affected_tables.memcache-db-accurate.inc
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/defines.inc
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/injector.inc
modules/contrib/autoslave/src/Controller/AutoslaveController.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Connection.php
modules/contrib/autoslave/src/Controller/AutoslaveDashboardController.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Delete.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Insert.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Install/Tasks.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Merge.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Schema.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Select.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Transaction.php
modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Truncate.php
modules/contrib/autoslave/src/Form/AutoslaveSettingsForm.php
modules/contrib/autoslave/src/Lock/AutoSlaveLockBackend.php
modules/contrib/autoslave/src/ProxyClass/Lock/AutoSlaveLockBackend.php

5 files with changes
====================

1) modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Install/Tasks.php:60

    ---------- begin diff ----------
@@ @@
     }
     $msg[] = '<strong>Master pools:</strong> (' . implode(', ', $master_pool) . ')';
     $msg[] = '<strong>Slave pools:</strong> (' . implode(', ', $slave_pool) . ')';
-    $path = '/' . drupal_get_path('module', 'autoslave') . '/icons/';
+    $path = '/' . \Drupal::service('extension.list.module')->getPath('autoslave') . '/icons/';
     $rows = array();
     foreach ($pool['all'] as $id => $conninfo) {
       if ($conninfo['driver'] == 'autoslave') {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/autoslave/lib/Drupal/autoslave/Database/Driver/autoslave/Connection.php:150

    ---------- begin diff ----------
@@ @@
     }
     $this->__affected_tables_backend = new $class($this);

-    
+
     // Initialize and prepare the connection prefix.
     $this->setPrefix(isset($this->connectionOptions['prefix']) ? $this->connectionOptions['prefix'] : '');

@@ @@
 		unset($options['target']);
     $query = $this->getSafeConnection($target)->select($table, $alias, $options);
     $query->addMetaData('autoslave_connection', array($this->getTarget(), $this->getKey()));
-    
+
     /**
      * This function doesn't exist in D8 and not sure what to replace it with or if it's needed here.
      */
     //drupal_bootstrap(DRUPAL_BOOTSTRAP_VARIABLES);
-    
+
     include_once 'injector.inc';
     return $query->addTag('autoslave');
   }
@@ @@
    * and populate pools.
    */
   function setupConnections() {
-    
+
     $key = $this->getKey();

     $databases = Database::getAllConnectionInfo();
@@ @@
       'master' => $this->connectionOptions['master'], 
       'slave' => $this->connectionOptions['slave'],
     );
-    
+
     foreach ($backends as $backend => $targets) {
       foreach ($targets as $target) {      
         if (empty($databases[$key][$target])) {
@@ @@
           $databases[$key][$target] = array($databases[$key][$target]);
           $conninfos = &$databases[$key][$target];
         }
-        
+
         foreach ($conninfos as $idx => &$conninfo) {
-          
+
           if (empty($conninfo['autoslave_id'])) {
             $conninfo['target'] = $target;
             $conninfo['key'] = $key;
@@ @@
         include $file;
       }
     }
-    
+
     // At this level, using Exceptions may result in endless loops ... so we die!
     if (empty($this->__pool['master'])) {
       die('There are no masters defined for AutoSlave. Please configure settings.php');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/autoslave/src/ProxyClass/Lock/AutoSlaveLockBackend.php:6

    ---------- begin diff ----------
@@ @@

 namespace Drupal\autoslave\ProxyClass\Lock {

+    use Drupal\Core\Lock\LockBackendInterface;
+    use Drupal\Core\DependencyInjection\DependencySerializationTrait;
+    use Symfony\Component\DependencyInjection\ContainerInterface;
     /**
      * Provides a proxy class for \Drupal\autoslave\Lock\AutoSlaveLockBackend.
      *
      * @see \Drupal\Component\ProxyBuilder
      */
-    class AutoSlaveLockBackend implements \Drupal\Core\Lock\LockBackendInterface
+    class AutoSlaveLockBackend implements LockBackendInterface
     {

-        use \Drupal\Core\DependencyInjection\DependencySerializationTrait;
+        use DependencySerializationTrait;

         /**
          * The id of the original proxied service.
@@ @@
          * @param string $drupal_proxy_original_service_id
          *   The service ID of the original service.
          */
-        public function __construct(\Symfony\Component\DependencyInjection\ContainerInterface $container, $drupal_proxy_original_service_id)
+        public function __construct(ContainerInterface $container, $drupal_proxy_original_service_id)
         {
             $this->container = $container;
             $this->drupalProxyOriginalServiceId = $drupal_proxy_original_service_id;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector


4) modules/contrib/autoslave/src/Controller/AutoslaveDashboardController.php:189

    ---------- begin diff ----------
@@ @@
       'num_servers' => $num_servers,
       'num_masters' => count($array_master_status),
       'hashkey_link' => $asd_formatted_hashlink,
-      'module_path' => drupal_get_path('module', 'autoslave')
+      'module_path' => \Drupal::service('extension.list.module')->getPath('autoslave')
       // Variables go here, you can add more variables like json_data.
       // These variables are used in templates/autoslave_dashboard.tpl.php.
     ];
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/autoslave/src/Controller/AutoslaveController.php:42

    ---------- begin diff ----------
@@ @@

     return [
       '#type' => '#markup',
-      '#markup' => render($build)
+      '#markup' => \Drupal::service('renderer')->render($build)
     ];
   }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 5 files have been changed by Rector                                       

