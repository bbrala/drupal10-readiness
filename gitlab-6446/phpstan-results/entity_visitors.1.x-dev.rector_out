modules/contrib/entity_visitors-entity_visitors/entity_visitors.module
modules/contrib/entity_visitors-entity_visitors/src/EntityVisitorsAccessControlHandler.php
modules/contrib/entity_visitors-entity_visitors/entity_visitors.page.inc
modules/contrib/entity_visitors-entity_visitors/src/Entity/EntityVisitors.php
modules/contrib/entity_visitors-entity_visitors/src/EntityVisitorsHtmlRouteProvider.php
modules/contrib/entity_visitors-entity_visitors/src/EntityVisitorsListBuilder.php
modules/contrib/entity_visitors-entity_visitors/src/EntityVisitorsTranslationHandler.php
modules/contrib/entity_visitors-entity_visitors/src/Entity/EntityVisitorsInterface.php
modules/contrib/entity_visitors-entity_visitors/src/Event/EntityVisitedEvent.php
modules/contrib/entity_visitors-entity_visitors/src/Entity/EntityVisitorsViewsData.php
modules/contrib/entity_visitors-entity_visitors/src/EventSubscriber/EntityRouteMatchSubscriber.php
modules/contrib/entity_visitors-entity_visitors/src/EventSubscriber/SendMailOnEntityVisitedSubscriber.php
modules/contrib/entity_visitors-entity_visitors/src/Form/EntityVisitorsConfig.php
modules/contrib/entity_visitors-entity_visitors/src/Form/EntityVisitorsDeleteForm.php
modules/contrib/entity_visitors-entity_visitors/src/Form/EntityVisitorsForm.php
modules/contrib/entity_visitors-entity_visitors/src/Form/EntityVisitorsSettingsForm.php
modules/contrib/entity_visitors-entity_visitors/src/Service/EntityVisitorsManager.php

3 files with changes
====================

1) modules/contrib/entity_visitors-entity_visitors/src/Service/EntityVisitorsManager.php:136

    ---------- begin diff ----------
@@ @@
     // a certain number views or pretty much anything.
     $entityVisitedEvent = new EntityVisitedEvent($visitedEntityId, $visitedEntityType, $entityVisitorId);
     // Dispatch event, an entity was visited!
-    $this->eventDispatcher->dispatch(EntityVisitedEvent::VISITED, $entityVisitedEvent);
+    $this->eventDispatcher->dispatch($entityVisitedEvent, EntityVisitedEvent::VISITED);

     $saveLastVisitOnly = $this->configManager->getConfigFactory()
       ->get('entity_visitors.entity_visitors_config')
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector


2) modules/contrib/entity_visitors-entity_visitors/src/EventSubscriber/EntityRouteMatchSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_visitors\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\ResponseEvent;
 use Drupal\Core\Cache\Cache;
 use Drupal\Core\Cache\CacheableResponseInterface;
 use Drupal\entity_visitors\Service\EntityVisitorsManager;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;
 use Drupal\Component\Datetime\TimeInterface;

@@ @@
   /**
    * If this was entity view page, then handle this entity.
    */
-  public function updateEntityVisitors(FilterResponseEvent $event) {
+  public function updateEntityVisitors(ResponseEvent $event) {
     // Check https://www.lullabot.com/articles/common-max-age-pitfalls-with-drupal-cache
     if (!$event->isMasterRequest()) {
       return;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector


3) modules/contrib/entity_visitors-entity_visitors/src/Event/EntityVisitedEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_visitors\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 /**
  * EntityVisted Event Class.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

