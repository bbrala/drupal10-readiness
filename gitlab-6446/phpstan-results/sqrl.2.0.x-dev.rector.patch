diff --git a/src/Sqrl.php b/src/Sqrl.php
index 33ad445..8be9f3c 100644
--- a/src/Sqrl.php
+++ b/src/Sqrl.php
@@ -189,7 +189,7 @@ class Sqrl {
       '#operation' => $op,
       '#nuturl' => $nuturl,
       '#encodednuturl' => $this->base64_encode($nuturl),
-      '#logourl' => Url::fromUserInput('/' . drupal_get_path('module', 'sqrl') . '/image/icon.png'),
+      '#logourl' => Url::fromUserInput('/' . \Drupal::service('extension.list.module')->getPath('sqrl') . '/image/icon.png'),
       '#qrcodeurl' => $this->getPath('sqrl.img'),
       '#qrcodesize' => $this->config->get('qr_size'),
       '#description' => $this->assets->getOperationDescription($op),
@@ -225,7 +225,7 @@ class Sqrl {
       '#theme' => 'sqrl_widget_cached',
       '#title' => $this->assets->getOperationTitle($op),
       '#url' => $this->getPath('sqrl.view', ['op' => $op], FALSE),
-      '#logourl' => Url::fromUserInput('/' . drupal_get_path('module', 'sqrl') . '/image/icon.png'),
+      '#logourl' => Url::fromUserInput('/' . \Drupal::service('extension.list.module')->getPath('sqrl') . '/image/icon.png'),
       '#description' => $this->assets->getOtherDescription('click'),
       '#attached' => [
         'library' => [
