diff --git a/comscore_direct.info.yml b/comscore_direct.info.yml
index 1329a18..b492e7c 100644
--- a/comscore_direct.info.yml
+++ b/comscore_direct.info.yml
@@ -2,6 +2,5 @@ name: comScore Direct
 type: module
 description: Adds an admin interface for comScore settings and generates comScore tags to the footer of your site.
 package: comScore
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^8 || ^9 || ^10
 configure: comscore_direct.settings
diff --git a/comscore_direct.module b/comscore_direct.module
index fab8354..20cc735 100644
--- a/comscore_direct.module
+++ b/comscore_direct.module
@@ -26,7 +26,7 @@ function comscore_direct_page_attachments(array &$attachments) {
 
   /** @var \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher */
   $event_dispatcher = \Drupal::service('event_dispatcher');
-  $event_dispatcher->dispatch(ComscoreEvents::RENDER, new ComscoreEvent($comscore_information));
+  $event_dispatcher->dispatch(new ComscoreEvent($comscore_information), ComscoreEvents::RENDER);
 
   $inline_script = (new InlineScript());
   $script = $inline_script->getScriptRenderable($comscore_information);
diff --git a/src/ComscoreEvent.php b/src/ComscoreEvent.php
index d2e4de2..578ec32 100644
--- a/src/ComscoreEvent.php
+++ b/src/ComscoreEvent.php
@@ -2,7 +2,7 @@
 
 namespace Drupal\comscore_direct;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 class ComscoreEvent extends Event {
 
diff --git a/tests/src/Functional/ComscoreDirect.php b/tests/src/Functional/ComscoreDirect.php
index 86a8455..384d4f2 100755
--- a/tests/src/Functional/ComscoreDirect.php
+++ b/tests/src/Functional/ComscoreDirect.php
@@ -44,7 +44,7 @@ class ComscoreDirect extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create admin user.
@@ -66,18 +66,18 @@ class ComscoreDirect extends BrowserTestBase {
       'package' => 'test_package',
       'clientseg' => 'test_segment',
     ], $this->t('Save configuration'));
-    $this->assertRaw($this->t('The configuration options have been saved'));
+    $this->assertSession()->responseContains($this->t('The configuration options have been saved'));
 
     $this->drupalGet('<front>');
 
     // Test markup.
-    $this->assertPattern('|_comscore.push\({.*"c1":"2"|');
-    $this->assertPattern('|_comscore.push\({.*"c2":"123456"|');
-    $this->assertPattern('|_comscore.push\({.*"c3":""|');
-    $this->assertPattern('|_comscore.push\({.*"c5":"test_genre"|');
-    $this->assertPattern('|_comscore.push\({.*"c6":"test_package"|');
-    $this->assertPattern('|_comscore.push\({.*"c15":"test_segment"|');
-    $this->assertRaw('//b.scorecardresearch.com/p?c1=2&amp;c2=123456&amp;c3=&amp;c4=http');
-    $this->assertRaw('c5=test_genre&amp;c6=test_package&amp;c15=test_segment&amp;cv=2&amp;cj=1');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c1":"2"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c2":"123456"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c3":""|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c5":"test_genre"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c6":"test_package"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c15":"test_segment"|');
+    $this->assertSession()->responseContains('//b.scorecardresearch.com/p?c1=2&amp;c2=123456&amp;c3=&amp;c4=http');
+    $this->assertSession()->responseContains('c5=test_genre&amp;c6=test_package&amp;c15=test_segment&amp;cv=2&amp;cj=1');
   }
 }
