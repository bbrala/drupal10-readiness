diff --git a/miniorange_saml_idp.info.yml b/miniorange_saml_idp.info.yml
index 71ea8a3..36c6dbc 100644
--- a/miniorange_saml_idp.info.yml
+++ b/miniorange_saml_idp.info.yml
@@ -1,8 +1,7 @@
 name: 'miniOrange SAML Identity Provider'
 type: module
 package: SAML
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 description: 'Single Sign-on into any SAML 2.0 compliant Service Provider using your Drupal site as an IDP.'
 configure: miniorange_saml_idp.idp_setup
 # Information added by Drupal.org packaging script on 2020-07-09
diff --git a/src/Controller/miniorange_saml_idpController.php b/src/Controller/miniorange_saml_idpController.php
index 65e3614..546b101 100755
--- a/src/Controller/miniorange_saml_idpController.php
+++ b/src/Controller/miniorange_saml_idpController.php
@@ -235,7 +235,7 @@ class miniorange_saml_idpController extends ControllerBase
             $saml_response_params = array('moIdpsendResponse' => "true", "acs_url" => $acs_url, "audience" => $audience, "relayState" => $relayState, "inResponseTo" => $inResponseTo);
 
             $responsec = new Response();
-            $cookie = new Cookie("response_params", json_encode($saml_response_params));
+            $cookie = Cookie::create("response_params", json_encode($saml_response_params));
             $responsec->headers->setCookie($cookie);
             $responsec->sendHeaders();
             $responsec->sendContent();
diff --git a/src/Form/MiniorangeLicensing.php b/src/Form/MiniorangeLicensing.php
index a4fea86..90e39ac 100755
--- a/src/Form/MiniorangeLicensing.php
+++ b/src/Form/MiniorangeLicensing.php
@@ -307,15 +307,15 @@ class MiniorangeLicensing extends FormBase {
     <h3 style="text-align: center; margin:3%;">PAYMENT METHODS</h3><hr><br><br>
     <div class="row">
     <div class="col-md-3 payment_method_inner_divs">
-        <div><img src="'.$base_url . '/' . drupal_get_path("module", "miniorange_saml_idp") . '/includes/images/card_payment.png" width="120" ><h4></h4></div><hr>
+        <div><img src="'.$base_url . '/' . \Drupal::service('extension.list.module')->getPath("miniorange_saml_idp") . '/includes/images/card_payment.png" width="120" ><h4></h4></div><hr>
         <p>If the payment is made through Credit Card/International Debit Card, the license will be created automatically once the payment is completed.</p>
     </div>
     <div class="col-md-3 payment_method_inner_divs">
-        <div><img src="'.$base_url . '/' . drupal_get_path("module", "miniorange_saml_idp") . '/includes/images/bank_transfer.png" width="150" ><h4><h4></div><hr>
+        <div><img src="'.$base_url . '/' . \Drupal::service('extension.list.module')->getPath("miniorange_saml_idp") . '/includes/images/bank_transfer.png" width="150" ><h4><h4></div><hr>
         <p>If you want to use bank transfer for the payment then contact us at <a href="mailto:drupalsupport@xecurify.com">drupalsupport@xecurify.com</a> so that we can provide you the bank details.</p>
     </div>
     <div class="col-md-3 payment_method_inner_divs">
-        <div><img src="'.$base_url . '/' . drupal_get_path("module", "miniorange_saml_idp") . '/includes/images/paypal.png" width="120"><h4></h4></ iv><hr>
+        <div><img src="'.$base_url . '/' . \Drupal::service('extension.list.module')->getPath("miniorange_saml_idp") . '/includes/images/paypal.png" width="120"><h4></h4></ iv><hr>
         <p>Use the following PayPal ID <a href="mailto:drupalsupport@xecurify.com">drupalsupport@xecurify.com</a> for making the payment via PayPal.</p>
     </div>
     </div>
diff --git a/src/Form/MiniorangeSAMLIDPRequestDemo.php b/src/Form/MiniorangeSAMLIDPRequestDemo.php
index 6fe1932..0c12d5c 100644
--- a/src/Form/MiniorangeSAMLIDPRequestDemo.php
+++ b/src/Form/MiniorangeSAMLIDPRequestDemo.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\miniorange_saml_idp\Form;
 
+use Drupal\Core\Url;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\Core\Ajax\RedirectCommand;
 use Drupal\Core\Ajax\ReplaceCommand;
@@ -107,7 +108,7 @@ class MiniorangeSAMLIDPRequestDemo extends FormBase
       $support_response = $support->sendSupportQuery();
 
       \Drupal::messenger()->addStatus(t('Success! We will review and add the trial licence under your account. We will reach out to you over email. Reach out to us at drupalsupport@xecurify.com if you have any other queries.'));
-      $response->addCommand(new RedirectCommand(\Drupal\Core\Url::fromRoute('miniorange_saml_idp.sp_setup')->toString()));
+      $response->addCommand(new RedirectCommand(Url::fromRoute('miniorange_saml_idp.sp_setup')->toString()));
     }
     return $response;
   }
diff --git a/src/Utilities.php b/src/Utilities.php
index 09b243f..c8616cf 100755
--- a/src/Utilities.php
+++ b/src/Utilities.php
@@ -182,7 +182,7 @@ class Utilities {
         <h4 class="">Looking for a Drupal Web Security module?</h4>
             <tr class="mo_ns_row">
                 <th class="mo_ns_image1"><img
-                            src="'.$base_url . '/' . drupal_get_path("module", "miniorange_saml_idp") . '/includes/images/security.jpg"
+                            src="'.$base_url . '/' . \Drupal::service('extension.list.module')->getPath("miniorange_saml_idp") . '/includes/images/security.jpg"
                             alt="miniOrange icon" height=10% width=44%>
                 <br>
                         <h4>Drupal Website Security</h4>
@@ -222,7 +222,7 @@ class Utilities {
             <h5>Looking for Drupal Second-Factor Authentication (2FA)?</h5>
                 <tr class="mo_ns_row">
                     <th class="mo_ns_image1"><img
-                                src="'.$base_url . '/' . drupal_get_path("module", "miniorange_saml_idp") . '/includes/images/second_factor_autentication.jpg"
+                                src="'.$base_url . '/' . \Drupal::service('extension.list.module')->getPath("miniorange_saml_idp") . '/includes/images/second_factor_autentication.jpg"
                                 alt="miniOrange icon" height=12% width=55%>
                     <br>
                             <h4>Drupal Second-Factor Authentication</h4>
diff --git a/src/miniorange_saml_registration.php b/src/miniorange_saml_registration.php
index 3d6a0fe..fecc169 100644
--- a/src/miniorange_saml_registration.php
+++ b/src/miniorange_saml_registration.php
@@ -32,7 +32,7 @@ class miniorange_saml_registration{
   public static function register_data($transaction_limit=false, $invalid_credential=false){
     global $base_url;
 
-    $base_module_path = drupal_get_path("module", "miniorange_saml_idp");
+    $base_module_path = \Drupal::service('extension.list.module')->getPath("miniorange_saml_idp");
     $requestUrl = $base_url . MiniorangeSAMLIdpConstants::LICENSE_PAGE_URL;
     $myArray = array();
     $myArray = $_POST;
@@ -152,7 +152,7 @@ class miniorange_saml_registration{
 
     global $base_url;
 
-    $base_module_path = drupal_get_path("module", "miniorange_saml_idp");
+    $base_module_path = \Drupal::service('extension.list.module')->getPath("miniorange_saml_idp");
     $close_url = $base_url . '/close_registration';
     $myArray = array();
     $myArray = $_POST;
