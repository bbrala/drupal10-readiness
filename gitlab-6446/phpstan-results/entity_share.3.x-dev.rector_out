modules/contrib/entity_share/entity_share.post_update.php
modules/contrib/entity_share/modules/entity_share_async/entity_share_async.install
modules/contrib/entity_share/modules/entity_share_client/entity_share_client.install
modules/contrib/entity_share/modules/entity_share_client/src/Entity/ImportConfig.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/ClientAuthorization/Anonymous.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/EntityReferenceHelper.php
modules/contrib/entity_share/modules/entity_share_client/tests/modules/entity_share_client_remote_manager_test/src/Service/TestRemoteManager.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/MissingFieldsTest.php
modules/contrib/entity_share/modules/entity_share_diff/src/DiffGenerator/DiffGeneratorInterface.php
modules/contrib/entity_share/modules/entity_share_lock/src/HookHandler/FormAlterHookHandler.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/FilterDeleteForm.php
modules/contrib/entity_share/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTest.php
modules/contrib/entity_share/tests/modules/entity_share_test/src/EntityFieldHelperTrait.php
modules/contrib/entity_share/modules/entity_share_client/src/Entity/ImportConfigInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/Entity/Remote.php
modules/contrib/entity_share/modules/entity_share_diff/src/DiffGenerator/DiffGeneratorPluginBase.php
modules/contrib/entity_share/modules/entity_share_async/entity_share_async.module
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/AuthenticationAnonymousTest.php
modules/contrib/entity_share/modules/entity_share_async/src/Plugin/QueueWorker/EntityShareAsyncWorker.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/EntityReferenceHelperInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/EntityShareClientCliService.php
modules/contrib/entity_share/modules/entity_share_diff/src/DiffGenerator/DiffGeneratorPluginManager.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/ClientAuthorization/BasicAuth.php
modules/contrib/entity_share/modules/entity_share_client/src/Entity/RemoteInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/FormHelper.php
modules/contrib/entity_share/tests/modules/entity_share_test/src/FakeDataGenerator.php
modules/contrib/entity_share/modules/entity_share_client/entity_share_client.module
modules/contrib/entity_share/modules/entity_share_client/src/EntityImportStatusListBuilder.php
modules/contrib/entity_share/modules/entity_share_client/entity_share_client.post_update.php
modules/contrib/entity_share/modules/entity_share_lock/tests/src/Functional/EntityShareLockFunctionalTest.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/ClientAuthorization/Header.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/FilterEditForm.php
modules/contrib/entity_share/modules/entity_share_async/src/Service/QueueHelper.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/ClientAuthorization/Oauth.php
modules/contrib/entity_share/modules/entity_share_diff/src/Form/AdminSettingsForm.php
modules/contrib/entity_share/modules/entity_share_async/src/Service/QueueHelperInterface.php
modules/contrib/entity_share/modules/entity_share_async/tests/src/Functional/EntityShareAsyncFunctionalTest.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/CommentFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_client/src/Annotation/ClientAuthorization.php
modules/contrib/entity_share/modules/entity_share_client/src/Event/RelationshipFieldValueEvent.php
modules/contrib/entity_share/modules/entity_share_client/src/EventSubscriber/EntityReferenceRevisionsRelationshipSubscriber.php
modules/contrib/entity_share/modules/entity_share_client/src/Annotation/ImportProcessor.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/MultilingualTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/AuthenticationBasicAuthTest.php
modules/contrib/entity_share/modules/entity_share_client/src/ClientAuthorization/ClientAuthorizationInterface.php
modules/contrib/entity_share/modules/entity_share_server/entity_share_server.module
modules/contrib/entity_share/modules/entity_share_client/src/ClientAuthorization/ClientAuthorizationPluginBase.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/CoreFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_server/entity_share_server.post_update.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/GroupAddForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Form/ImportConfigDeleteForm.php
modules/contrib/entity_share/modules/entity_share_server/src/ChannelListBuilder.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/DynamicEntityReferenceFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/GroupBaseForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Form/ImportConfigForm.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/EntityReferenceFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/FormHelperInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/ImportConfigManipulator.php
modules/contrib/entity_share/modules/entity_share_server/src/Controller/EntryPoint.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/GroupDeleteForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/BlockFieldBlockContentImporter.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/AuthenticationOAuthTest.php
modules/contrib/entity_share/modules/entity_share_client/src/ClientAuthorization/ClientAuthorizationPluginManager.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/GroupEditForm.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/ParagraphTest.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/EntityReferenceRevisionsFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_client/src/Commands/EntityShareClientCommands.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/FileFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/ImportConfigManipulatorInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/ChangedTime.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/ImportService.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/PathautoTest.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/SearchAddForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/DefaultDataProcessor.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/SearchBaseForm.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/SearchDeleteForm.php
modules/contrib/entity_share/modules/entity_share_server/src/Entity/Channel.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/SearchEditForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Entity/EntityImportStatus.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/ImageFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/PullFormTest.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/LinkFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_server/src/Entity/ChannelInterface.php
modules/contrib/entity_share/modules/entity_share_server/src/Event/ChannelListEvent.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/SortAddForm.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/ListFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/ChannelDeleteForm.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/SortBaseForm.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/TextFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_client/src/Form/PullForm.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/ChannelForm.php
modules/contrib/entity_share/modules/entity_share_diff/src/Plugin/DiffGenerator/TextWithSummaryFieldDiffParser.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/EmbeddedEntityImporter.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/SortDeleteForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Entity/EntityImportStatusInterface.php
modules/contrib/entity_share/modules/entity_share_diff/src/Service/EntityParser.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/RevisionTest.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/SortEditForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/EntityReference.php
modules/contrib/entity_share/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTestBase.php
modules/contrib/entity_share/modules/entity_share_server/src/HookHandler/EntityDeleteHookHandler.php
modules/contrib/entity_share/modules/entity_share_server/tests/src/Functional/EntityShareServerRequestTestTrait.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/AuthenticationTestBase.php
modules/contrib/entity_share/src/EntityShareUtility.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/ImportServiceInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/JsonapiHelper.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/SkipImportedTest.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/JsonapiHelperInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/KeyProvider.php
modules/contrib/entity_share/modules/entity_share_server/src/OperatorsHelper.php
modules/contrib/entity_share/modules/entity_share_server/src/Routing/Routes.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/BasicFieldsTest.php
modules/contrib/entity_share/src/Plugin/jsonapi/FieldEnhancer/EntityShareBlockFieldEnhancer.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/RemoteManager.php
modules/contrib/entity_share/modules/entity_share_diff/src/Service/EntityParserInterface.php
modules/contrib/entity_share/modules/entity_share_lock/entity_share_lock.module
modules/contrib/entity_share/modules/entity_share_server/src/Service/ChannelManipulator.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/TaxonomyEntityReferenceTest.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/RemoteManagerInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/StateInformation.php
modules/contrib/entity_share/src/Plugin/jsonapi/FieldEnhancer/EntityShareEmbeddedEntitiesEnhancer.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Kernel/EntityNoUuidDeletionTest.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/LanguageFallback.php
modules/contrib/entity_share/modules/entity_share_server/src/Service/ChannelManipulatorInterface.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/BlockFieldTest.php
modules/contrib/entity_share/modules/entity_share_server/tests/src/Functional/ChannelAccessTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Kernel/ImportPolicyTest.php
modules/contrib/entity_share/src/Plugin/jsonapi/FieldEnhancer/EntityShareMetatagEnhancer.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/LinkInternalContentImporter.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/ChangedRemovedTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Kernel/RemoteUrlTest.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/PhysicalFile.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/ContentEntityReferenceTest.php
modules/contrib/entity_share/modules/entity_share_client/src/Service/StateInformationInterface.php
modules/contrib/entity_share/modules/entity_share_diff/src/Annotation/DiffGenerator.php
modules/contrib/entity_share/modules/entity_share_diff/src/Controller/DiffController.php
modules/contrib/entity_share/src/Plugin/jsonapi/FieldEnhancer/EntitySharePathautoEnhancer.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/FilterAddForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/PreventUpdateProcessor.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/EmbeddedEntityTest.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/Revision.php
modules/contrib/entity_share/modules/entity_share_diff/src/Diff/DiffFormatter.php
modules/contrib/entity_share/modules/entity_share_server/src/Form/FilterBaseForm.php
modules/contrib/entity_share/src/Plugin/jsonapi/FieldEnhancer/EntityShareSerializedDataEnhancer.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/SkipImported.php
modules/contrib/entity_share/src/Plugin/jsonapi/FieldEnhancer/EntityShareUuidLinkEnhancer.php
modules/contrib/entity_share/modules/entity_share_client/src/Form/RemoteDeleteForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Form/RemoteForm.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/KeyType/EntityShareBasicAuth.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/KeyType/EntityShareHeader.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/KeyType/EntityShareOauth.php
modules/contrib/entity_share/modules/entity_share_client/src/RemoteListBuilder.php
modules/contrib/entity_share/tests/modules/entity_share_entity_test/src/Entity/EntityTestNotTranslatable.php
modules/contrib/entity_share/modules/entity_share_client/src/RuntimeImportContext.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/EntityShareClientFunctionalTestBase.php
modules/contrib/entity_share/tests/modules/entity_share_entity_test/src/Entity/EntityTestNotTranslatableEL.php
modules/contrib/entity_share/modules/entity_share_client/src/ImportBatchHelper.php
modules/contrib/entity_share/modules/entity_share_client/src/ImportConfigListBuilder.php
modules/contrib/entity_share/modules/entity_share_client/src/ImportContext.php
modules/contrib/entity_share/modules/entity_share_client/src/ImportPolicy/ImportPolicyPluginManager.php
modules/contrib/entity_share/modules/entity_share_client/src/ImportProcessor/ImportProcessorInterface.php
modules/contrib/entity_share/modules/entity_share_client/src/ImportProcessor/ImportProcessorPluginBase.php
modules/contrib/entity_share/modules/entity_share_client/src/ImportProcessor/ImportProcessorPluginManager.php
modules/contrib/entity_share/modules/entity_share_client/src/Plugin/Action/UpdatePolicyAction.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/FileDeletedTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/FileTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/ImportPolicyTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/InfiniteLoopTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/LanguageFallbackTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/LinkFieldTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/MediaEntityReferenceTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/MetatagTest.php
modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/MissingEntityReferenceTest.php

6 files with changes
====================

1) modules/contrib/entity_share/modules/entity_share_server/src/Event/ChannelListEvent.php:3

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_share_server\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 /**
  * Allows to alter the list of channels provided by the website.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/entity_share/modules/entity_share_server/src/Controller/EntryPoint.php:107

    ---------- begin diff ----------
@@ @@

     // Collect other channel definitions.
     $event = new ChannelListEvent($data);
-    $this->eventDispatcher->dispatch(ChannelListEvent::EVENT_NAME, $event);
+    $this->eventDispatcher->dispatch($event, ChannelListEvent::EVENT_NAME);

     return new JsonResponse([
       'data' => $event->getChannelList(),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/entity_share/modules/entity_share_client/src/Plugin/EntityShareClient/Processor/EntityReference.php:168

    ---------- begin diff ----------
@@ @@

             // Allow to alter the field value with an event.
             $event = new RelationshipFieldValueEvent($field, $field_value);
-            $this->eventDispatcher->dispatch(RelationshipFieldValueEvent::EVENT_NAME, $event);
+            $this->eventDispatcher->dispatch($event, RelationshipFieldValueEvent::EVENT_NAME);
             $field_values[] = $event->getFieldValue();
           }
         }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/entity_share/modules/entity_share_client/src/Event/RelationshipFieldValueEvent.php:3

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_share_client\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\Core\Field\FieldItemListInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Defines a RelationshipFieldValueEvent event.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/EntityShareClientFunctionalTestBase.php:1080

    ---------- begin diff ----------
@@ @@
    *   The file data as in static::filesData.
    */
   protected function getMediaEntityReferenceTestFiles($file_uuid, array $file_data) {
-    $filepath = drupal_get_path('module', 'entity_share') . '/tests/fixtures/files/' . $file_data['filename'];
+    $filepath = \Drupal::service('extension.list.module')->getPath('entity_share') . '/tests/fixtures/files/' . $file_data['filename'];
     $this->fileSystem->copy($filepath, PublicStream::basePath());
     $this->filesSize[$file_uuid] = filesize($filepath);
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/entity_share/modules/entity_share_client/tests/src/Functional/EmbeddedEntityTest.php:196

    ---------- begin diff ----------
@@ @@
    * Bug in PHPMD, @see https://github.com/phpmd/phpmd/issues/714
    */
   protected function getEmbeddedTextValue() {
-    $image_src = file_url_transform_relative(file_create_url(static::$filesData['file_image']['uri']));
+    $image_src = \Drupal::service('file_url_generator')->generateString(static::$filesData['file_image']['uri']);

     $value = <<<EOT
 <p>Test image</p>
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 6 files have been changed by Rector                                       

