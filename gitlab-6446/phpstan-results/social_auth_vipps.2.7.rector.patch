diff --git a/social_auth_vipps.info.yml b/social_auth_vipps.info.yml
index d89818c..353581b 100644
--- a/social_auth_vipps.info.yml
+++ b/social_auth_vipps.info.yml
@@ -2,8 +2,7 @@ name: Social Auth Vipps
 type: module
 description: 'Social Auth integration for Vipps.'
 package: Social
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: social_auth_vipps.settings_form
 dependencies:
   - social_auth:social_auth
diff --git a/social_auth_vipps.install b/social_auth_vipps.install
index c7ae9d7..6ef262c 100644
--- a/social_auth_vipps.install
+++ b/social_auth_vipps.install
@@ -14,7 +14,7 @@ function social_auth_vipps_install() {
   SocialAuthController::setLoginButtonSettings('social_auth_vipps', 'social_auth_vipps.redirect_to_vipps', 'img/vipps_logo.png');
 
   $config = \Drupal::configFactory()->getEditable('social_auth.settings');
-  $imgPath = drupal_get_path('module', 'social_auth_vipps') . '/img/log_in_with_vipps_btn.svg';
+  $imgPath = \Drupal::service('extension.list.module')->getPath('social_auth_vipps') . '/img/log_in_with_vipps_btn.svg';
   $config->set('log_in_with_vipps_btn', $imgPath)->save();
 }
 
diff --git a/src/EventSubscriber/CallbackEventSubscriber.php b/src/EventSubscriber/CallbackEventSubscriber.php
index c37f829..b86b4e2 100644
--- a/src/EventSubscriber/CallbackEventSubscriber.php
+++ b/src/EventSubscriber/CallbackEventSubscriber.php
@@ -2,10 +2,10 @@
 
 namespace Drupal\social_auth_vipps\EventSubscriber;
 
+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\Core\Messenger\MessengerInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\RedirectResponse;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;
 use Drupal\Core\Url;
 use Symfony\Component\HttpFoundation\RequestStack;
@@ -47,10 +47,10 @@ class CallbackEventSubscriber implements EventSubscriberInterface {
   /**
    * Check possible errors.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   Response event.
    */
-  public function checkForErrors(GetResponseEvent $event) {
+  public function checkForErrors(RequestEvent $event) {
     if (!empty($this->request->get('error'))) {
       $this->messenger->addError($this->request->get('error_description'));
 
diff --git a/tests/src/Functional/SocialAuthVippsLoginBlockTest.php b/tests/src/Functional/SocialAuthVippsLoginBlockTest.php
index 2f34819..50c5c05 100644
--- a/tests/src/Functional/SocialAuthVippsLoginBlockTest.php
+++ b/tests/src/Functional/SocialAuthVippsLoginBlockTest.php
@@ -23,7 +23,7 @@ class SocialAuthVippsLoginBlockTest extends SocialAuthTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->provider = 'vipps';
diff --git a/tests/src/Functional/SocialAuthVippsSettingsFormTest.php b/tests/src/Functional/SocialAuthVippsSettingsFormTest.php
index f51bf89..bfad333 100644
--- a/tests/src/Functional/SocialAuthVippsSettingsFormTest.php
+++ b/tests/src/Functional/SocialAuthVippsSettingsFormTest.php
@@ -23,7 +23,7 @@ class SocialAuthVippsSettingsFormTest extends SocialAuthTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     $this->module = 'social_auth_vipps';
     $this->provider = 'vipps';
     $this->moduleType = 'social-auth';
