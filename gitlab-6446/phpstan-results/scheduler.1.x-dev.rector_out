modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc
modules/contrib/scheduler/scheduler.tokens.inc
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/RulesAction/SetUnpublishingDate.php
modules/contrib/scheduler/src/SchedulerEvents.php
modules/contrib/scheduler/tests/src/Functional/SchedulerAdminSettingsTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerStatusReportTest.php
modules/contrib/scheduler/src/SchedulerManager.php
modules/contrib/scheduler/scheduler.admin.inc
modules/contrib/scheduler/scheduler_rules_integration/scheduler_rules_integration.module
modules/contrib/scheduler/scheduler_rules_integration/scheduler_rules_integration.rules_defaults.inc
modules/contrib/scheduler/scheduler_rules_integration/src/Event/ExistingNodeIsScheduledForPublishingEvent.php
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/RulesAction/UnpublishNow.php
modules/contrib/scheduler/scheduler_rules_integration/tests/src/Functional/SchedulerRulesActionsTest.php
modules/contrib/scheduler/scheduler_rules_integration/src/Event/ExistingNodeIsScheduledForUnpublishingEvent.php
modules/contrib/scheduler/scheduler_rules_integration/src/Event/NewNodeIsScheduledForPublishingEvent.php
modules/contrib/scheduler/scheduler_rules_integration/src/Event/NewNodeIsScheduledForUnpublishingEvent.php
modules/contrib/scheduler/scheduler_rules_integration/src/Event/SchedulerHasPublishedThisNodeEvent.php
modules/contrib/scheduler/scheduler_rules_integration/src/Event/SchedulerHasUnpublishedThisNodeEvent.php
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/Condition/NodeIsScheduledForPublishing.php
modules/contrib/scheduler/tests/src/Functional/SchedulerTokenReplaceTest.php
modules/contrib/scheduler/scheduler.api.php
modules/contrib/scheduler/scheduler.drush.inc
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/Condition/NodeIsScheduledForUnpublishing.php
modules/contrib/scheduler/scheduler.install
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/Condition/PublishingIsEnabled.php
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/Condition/UnpublishingIsEnabled.php
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/RulesAction/PublishNow.php
modules/contrib/scheduler/tests/src/Functional/SchedulerApiTest.php
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/RulesAction/RemovePublishingDate.php
modules/contrib/scheduler/tests/src/Functional/SchedulerValidationTest.php
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/RulesAction/RemoveUnpublishingDate.php
modules/contrib/scheduler/scheduler.module
modules/contrib/scheduler/scheduler_rules_integration/src/Plugin/RulesAction/SetPublishingDate.php
modules/contrib/scheduler/tests/src/Functional/SchedulerWorkbenchModerationTest.php
modules/contrib/scheduler/tests/src/FunctionalJavascript/SchedulerJavascriptDefaultTimeTest.php
modules/contrib/scheduler/tests/src/FunctionalJavascript/SchedulerJavascriptTestBase.php
modules/contrib/scheduler/tests/src/Traits/PhpunitCompatibilityCore87Trait.php
modules/contrib/scheduler/tests/src/Traits/SchedulerSetupTrait.php
modules/contrib/scheduler/scheduler_rules_integration/tests/src/Functional/SchedulerRulesConditionsTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerBasicTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerBrowserTestBase.php
modules/contrib/scheduler/tests/src/Functional/SchedulerDefaultTimeTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerDeleteNodeTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerDevelGenerateTest.php
modules/contrib/scheduler/scheduler_rules_integration/tests/src/Functional/SchedulerRulesEventsTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerDrushTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerFieldsDisplayTest.php
modules/contrib/scheduler/src/Theme/SchedulerThemeNegotiator.php
modules/contrib/scheduler/tests/modules/scheduler_access_test/scheduler_access_test.install
modules/contrib/scheduler/tests/modules/scheduler_access_test/scheduler_access_test.module
modules/contrib/scheduler/tests/modules/scheduler_api_test/scheduler_api_test.install
modules/contrib/scheduler/tests/modules/scheduler_api_test/scheduler_api_test.module
modules/contrib/scheduler/src/Access/ScheduledListAccess.php
modules/contrib/scheduler/src/Commands/SchedulerCommands.php
modules/contrib/scheduler/src/Controller/LightweightCronController.php
modules/contrib/scheduler/src/EventBase.php
modules/contrib/scheduler/src/Exception/SchedulerMissingDateException.php
modules/contrib/scheduler/src/Exception/SchedulerNodeTypeNotEnabledException.php
modules/contrib/scheduler/src/Form/SchedulerAdminForm.php
modules/contrib/scheduler/tests/src/Functional/SchedulerLightweightCronTest.php
modules/contrib/scheduler/tests/modules/scheduler_api_test/src/EventSubscriber.php
modules/contrib/scheduler/tests/modules/scheduler_extras/scheduler_extras.module
modules/contrib/scheduler/src/Form/SchedulerCronForm.php
modules/contrib/scheduler/tests/src/Functional/SchedulerMessageTest.php
modules/contrib/scheduler/src/Plugin/Field/FieldWidget/TimestampDatetimeNoDefaultWidget.php
modules/contrib/scheduler/tests/src/Functional/SchedulerMetaInformationTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerMultilingualTest.php
modules/contrib/scheduler/src/Plugin/Validation/Constraint/SchedulerPublishOnConstraint.php
modules/contrib/scheduler/src/Plugin/Validation/Constraint/SchedulerPublishOnConstraintValidator.php
modules/contrib/scheduler/src/Plugin/Validation/Constraint/SchedulerUnpublishOnConstraint.php
modules/contrib/scheduler/src/Plugin/Validation/Constraint/SchedulerUnpublishOnConstraintValidator.php
modules/contrib/scheduler/src/Plugin/views/access/Scheduler.php
modules/contrib/scheduler/src/SchedulerEvent.php
modules/contrib/scheduler/tests/src/Functional/SchedulerNodeAccessTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerNonEnabledTypeTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerPastDatesTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerPermissionsTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerRequiredTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerRevisioningTest.php
modules/contrib/scheduler/tests/src/Functional/SchedulerScheduledContentListAccessTest.php

21 files with changes
=====================

1) modules/contrib/scheduler/tests/src/Functional/SchedulerValidationTest.php:45

    ---------- begin diff ----------
@@ @@
       'status' => FALSE,
     ]);
     $edit = ['status[value]' => TRUE];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Check that validation prevents publishing the node directly without an
     // unpublish-on date if unpublishing is required.
     $this->assertSession()->pageTextContains("Either you must set an 'unpublish on' date or save this node as unpublished.");
@@ @@
       'unpublish_on[0][value][date]' => $this->dateFormatter->format($this->requestTime + 1800, 'custom', 'Y-m-d'),
       'unpublish_on[0][value][time]' => $this->dateFormatter->format($this->requestTime + 1800, 'custom', 'H:i:s'),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Check that validation prevents entering an unpublish-on date which is
     // earlier than the publish-on date.
     $this->assertSession()->pageTextContains("The 'unpublish on' date must be later than the 'publish on' date.");
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/scheduler/tests/src/Functional/SchedulerTokenReplaceTest.php:45

    ---------- begin diff ----------
@@ @@
       $edit = [
         'body[0][value]' => 'Publish on: [node:scheduler-publish' . $test_data['token_format'] . ']. Unpublish on: [node:scheduler-unpublish' . $test_data['token_format'] . '].',
       ];
-      $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+      $this->drupalGet('node/' . $node->id() . '/edit');
+      $this->submitForm($edit, 'Save');
       $this->drupalGet('node/' . $node->id());

       // Refresh the node and get the body output value.
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/scheduler/scheduler.module:30

    ---------- begin diff ----------
@@ @@
       $output = '<h3>' . t('About') . '</h3>';
       $output .= '<p>' . t('The Scheduler module provides the functionality for automatic publishing and unpublishing of nodes at specified future dates.') . '</p>';
       $output .= '<p>' . t('You can read more in the <a href="@readme">readme</a> file or our <a href="@project">project page on Drupal.org</a>.', [
-        '@readme' => $GLOBALS['base_url'] . '/' . drupal_get_path('module', 'scheduler') . '/README.md',
+        '@readme' => $GLOBALS['base_url'] . '/' . \Drupal::service('extension.list.module')->getPath('scheduler') . '/README.md',
         '@project' => 'https://drupal.org/project/scheduler',
       ]) . '</p>';
       break;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


4) modules/contrib/scheduler/plugins/content_types/scheduler_form_pane.inc:17

    ---------- begin diff ----------
@@ @@
   'edit form' => 'scheduler_form_pane_node_form_menu_content_type_edit_form',
   'render callback' => 'scheduler_form_pane_content_type_render',
   'title' => t('Node form scheduler'),
-  'icon' => drupal_get_path('module', 'ctools') . '/plugins/content_types/node_form/icon_node_form.png',
+  'icon' => \Drupal::service('extension.list.module')->getPath('ctools') . '/plugins/content_types/node_form/icon_node_form.png',
   'description' => t('Scheduler date options on the Node form.'),
   'required context' => new ctools_context_required(t('Form'), 'node_form'),
   'category' => t('Form'),
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


5) modules/contrib/scheduler/src/SchedulerManager.php:114

    ---------- begin diff ----------
@@ @@
     }
     else {
       // Replicate the existing dispatch signature.
-      $this->eventDispatcher->dispatch($event_name, $event);
+      $this->eventDispatcher->dispatch($event, $event_name);
     }
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector


6) modules/contrib/scheduler/scheduler_rules_integration/tests/src/Functional/SchedulerRulesEventsTest.php:77

    ---------- begin diff ----------
@@ @@
       'title[0][value]' => 'Test for no events',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle($edit['title[0][value]']);
     $assert->pageTextNotContains($this->message[1]);
     $assert->pageTextNotContains($this->message[2]);
@@ @@
     $edit = [
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $assert->pageTextNotContains($this->message[1]);
     $assert->pageTextNotContains($this->message[2]);
     $assert->pageTextNotContains($this->message[3]);
@@ @@
       'publish_on[0][value][time]' => date('H:i:s', time() + 3),
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle($edit['title[0][value]']);
     $assert->pageTextContains($this->message[1]);
     $assert->pageTextNotContains($this->message[2]);
@@ @@
       'title[0][value]' => 'Edit node with publish-on date',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $assert->pageTextNotContains($this->message[1]);
     $assert->pageTextContains($this->message[2]);
     $assert->pageTextNotContains($this->message[3]);
@@ @@
       'unpublish_on[0][value][time]' => date('H:i:s', time() + 3),
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle($edit['title[0][value]']);
     $assert->pageTextNotContains($this->message[1]);
     $assert->pageTextNotContains($this->message[2]);
@@ @@
       'title[0][value]' => 'Edit node with unpublish-on date',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $assert->pageTextNotContains($this->message[1]);
     $assert->pageTextNotContains($this->message[2]);
     $assert->pageTextNotContains($this->message[3]);
@@ @@
       'unpublish_on[0][value][time]' => date('H:i:s', time() + 4),
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle($edit['title[0][value]']);
     $assert->pageTextContains($this->message[1]);
     $assert->pageTextNotContains($this->message[2]);
@@ @@
       'title[0][value]' => 'Edit node with both dates',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle($edit['title[0][value]']);
     $assert->pageTextNotContains($this->message[1]);
     $assert->pageTextContains($this->message[2]);
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


7) modules/contrib/scheduler/scheduler_rules_integration/tests/src/Functional/SchedulerRulesConditionsTest.php:228

    ---------- begin diff ----------
@@ @@
     $edit = [
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $this->node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $this->node->id() . '/edit');
+    $this->submitForm($edit, 'Save');

     $assert->pageTextContains($message5);
     $assert->pageTextContains($message6);
@@ @@
       'publish_on[0][value][date]' => date('Y-m-d', strtotime('+1 day', $this->requestTime)),
       'publish_on[0][value][time]' => date('H:i:s', strtotime('+1 day', $this->requestTime)),
     ];
-    $this->drupalPostForm('node/' . $this->node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $this->node->id() . '/edit');
+    $this->submitForm($edit, 'Save');

     $assert->pageTextNotContains($message5);
     $assert->pageTextContains($message6);
@@ @@
       'unpublish_on[0][value][date]' => date('Y-m-d', strtotime('+2 day', $this->requestTime)),
       'unpublish_on[0][value][time]' => date('H:i:s', strtotime('+2 day', $this->requestTime)),
     ];
-    $this->drupalPostForm('node/' . $this->node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $this->node->id() . '/edit');
+    $this->submitForm($edit, 'Save');

     $assert->pageTextNotContains($message5);
     $assert->pageTextNotContains($message6);
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


8) modules/contrib/scheduler/scheduler_rules_integration/tests/src/Functional/SchedulerRulesActionsTest.php:117

    ---------- begin diff ----------
@@ @@
       'title[0][value]' => 'New node - Trigger Action Rule 1',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle('New node - Trigger Action Rule 1');
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be published %s', 'New node - Trigger Action Rule 1', $publish_on_formatted));

@@ @@
       'title[0][value]' => 'Edit node - but no rules will be triggered',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $this->nodeStorage->resetCache([$node->id()]);
     $node = $this->nodeStorage->load($node->id());
     // Check that neither of the rules are triggered, no publish and unpublish
@@ @@
       'title[0][value]' => 'Edit node - Trigger Action Rule 1',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $this->nodeStorage->resetCache([$node->id()]);
     $node = $this->nodeStorage->load($node->id());
     // Check that rule 1 is triggered and rule 2 is not. Check that a publishing
@@ @@
       'title[0][value]' => 'Edit node - Trigger Action Rule 2',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $this->nodeStorage->resetCache([$node->id()]);
     $node = $this->nodeStorage->load($node->id());
     // Check that rule 2 is triggered and rule 1 is not. Check that the
@@ @@
       'title[0][value]' => 'New non-enabled node - Trigger Action Rule 1',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/add/' . $this->nonSchedulerNodeType->id(), $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->nonSchedulerNodeType->id());
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle('New non-enabled node - Trigger Action Rule 1');
     // Check that rule 1 issued a warning message.
     $assert->pageTextContains('warning message');
@@ @@
       'title[0][value]' => 'Edit non-enabled node - Trigger Action Rule 1',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Check that rule 1 issued a warning message.
     $assert->pageTextContains('warning message');
     $assert->elementExists('xpath', '//div[@aria-label="Warning message" and contains(string(), "Action")]');
@@ @@
       'title[0][value]' => 'Edit non-enabled node - Trigger Action Rule 2',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Check that rule 2 issued a warning message.
     $assert->pageTextContains('warning message');
     $assert->elementExists('xpath', '//div[@aria-label="Warning message" and contains(string(), "Action")]');
@@ @@
       'title[0][value]' => 'New node - Trigger Action Rule 3',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle('New node - Trigger Action Rule 3');
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be unpublished %s', 'New node - Trigger Action Rule 3', $unpublish_on_formatted));

@@ @@
       'title[0][value]' => 'Edit node - but no rules will be triggered',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $this->nodeStorage->resetCache([$node->id()]);
     $node = $this->nodeStorage->load($node->id());
     // Check that neither of the rules are triggered, no publish and unpublish
@@ @@
       'title[0][value]' => 'Edit node - Trigger Action Rule 3',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $this->nodeStorage->resetCache([$node->id()]);
     $node = $this->nodeStorage->load($node->id());
     // Check that rule 3 is triggered and rule 4 is not. Check that an
@@ @@
       'title[0][value]' => 'Edit node - Trigger Action Rule 4',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $this->nodeStorage->resetCache([$node->id()]);
     $node = $this->nodeStorage->load($node->id());
     // Check that rule 4 is triggered and rule 3 is not. Check that the
@@ @@
       'title[0][value]' => 'New non-enabled node - Trigger Action Rule 3',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/add/' . $this->nonSchedulerNodeType->id(), $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->nonSchedulerNodeType->id());
+    $this->submitForm($edit, 'Save');
     $node = $this->drupalGetNodeByTitle('New non-enabled node - Trigger Action Rule 3');
     // Check that rule 3 issued a warning message.
     $assert->pageTextContains('warning message');
@@ @@
       'title[0][value]' => 'Edit non-enabled node - Trigger Action Rule 3',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Check that rule 3 issued a warning message.
     $assert->pageTextContains('warning message');
     $assert->elementExists('xpath', '//div[@aria-label="Warning message" and contains(string(), "Action")]');
@@ @@
       'title[0][value]' => 'Edit non-enabled node - Trigger Action Rule 4',
       'body[0][value]' => $this->randomString(30),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Check that rule 4 issued a warning message.
     $assert->pageTextContains('warning message');
     $assert->elementExists('xpath', '//div[@aria-label="Warning message" and contains(string(), "Action")]');
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


9) modules/contrib/scheduler/tests/src/Functional/SchedulerRequiredTest.php:71

    ---------- begin diff ----------
@@ @@
       'unpublish_on[0][value][date]' => '',
       'unpublish_on[0][value][time]' => '',
     ];
+    $this->drupalGet($path);
     // Add or edit the node.
-    $this->drupalPostForm($path, $values, 'Save');
+    $this->submitForm($values, 'Save');

     // Check for the expected result.
     if ($publish_expected) {
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


10) modules/contrib/scheduler/tests/src/Functional/SchedulerPermissionsTest.php:37

    ---------- begin diff ----------
@@ @@
     // Check that a new node can be saved and published.
     $title = $this->randomString(15);
     $edit = ['title[0][value]' => $title, 'status[value]' => TRUE];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->pageTextContains(sprintf('%s %s has been created.', $this->typeName, $title));
     $this->assertTrue($this->drupalGetNodeByTitle($title)->isPublished(), 'The new node is published');

@@ @@
     // Check that a new node can be saved as unpublished.
     $title = $this->randomString(15);
     $edit = ['title[0][value]' => $title, 'status[value]' => FALSE];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->pageTextContains(sprintf('%s %s has been created.', $this->typeName, $title));
     $this->assertFalse($this->drupalGetNodeByTitle($title)->isPublished(), 'The new node is unpublished');

@@ @@

     // Edit the unpublished node and save.
     $title = 'For Publishing ' . $this->randomString(10);
-    $this->drupalPostForm('node/' . $unpublished_node->id() . '/edit', ['title[0][value]' => $title], 'Save');
+    $this->drupalGet('node/' . $unpublished_node->id() . '/edit');
+    $this->submitForm(['title[0][value]' => $title], 'Save');

     // Check the updated title, to verify that edit and save was sucessful.
     $unpublished_node = $this->nodeStorage->load($unpublished_node->id());
@@ @@

     // Edit the published node and save.
     $title = 'For Unpublishing ' . $this->randomString(10);
-    $this->drupalPostForm('node/' . $published_node->id() . '/edit', ['title[0][value]' => $title], 'Save');
+    $this->drupalGet('node/' . $published_node->id() . '/edit');
+    $this->submitForm(['title[0][value]' => $title], 'Save');

     // Check the updated title, to verify that edit and save was sucessful.
     $published_node = $this->nodeStorage->load($published_node->id());
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


11) modules/contrib/scheduler/tests/src/Functional/SchedulerPastDatesTest.php:27

    ---------- begin diff ----------
@@ @@
       'publish_on[0][value][date]' => $this->dateFormatter->format(strtotime('-1 day', $this->requestTime), 'custom', 'Y-m-d'),
       'publish_on[0][value][time]' => $this->dateFormatter->format(strtotime('-1 day', $this->requestTime), 'custom', 'H:i:s'),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->pageTextContains("The 'publish on' date must be in the future");

     // Test the 'error' behavior explicitly.
     $this->nodetype->setThirdPartySetting('scheduler', 'publish_past_date', 'error')->save();
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->pageTextContains("The 'publish on' date must be in the future");

     // Test the 'publish' behavior: the node should be published immediately.
     $this->nodetype->setThirdPartySetting('scheduler', 'publish_past_date', 'publish')->save();
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Check that no error message is shown when the publication date is in the
     // past and the "publish" behavior is chosen.
     $this->assertSession()->pageTextNotContains("The 'publish on' date must be in the future");
@@ @@
     $this->nodetype->setThirdPartySetting('scheduler', 'publish_past_date', 'schedule')->save();
     $node = $this->drupalCreateNode(['type' => $this->type, 'status' => FALSE]);
     $created_time = $node->getCreatedTime();
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Check that no error is shown when the publish_on date is in the past.
     $this->assertSession()->pageTextNotContains("The 'publish on' date must be in the future");
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be published', $edit['title[0][value]']));
@@ @@

       // Create a new node, edit and save.
       $node = $this->drupalCreateNode(['type' => $this->type, 'status' => FALSE]);
-      $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+      $this->drupalGet('node/' . $node->id() . '/edit');
+      $this->submitForm($edit, 'Save');

       if ($option == 'schedule') {
         scheduler_cron();
@@ @@
       'unpublish_on[0][value][date]' => $this->dateFormatter->format($this->requestTime - 3600, 'custom', 'Y-m-d'),
       'unpublish_on[0][value][time]' => $this->dateFormatter->format($this->requestTime - 3600, 'custom', 'H:i:s'),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->pageTextContains("The 'unpublish on' date must be in the future");
   }
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


12) modules/contrib/scheduler/tests/src/Functional/SchedulerNonEnabledTypeTest.php:50

    ---------- begin diff ----------
@@ @@
     // setting remains on, the node must be able to be saved without a date.
     $this->nonSchedulerNodeType->setThirdPartySetting('scheduler', 'publish_required', !$publishing_enabled)->save();
     $this->nonSchedulerNodeType->setThirdPartySetting('scheduler', 'unpublish_required', !$unpublishing_enabled)->save();
-    $this->drupalPostForm('node/add/' . $this->nonSchedulerNodeType->id(), ['title[0][value]' => $title], 'Save');
+    $this->drupalGet('node/add/' . $this->nonSchedulerNodeType->id());
+    $this->submitForm(['title[0][value]' => $title], 'Save');
     // Check that the node has saved OK.
     $string = sprintf('%s %s has been created.', $this->nonSchedulerNodeType->get('name'), $title);
     $this->assertSession()->pageTextContains($string);
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


13) modules/contrib/scheduler/tests/src/Functional/SchedulerMetaInformationTest.php:36

    ---------- begin diff ----------
@@ @@
       'unpublish_on[0][value][date]' => $this->dateFormatter->format($unpublish_date, 'custom', 'Y-m-d'),
       'unpublish_on[0][value][time]' => $this->dateFormatter->format($unpublish_date, 'custom', 'H:i:s'),
     ];
-    $this->drupalPostForm('node/' . $published_node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $published_node->id() . '/edit');
+    $this->submitForm($edit, 'Save');

     // The node page should now have an X-Robots-Tag header with an
     // unavailable_after-directive and RFC850 date- and time-value.
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


14) modules/contrib/scheduler/tests/src/Functional/SchedulerMessageTest.php:30

    ---------- begin diff ----------
@@ @@
       'publish_on[0][value][date]' => date('Y-m-d', $publish_on),
       'publish_on[0][value][time]' => date('H:i:s', $publish_on),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node1 = $this->drupalGetNodeByTitle($title1);
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be published %s', $title1, $publish_on_formatted));

@@ @@
       'unpublish_on[0][value][date]' => date('Y-m-d', $unpublish_on),
       'unpublish_on[0][value][time]' => date('H:i:s', $unpublish_on),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node2 = $this->drupalGetNodeByTitle($title2);
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be unpublished %s', $title2, $unpublish_on_formatted));

@@ @@
       'unpublish_on[0][value][date]' => date('Y-m-d', $unpublish_on),
       'unpublish_on[0][value][time]' => date('H:i:s', $unpublish_on),
     ];
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     $node3 = $this->drupalGetNodeByTitle($title3);
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be published %s and unpublished %s', $title3, $publish_on_formatted, $unpublish_on_formatted));

     // Change the option to not display the messages.
     $this->nodetype->setThirdPartySetting('scheduler', 'show_message_after_update', FALSE)->save();
-    $this->drupalPostForm('node/' . $node1->id() . '/edit', [], 'Save');
+    $this->drupalGet('node/' . $node1->id() . '/edit');
+    $this->submitForm([], 'Save');
     $this->assertSession()->pageTextNotContains('is scheduled to be published');
-    $this->drupalPostForm('node/' . $node2->id() . '/edit', [], 'Save');
+    $this->drupalGet('node/' . $node2->id() . '/edit');
+    $this->submitForm([], 'Save');
     $this->assertSession()->pageTextNotContains('is scheduled to be unpublished');
-    $this->drupalPostForm('node/' . $node3->id() . '/edit', [], 'Save');
+    $this->drupalGet('node/' . $node3->id() . '/edit');
+    $this->submitForm([], 'Save');
     $this->assertSession()->pageTextNotContains('is scheduled to be published');

     // Set back to display the messages, and check after edit.
     $this->nodetype->setThirdPartySetting('scheduler', 'show_message_after_update', TRUE)->save();
-    $this->drupalPostForm('node/' . $node1->id() . '/edit', [], 'Save');
+    $this->drupalGet('node/' . $node1->id() . '/edit');
+    $this->submitForm([], 'Save');
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be published %s', $title1, $publish_on_formatted));
-    $this->drupalPostForm('node/' . $node2->id() . '/edit', [], 'Save');
+    $this->drupalGet('node/' . $node2->id() . '/edit');
+    $this->submitForm([], 'Save');
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be unpublished %s', $title2, $unpublish_on_formatted));
-    $this->drupalPostForm('node/' . $node3->id() . '/edit', [], 'Save');
+    $this->drupalGet('node/' . $node3->id() . '/edit');
+    $this->submitForm([], 'Save');
     $this->assertSession()->pageTextContains(sprintf('%s is scheduled to be published %s and unpublished %s', $title3, $publish_on_formatted, $unpublish_on_formatted));
   }
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


15) modules/contrib/scheduler/tests/src/Functional/SchedulerLightweightCronTest.php:56

    ---------- begin diff ----------
@@ @@
     $key = $key_xpath[0]->getText();
     $this->assertNotEmpty($key, 'The default lightweight cron key field should not be empty');
     $this->assertEquals(20, strlen($key), 'The default lightweight cron key string length should be 20');
+    $this->drupalGet($this->routeCronForm);

     // Check that a new random key can be generated.
-    $this->drupalPostForm($this->routeCronForm, [], 'Generate new random key');
+    $this->submitForm([], 'Generate new random key');
     $new_key_xpath = $this->xpath('//input[@id="edit-lightweight-access-key"]/@value');
     $new_key = $new_key_xpath[0]->getText();
     $this->assertNotEmpty($new_key, 'The lightweight cron key field should not be empty after generating a new key');
     $this->assertEquals(20, strlen($new_key), 'The new lightweight cron key string length should be 20');
     $this->assertNotEquals($new_key, $key, 'The new lightweight cron key should be different from the previous key.');
+    $this->drupalGet($this->routeCronForm);

     // Check that the 'run lightweight cron' button works.
-    $this->drupalPostForm($this->routeCronForm, [], "Run Scheduler's lightweight cron now");
+    $this->submitForm([], "Run Scheduler's lightweight cron now");
     $this->assertSession()->pageTextContains('Lightweight cron run completed.');
+    $this->drupalGet($this->routeCronForm);

     // Check that the form cannot be saved if the cron key is blank.
-    $this->drupalPostForm($this->routeCronForm, ['lightweight_access_key' => ''], 'Save configuration');
+    $this->submitForm(['lightweight_access_key' => ''], 'Save configuration');
     $this->assertSession()->pageTextContains('Lightweight cron access key field is required.');
     $this->assertSession()->pageTextNotContains('The configuration options have been saved.');
   }
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


16) modules/contrib/scheduler/tests/src/Functional/SchedulerFieldsDisplayTest.php:160

    ---------- begin diff ----------
@@ @@
     $edit = [
       'fields[publish_on][region]' => 'hidden',
     ];
-    $this->drupalPostForm('admin/structure/types/manage/' . $this->type . '/form-display', $edit, 'Save');
+    $this->drupalGet('admin/structure/types/manage/' . $this->type . '/form-display');
+    $this->submitForm($edit, 'Save');

     // Check that a scheduler vertical tab is displayed.
     $this->drupalGet('node/add/' . $this->type);
@@ @@
       'fields[publish_on][region]' => 'content',
       'fields[unpublish_on][region]' => 'hidden',
     ];
-    $this->drupalPostForm('admin/structure/types/manage/' . $this->type . '/form-display', $edit, 'Save');
+    $this->drupalGet('admin/structure/types/manage/' . $this->type . '/form-display');
+    $this->submitForm($edit, 'Save');

     // Check that a scheduler vertical tab is displayed.
     $this->drupalGet('node/add/' . $this->type);
@@ @@
       'fields[publish_on][region]' => 'hidden',
       'fields[unpublish_on][region]' => 'hidden',
     ];
-    $this->drupalPostForm('admin/structure/types/manage/' . $this->type . '/form-display', $edit, 'Save');
+    $this->drupalGet('admin/structure/types/manage/' . $this->type . '/form-display');
+    $this->submitForm($edit, 'Save');

     // Check that no vertical tab is displayed.
     $this->drupalGet('node/add/' . $this->type);
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


17) modules/contrib/scheduler/tests/src/Functional/SchedulerDevelGenerateTest.php:105

    ---------- begin diff ----------
@@ @@
     $generate_settings = [
       "edit-node-types-$this->type" => TRUE,
     ];
-    $this->drupalPostForm('admin/config/development/generate/content', $generate_settings, 'Generate');
+    $this->drupalGet('admin/config/development/generate/content');
+    $this->submitForm($generate_settings, 'Generate');
     // Display the full content list and the scheduled list. Calls to these
     // pages are for information and debug only. They could be removed.
     $this->drupalGet('admin/content');
@@ @@
       'scheduler_publishing' => 100,
       'scheduler_unpublishing' => 0,
     ];
-    $this->drupalPostForm('admin/config/development/generate/content', $generate_settings, 'Generate');
+    $this->drupalGet('admin/config/development/generate/content');
+    $this->submitForm($generate_settings, 'Generate');
     $this->drupalGet('admin/content');
     $this->drupalGet('admin/content/scheduled');

@@ @@
       'scheduler_publishing' => 0,
       'scheduler_unpublishing' => 100,
     ];
-    $this->drupalPostForm('admin/config/development/generate/content', $generate_settings, 'Generate');
+    $this->drupalGet('admin/config/development/generate/content');
+    $this->submitForm($generate_settings, 'Generate');
     $this->drupalGet('admin/content');
     $this->drupalGet('admin/content/scheduled');

@@ @@
       'scheduler_publishing' => 100,
       'scheduler_unpublishing' => 100,
     ];
-    $this->drupalPostForm('admin/config/development/generate/content', $generate_settings, 'Generate');
+    $this->drupalGet('admin/config/development/generate/content');
+    $this->submitForm($generate_settings, 'Generate');
     $this->drupalGet('admin/content');
     $this->drupalGet('admin/content/scheduled');
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


18) modules/contrib/scheduler/tests/src/Functional/SchedulerDefaultTimeTest.php:84

    ---------- begin diff ----------
@@ @@
       'publish_on[0][value][date]' => $this->publishTime->format('Y-m-d'),
       'unpublish_on[0][value][date]' => $this->unpublishTime->format('Y-m-d'),
     ];
+    $this->drupalGet('node/add/' . $this->type);
     // Create a node and check that the expected error messages are shown.
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->submitForm($edit, 'Save');
     // By default it is required to enter a time when scheduling content for
     // publishing and for unpublishing.
     $this->assertSession()->pageTextNotMatches('/' . $edit['title[0][value]'] . ' is scheduled to be published .* and unpublished .*/');
@@ @@

     // Allow the user to enter only a date with no time.
     $config->set('allow_date_only', TRUE)->save();
+    $this->drupalGet('node/add/' . $this->type);

     // Create a node and check that the validation messages are not shown.
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->pageTextNotContains($publish_validation_message);
     $this->assertSession()->pageTextNotContains($unpublish_validation_message);

@@ @@
       'publish_on[0][value][date]' => $this->publishTime->format('Y-m-d'),
       'unpublish_on[0][value][date]' => $this->unpublishTime->format('Y-m-d'),
     ];
+    $this->drupalGet('node/add/' . $type);
     // Create a node and check that the expected default time has been saved.
-    $this->drupalPostForm('node/add/' . $type, $edit, 'Save');
+    $this->submitForm($edit, 'Save');

     // Get the pattern of the 'long' default date format.
     $date_format_storage = $this->container->get('entity_type.manager')->getStorage('date_format');
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


19) modules/contrib/scheduler/tests/src/Functional/SchedulerBasicTest.php:51

    ---------- begin diff ----------
@@ @@
    * Schedules content, runs cron and asserts status.
    */
   protected function helpTestScheduler($edit) {
-    $this->drupalPostForm('node/add/' . $this->type, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->type);
+    $this->submitForm($edit, 'Save');
     // Verify that the node was created.
     $node = $this->drupalGetNodeByTitle($edit['title[0][value]']);
     $this->assertNotEmpty($node, sprintf('"%s" was created sucessfully.', $edit['title[0][value]']));
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


20) modules/contrib/scheduler/tests/src/Functional/SchedulerApiTest.php:67

    ---------- begin diff ----------
@@ @@
       'publish_on[0][value][date]' => date('Y-m-d', time() + 3),
       'publish_on[0][value][time]' => date('H:i:s', time() + 3),
     ];
-    $this->drupalPostForm('node/add/' . $this->customName, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->customName);
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->pageTextContains('is scheduled for publishing, but will not be published until approved.');

     // Create a node that is scheduled but not approved for publication. Then
@@ @@

     // Check that a node can be approved and published via edit form.
     $node = $this->createUnapprovedNode('publish_on');
-    $this->drupalPostForm('node/' . $node->id() . '/edit', ['field_approved_publishing[value]' => '1'], 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm(['field_approved_publishing[value]' => '1'], 'Save');
     $this->nodeStorage->resetCache([$node->id()]);
     $node = $this->nodeStorage->load($node->id());
     $this->assertTrue($node->isPublished(), 'An approved node with a date in the past is published immediately after saving via edit form.');
@@ @@
       'unpublish_on[0][value][date]' => date('Y-m-d', time() + 3),
       'unpublish_on[0][value][time]' => date('H:i:s', time() + 3),
     ];
-    $this->drupalPostForm('node/add/' . $this->customName, $edit, 'Save');
+    $this->drupalGet('node/add/' . $this->customName);
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->pageTextContains('is scheduled for unpublishing, but will not be unpublished until approved.');

     // Create a node that is scheduled but not approved for unpublication. Then
@@ @@
       'publish_on[0][value][date]' => date('Y-m-d', strtotime('-2 day', $this->requestTime)),
       'publish_on[0][value][time]' => date('H:i:s', strtotime('-2 day', $this->requestTime)),
     ];
-    $this->drupalPostForm('node/' . $node->id() . '/edit', $edit, 'Save');
+    $this->drupalGet('node/' . $node->id() . '/edit');
+    $this->submitForm($edit, 'Save');
     // Verify that the values have been altered as expected.
     $this->nodeStorage->resetCache([$node->id()]);
     $node = $this->nodeStorage->load($node->id());
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


21) modules/contrib/scheduler/tests/src/Functional/SchedulerAdminSettingsTest.php:29

    ---------- begin diff ----------
@@ @@
       'allow_date_only' => TRUE,
       'default_time' => '6:30',
     ];
-    $this->drupalPostForm('admin/config/content/scheduler', $settings, 'Save configuration');
+    $this->drupalGet('admin/config/content/scheduler');
+    $this->submitForm($settings, 'Save configuration');
     // Verify that the values have been saved correctly.
     $this->assertTrue($this->config('scheduler.settings')->get('allow_date_only'), 'The config setting for allow_date_only is stored correctly.');
     $this->assertEquals('06:30:00', $this->config('scheduler.settings')->get('default_time'), 'The config setting for default_time is stored correctly.');
@@ @@
       'allow_date_only' => TRUE,
       'default_time' => '123',
     ];
-    $this->drupalPostForm('admin/config/content/scheduler', $settings, 'Save configuration');
+    $this->drupalGet('admin/config/content/scheduler');
+    $this->submitForm($settings, 'Save configuration');
     // Verify that the value has not been saved and an error is displayed.
     $this->assertEquals('06:30:00', $this->config('scheduler.settings')->get('default_time'), 'The config setting for default_time has not changed.');
     $this->assertSession()->pageTextContains('The default time should be in the format HH:MM:SS');
@@ @@
     $settings = [
       'hide_seconds' => TRUE,
     ];
-    $this->drupalPostForm('admin/config/content/scheduler', $settings, 'Save configuration');
+    $this->drupalGet('admin/config/content/scheduler');
+    $this->submitForm($settings, 'Save configuration');
     // Verify that the hide seconds option is saved and the default time is
     // stored in HH:MM format with no seconds.
     $this->assertTrue($this->config('scheduler.settings')->get('hide_seconds'), 'The config setting for hide_seconds is stored correctly.');
@@ @@
     $settings = [
       'default_time' => '456',
     ];
-    $this->drupalPostForm('admin/config/content/scheduler', $settings, 'Save configuration');
+    $this->drupalGet('admin/config/content/scheduler');
+    $this->submitForm($settings, 'Save configuration');
     // Verify that the value has not been saved, and that an error message is
     // displayed showing the correct format HH:MM not HH:MM:SS.
     $this->assertEquals('06:30', $this->config('scheduler.settings')->get('default_time'), 'The config setting for default_time has not changed.');
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 21 files have been changed by Rector                                      

