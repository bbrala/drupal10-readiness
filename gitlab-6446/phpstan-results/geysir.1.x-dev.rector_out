modules/contrib/geysir/geysir.api.php
modules/contrib/geysir/geysir.module
modules/contrib/geysir/geysir.theme.inc
modules/contrib/geysir/src/Ajax/GeysirCloseModalDialogCommand.php
modules/contrib/geysir/src/Ajax/GeysirOpenModalDialogCommand.php
modules/contrib/geysir/src/Ajax/GeysirReattachBehaviors.php
modules/contrib/geysir/src/Controller/GeysirControllerBase.php
modules/contrib/geysir/src/Controller/GeysirCutPasteController.php
modules/contrib/geysir/src/Controller/GeysirModalController.php
modules/contrib/geysir/src/Form/GeysirFormEntityRevisionTrait.php
modules/contrib/geysir/src/Form/GeysirModalParagraphAddForm.php
modules/contrib/geysir/src/Form/GeysirModalParagraphAddSelectTypeForm.php
modules/contrib/geysir/src/Form/GeysirModalParagraphDeleteForm.php
modules/contrib/geysir/src/Form/GeysirModalParagraphForm.php
modules/contrib/geysir/src/Form/GeysirParagraphDeleteForm.php
modules/contrib/geysir/src/Form/GeysirParagraphForm.php

2 files with changes
====================

1) modules/contrib/geysir/src/Form/GeysirModalParagraphAddSelectTypeForm.php:44

    ---------- begin diff ----------
@@ @@
     $bundles = $this->getAllowedBundles($bundles);
     $paragraphs_type_storage = \Drupal::entityTypeManager()->getStorage('paragraphs_type');

-    $default_icon = drupal_get_path('module', 'geysir') . '/images/geysir-puzzle.svg';
+    $default_icon = \Drupal::service('extension.list.module')->getPath('geysir') . '/images/geysir-puzzle.svg';

     foreach ($bundles as $bundle => $label) {
       $icon_url = $default_icon;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/geysir/src/Controller/GeysirModalController.php:26

    ---------- begin diff ----------
@@ @@
         ]);
         $form = $this->entityFormBuilder()->getForm($newParagraph, 'geysir_modal_add', []);

-        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
       }
       else {
         $bundle_fields = $this->entityFieldManager->getFieldDefinitions($parent_entity_type, $entity->bundle());
@@ @@
         ];

         $form = \Drupal::formBuilder()->getForm('\Drupal\geysir\Form\GeysirModalParagraphAddSelectTypeForm', $routeParams, $bundles);
-        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
       }
       return $response;
     }
@@ @@
         ]);
         $form = $this->entityFormBuilder()->getForm($newParagraph, 'geysir_modal_add', []);

-        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
       }
       else {

@@ @@
         ];

         $form = \Drupal::formBuilder()->getForm('\Drupal\geysir\Form\GeysirModalParagraphAddSelectTypeForm', $routeParams, $bundles);
-        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
       }

       return $response;
@@ @@
       $response = new AjaxResponse();
       $form = $this->entityFormBuilder()->getForm($paragraph_revision, 'geysir_modal_edit', []);
       $paragraph_title = $this->getParagraphTitle($parent_entity_type, $parent_entity_bundle, $field);
-      $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Edit @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+      $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Edit @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));

       return $response;
     }
@@ @@
       $translated_paragraph = $paragraph->addTranslation($langcode, $paragraph->toArray());
       $form = $this->entityFormBuilder()->getForm($translated_paragraph, 'geysir_modal_edit', []);
       $paragraph_title = $this->getParagraphTitle($parent_entity_type, $parent_entity_bundle, $field);
-      $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Translate @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+      $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Translate @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));

       return $response;
     }
@@ @@

       $response = new AjaxResponse();
       $paragraph_title = $this->getParagraphTitle($parent_entity_type, $parent_entity_bundle, $field);
-      $response->addCommand(new OpenModalDialogCommand($this->t('Delete @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form), $options));
+      $response->addCommand(new OpenModalDialogCommand($this->t('Delete @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form), $options));
       return $response;
     }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

