diff --git a/src/PhotoShelterService.php b/src/PhotoShelterService.php
index d0d8f7b..2abdd54 100644
--- a/src/PhotoShelterService.php
+++ b/src/PhotoShelterService.php
@@ -277,7 +277,7 @@ class PhotoShelterService {
       'title' => t('galleries import'),
       'operations' => $operations,
       'finished' => 'photoshelter_sync_finished',
-      'file' => drupal_get_path('module', 'photoshelter') . '/photoshelter.batch.inc',
+      'file' => \Drupal::service('extension.list.module')->getPath('photoshelter') . '/photoshelter.batch.inc',
     );
     if ($update) {
       \Drupal::logger('photoshelter')->notice(t('Start photoshelter synchronization of new additions'));
@@ -780,7 +780,7 @@ class PhotoShelterService {
         'title' => t('photos import'),
         'operations' => $operations,
         'finished' => 'photoshelter_sync_photo_finished',
-        'file' => drupal_get_path('module', 'photoshelter') . '/photoshelter.batch.inc',
+        'file' => \Drupal::service('extension.list.module')->getPath('photoshelter') . '/photoshelter.batch.inc',
       );
 
       batch_set($batch);
