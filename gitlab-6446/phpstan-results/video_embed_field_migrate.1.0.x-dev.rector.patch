diff --git a/src/VideoEmbedFieldMigrate.php b/src/VideoEmbedFieldMigrate.php
index 4f36960..c45123e 100644
--- a/src/VideoEmbedFieldMigrate.php
+++ b/src/VideoEmbedFieldMigrate.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\video_embed_field_migrate;
 
+use Symfony\Component\Yaml\Yaml;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityDisplayRepository;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ -166,7 +167,7 @@ class VideoEmbedFieldMigrate {
       ])
       ->save();
 
-    $standardPath = drupal_get_path('profile', 'standard');
+    $standardPath = \Drupal::service('extension.list.profile')->getPath('standard');
     $configs = [
       'core.entity_form_display.media.remote_video.default' => '/config/optional/core.entity_form_display.media.remote_video.default.yml',
       'core.entity_view_display.media.remote_video.default' => '/config/optional/core.entity_view_display.media.remote_video.default.yml'
@@ -179,7 +180,7 @@ class VideoEmbedFieldMigrate {
       $fileContents = file_get_contents($standardPath . $path);
       $editable = \Drupal::configFactory()->getEditable($name);
       if ($editable->isNew()) {
-        $config = \Symfony\Component\Yaml\Yaml::parse($fileContents);
+        $config = Yaml::parse($fileContents);
         $config['uuid'] = array_pop($uuids);
         $editable->setData($config);
         $editable->save();
