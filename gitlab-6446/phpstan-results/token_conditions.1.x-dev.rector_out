modules/contrib/token_conditions/src/Plugin/Condition/TokenMatcher.php
modules/contrib/token_conditions/src/Tests/TokenMatcherTest.php
modules/contrib/token_conditions/token_conditions.module

1 file with changes
===================

1) modules/contrib/token_conditions/src/Tests/TokenMatcherTest.php:51

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Get the token service.
     $this->tokenService = \Drupal::token();
@@ @@
     $default_theme = $this->config('system.theme')->get('default');
     $this->drupalGet('admin/structure/block/add/system_powered_by_block' . '/' . $default_theme);
     // Check for token matcher field.
-    $this->assertField('visibility[token_matcher][token_match]', 'Token matcher field is available.');
+    $this->assertSession()->fieldExists('visibility[token_matcher][token_match]', 'Token matcher field is available.');
     // Check for token matcher field.
-    $this->assertField('visibility[token_matcher][value_match]', 'Token value field is available.');
+    $this->assertSession()->fieldExists('visibility[token_matcher][value_match]', 'Token value field is available.');

     // Enable a standard block and set the visibility setting for node title.
     $edit = [
@@ @@
       'id' => strtolower($this->randomMachineName(8)),
       'region' => 'sidebar_first',
     ];
-    $this->drupalPostForm('admin/structure/block/add/system_powered_by_block' . '/' . $default_theme, $edit, t('Save block'));
+    $this->drupalGet('admin/structure/block/add/system_powered_by_block' . '/' . $default_theme);
+    $this->submitForm($edit, t('Save block'));

     $this->drupalGet('node/' . $this->node1->id());
-    $this->assertText('Powered by Drupal', 'The block appears on the page.');
+    $this->assertSession()->pageTextContains('Powered by Drupal');

     $this->drupalGet('node/' . $this->node2->id());
-    $this->assertNoText('Powered by Drupal', 'The block does not appear on the page.');
+    $this->assertSession()->pageTextNotContains('Powered by Drupal');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertFieldRector
 * AssertNoTextRector
 * AssertTextRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

