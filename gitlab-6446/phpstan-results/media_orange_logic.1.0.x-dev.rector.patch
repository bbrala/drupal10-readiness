diff --git a/modules/orange_logic_media_library/orange_logic_media_library.module b/modules/orange_logic_media_library/orange_logic_media_library.module
index 7b201e4..39246fb 100644
--- a/modules/orange_logic_media_library/orange_logic_media_library.module
+++ b/modules/orange_logic_media_library/orange_logic_media_library.module
@@ -1,14 +1,15 @@
 <?php
+
+use Drupal\Core\Form\FormStateInterface;
 /**
  * @file
  * Contains orange_logic_media_library module.
  */
-
 /**
  * Implements hook_form_alter().
  */
-function orange_logic_media_library_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
+function orange_logic_media_library_form_alter(&$form, FormStateInterface $form_state, $form_id) {
   if ($form_id === 'media_library_extend_pane_form') {
     $form['content']['pager'] = NULL;
   }
-}
\ No newline at end of file
+}
diff --git a/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryManager.php b/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryManager.php
index 2d133c0..0029f91 100644
--- a/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryManager.php
+++ b/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryManager.php
@@ -85,7 +85,7 @@ class OrangeLogicMediaLibraryManager implements OrangeLogicMediaLibraryManagerIn
 
       // Create the file:
       $asset = file_get_contents($asset_source);
-      $file = file_save_data($asset, 'public://' . $asset_filename, FileSystemInterface::EXISTS_REPLACE);
+      $file = \Drupal::service('file.repository')->writeData($asset, 'public://' . $asset_filename, FileSystemInterface::EXISTS_REPLACE);
 
       return [
         'target_id' => $file->id(),
diff --git a/modules/orange_logic_media_library/src/Plugin/MediaLibrarySource/OrangeLogicMediaLibrarySource.php b/modules/orange_logic_media_library/src/Plugin/MediaLibrarySource/OrangeLogicMediaLibrarySource.php
index cb38f67..944f0a5 100644
--- a/modules/orange_logic_media_library/src/Plugin/MediaLibrarySource/OrangeLogicMediaLibrarySource.php
+++ b/modules/orange_logic_media_library/src/Plugin/MediaLibrarySource/OrangeLogicMediaLibrarySource.php
@@ -355,7 +355,7 @@ class OrangeLogicMediaLibrarySource extends MediaLibrarySourceBase {
           '#type' => 'html_tag',
           '#tag' => 'img',
           '#attributes' => [
-            'src' => file_create_url($file->getFileUri()),
+            'src' => \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri()),
             'alt' => $image->getName(),
             'title' => $image->getName(),
           ],
diff --git a/src/Plugin/EntityBrowser/Widget/OrangeLogicMediaBrowserWidget.php b/src/Plugin/EntityBrowser/Widget/OrangeLogicMediaBrowserWidget.php
index 626cd92..29dde87 100644
--- a/src/Plugin/EntityBrowser/Widget/OrangeLogicMediaBrowserWidget.php
+++ b/src/Plugin/EntityBrowser/Widget/OrangeLogicMediaBrowserWidget.php
@@ -516,7 +516,7 @@ class OrangeLogicMediaBrowserWidget extends WidgetBase {
 
       // Create the file:
       $asset = file_get_contents($asset_source);
-      $file = file_save_data($asset, 'public://' . $asset_filename, FileSystemInterface::EXISTS_REPLACE);
+      $file = \Drupal::service('file.repository')->writeData($asset, 'public://' . $asset_filename, FileSystemInterface::EXISTS_REPLACE);
 
       return ['target_id' => $file->id()];
     }
diff --git a/src/Plugin/Field/FieldFormatter/OrangeLogicVideoFormatter.php b/src/Plugin/Field/FieldFormatter/OrangeLogicVideoFormatter.php
index 90ef621..12fd74d 100644
--- a/src/Plugin/Field/FieldFormatter/OrangeLogicVideoFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/OrangeLogicVideoFormatter.php
@@ -234,7 +234,7 @@ class OrangeLogicVideoFormatter extends FormatterBase {
       $image_style = ImageStyle::load($this->getSetting('poster_image_style'));
 
       if (!empty($image_style) && $image_style->supportsUri($poster_uri)) {
-        $poster_url = file_url_transform_relative($image_style->buildUrl($poster_uri));
+        $poster_url = \Drupal::service('file_url_generator')->transformRelative($image_style->buildUrl($poster_uri));
       }
     }
 
diff --git a/src/Plugin/media/Source/OrangeLogicMediaSource.php b/src/Plugin/media/Source/OrangeLogicMediaSource.php
index eab91f5..6c57890 100644
--- a/src/Plugin/media/Source/OrangeLogicMediaSource.php
+++ b/src/Plugin/media/Source/OrangeLogicMediaSource.php
@@ -173,7 +173,7 @@ class OrangeLogicMediaSource extends MediaSourceBase {
           $asset = file_get_contents($thumbnail_url);
           $file_name = $this->olResultRenderer->getAssetFileName($source_field, $thumbnail_url);
           $destination = $this->thumbsDirectory . '/' . $file_name;
-          $file = file_save_data($asset, $destination, FileSystemInterface::EXISTS_RENAME);
+          $file = \Drupal::service('file.repository')->writeData($asset, $destination, FileSystemInterface::EXISTS_RENAME);
 
           return $file instanceof FileInterface ? $file->getFileUri() : parent::getMetadata($media, $name);
         }
