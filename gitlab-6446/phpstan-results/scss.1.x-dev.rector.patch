diff --git a/scss.info.yml b/scss.info.yml
index 2a1924f..0bb9bee 100644
--- a/scss.info.yml
+++ b/scss.info.yml
@@ -1,6 +1,5 @@
 name: SCSS Compiler
 description: Compiles theme SCSS/SASS files.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 type: module
 configure: scss.admin
diff --git a/src/Form/ScssSettingsForm.php b/src/Form/ScssSettingsForm.php
index 345e08e..efe0b0f 100644
--- a/src/Form/ScssSettingsForm.php
+++ b/src/Form/ScssSettingsForm.php
@@ -169,7 +169,7 @@ class ScssSettingsForm extends ConfigFormBase {
     ];
 
     $theme = $config->get('theme_to_watch');
-    $theme_directory = drupal_get_path('theme', $theme);
+    $theme_directory = \Drupal::service('extension.list.theme')->getPath($theme);
 
     $form['additional_import_paths'] = [
       '#title' => $this->t('Additional import paths'),
diff --git a/src/Services/ScssCompiler.php b/src/Services/ScssCompiler.php
index 49fd816..8c6b8cc 100644
--- a/src/Services/ScssCompiler.php
+++ b/src/Services/ScssCompiler.php
@@ -157,7 +157,7 @@ class ScssCompiler implements ScssCompilerInterface {
     }
 
     $directory_list = [
-      drupal_get_path('theme', $this->settings->get('theme_to_watch')),
+      \Drupal::service('extension.list.theme')->getPath($this->settings->get('theme_to_watch')),
     ];
 
     $additional_paths = $this->settings->get('additional_paths_to_watch');
diff --git a/src/Services/ScssMonitor.php b/src/Services/ScssMonitor.php
index 70df313..c0dab14 100644
--- a/src/Services/ScssMonitor.php
+++ b/src/Services/ScssMonitor.php
@@ -3,10 +3,10 @@
 namespace Drupal\scss\Services;
 
 // This is the interface we are going to implement.
+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpKernel\KernelEvents;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 
 /**
  * Listens to page loads and compiles if needed.
@@ -55,10 +55,10 @@ class ScssMonitor implements EventSubscriberInterface {
   /**
    * The function which runs on each page load to check if SCSS is active.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The event to which to respond. Not used.
    */
-  public function compileIfNeeded(GetResponseEvent $event) {
+  public function compileIfNeeded(RequestEvent $event) {
 
     // Don't compile if not logged in
     if (!\Drupal::currentUser()->isAuthenticated()) {
