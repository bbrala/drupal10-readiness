diff --git a/acquia_cms_common.module b/acquia_cms_common.module
index c7a958b..698f566 100644
--- a/acquia_cms_common.module
+++ b/acquia_cms_common.module
@@ -141,8 +141,8 @@ function acquia_cms_common_ckeditor_css_alter(&$css, $editor) {
         $wysiwyg_cache_token = \Drupal::keyValue('cohesion.wysiwyg_cache_token');
         $wysiwyg_cache_buster = $wysiwyg_cache_token->get('cache_token') ? '?_t=' . $wysiwyg_cache_token->get('cache_token') : '';
         // Reset and ckeditor specific styles.
-        $css[] = drupal_get_path('module', 'cohesion') . '/css/reset.css' . $wysiwyg_cache_buster;
-        $css[] = drupal_get_path('module', 'cohesion') . '/css/plugin-styles.css' . $wysiwyg_cache_buster;
+        $css[] = \Drupal::service('extension.list.module')->getPath('cohesion') . '/css/reset.css' . $wysiwyg_cache_buster;
+        $css[] = \Drupal::service('extension.list.module')->getPath('cohesion') . '/css/plugin-styles.css' . $wysiwyg_cache_buster;
 
         $default_theme_id = \Drupal::service('theme_handler')->getDefault();
 
@@ -152,12 +152,12 @@ function acquia_cms_common_ckeditor_css_alter(&$css, $editor) {
           $css_theme_filename = \Drupal::service('cohesion.local_files_manager')
             ->getStyleSheetFilename('theme', $default_theme_id, TRUE);
           // Generated stylsheets.
-          $css[] = file_create_url($css_base_filename) . $wysiwyg_cache_buster;
-          $css[] = file_create_url($css_theme_filename) . $wysiwyg_cache_buster;
+          $css[] = \Drupal::service('file_url_generator')->generateAbsoluteString($css_base_filename) . $wysiwyg_cache_buster;
+          $css[] = \Drupal::service('file_url_generator')->generateAbsoluteString($css_theme_filename) . $wysiwyg_cache_buster;
 
         }
         // Add the body reset stylesheet.
-        $css[] = drupal_get_path('module', 'cohesion') . '/css/cohesion-body-reset.css' . $wysiwyg_cache_buster;
+        $css[] = \Drupal::service('extension.list.module')->getPath('cohesion') . '/css/cohesion-body-reset.css' . $wysiwyg_cache_buster;
       }
     }
     catch (\Exception $e) {
diff --git a/src/Commands/AcmsConfigImportCommands.php b/src/Commands/AcmsConfigImportCommands.php
index 8b27c89..a6a2943 100644
--- a/src/Commands/AcmsConfigImportCommands.php
+++ b/src/Commands/AcmsConfigImportCommands.php
@@ -242,7 +242,7 @@ final class AcmsConfigImportCommands extends DrushCommands {
     $acms_modules = $this->getAcmsModules();
     $acms_filtered_modules = [];
     foreach ($acms_modules as $module) {
-      $dir = drupal_get_path('module', $module);
+      $dir = \Drupal::service('extension.list.module')->getPath($module);
       $install = "$dir/config/install";
       $optional = "$dir/config/optional";
       if (is_dir($install) || is_dir($optional)) {
@@ -371,8 +371,8 @@ final class AcmsConfigImportCommands extends DrushCommands {
    */
   private function getConfigFiles(string $module): array {
     $config_files = [];
-    $source_install = drupal_get_path('module', $module) . '/config/install';
-    $source_optional = drupal_get_path('module', $module) . '/config/optional';
+    $source_install = \Drupal::service('extension.list.module')->getPath($module) . '/config/install';
+    $source_optional = \Drupal::service('extension.list.module')->getPath($module) . '/config/optional';
 
     // Get optional configuration list for specified module.
     $source_storage_dir = ConfigCommands::getDirectory(NULL, $source_optional);
@@ -427,7 +427,7 @@ final class AcmsConfigImportCommands extends DrushCommands {
    *   The array of site studio package.
    */
   private function getSiteStudioPackage(string $module): array {
-    $dir = drupal_get_path('module', $module);
+    $dir = \Drupal::service('extension.list.module')->getPath($module);
     $list = "$dir/config/dx8/packages.yml";
     if (file_exists($list)) {
       $list = file_get_contents($list);
diff --git a/tests/src/Functional/ContentTypeTestBase.php b/tests/src/Functional/ContentTypeTestBase.php
index f792664..3c161d7 100644
--- a/tests/src/Functional/ContentTypeTestBase.php
+++ b/tests/src/Functional/ContentTypeTestBase.php
@@ -443,7 +443,7 @@ abstract class ContentTypeTestBase extends ContentModelTestBase {
 
     $field->setDefaultValue($media->id())->save();
 
-    return file_create_url($file->getFileUri());
+    return \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
   }
 
   /**
