diff --git a/src/FileManagement.php b/src/FileManagement.php
index 31ed095..c335ba6 100644
--- a/src/FileManagement.php
+++ b/src/FileManagement.php
@@ -25,7 +25,7 @@ class FileManagement implements FileManagementInterface {
     // Build a link to the file.
     $link = Link::fromTextAndUrl(
       $file->getFilename(),
-      Url::fromUri(file_create_url($file->getFileUri()))
+      \Drupal::service('file_url_generator')->generate($file->getFileUri())
     )->toRenderable();
     $link = \Drupal::service('renderer')->render($link);
 
