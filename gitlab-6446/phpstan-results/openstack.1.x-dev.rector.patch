diff --git a/openstack.install b/openstack.install
index 0d62f11..ca35015 100644
--- a/openstack.install
+++ b/openstack.install
@@ -511,7 +511,7 @@ function openstack_update_8222() {
  */
 function openstack_update_8223() {
 
-  $config_path = realpath(drupal_get_path('module', 'openstack')) . '/config/install';
+  $config_path = realpath(\Drupal::service('extension.list.module')->getPath('openstack')) . '/config/install';
 
   $filename = $config_path . '/openstack.settings.yml';
   $file = file_get_contents($filename);
diff --git a/tests/src/Functional/OpenStack/OpenStackFloatingIpTest.php b/tests/src/Functional/OpenStack/OpenStackFloatingIpTest.php
index 2555566..e6c23ae 100644
--- a/tests/src/Functional/OpenStack/OpenStackFloatingIpTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackFloatingIpTest.php
@@ -76,10 +76,9 @@ class OpenStackFloatingIpTest extends OpenStackTestBase {
       $this->reloadMockData();
       $domain = $this->getRandomDomain();
       $this->updateDomainMockData($domain);
+      $this->drupalGet("/clouds/openstack/$cloud_context/floating_ip/add");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/floating_ip/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
 
       $add_mock_data = $this->getMockDataFromConfig();
       $add_mock_public_ip = $add_mock_data['AllocateAddress']['PublicIp'];
@@ -120,10 +119,9 @@ class OpenStackFloatingIpTest extends OpenStackTestBase {
     for ($i = 0, $num = 1; $i < self::OPENSTACK_FLOATING_IP_REPEAT_COUNT; $i++, $num++) {
 
       unset($edit[$i]['domain']);
+      $this->drupalGet("/clouds/openstack/$cloud_context/floating_ip/$num/edit");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/floating_ip/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
 
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Floating IP', '%label' => $edit[$i]['name']];
@@ -144,9 +142,8 @@ class OpenStackFloatingIpTest extends OpenStackTestBase {
 
       $this->drupalGet("/clouds/openstack/$cloud_context/floating_ip/$num/delete");
       $this->assertNoErrorMessage();
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/floating_ip/$num/delete",
-                            [],
-                            $this->t('Delete'));
+      $this->drupalGet("/clouds/openstack/$cloud_context/floating_ip/$num/delete");
+      $this->submitForm([], $this->t('Delete'));
 
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Floating IP', '@label' => $edit[$i]['name']];
@@ -211,13 +208,10 @@ class OpenStackFloatingIpTest extends OpenStackTestBase {
 
         $data[$checkbox->getAttribute('name')] = $checkbox->getAttribute('value');
       }
+      $this->drupalGet("/clouds/openstack/$cloud_context/floating_ip");
 
       // Confirm.
-      $this->drupalPostForm(
-        "/clouds/openstack/$cloud_context/floating_ip",
-        $data,
-        $this->t('Apply to selected items')
-      );
+      $this->submitForm($data, $this->t('Apply to selected items'));
       $this->assertNoErrorMessage();
 
       // Al lower case of Floating IP is correct since the original @label
@@ -233,13 +227,10 @@ class OpenStackFloatingIpTest extends OpenStackTestBase {
       foreach ($floating_ips ?: [] as $floating_ip) {
         $this->assertSession()->pageTextContains($floating_ip['Name']);
       }
+      $this->drupalGet("/clouds/openstack/$cloud_context/floating_ip/delete_multiple");
 
       // Delete.
-      $this->drupalPostForm(
-        "/clouds/openstack/$cloud_context/floating_ip/delete_multiple",
-        [],
-        $this->t('Delete')
-      );
+      $this->submitForm([], $this->t('Delete'));
       $this->assertNoErrorMessage();
 
       if ($floating_ips_count === 1) {
diff --git a/tests/src/Functional/OpenStack/OpenStackImageTest.php b/tests/src/Functional/OpenStack/OpenStackImageTest.php
index 62329a6..498b10e 100644
--- a/tests/src/Functional/OpenStack/OpenStackImageTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackImageTest.php
@@ -93,9 +93,8 @@ class OpenStackImageTest extends OpenStackTestBase {
       // Need to process addImageMockeData before saving the form data since
       // ImageCreateForm::save uses createImage method.
       $images[] = $this->addImageMockData($add[$i]['name'], $add[$i]['description'], $cloud_context);
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/image/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->drupalGet("/clouds/openstack/$cloud_context/image/add");
+      $this->submitForm($add[$i], $this->t('Save'));
 
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Image', '%label' => $add[$i]['name']];
@@ -132,10 +131,9 @@ class OpenStackImageTest extends OpenStackTestBase {
     for ($i = 0, $num = 1; $i < self::OPENSTACK_IMAGE_REPEAT_COUNT; $i++, $num++) {
 
       unset($edit[$i]['instance_id']);
+      $this->drupalGet("/clouds/openstack/$cloud_context/image/$num/edit");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/image/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains($add[$i]['name']);
 
@@ -402,9 +400,8 @@ class OpenStackImageTest extends OpenStackTestBase {
   private function deleteImage($cloud_context, $num, $name): void {
     $this->drupalGet("/clouds/openstack/$cloud_context/image/$num/delete");
     $this->assertNoErrorMessage();
-    $this->drupalPostForm("/clouds/openstack/$cloud_context/image/$num/delete",
-                          [],
-                          $this->t('Delete'));
+    $this->drupalGet("/clouds/openstack/$cloud_context/image/$num/delete");
+    $this->submitForm([], $this->t('Delete'));
 
     $this->assertNoErrorMessage();
     $t_args = ['@type' => 'Image', '@label' => $name];
diff --git a/tests/src/Functional/OpenStack/OpenStackInstanceExtraTest.php b/tests/src/Functional/OpenStack/OpenStackInstanceExtraTest.php
index 8dc3931..0983961 100644
--- a/tests/src/Functional/OpenStack/OpenStackInstanceExtraTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackInstanceExtraTest.php
@@ -128,9 +128,8 @@ class OpenStackInstanceExtraTest extends OpenStackTestBase {
 
       // Launch a stopped Instance.
       $this->addInstanceMockData(OpenStackInstanceTest::class, $add[$i]['name'], $add[$i]['key_pair_name'], $regions, 'stopped');
-      $this->drupalPostForm("/clouds/design/server_template/$cloud_context/$num/launch",
-        [],
-        $this->t('Launch'));
+      $this->drupalGet("/clouds/design/server_template/$cloud_context/$num/launch");
+      $this->submitForm([], $this->t('Launch'));
 
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains('stopped');
@@ -153,10 +152,9 @@ class OpenStackInstanceExtraTest extends OpenStackTestBase {
       $security_groups = $this->createSecurityGroupRandomTestFormData();
       $this->updateDescribeSecurityGroupsMockData($security_groups);
       $edit[$i]['security_groups[]'] = array_column($security_groups, 'GroupName');
+      $this->drupalGet("/clouds/openstack/$cloud_context/instance/$num/edit");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/instance/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
 
       $this->updateInstanceMockData(OpenStackInstanceTest::class, $i, $edit[$i]['name'], $regions);
 
@@ -205,10 +203,8 @@ class OpenStackInstanceExtraTest extends OpenStackTestBase {
     for ($i = 0, $num = 1; $i < $max_test_repeat_count; $i++, $num++) {
 
       $terminate_value = $terminate_allowed_values[array_rand($terminate_allowed_values)];
-      $this->drupalPostForm('admin/config/services/cloud/openstack/settings',
-        ['openstack_instance_terminate' => $terminate_value],
-        $this->t('Save configuration')
-      );
+      $this->drupalGet('admin/config/services/cloud/openstack/settings');
+      $this->submitForm(['openstack_instance_terminate' => $terminate_value], $this->t('Save configuration'));
       $this->assertNoErrorMessage();
 
       // Create image.
diff --git a/tests/src/Functional/OpenStack/OpenStackInstanceTest.php b/tests/src/Functional/OpenStack/OpenStackInstanceTest.php
index 4dc9d96..9ee6b9e 100644
--- a/tests/src/Functional/OpenStack/OpenStackInstanceTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackInstanceTest.php
@@ -115,9 +115,8 @@ class OpenStackInstanceTest extends OpenStackTestBase {
       $this->assertSession()->pageTextContains($server_template->name->value);
 
       $this->addInstanceMockData(OpenStackInstanceTest::class, $add[$i]['name'], $add[$i]['key_pair_name'], $regions);
-      $this->drupalPostForm("/clouds/design/server_template/${cloud_context}/{$server_template->id()}/launch",
-        [],
-        $this->t('Launch'));
+      $this->drupalGet("/clouds/design/server_template/${cloud_context}/{$server_template->id()}/launch");
+      $this->submitForm([], $this->t('Launch'));
 
       $this->assertNoErrorMessage();
 
@@ -163,10 +162,9 @@ class OpenStackInstanceTest extends OpenStackTestBase {
       $edit[$i]['termination_timestamp[0][value][date]'] = date('Y-m-d', time() + 365.25 * 3);
       $edit[$i]['termination_timestamp[0][value][time]'] = '00:00:00';
       $edit[$i]['termination_protection'] = '1';
+      $this->drupalGet("/clouds/openstack/$cloud_context/instance/$num/edit");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/instance/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
 
       // Termination validation.
       $this->assertSession()->pageTextContains(
@@ -181,10 +179,9 @@ class OpenStackInstanceTest extends OpenStackTestBase {
         $edit[$i]['termination_timestamp[0][value][time]'],
         $edit[$i]['termination_protection']
       );
+      $this->drupalGet("/clouds/openstack/$cloud_context/instance/$num/edit");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/instance/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
 
       $this->updateInstanceMockData(OpenStackInstanceTest::class, $i, $edit[$i]['name'], $regions);
 
@@ -207,10 +204,9 @@ class OpenStackInstanceTest extends OpenStackTestBase {
       $this->assertNoErrorMessage();
 
       $this->deleteFirstInstanceMockData();
+      $this->drupalGet("/clouds/openstack/$cloud_context/instance/$num/terminate");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/instance/$num/terminate",
-                            [],
-                            $this->t('Delete | Terminate'));
+      $this->submitForm([], $this->t('Delete | Terminate'));
 
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains($edit[$i]['name']);
@@ -258,9 +254,8 @@ class OpenStackInstanceTest extends OpenStackTestBase {
 
     // Launch a new Instance.
     $this->addInstanceMockData(OpenStackInstanceTest::class, $add[0]['name'], $add[0]['key_pair_name'], $regions);
-    $this->drupalPostForm("/clouds/design/server_template/$cloud_context/1/launch",
-      [],
-      $this->t('Launch'));
+    $this->drupalGet("/clouds/design/server_template/$cloud_context/1/launch");
+    $this->submitForm([], $this->t('Launch'));
     $this->assertNoErrorMessage();
 
     // Change security groups.
@@ -330,14 +325,12 @@ class OpenStackInstanceTest extends OpenStackTestBase {
       $this->drupalGet("/clouds/design/server_template/${cloud_context}");
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains($server_template->name->value);
+      $this->drupalGet("/clouds/design/server_template/$cloud_context/$num/launch");
 
-      $this->drupalPostForm("/clouds/design/server_template/$cloud_context/$num/launch",
-        [
-          'terminate' => '1',
-          'termination_protection' => '1',
-        ],
-        $this->t('Launch')
-      );
+      $this->submitForm([
+        'terminate' => '1',
+        'termination_protection' => '1',
+      ], $this->t('Launch'));
 
       $this->assertSession()->pageTextContains(
         $this->t('"@name1" and "@name2" can\'t be selected both. Please unselect one of them.',
diff --git a/tests/src/Functional/OpenStack/OpenStackKeyPairTest.php b/tests/src/Functional/OpenStack/OpenStackKeyPairTest.php
index 63b99dc..50c9250 100644
--- a/tests/src/Functional/OpenStack/OpenStackKeyPairTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackKeyPairTest.php
@@ -64,10 +64,9 @@ class OpenStackKeyPairTest extends OpenStackTestBase {
     $add = $this->createKeyPairTestFormData(self::OPENSTACK_KEY_PAIR_REPEAT_COUNT);
     for ($i = 0; $i < self::OPENSTACK_KEY_PAIR_REPEAT_COUNT; $i++) {
       $this->reloadMockData();
+      $this->drupalGet("/clouds/openstack/$cloud_context/key_pair/add");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/key_pair/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
 
       $t_args = ['@type' => 'Key Pair', '%label' => $add[$i]['key_pair_name']];
       $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been created.', $t_args)));
@@ -98,9 +97,8 @@ class OpenStackKeyPairTest extends OpenStackTestBase {
 
       $this->drupalGet("/clouds/openstack/$cloud_context/key_pair/$num/delete");
       $this->assertNoErrorMessage();
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/key_pair/$num/delete",
-                            [],
-                            $this->t('Delete'));
+      $this->drupalGet("/clouds/openstack/$cloud_context/key_pair/$num/delete");
+      $this->submitForm([], $this->t('Delete'));
 
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains($add[$i]['key_pair_name']);
diff --git a/tests/src/Functional/OpenStack/OpenStackNetworkInterfaceTest.php b/tests/src/Functional/OpenStack/OpenStackNetworkInterfaceTest.php
index adc94f3..ff04029 100644
--- a/tests/src/Functional/OpenStack/OpenStackNetworkInterfaceTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackNetworkInterfaceTest.php
@@ -75,10 +75,9 @@ class OpenStackNetworkInterfaceTest extends OpenStackTestBase {
       $add[$i]['subnet_id'] = $subnets[$subnet_index]['SubnetId'];
       $security_group_index = array_rand($security_groups);
       $add[$i]['security_groups[]'] = $security_groups[$security_group_index]['GroupId'];
+      $this->drupalGet("/clouds/openstack/$cloud_context/network_interface/add");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/network_interface/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Network Interface', '%label' => $add[$i]['name']];
       $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been created.', $t_args)));
@@ -110,10 +109,9 @@ class OpenStackNetworkInterfaceTest extends OpenStackTestBase {
         $edit[$i]['security_groups[]'],
         $edit[$i]['primary_private_ip']
       );
+      $this->drupalGet("/clouds/openstack/$cloud_context/network_interface/$num/edit");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/network_interface/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Network Interface', '%label' => $edit[$i]['name']];
       $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been updated.', $t_args)));
@@ -140,9 +138,8 @@ class OpenStackNetworkInterfaceTest extends OpenStackTestBase {
 
       $this->drupalGet("/clouds/openstack/$cloud_context/network_interface/$num/delete");
       $this->assertNoErrorMessage();
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/network_interface/$num/delete",
-                            [],
-                            $this->t('Delete'));
+      $this->drupalGet("/clouds/openstack/$cloud_context/network_interface/$num/delete");
+      $this->submitForm([], $this->t('Delete'));
 
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Network Interface', '@label' => $edit[$i]['name']];
diff --git a/tests/src/Functional/OpenStack/OpenStackSnapshotTest.php b/tests/src/Functional/OpenStack/OpenStackSnapshotTest.php
index 8c3e61a..a5533bf 100644
--- a/tests/src/Functional/OpenStack/OpenStackSnapshotTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackSnapshotTest.php
@@ -85,10 +85,9 @@ class OpenStackSnapshotTest extends OpenStackTestBase {
 
       // Set volume ID.
       $add[$i]['volume_id'] = $volumes[array_rand($volumes)]['VolumeId'];
+      $this->drupalGet("/clouds/openstack/$cloud_context/snapshot/add");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/snapshot/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
 
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains(
@@ -118,10 +117,9 @@ class OpenStackSnapshotTest extends OpenStackTestBase {
         $edit[$i]['volume_id'],
         $edit[$i]['description']
       );
+      $this->drupalGet("/clouds/openstack/$cloud_context/snapshot/$num/edit");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/snapshot/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
 
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Snapshot', '%label' => $edit[$i]['name']];
@@ -141,9 +139,8 @@ class OpenStackSnapshotTest extends OpenStackTestBase {
 
       $this->drupalGet("/clouds/openstack/$cloud_context/snapshot/$num/delete");
       $this->assertNoErrorMessage();
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/snapshot/$num/delete",
-                            [],
-                            $this->t('Delete'));
+      $this->drupalGet("/clouds/openstack/$cloud_context/snapshot/$num/delete");
+      $this->submitForm([], $this->t('Delete'));
 
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains($edit[$i]['name']);
@@ -423,9 +420,8 @@ class OpenStackSnapshotTest extends OpenStackTestBase {
 
       // Set volume ID.
       $add[$i]['volume_id'] = $volumes[array_rand($volumes)]['VolumeId'];
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/snapshot/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->drupalGet("/clouds/openstack/$cloud_context/snapshot/add");
+      $this->submitForm($add[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
 
       // Make sure listing.
diff --git a/tests/src/Functional/OpenStack/OpenStackVolumeAttachDetachTest.php b/tests/src/Functional/OpenStack/OpenStackVolumeAttachDetachTest.php
index e2c883d..5e067b0 100644
--- a/tests/src/Functional/OpenStack/OpenStackVolumeAttachDetachTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackVolumeAttachDetachTest.php
@@ -92,9 +92,8 @@ class OpenStackVolumeAttachDetachTest extends OpenStackTestBase {
 
       // Test attach.
       $this->updateAttachDetachVolumeMockData('AttachVolume', $device_name, $volume_id, $instance_id, 'attaching');
-      $this->drupalPostForm("/clouds/openstack/$this->cloudContext/volume/$i/attach",
-        $attach_data,
-        $this->t('Attach'));
+      $this->drupalGet("/clouds/openstack/$this->cloudContext/volume/$i/attach");
+      $this->submitForm($attach_data, $this->t('Attach'));
 
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains($this->t('The volume @volume is attaching to @instance', [
@@ -107,9 +106,8 @@ class OpenStackVolumeAttachDetachTest extends OpenStackTestBase {
       $volume->setAttachmentInformation($instance_id);
       $volume->save();
       $this->updateAttachDetachVolumeMockData('DetachVolume', $device_name, $volume_id, $instance_id, 'detaching');
-      $this->drupalPostForm("/clouds/openstack/$this->cloudContext/volume/$i/detach",
-        [],
-        $this->t('Detach'));
+      $this->drupalGet("/clouds/openstack/$this->cloudContext/volume/$i/detach");
+      $this->submitForm([], $this->t('Detach'));
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains($this->t('The volume @volume is detaching from @instance', [
         '@instance' => $instance_id,
@@ -167,9 +165,8 @@ class OpenStackVolumeAttachDetachTest extends OpenStackTestBase {
 
         // Test attach.
         $this->updateAttachDetachVolumeMockData('AttachVolume', $device_name, $volume_id, $instance_id, 'attaching');
-        $this->drupalPostForm("/clouds/openstack/$this->cloudContext/volume/$num/attach",
-          $attach_data,
-          $this->t('Attach'));
+        $this->drupalGet("/clouds/openstack/$this->cloudContext/volume/$num/attach");
+        $this->submitForm($attach_data, $this->t('Attach'));
 
         $volume->setState('in-use');
         $volume->setAttachmentInformation($instance_id);
@@ -194,13 +191,10 @@ class OpenStackVolumeAttachDetachTest extends OpenStackTestBase {
 
         $data[$checkbox->getAttribute('name')] = $checkbox->getAttribute('value');
       }
+      $this->drupalGet("/clouds/openstack/$cloud_context/volume");
 
       // Confirm.
-      $this->drupalPostForm(
-        "/clouds/openstack/$cloud_context/volume",
-        $data,
-        $this->t('Apply to selected items')
-      );
+      $this->submitForm($data, $this->t('Apply to selected items'));
       $this->assertNoErrorMessage();
 
       $message = 'Are you sure you want to detach these Volumes?';
@@ -213,13 +207,10 @@ class OpenStackVolumeAttachDetachTest extends OpenStackTestBase {
       foreach ($total_volumes ?: [] as $volume) {
         $this->assertSession()->pageTextContains($volume['name']);
       }
+      $this->drupalGet("/clouds/openstack/$cloud_context/volume/detach_multiple");
 
       // Disassociate.
-      $this->drupalPostForm(
-        "/clouds/openstack/$cloud_context/volume/detach_multiple",
-        [],
-        $this->t('Detach')
-      );
+      $this->submitForm([], $this->t('Detach'));
 
       $this->assertNoErrorMessage();
       if ($total_count === 1) {
diff --git a/tests/src/Functional/OpenStack/OpenStackVolumeTest.php b/tests/src/Functional/OpenStack/OpenStackVolumeTest.php
index 05a4732..5e689c5 100644
--- a/tests/src/Functional/OpenStack/OpenStackVolumeTest.php
+++ b/tests/src/Functional/OpenStack/OpenStackVolumeTest.php
@@ -74,10 +74,9 @@ class OpenStackVolumeTest extends OpenStackTestBase {
       if ($state !== 'in-use') {
         $delete_count++;
       }
+      $this->drupalGet("/clouds/openstack/$cloud_context/volume/add");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/volume/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
 
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Volume', '%label' => $add[$i]['name']];
@@ -124,10 +123,9 @@ class OpenStackVolumeTest extends OpenStackTestBase {
         $edit[$i]['availability_zone'],
         $edit[$i]['volume_type']
       );
+      $this->drupalGet("/clouds/openstack/$cloud_context/volume/$num/edit");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/volume/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
 
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Volume', '%label' => $edit[$i]['name']];
@@ -147,9 +145,8 @@ class OpenStackVolumeTest extends OpenStackTestBase {
 
       $this->drupalGet("/clouds/openstack/$cloud_context/volume/$num/delete");
       $this->assertNoErrorMessage();
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/volume/$num/delete",
-                            [],
-                            $this->t('Delete'));
+      $this->drupalGet("/clouds/openstack/$cloud_context/volume/$num/delete");
+      $this->submitForm([], $this->t('Delete'));
 
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'Volume', '@label' => $edit[$i]['name']];
@@ -376,10 +373,9 @@ class OpenStackVolumeTest extends OpenStackTestBase {
       $snapshot_name = 'snapshot-name' . $this->random->name(10, TRUE);
       $this->updateDescribeSnapshotsMockData([['id' => $add[$i]['snapshot_id'], 'name' => $snapshot_name]]);
       $this->createSnapshotTestEntity(OpenStackSnapshot::class, $i, $add[$i]['snapshot_id'], $snapshot_name, $cloud_context);
+      $this->drupalGet("/clouds/openstack/$cloud_context/volume/add");
 
-      $this->drupalPostForm("/clouds/openstack/$cloud_context/volume/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
 
       // Make sure listing.
diff --git a/tests/src/Functional/cloud/config/OpenStackCloudConfigTest.php b/tests/src/Functional/cloud/config/OpenStackCloudConfigTest.php
index 1fad09d..2167525 100644
--- a/tests/src/Functional/cloud/config/OpenStackCloudConfigTest.php
+++ b/tests/src/Functional/cloud/config/OpenStackCloudConfigTest.php
@@ -136,9 +136,8 @@ class OpenStackCloudConfigTest extends CloudConfigTestBase {
       $add[$i]['field_os_region[0][value]'] = 'RegionTwo';
       $regions = ['RegionName' => $region_name];
       $this->updateDescribeRegionsMockData($regions);
-      $this->drupalPostForm('/admin/structure/cloud_config/add/openstack',
-        $add[$i],
-        $this->t('Save'));
+      $this->drupalGet('/admin/structure/cloud_config/add/openstack');
+      $this->submitForm($add[$i], $this->t('Save'));
 
       // Validate if 'Region is invalid' or not (Expect an error message on
       // purpose).
@@ -148,9 +147,8 @@ class OpenStackCloudConfigTest extends CloudConfigTestBase {
 
       // Test w/ a correct region.
       $add[$i]['field_os_region[0][value]'] = 'RegionOne';
-      $this->drupalPostForm('/admin/structure/cloud_config/add/openstack',
-        $add[$i],
-        $this->t('Save'));
+      $this->drupalGet('/admin/structure/cloud_config/add/openstack');
+      $this->submitForm($add[$i], $this->t('Save'));
 
       // Validate if an OpenStack cloud service provider is created
       // successfully or not (Expect no error message).
@@ -179,11 +177,9 @@ class OpenStackCloudConfigTest extends CloudConfigTestBase {
     // number starts from '2', not '1', here.
     for ($i = 0, $num = 2; $i < self::OPENSTACK_CLOUD_CONFIG_REPEAT_COUNT; $i++, $num++) {
       $label = $edit[$i]['name[0][value]'];
+      $this->drupalGet("/admin/structure/cloud_config/${num}/edit");
 
-      $this->drupalPostForm("/admin/structure/cloud_config/${num}/edit",
-        $edit[$i],
-        $this->t('Save')
-      );
+      $this->submitForm($edit[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
 
       $this->assertSession()->pageTextContains($label);
@@ -206,9 +202,8 @@ class OpenStackCloudConfigTest extends CloudConfigTestBase {
     // number starts from '2', not '1', here.
     for ($i = 0, $num = 2; $i < self::OPENSTACK_CLOUD_CONFIG_REPEAT_COUNT; $i++, $num++) {
       $this->drupalGet("/admin/structure/cloud_config/${num}/delete");
-      $this->drupalPostForm("/admin/structure/cloud_config/${num}/delete",
-        [],
-        $this->t('Delete'));
+      $this->drupalGet("/admin/structure/cloud_config/${num}/delete");
+      $this->submitForm([], $this->t('Delete'));
 
       $this->assertNoErrorMessage();
     }
@@ -263,10 +258,9 @@ class OpenStackCloudConfigTest extends CloudConfigTestBase {
       // Add new CloudConfig.
       $this->drupalGet('/admin/structure/cloud_config/add');
       $this->assertNoErrorMessage();
+      $this->drupalGet('/admin/structure/cloud_config/add/openstack');
 
-      $this->drupalPostForm('/admin/structure/cloud_config/add/openstack',
-        $add[$i],
-        $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
 
       $this->assertNoErrorMessage();
       $this->assertSession()->pageTextContains($this->t('Creating cloud service provider was performed successfully.'));
@@ -306,9 +300,8 @@ class OpenStackCloudConfigTest extends CloudConfigTestBase {
     for ($i = 0, $num = 2; $i < self::OPENSTACK_CLOUD_CONFIG_MENU_REPEAT_COUNT; $i++, $num++) {
       $label = $add[$i]['name[0][value]'];
       $this->drupalGet("/admin/structure/cloud_config/${num}/delete");
-      $this->drupalPostForm("/admin/structure/cloud_config/${num}/delete",
-        [],
-        $this->t('Delete'));
+      $this->drupalGet("/admin/structure/cloud_config/${num}/delete");
+      $this->submitForm([], $this->t('Delete'));
 
       // Verify OpenStack parent menu.
       $i === self::OPENSTACK_CLOUD_CONFIG_MENU_REPEAT_COUNT - 1
diff --git a/tests/src/Functional/cloud/server_template/CloudServerTemplateTest.php b/tests/src/Functional/cloud/server_template/CloudServerTemplateTest.php
index 4470de6..d096a34 100644
--- a/tests/src/Functional/cloud/server_template/CloudServerTemplateTest.php
+++ b/tests/src/Functional/cloud/server_template/CloudServerTemplateTest.php
@@ -93,10 +93,9 @@ class CloudServerTemplateTest extends OpenStackTestBase {
       $subnet_index = array_rand($subnets);
       $add[$i]['field_openstack_subnet'] = $subnets[$subnet_index]['SubnetId'];
       $subnet_name = $this->getNameFromArray($subnets, $subnet_index, 'SubnetId');
+      $this->drupalGet("/clouds/design/server_template/$cloud_context/openstack/add");
 
-      $this->drupalPostForm("/clouds/design/server_template/$cloud_context/openstack/add",
-                            $add[$i],
-                            $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'launch template', '%label' => $add[$i]['name[0][value]']];
       $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been created.', $t_args)));
@@ -137,10 +136,9 @@ class CloudServerTemplateTest extends OpenStackTestBase {
       $subnet_index = array_rand($subnets);
       $edit[$i]['field_openstack_subnet'] = $subnets[$subnet_index]['SubnetId'];
       $subnet_name = $this->getNameFromArray($subnets, $subnet_index, 'SubnetId');
+      $this->drupalGet("/clouds/design/server_template/$cloud_context/$num/edit");
 
-      $this->drupalPostForm("/clouds/design/server_template/$cloud_context/$num/edit",
-                            $edit[$i],
-                            $this->t('Save'));
+      $this->submitForm($edit[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'launch template', '%label' => $edit[$i]['name[0][value]']];
       $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been updated.', $t_args)));
@@ -162,9 +160,8 @@ class CloudServerTemplateTest extends OpenStackTestBase {
     for ($i = 0, $num = 1; $i < self::CLOUD_SERVER_TEMPLATES_REPEAT_COUNT; $i++, $num++) {
 
       $this->drupalGet("/clouds/design/server_template/$cloud_context/$num/delete");
-      $this->drupalPostForm("/clouds/design/server_template/$cloud_context/$num/delete",
-                            [],
-                            $this->t('Delete'));
+      $this->drupalGet("/clouds/design/server_template/$cloud_context/$num/delete");
+      $this->submitForm([], $this->t('Delete'));
       $this->assertNoErrorMessage();
 
       // Make sure listing.
@@ -211,10 +208,9 @@ class CloudServerTemplateTest extends OpenStackTestBase {
 
     $subnet_index = array_rand($subnets);
     $add[0]['field_openstack_subnet'] = $subnets[$subnet_index]['SubnetId'];
+    $this->drupalGet("/clouds/design/server_template/$cloud_context/openstack/add");
 
-    $this->drupalPostForm("/clouds/design/server_template/$cloud_context/openstack/add",
-                          $add[0],
-                          $this->t('Save'));
+    $this->submitForm($add[0], $this->t('Save'));
     $this->assertNoErrorMessage();
     $t_args = ['@type' => 'launch template', '%label' => $add[0]['name[0][value]']];
     $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been created.', $t_args)));
@@ -227,9 +223,8 @@ class CloudServerTemplateTest extends OpenStackTestBase {
     $edit = $add[0];
     $revision_desc = $this->random->name(32, TRUE);
     $edit['field_description[0][value]'] = $revision_desc;
-    $this->drupalPostForm("/clouds/design/server_template/$cloud_context/1/edit",
-                          $edit,
-                          $this->t('Save'));
+    $this->drupalGet("/clouds/design/server_template/$cloud_context/1/edit");
+    $this->submitForm($edit, $this->t('Save'));
     $this->assertNoErrorMessage();
     $t_args = ['@type' => 'launch template', '%label' => $edit['name[0][value]']];
     $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been updated.', $t_args)));
@@ -247,7 +242,8 @@ class CloudServerTemplateTest extends OpenStackTestBase {
     $this->clickLink($add[0]['name[0][value]']);
     $this->clickLink('Copy');
     $copy_url = $this->getUrl();
-    $this->drupalPostForm($copy_url, [], 'Copy');
+    $this->drupalGet($copy_url);
+    $this->submitForm([], 'Copy');
     $t_args = ['@type' => 'launch template', '%label' => "copy_of_{$add[0]['name[0][value]']}"];
     $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been created.', $t_args)));
     $this->assertSession()->pageTextContains("copy_of_{$add[0]['name[0][value]']}");
@@ -292,10 +288,9 @@ class CloudServerTemplateTest extends OpenStackTestBase {
 
       $subnet_index = array_rand($subnets);
       $add[$i]['field_openstack_subnet'] = $subnets[$subnet_index]['SubnetId'];
+      $this->drupalGet("/clouds/design/server_template/$cloud_context/openstack/add");
 
-      $this->drupalPostForm("/clouds/design/server_template/$cloud_context/openstack/add",
-        $add[$i],
-        $this->t('Save'));
+      $this->submitForm($add[$i], $this->t('Save'));
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'launch template', '%label' => $add[$i]['name[0][value]']];
       $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been created.', $t_args)));
@@ -307,9 +302,8 @@ class CloudServerTemplateTest extends OpenStackTestBase {
 
       // Submit copy.
       $copy[$i]['field_openstack_image_id'] = $image_id;
-      $this->drupalPostForm("/clouds/design/server_template/$cloud_context/$num/copy",
-        $copy[$i],
-        $this->t('Copy'));
+      $this->drupalGet("/clouds/design/server_template/$cloud_context/$num/copy");
+      $this->submitForm($copy[$i], $this->t('Copy'));
       $this->assertNoErrorMessage();
       $t_args = ['@type' => 'launch template', '%label' => $copy[$i]['name[0][value]']];
       $this->assertSession()->pageTextContains(strip_tags($this->t('The @type %label has been created.', $t_args)));
diff --git a/tests/src/Unit/Plugin/cloud/server_template/OpenStackCloudServerTemplatePluginTest.php b/tests/src/Unit/Plugin/cloud/server_template/OpenStackCloudServerTemplatePluginTest.php
index e893c72..7f63836 100644
--- a/tests/src/Unit/Plugin/cloud/server_template/OpenStackCloudServerTemplatePluginTest.php
+++ b/tests/src/Unit/Plugin/cloud/server_template/OpenStackCloudServerTemplatePluginTest.php
@@ -64,15 +64,13 @@ class OpenStackCloudServerTemplatePluginTest extends UnitTestCase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
 
     // Create messenger, logger.factory and string_translation container.
     $container = new ContainerBuilder();
 
     // Messenger.
-    $mock_messenger = $this->getMockBuilder(Messenger::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $mock_messenger = $this->createMock(Messenger::class);
 
     // Logger.
     $mock_logger = $this->createMock(LoggerChannelInterface::class);
@@ -425,9 +423,7 @@ class OpenStackCloudServerTemplatePluginTest extends UnitTestCase {
     $mock_tags = [];
     $count = random_int(0, 5);
     for ($i = 0; $i < $count; $i++) {
-      $mock_tag = $this->getMockBuilder(KeyValue::class)
-        ->disableOriginalConstructor()
-        ->getMock();
+      $mock_tag = $this->createMock(KeyValue::class);
 
       $mock_tag->expects($this->any())
         ->method('getItemKey')
