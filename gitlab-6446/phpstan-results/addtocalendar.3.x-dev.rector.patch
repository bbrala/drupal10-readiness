diff --git a/addtocalendar.info.yml b/addtocalendar.info.yml
index f2f9ef5..6f3c495 100644
--- a/addtocalendar.info.yml
+++ b/addtocalendar.info.yml
@@ -2,7 +2,6 @@ name: Add To Calendar
 type: module
 description: 'Add to calendar button to be used for event page.'
 # version: VERSION
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:datetime
diff --git a/addtocalendar.module b/addtocalendar.module
index 39fa980..f95547e 100644
--- a/addtocalendar.module
+++ b/addtocalendar.module
@@ -16,7 +16,7 @@ require 'includes/addtocalendar.build.inc';
 function addtocalendar_help($route_name, RouteMatchInterface $route_match) {
   switch ($route_name) {
     case 'help.page.addtocalendar':
-      $output = file_get_contents(drupal_get_path('module', 'addtocalendar') . '/README.md');
+      $output = file_get_contents(\Drupal::service('extension.list.module')->getPath('addtocalendar') . '/README.md');
       return $output;
   }
 }
diff --git a/includes/addtocalendar.build.inc b/includes/addtocalendar.build.inc
index b03f2c1..cfa2ee5 100644
--- a/includes/addtocalendar.build.inc
+++ b/includes/addtocalendar.build.inc
@@ -98,7 +98,7 @@ function _addtocalendar_preprocess_field(&$variables) {
               }
               else {
                 $view = $entity->get($field)->view(['label' => 'hidden']);
-                $class_value = strip_tags(render($view));
+                $class_value = strip_tags(\Drupal::service('renderer')->render($view));
               }
               break;
           }
@@ -145,7 +145,7 @@ function _addtocalendar_preprocess_field(&$variables) {
         $build['addtocalendar'][$index] = [
           '#type' => 'html_tag',
           '#tag' => 'span',
-          '#value' => render($build['addtocalendar_button']) . '<var class="atc_event">' .render($build['addtocalendar'][$index]) . '</var>',
+          '#value' => \Drupal::service('renderer')->render($build['addtocalendar_button']) . '<var class="atc_event">' .\Drupal::service('renderer')->render($build['addtocalendar'][$index]) . '</var>',
           '#attributes' => [
             'class' => [
               'addtocalendar',
@@ -188,10 +188,10 @@ function _addtocalendar_preprocess_field(&$variables) {
       if ($multivalued && $settings['addtocalendar_settings']['multiple_value'] == 2) {
         foreach ($variables['items'] as $k => $content) {
           if (isset($variables['items'][$k]['content']['#suffix'])) {
-            $variables['items'][$k]['content']['#suffix'] .= render($build['addtocalendar'][$k]);
+            $variables['items'][$k]['content']['#suffix'] .= \Drupal::service('renderer')->render($build['addtocalendar'][$k]);
           }
           else {
-            $variables['items'][$k]['content']['#suffix'] = render($build['addtocalendar'][$k]);
+            $variables['items'][$k]['content']['#suffix'] = \Drupal::service('renderer')->render($build['addtocalendar'][$k]);
           }
           $variables['#attached']['library'][] = 'addtocalendar/base';
         }
@@ -199,10 +199,10 @@ function _addtocalendar_preprocess_field(&$variables) {
       // Setting #markup for all the date or daterange fields if single value is selected.
       else {
         if (isset($variables['items'][$delta]['content']['#suffix'])) {
-          $variables['items'][$delta]['content']['#suffix'] .= render($build['addtocalendar']);
+          $variables['items'][$delta]['content']['#suffix'] .= \Drupal::service('renderer')->render($build['addtocalendar']);
         }
         else {
-          $variables['items'][$delta]['content']['#suffix'] = render($build['addtocalendar']);
+          $variables['items'][$delta]['content']['#suffix'] = \Drupal::service('renderer')->render($build['addtocalendar']);
         }
         $variables['#attached']['library'][] = 'addtocalendar/base';
       }
diff --git a/src/AddToCalendarApiWidget.php b/src/AddToCalendarApiWidget.php
index 0556ce5..23a8933 100644
--- a/src/AddToCalendarApiWidget.php
+++ b/src/AddToCalendarApiWidget.php
@@ -211,7 +211,7 @@ class AddToCalendarApiWidget {
     $build['addtocalendar'] = [
       '#type' => 'html_tag',
       '#tag' => 'span',
-      '#value' => render($build['addtocalendar_button']) . '<var class="atc_event">' . render($build['addtocalendar']) . '</var>',
+      '#value' => \Drupal::service('renderer')->render($build['addtocalendar_button']) . '<var class="atc_event">' . \Drupal::service('renderer')->render($build['addtocalendar']) . '</var>',
       '#attributes' => [
         'class' => [
           'addtocalendar',
diff --git a/src/Plugin/Field/FieldFormatter/AddToCalendar.php b/src/Plugin/Field/FieldFormatter/AddToCalendar.php
index bee4325..5df0b28 100644
--- a/src/Plugin/Field/FieldFormatter/AddToCalendar.php
+++ b/src/Plugin/Field/FieldFormatter/AddToCalendar.php
@@ -168,7 +168,7 @@ class AddToCalendar extends FormatterBase implements ContainerFactoryPluginInter
 
       $service->setWidgetValues($config_values);
       $build = $service->generateWidget();
-      $return = render($build);
+      $return = \Drupal::service('renderer')->render($build);
     }
     else {
       $return = $this->fieldDefinition->getSetting('off_label');
@@ -221,7 +221,7 @@ class AddToCalendar extends FormatterBase implements ContainerFactoryPluginInter
         }
         else {
           $value = $entity->get($field)->view(['label' => 'hidden']);
-          $value = strip_tags(render($value));
+          $value = strip_tags(\Drupal::service('renderer')->render($value));
         }
         break;
     }
