diff --git a/classic_blog.theme b/classic_blog.theme
index 9ea969e..e2c97c4 100644
--- a/classic_blog.theme
+++ b/classic_blog.theme
@@ -1,10 +1,11 @@
 <?php
 
+use Drupal\Core\Form\FormStateInterface;
 /**
  * @file
  * Functions to support theming in the Btheme.
  */
-define('THEME_PATH', base_path() . drupal_get_path('theme', 'classic_blog'));
+define('THEME_PATH', base_path() . \Drupal::service('extension.list.theme')->getPath('classic_blog'));
 // Change the value to increase the slideshow.
 define('SLIDESHOW_COUNT', 5);
 
@@ -42,7 +43,7 @@ function classic_blog_preprocess_page(&$vars) {
             if (!empty($fid)) {
                 $file = File::load($fid[0]);
                 $uri = $file->getFileUri();
-                $image_path = file_create_url($uri);
+                $image_path = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
             } else {
                 $image_path = THEME_PATH . "/images/slider_img{$i}.jpg";
             }
@@ -63,7 +64,7 @@ function classic_blog_preprocess_page(&$vars) {
  * @param $form_state
  *   The form state.
  */
-function classic_blog_form_system_theme_settings_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state) {
+function classic_blog_form_system_theme_settings_alter(&$form, FormStateInterface $form_state) {
 
     $form['busi_settings']['slideshow'] = array(
         '#type' => 'details',
@@ -114,7 +115,7 @@ function classic_blog_form_system_theme_settings_alter(&$form, \Drupal\Core\Form
 /**
  * Custom submit handler for integrity settings form.
  */
-function classic_blog_settings_form_submit(&$form, \Drupal\Core\Form\FormStateInterface $form_state) {
+function classic_blog_settings_form_submit(&$form, FormStateInterface $form_state) {
 
     $account = \Drupal::currentUser();
     $values = $form_state->getValues();
