diff --git a/module_builder.module b/module_builder.module
index 43b62b8..bf2da56 100644
--- a/module_builder.module
+++ b/module_builder.module
@@ -1,5 +1,8 @@
 <?php
 
+use Drupal\Core\Routing\RouteMatchInterface;
+use Drupal\module_builder\Form\ModuleMiscForm;
+use Drupal\module_builder\Form\ComponentSectionForm;
 /**
  * @file
  * Builds scaffolding for custom modules.
@@ -10,7 +13,7 @@ use Drupal\Core\Render\Element;
 /**
  * Implements hook_help().
  */
-function module_builder_help($route_name, \Drupal\Core\Routing\RouteMatchInterface $route_match) {
+function module_builder_help($route_name, RouteMatchInterface $route_match) {
   switch ($route_name) {
     case 'help.page.module_builder':
       return t("Module builder allows you to generate code files for new custom modules.");
@@ -75,14 +78,14 @@ function module_builder_entity_type_build(array &$entity_types) {
 
     // Set a generic form class for the 'misc' section if not specified.
     if (empty($entity_type->getFormClass('misc'))) {
-      $entity_type->setFormClass('misc', \Drupal\module_builder\Form\ModuleMiscForm::class);
+      $entity_type->setFormClass('misc', ModuleMiscForm::class);
     }
 
     $canonical_template = $entity_type->getLinkTemplate('canonical');
     foreach ($form_operations as $form_op) {
       // Allow the entity type to specify a form class.
       if (empty($entity_type->getFormClass($form_op))) {
-        $entity_type->setFormClass($form_op, \Drupal\module_builder\Form\ComponentSectionForm::class);
+        $entity_type->setFormClass($form_op, ComponentSectionForm::class);
       }
 
       // TODO: this is clobbering link templates in the entity if they are set
diff --git a/module_builder_devel/src/DrupalCodeBuilderDevel.php b/module_builder_devel/src/DrupalCodeBuilderDevel.php
index 7020145..c461753 100644
--- a/module_builder_devel/src/DrupalCodeBuilderDevel.php
+++ b/module_builder_devel/src/DrupalCodeBuilderDevel.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\module_builder_devel;
 
+use DrupalCodeBuilder\Factory;
 use Drupal\module_builder\DrupalCodeBuilder;
 use Drupal\module_builder_devel\Environment\ModuleBuilderDevel;
 
@@ -19,7 +20,7 @@ class DrupalCodeBuilderDevel extends DrupalCodeBuilder {
   protected function doLoadLibrary() {
     $environment = new ModuleBuilderDevel;
 
-    \DrupalCodeBuilder\Factory::setEnvironment($environment)
+    Factory::setEnvironment($environment)
       ->setCoreVersionNumber(\Drupal::VERSION);
   }
 
diff --git a/module_builder_devel/src/DrupalCodeBuilderTestSamples.php b/module_builder_devel/src/DrupalCodeBuilderTestSamples.php
index 8dbb458..964a023 100644
--- a/module_builder_devel/src/DrupalCodeBuilderTestSamples.php
+++ b/module_builder_devel/src/DrupalCodeBuilderTestSamples.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\module_builder_devel;
 
+use DrupalCodeBuilder\Factory;
 use Drupal\module_builder\DrupalCodeBuilder;
 
 /**
@@ -13,7 +14,7 @@ class DrupalCodeBuilderTestSamples extends DrupalCodeBuilder {
    * {@inheritdoc}
    */
   protected function doLoadLibrary() {
-    \DrupalCodeBuilder\Factory::setEnvironmentLocalClass('WriteTestsSampleLocation')
+    Factory::setEnvironmentLocalClass('WriteTestsSampleLocation')
       ->setCoreVersionNumber(\Drupal::VERSION);
   }
 
diff --git a/module_builder_devel/src/Form/ProcessDevelForm.php b/module_builder_devel/src/Form/ProcessDevelForm.php
index 3691a9f..f286d41 100644
--- a/module_builder_devel/src/Form/ProcessDevelForm.php
+++ b/module_builder_devel/src/Form/ProcessDevelForm.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\module_builder_devel\Form;
 
+use DrupalCodeBuilder\Factory;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Form\FormStateInterface;
 
@@ -78,7 +79,7 @@ class ProcessDevelForm extends FormBase {
 
     foreach ($jobs_to_run as $job) {
       // Get the helper from the DCB container.
-      $collector_helper = \DrupalCodeBuilder\Factory::getContainer()->get($job['collector']);
+      $collector_helper = Factory::getContainer()->get($job['collector']);
       $job_data = $collector_helper->collect([$job]);
 
       dpm($job_data);
diff --git a/module_builder_devel/src/Routing/RouteSubscriber.php b/module_builder_devel/src/Routing/RouteSubscriber.php
index f2d5de0..c21c070 100644
--- a/module_builder_devel/src/Routing/RouteSubscriber.php
+++ b/module_builder_devel/src/Routing/RouteSubscriber.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\module_builder_devel\Routing;
 
+use Drupal\module_builder_devel\Form\ProcessFormExtra;
 use Drupal\Core\Routing\RouteSubscriberBase;
 use Symfony\Component\Routing\RouteCollection;
 
@@ -16,7 +17,7 @@ class RouteSubscriber extends RouteSubscriberBase {
   protected function alterRoutes(RouteCollection $collection) {
     // Change form class for the process form.
     if ($route = $collection->get('module_builder.analyse')) {
-      $route->setDefault('_form', \Drupal\module_builder_devel\Form\ProcessFormExtra::class);
+      $route->setDefault('_form', ProcessFormExtra::class);
     }
   }
 
diff --git a/src/DrupalCodeBuilder.php b/src/DrupalCodeBuilder.php
index 3053b75..2db124a 100644
--- a/src/DrupalCodeBuilder.php
+++ b/src/DrupalCodeBuilder.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\module_builder;
 
+use DrupalCodeBuilder\Factory;
 /**
  * Service class that wraps around the DCB library, to make it injectable.
  */
@@ -32,7 +33,7 @@ class DrupalCodeBuilder {
       $this->loadLibrary();
     }
 
-    return \DrupalCodeBuilder\Factory::getTask($task_name, $task_options);
+    return Factory::getTask($task_name, $task_options);
   }
 
   /**
@@ -42,7 +43,7 @@ class DrupalCodeBuilder {
    *  Throws an exception if the library can't be found.
    */
   public function loadLibrary() {
-    if (!class_exists(\DrupalCodeBuilder\Factory::class)) {
+    if (!class_exists(Factory::class)) {
       throw new \Exception("Mising library.");
     }
 
@@ -56,7 +57,7 @@ class DrupalCodeBuilder {
    */
   protected function doLoadLibrary() {
     // TODO: add an environment class with a more appropriate name.
-    \DrupalCodeBuilder\Factory::setEnvironmentLocalClass('DrupalLibrary')
+    Factory::setEnvironmentLocalClass('DrupalLibrary')
       ->setCoreVersionNumber(\Drupal::VERSION);
   }
 
diff --git a/src/Form/ProcessForm.php b/src/Form/ProcessForm.php
index 3ff761b..32b5805 100644
--- a/src/Form/ProcessForm.php
+++ b/src/Form/ProcessForm.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\module_builder\Form;
 
+use DrupalCodeBuilder\Factory;
+use DrupalCodeBuilder\Exception\StorageException;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Messenger\MessengerInterface;
@@ -84,7 +86,7 @@ class ProcessForm extends FormBase {
     // The task handler returns sane values for these even if there's no hook
     // data.
     $last_update = $task_handler_report->lastUpdatedDate();
-    $directory = \DrupalCodeBuilder\Factory::getEnvironment()->getHooksDirectory();
+    $directory = Factory::getEnvironment()->getHooksDirectory();
 
     $form['intro'] = array(
       '#markup' => '<p>' . t("Module Builder analyses your site's code to find data about Drupal components such as hooks, plugins, tagged services, and more." . ' '
@@ -119,7 +121,7 @@ class ProcessForm extends FormBase {
       try {
         $analysis_data = $task_report_summary->listStoredData();
       }
-      catch (\DrupalCodeBuilder\Exception\StorageException $e) {
+      catch (StorageException $e) {
         // Bail if the storage has a problem.
         $this->messenger()->addError($e->getMessage());
         return $form;
@@ -175,7 +177,7 @@ class ProcessForm extends FormBase {
     $batch = array(
       'title' => t('Analysing site code'),
       'operations' => array(),
-      'file' => drupal_get_path('module', 'module_builder') . '/includes/module_builder.admin.inc',
+      'file' => \Drupal::service('extension.list.module')->getPath('module_builder') . '/includes/module_builder.admin.inc',
       'finished' => [get_class($this), 'batchFinished'],
     );
 
diff --git a/src/LibraryWrapper.php b/src/LibraryWrapper.php
index a8cef9d..4b79dfb 100644
--- a/src/LibraryWrapper.php
+++ b/src/LibraryWrapper.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\module_builder;
 
+use DrupalCodeBuilder\Factory;
 /**
  * Quick and dirty wrapper class to load our library.
  *
@@ -16,12 +17,12 @@ class LibraryWrapper {
    *  Throws an exception if the library can't be found.
    */
   public static function loadLibrary() {
-    if (!class_exists(\DrupalCodeBuilder\Factory::class)) {
+    if (!class_exists(Factory::class)) {
       throw new \Exception("Mising library.");
     }
 
     // TODO: add an environment class with a more appropriate name.
-    \DrupalCodeBuilder\Factory::setEnvironmentLocalClass('DrupalLibrary')
+    Factory::setEnvironmentLocalClass('DrupalLibrary')
       ->setCoreVersionNumber(\Drupal::VERSION);
   }
 
diff --git a/tests/modules/module_builder_test_component_type/src/Form/TestComponentMiscForm.php b/tests/modules/module_builder_test_component_type/src/Form/TestComponentMiscForm.php
index 267e394..4d6fd7e 100644
--- a/tests/modules/module_builder_test_component_type/src/Form/TestComponentMiscForm.php
+++ b/tests/modules/module_builder_test_component_type/src/Form/TestComponentMiscForm.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\module_builder_test_component_type\Form;
 
+use DrupalCodeBuilder\Factory;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\module_builder\Form\ModuleMiscForm;
 use Drupal\module_builder_test_component_type\TestGenerateTask;
@@ -18,7 +19,7 @@ class TestComponentMiscForm extends ModuleMiscForm {
    * {@inheritdoc}
    */
   public function setGenerateTask(Generate $generate_task) {
-    $dcb_container =  \DrupalCodeBuilder\Factory::getContainer();
+    $dcb_container =  Factory::getContainer();
 
     // Can't use the container directly, as it won't know about the class we
     // want to use instead.
diff --git a/tests/modules/module_builder_test_component_type/src/TestDrupalCodeBuilder.php b/tests/modules/module_builder_test_component_type/src/TestDrupalCodeBuilder.php
index 5621630..ef17f09 100644
--- a/tests/modules/module_builder_test_component_type/src/TestDrupalCodeBuilder.php
+++ b/tests/modules/module_builder_test_component_type/src/TestDrupalCodeBuilder.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\module_builder_test_component_type;
 
+use DrupalCodeBuilder\Factory;
 use Drupal\module_builder\DrupalCodeBuilder;
 
 /**
@@ -17,7 +18,7 @@ class TestDrupalCodeBuilder extends DrupalCodeBuilder {
   protected function doLoadLibrary() {
     $environment = new TestEnvironment();
 
-    \DrupalCodeBuilder\Factory::setEnvironment($environment)
+    Factory::setEnvironment($environment)
       ->setCoreVersionNumber(\Drupal::VERSION);
   }
 
diff --git a/tests/modules/test_dummy_module_write_location/src/DrupalCodeBuilderTestSampleData.php b/tests/modules/test_dummy_module_write_location/src/DrupalCodeBuilderTestSampleData.php
index be50869..c91a502 100644
--- a/tests/modules/test_dummy_module_write_location/src/DrupalCodeBuilderTestSampleData.php
+++ b/tests/modules/test_dummy_module_write_location/src/DrupalCodeBuilderTestSampleData.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\test_dummy_module_write_location;
 
+use DrupalCodeBuilder\Factory;
 use Drupal\module_builder\DrupalCodeBuilder;
 
 /**
@@ -18,7 +19,7 @@ class DrupalCodeBuilderTestSampleData extends DrupalCodeBuilder {
   protected function doLoadLibrary() {
     $environment = new TestSampleDataEnvironment();
 
-    \DrupalCodeBuilder\Factory::setEnvironment($environment)
+    Factory::setEnvironment($environment)
       ->setCoreVersionNumber(\Drupal::VERSION);
   }
 
diff --git a/tests/src/Functional/ComponentFormTest.php b/tests/src/Functional/ComponentFormTest.php
index 4a2380b..9d27162 100644
--- a/tests/src/Functional/ComponentFormTest.php
+++ b/tests/src/Functional/ComponentFormTest.php
@@ -50,7 +50,7 @@ class ComponentFormTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Enable error output to the browser.
diff --git a/tests/src/Functional/GenerateFormTest.php b/tests/src/Functional/GenerateFormTest.php
index 450e899..e015b68 100644
--- a/tests/src/Functional/GenerateFormTest.php
+++ b/tests/src/Functional/GenerateFormTest.php
@@ -42,7 +42,7 @@ class GenerateFormTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->container->get('module_installer')->install(['test_dummy_module_write_location']);
@@ -91,7 +91,7 @@ class GenerateFormTest extends BrowserTestBase {
     $page->pressButton('Write selected files');
 
     $this->assertFileExists($site_path . '/my_module/my_module.module');
-    $this->assertFileNotExists($site_path . '/my_module/my_module.install');
+    $this->assertFileDoesNotExist($site_path . '/my_module/my_module.install');
     $this->assertSession()->pageTextMatches('@Written 1 files to folder sites/simpletest/\d+/my_module@');
 
     // Put some junk in the existing files, so we can check that 'Write new files'
diff --git a/tests/src/Unit/ComponentSectionFormHandlerTest.php b/tests/src/Unit/ComponentSectionFormHandlerTest.php
index 8052de6..3f962f2 100644
--- a/tests/src/Unit/ComponentSectionFormHandlerTest.php
+++ b/tests/src/Unit/ComponentSectionFormHandlerTest.php
@@ -2,6 +2,9 @@
 
 namespace Drupal\Tests\module_builder\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
+use Drupal\Core\Entity\EntityTypeInterface;
+use Drupal\module_builder\EntityHandler\ComponentSectionFormHandler;
 use Drupal\Tests\UnitTestCase;
 
 /**
@@ -11,6 +14,7 @@ use Drupal\Tests\UnitTestCase;
  */
 class ComponentSectionFormHandlerTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * The modules to enable.
    *
@@ -46,12 +50,12 @@ class ComponentSectionFormHandlerTest extends UnitTestCase {
       ],
     ];
 
-    $entity_type = $this->prophesize(\Drupal\Core\Entity\EntityTypeInterface::class);
+    $entity_type = $this->prophesize(EntityTypeInterface::class);
     $entity_type->id()->willReturn('test');
     $entity_type->get('code_builder')->willReturn($entity_code_builder_annotation_data);
 
     // Create the handler, with mock passed in.
-    $component_sections_handler = new \Drupal\module_builder\EntityHandler\ComponentSectionFormHandler(
+    $component_sections_handler = new ComponentSectionFormHandler(
       $entity_type->reveal()
     );
 
