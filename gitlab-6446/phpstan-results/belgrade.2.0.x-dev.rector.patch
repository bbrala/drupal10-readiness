diff --git a/includes/form.inc b/includes/form.inc
index ced4692..c74748a 100644
--- a/includes/form.inc
+++ b/includes/form.inc
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\Core\Template\Attribute;
 /**
  * @file
  * Theme and preprocess functions for forms.
@@ -59,7 +60,7 @@ function belgrade_preprocess_input(&$variables) {
 
   if ($type == 'submit') {
 
-    $variables['attributes'] = new Drupal\Core\Template\Attribute($variables['attributes']);
+    $variables['attributes'] = new Attribute($variables['attributes']);
 
     // Get value.
     $string = $variables['attributes']->offsetGet('value')->value();
diff --git a/includes/messages.inc b/includes/messages.inc
index 8f24e09..1b0b2cd 100644
--- a/includes/messages.inc
+++ b/includes/messages.inc
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\Core\Template\Attribute;
 use Drupal\Component\Utility\Html;
 
 /**
@@ -11,7 +12,7 @@ function belgrade_preprocess_status_messages(&$variables) {
     $variables['title_ids'][$message_type] = Html::getUniqueId("message-$message_type-title");
   }
   // Add classes to toast wrappers
-  $variables['wrapper_attributes'] = new Drupal\Core\Template\Attribute($variables['attributes']);
+  $variables['wrapper_attributes'] = new Attribute($variables['attributes']);
 
   switch (theme_get_setting('toast_placement')) {
     case 'top_left':
diff --git a/includes/region.inc b/includes/region.inc
index d65a833..8b685e5 100644
--- a/includes/region.inc
+++ b/includes/region.inc
@@ -30,7 +30,7 @@ function belgrade_preprocess_region(&$variables) {
     $variables['navigation_backdrop'] = "false";
 
     if (theme_get_setting('navigation_logo') === 1) {
-      $variables['site_logo'] = file_url_transform_relative(file_create_url(theme_get_setting('logo.url')));
+      $variables['site_logo'] = \Drupal::service('file_url_generator')->generateString(theme_get_setting('logo.url'));
       $logo_path_info = pathinfo($variables['site_logo']);
       if (theme_get_setting('inline_logo') === 1 && $logo_path_info['extension'] === 'svg') {
         $variables['inline_logo'] = true;
