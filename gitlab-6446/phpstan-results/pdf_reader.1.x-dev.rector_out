modules/contrib/pdf_reader/pdf_reader.module
modules/contrib/pdf_reader/src/Plugin/Field/FieldFormatter/FieldPdfReaderField.php

1 file with changes
===================

1) modules/contrib/pdf_reader/src/Plugin/Field/FieldFormatter/FieldPdfReaderField.php:169

    ---------- begin diff ----------
@@ @@
         if (isset($values['target_id']) && !empty($values['target_id']) && is_numeric($values['target_id'])) {
           $file = \Drupal::entityTypeManager()->getStorage('file')->load($values['target_id']);
           if (isset($file) and is_object($file)) {
-            $file_url = file_create_url($file->getFileUri());
+            $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
             $file_name = $file->getFileName();
           }
         }
         elseif (isset($values['value']) && !empty($values['value'])) {
           if (UrlHelper::isValid($values['value'])) {
-            $file_url = file_create_url($values['value']);
+            $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($values['value']);
             $file_name = $file_url;
           }
         }
@@ @@
               break;

             case 'pdf-js':
-              $module_path = base_path() . drupal_get_path('module', 'pdf_reader');
+              $module_path = base_path() . \Drupal::service('extension.list.module')->getPath('pdf_reader');
               $elements[$delta] = [
                 '#theme' => 'pdf_reader_js',
                 '#service' => $field_display_type,
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

