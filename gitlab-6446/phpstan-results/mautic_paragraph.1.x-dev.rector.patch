diff --git a/mautic_paragraph.module b/mautic_paragraph.module
index d1a59fe..c647ce8 100644
--- a/mautic_paragraph.module
+++ b/mautic_paragraph.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\Core\Config\FileStorage;
 /**
  * @file
  * Contains mautic_paragraph.module.
@@ -136,8 +137,8 @@ function mautic_paragraph_field_widget_rs_paragraphs_asymmetric_form_alter(&$ele
 function mautic_modules_installed($modules) {
   if (in_array('paragraphs', $modules)) {
     //loading config of mautic paragraphs if paragraphs module gets enabled
-    $config_path = drupal_get_path('module', 'mautic_paragraph') . '/config/optional';
-    $config_source = new \Drupal\Core\Config\FileStorage($config_path);
+    $config_path = \Drupal::service('extension.list.module')->getPath('mautic_paragraph') . '/config/optional';
+    $config_source = new FileStorage($config_path);
     \Drupal::service('config.installer')->installOptionalConfig($config_source);
   }
-}
\ No newline at end of file
+}
