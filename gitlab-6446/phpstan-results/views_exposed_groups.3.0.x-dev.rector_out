modules/contrib/views_exposed_groups/src/Plugin/views/exposed_form/ExposedGroups.php
modules/contrib/views_exposed_groups/tests/src/Functional/ViewsExposedGroupsExposedOperatorTest.php
modules/contrib/views_exposed_groups/tests/src/Functional/ViewsExposedGroupsInheritedPropertiesTest.php
modules/contrib/views_exposed_groups/tests/src/Functional/ViewsExposedGroupsTestBase.php
modules/contrib/views_exposed_groups/tests/src/Functional/ViewsExposedGroupsUiTest.php

3 files with changes
====================

1) modules/contrib/views_exposed_groups/tests/src/Functional/ViewsExposedGroupsUiTest.php:19

    ---------- begin diff ----------
@@ @@
     // Asserts that the view does not have an exposed form.
     $this->drupalGet($view_path);
     $fieldset_links = $this->xpath('//fieldset/legend/span');
-    $this->assertEqual(0, count($fieldset_links), 'Found no grouped exposed filters.');
+    $this->assertEquals(0, count($fieldset_links), 'Found no grouped exposed filters.');

     // Goes to view edit and changes to use exposed groups.
     $this->drupalGet($views_ui_path . '/edit');
     $this->clickLink('Basic');
-    $this->drupalPostForm(NULL, ['exposed_form[type]' => 'views_exposed_groups'], 'Apply');
+    $this->submitForm(['exposed_form[type]' => 'views_exposed_groups'], 'Apply');

     // Adds some groups.
     // @todo Asserts that the groups default to - No group -.
@@ @@
       'exposed_form_options[views_exposed_groups][format_groups]' => 'fieldsets',
       'exposed_form_options[views_exposed_groups][groups]' => "First\nSecond",
     ];
-    $this->drupalPostForm(NULL, $edit_form, 'Apply');
-    $this->assertLink('Grouped filters');
+    $this->submitForm($edit_form, 'Apply');
+    $this->assertSession()->linkExists('Grouped filters');

     // Configures the groups.
     $edit_form = [
@@ @@
       'exposed_form_options[views_exposed_groups][group-uid][group]' => 'no-group',
     ];
     $exposed_options_path = 'admin/structure/views/nojs/display/' . $this->defaultView->name . '/default/exposed_form_options';
-    $this->drupalPostForm($exposed_options_path, $edit_form, 'Apply');
+    $this->drupalGet($exposed_options_path);
+    $this->submitForm($edit_form, 'Apply');

     // Confirms that the table has the correct rows.
     $this->drupalGet($exposed_options_path);
     $rows = $this->xpath('//table[@id="reorder-group-filters"]/tbody/tr');
-    $this->assertEqual(6, count($rows), 'Found six rows in filter group table.');
-    $this->assertFieldByName('exposed_form_options[views_exposed_groups][group-nid][group]', '0');
-    $this->assertFieldByName('exposed_form_options[views_exposed_groups][group-title][group]', '1');
-    $this->assertFieldByName('exposed_form_options[views_exposed_groups][group-uid][group]', 'no-group');
+    $this->assertEquals(6, count($rows), 'Found six rows in filter group table.');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[views_exposed_groups][group-nid][group]', '0');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[views_exposed_groups][group-title][group]', '1');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[views_exposed_groups][group-uid][group]', 'no-group');
+    $this->drupalGet($views_ui_path . '/edit');

     // Saves the view.
-    $this->drupalPostForm($views_ui_path . '/edit', [], 'Save');
+    $this->submitForm([], 'Save');

     // Checks to make sure that the view now has fieldsets.
     $this->drupalGet($view_path);
@@ @@
     // Note that even though the actual HTML has an anchor element, SimpleTest
     // hides this and so a real xpath will not work.
     $fieldset_links = $this->xpath('//fieldset/legend/span/text()');
-    $this->assertEqual(2, count($fieldset_links), 'Found the two fieldset links for grouped filters.');
-    $this->assertEqual('First', (string) $fieldset_links[0]);
-    $this->assertEqual('Second', (string) $fieldset_links[1]);
+    $this->assertEquals(2, count($fieldset_links), 'Found the two fieldset links for grouped filters.');
+    $this->assertEquals('First', (string) $fieldset_links[0]);
+    $this->assertEquals('Second', (string) $fieldset_links[1]);

     // Asserts that the filters work.
     $options = [
@@ @@
     $options['query']['title'] = substr($this->testNodes[3]->title, 0, 3);
     $this->drupalGet($view_path, $options);
     $this->assertViewsTableResultCount(1);
-    $this->assertText('There are no results for your search.');
+    $this->assertSession()->pageTextContains('There are no results for your search.');

     $options['query']['nid'] = '';
     $this->drupalGet($view_path, $options);
@@ @@
       'exposed_form_options[views_exposed_groups][format_groups]' => 'fieldsets',
       'exposed_form_options[views_exposed_groups][groups]' => "",
     ];
-    $this->drupalPostForm($exposed_options_path, $edit_form, 'Apply');
     $this->drupalGet($exposed_options_path);
-    $this->assertFieldByName('exposed_form_options[views_exposed_groups][group-nid][group]', 'no-group');
-    $this->assertFieldByName('exposed_form_options[views_exposed_groups][group-title][group]', 'no-group');
-    $this->assertFieldByName('exposed_form_options[views_exposed_groups][group-uid][group]', 'no-group');
+    $this->submitForm($edit_form, 'Apply');
+    $this->drupalGet($exposed_options_path);
+    $this->assertSession()->fieldValueEquals('exposed_form_options[views_exposed_groups][group-nid][group]', 'no-group');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[views_exposed_groups][group-title][group]', 'no-group');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[views_exposed_groups][group-uid][group]', 'no-group');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AssertFieldByNameRector
 * AssertLinkRector
 * AssertTextRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/views_exposed_groups/tests/src/Functional/ViewsExposedGroupsTestBase.php:51

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Creates several random nodes for the view.
@@ @@
   public function assertViewsTableResultCount($expected = 0, $message = '', $group = 'Browser') {
     $message = $message ? $message : 'Found the correct number of views results in the table display.';
     $rows = $this->xpath('//table[contains(@class, :class)]/tbody/tr', [':class' => 'views-table']);
-    $this->assertEquals($expected, count($rows), $message, $group);
+    $this->assertEqualsWithDelta($expected, count($rows), $group, $message);
   }

   /**
@@ @@
    */
   protected function makeDefaultView() {
     $storage = \Drupal::entityTypeManager()->getStorage('view');
-    $file_storage = new FileStorage(drupal_get_path('module', 'views_exposed_groups') . '/tests/fixtures');
+    $file_storage = new FileStorage(\Drupal::service('extension.list.module')->getPath('views_exposed_groups') . '/tests/fixtures');
     $storage
       ->create($file_storage->read('views.view.exposed_groups_test'))
       ->save();
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * AssertEqualsParameterToSpecificMethodsTypeRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-8.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/views_exposed_groups/tests/src/Functional/ViewsExposedGroupsInheritedPropertiesTest.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->defaultView->getDisplay('default')->setOption('exposed_form', [
@@ @@
       'exposed_form_options[autosubmit]' => '1',
       'exposed_form_options[autosubmit_hide]' => '1',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Apply');
+    $this->submitForm($edit, 'Apply');

     // Asserts the form options are set.
     $exposed_options_path = 'admin/structure/views/nojs/display/' . $this->defaultView->name . '/default/exposed_form_options';
     $this->drupalGet($exposed_options_path);

-    $this->assertFieldByName('exposed_form_options[reset_button]', '1');
-    $this->assertFieldByName('exposed_form_options[autosubmit]', '1');
-    $this->assertFieldByName('exposed_form_options[autosubmit_hide]', '1');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[reset_button]', '1');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[autosubmit]', '1');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[autosubmit_hide]', '1');
   }

   /**
    ----------- end diff -----------

Applied rules:
 * AssertFieldByNameRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

