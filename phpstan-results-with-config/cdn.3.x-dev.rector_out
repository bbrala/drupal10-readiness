modules/contrib/cdn/cdn.install
modules/contrib/cdn/cdn.module
modules/contrib/cdn/cdn_ui/src/Form/CdnSettingsForm.php
modules/contrib/cdn/cdn_ui/src/Form/ValidatableConfigFormBase.php
modules/contrib/cdn/src/Asset/CssOptimizer.php
modules/contrib/cdn/src/CdnFarfutureController.php
modules/contrib/cdn/src/CdnServiceProvider.php
modules/contrib/cdn/src/CdnSettings.php
modules/contrib/cdn/src/EventSubscriber/ConfigSubscriber.php
modules/contrib/cdn/src/EventSubscriber/HtmlResponseSubscriber.php
modules/contrib/cdn/src/File/FileUrlGenerator.php
modules/contrib/cdn/src/PathProcessor/CdnFarfuturePathProcessor.php
modules/contrib/cdn/src/Plugin/Validation/Constraint/CdnDomainConstraint.php
modules/contrib/cdn/src/Plugin/Validation/Constraint/CdnDomainConstraintValidator.php
modules/contrib/cdn/src/Plugin/Validation/Constraint/CdnSchemeConstraint.php
modules/contrib/cdn/src/Plugin/Validation/Constraint/CdnSchemeConstraintValidator.php
modules/contrib/cdn/src/Plugin/Validation/Constraint/CdnStreamWrapperConstraint.php
modules/contrib/cdn/src/Plugin/Validation/Constraint/CdnStreamWrapperConstraintValidator.php
modules/contrib/cdn/src/StackMiddleware/DuplicateContentPreventionMiddleware.php
modules/contrib/cdn/tests/fixtures/update/drupal-8.cdn-cdn_update_8001.php
modules/contrib/cdn/tests/src/Functional/CdnIntegrationTest.php
modules/contrib/cdn/tests/src/Functional/Update/CdnDefaultSettingsUpdateTest.php
modules/contrib/cdn/tests/src/Functional/Update/CdnSchemeSettingsUpdateTest.php
modules/contrib/cdn/tests/src/Functional/Update/CdnStreamWrapperSettingsUpdateTest.php
modules/contrib/cdn/tests/src/Kernel/CdnStreamWrapperConstraintValidatorTest.php
modules/contrib/cdn/tests/src/Kernel/EditorFileReferenceFilterTest.php
modules/contrib/cdn/tests/src/Unit/CdnSettingsTest.php
modules/contrib/cdn/tests/src/Unit/File/FileUrlGeneratorTest.php
modules/contrib/cdn/tests/src/Unit/Plugin/Validation/Constraint/CdnDomainConstraintValidatorTest.php
modules/contrib/cdn/tests/src/Unit/Plugin/Validation/Constraint/CdnSchemeConstraintValidatorTest.php
modules/contrib/cdn/tests/src/Unit/StackMiddleware/DuplicateContentPreventionMiddlewareTest.php

18 files with changes
=====================

1) modules/contrib/cdn/tests/src/Unit/StackMiddleware/DuplicateContentPreventionMiddlewareTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\cdn\Unit\StackMiddleware;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\cdn\StackMiddleware\DuplicateContentPreventionMiddleware;
 use Drupal\Core\DependencyInjection\ContainerBuilder;
 use Drupal\Core\Utility\UnroutedUrlAssemblerInterface;
@@ @@
  */
 class DuplicateContentPreventionMiddlewareTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::handle
    * @covers ::getRedirectUrl
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/cdn/tests/src/Unit/Plugin/Validation/Constraint/CdnSchemeConstraintValidatorTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\cdn\Unit\Plugin\Validation\Constraint;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\cdn\Plugin\Validation\Constraint\CdnSchemeConstraint;
 use Drupal\cdn\Plugin\Validation\Constraint\CdnSchemeConstraintValidator;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class CdnSchemeConstraintValidatorTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::validate
    *
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/cdn/tests/src/Unit/Plugin/Validation/Constraint/CdnDomainConstraintValidatorTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\cdn\Unit\Plugin\Validation\Constraint;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\cdn\Plugin\Validation\Constraint\CdnDomainConstraint;
 use Drupal\cdn\Plugin\Validation\Constraint\CdnDomainConstraintValidator;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class CdnDomainConstraintValidatorTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::validate
    *
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/cdn/tests/src/Unit/File/FileUrlGeneratorTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\cdn\Unit\File;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\cdn\CdnSettings;
 use Drupal\cdn\File\FileUrlGenerator;
 use Drupal\Component\Utility\Crypt;
@@ @@
  */
 class FileUrlGeneratorTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The private key to use in tests.
    *
@@ @@
    * @param array $raw_config
    *   The raw config for the cdn.settings.yml config.
    *
-   * @return \Drupal\cdn\File\FileUrlGenerator
+   * @return FileUrlGenerator
    *   The FileUrlGenerator to test.
    */
   protected function createFileUrlGenerator($base_path, array $raw_config) {
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/cdn/tests/src/Unit/CdnSettingsTest.php:380

    ---------- begin diff ----------
@@ @@
    * @param array $raw_config
    *   The raw config for the cdn.settings.yml config.
    *
-   * @return \Drupal\cdn\CdnSettings
+   * @return CdnSettings
    *   The CdnSettings object to test.
    */
   protected function createCdnSettings(array $raw_config) {
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/cdn/tests/src/Kernel/EditorFileReferenceFilterTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\cdn\Kernel;

+use Drupal\filter\Plugin\FilterInterface;
 use Drupal\file\Entity\File;
 use Drupal\filter\FilterPluginCollection;
 use Drupal\KernelTests\KernelTestBase;
@@ @@
   ];

   /**
-   * @var \Drupal\filter\Plugin\FilterInterface[]
+   * @var FilterInterface[]
    */
   protected $filters;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/cdn/tests/src/Kernel/CdnStreamWrapperConstraintValidatorTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\cdn\Kernel;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\cdn\Plugin\Validation\Constraint\CdnStreamWrapperConstraint;
 use Drupal\cdn\Plugin\Validation\Constraint\CdnStreamWrapperConstraintValidator;
 use Drupal\KernelTests\KernelTestBase;
@@ @@
  */
 class CdnStreamWrapperConstraintValidatorTest extends KernelTestBase {

+  use ProphecyTrait;
   /**
    * {@inheritdoc}
    */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/cdn/src/StackMiddleware/DuplicateContentPreventionMiddleware.php:59

    ---------- begin diff ----------
@@ @@
   /**
    * The decorated kernel.
    *
-   * @var \Symfony\Component\HttpKernel\HttpKernelInterface
+   * @var HttpKernelInterface
    */
   protected $httpKernel;

@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * Constructs a DuplicateContentPreventionMiddleware object.
    *
-   * @param \Symfony\Component\HttpKernel\HttpKernelInterface $http_kernel
+   * @param HttpKernelInterface $http_kernel
    *   The decorated kernel.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    */
   public function __construct(HttpKernelInterface $http_kernel, RequestStack $request_stack) {
@@ @@
   /**
    * Determines whether a redirect should be performed for the current request.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request.
    *
    * @return bool|string
@@ @@
   /**
    * Generates a redirect URL for the given request.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   A request.
    *
    * @return string
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


9) modules/contrib/cdn/src/Plugin/Validation/Constraint/CdnStreamWrapperConstraintValidator.php:3

    ---------- begin diff ----------
@@ @@

 namespace Drupal\cdn\Plugin\Validation\Constraint;

+use Drupal\Core\StreamWrapper\StreamWrapperManagerInterface;
 use Symfony\Component\Validator\Constraint;
 use Symfony\Component\Validator\ConstraintValidator;
 use Symfony\Component\Validator\Exception\UnexpectedTypeException;
@@ @@
    * @return bool
    */
   protected static function isValidCdnStreamWrapper(string $stream_wrapper) : bool {
-    /** @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager */
+    /** @var StreamWrapperManagerInterface $stream_wrapper_manager */
     $stream_wrapper_manager = \Drupal::service('stream_wrapper_manager');
     $forbidden_wrappers = ['private'];
     return !in_array($stream_wrapper, $forbidden_wrappers, TRUE)
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/cdn/src/PathProcessor/CdnFarfuturePathProcessor.php:39

    ---------- begin diff ----------
@@ @@
    *
    * @param string $path
    *   The path.
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The request.
    *
    * @return string
@@ @@
    *
    * @param string $path
    *   The path.
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The request.
    *
    * @return string
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


11) modules/contrib/cdn/src/File/FileUrlGenerator.php:31

    ---------- begin diff ----------
@@ @@
   /**
    * The stream wrapper manager.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;

@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * The private key service.
    *
-   * @var \Drupal\Core\PrivateKey
+   * @var PrivateKey
    */
   protected $privateKey;

@@ @@
   /**
    * The CDN settings service.
    *
-   * @var \Drupal\cdn\CdnSettings
+   * @var CdnSettings
    */
   protected $settings;

@@ @@
    *
    * @param string $root
    *   The app root.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager
+   * @param StreamWrapperManagerInterface $stream_wrapper_manager
    *   The stream wrapper manager.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
-   * @param \Drupal\Core\PrivateKey $private_key
+   * @param PrivateKey $private_key
    *   The private key service.
-   * @param \Drupal\cdn\CdnSettings $cdn_settings
+   * @param CdnSettings $cdn_settings
    *   The CDN settings service.
    */
   public function __construct($root, StreamWrapperManagerInterface $stream_wrapper_manager, RequestStack $request_stack, PrivateKey $private_key, CdnSettings $cdn_settings) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


12) modules/contrib/cdn/src/EventSubscriber/HtmlResponseSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\cdn\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\ResponseEvent;
 use Drupal\cdn\CdnSettings;
 use Drupal\Core\Render\HtmlResponse;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;

@@ @@
   /**
    * The CDN settings service.
    *
-   * @var \Drupal\cdn\CdnSettings
+   * @var CdnSettings
    */
   protected $settings;

   /**
-   * @param \Drupal\cdn\CdnSettings $cdn_settings
+   * @param CdnSettings $cdn_settings
    *   The CDN settings service.
    */
   public function __construct(CdnSettings $cdn_settings) {
@@ @@
   }

   /**
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param ResponseEvent $event
    *   The event to process.
    */
-  public function onRespond(FilterResponseEvent $event) {
+  public function onRespond(ResponseEvent $event) {
     $response = $event->getResponse();
     if (!$response instanceof HtmlResponse) {
       return;
@@ @@
   /**
    * Adds DNS prefetch link headers to the HTML response.
    *
-   * @param \Drupal\Core\Render\HtmlResponse $response
+   * @param HtmlResponse $response
    *   The HTML response to update.
    *
    * @see https://www.w3.org/TR/resource-hints/#dns-prefetch
@@ @@
   /**
    * Adds preconnect link headers to the HTML response.
    *
-   * @param \Drupal\Core\Render\HtmlResponse $response
+   * @param HtmlResponse $response
    *   The HTML response to update.
    *
    * @see https://www.w3.org/TR/resource-hints/#preconnect
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


13) modules/contrib/cdn/src/EventSubscriber/ConfigSubscriber.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * The cache tags invalidator.
    *
-   * @var \Drupal\Core\Cache\CacheTagsInvalidatorInterface
+   * @var CacheTagsInvalidatorInterface
    */
   protected $cacheTagsInvalidator;

@@ @@
   /**
    * The typed config manager.
    *
-   * @var \Drupal\Core\Config\TypedConfigManagerInterface
+   * @var TypedConfigManagerInterface
    */
   protected $typedConfigManager;

@@ @@
   /**
    * The Drupal kernel.
    *
-   * @var \Drupal\Core\DrupalKernelInterface
+   * @var DrupalKernelInterface
    */
   protected $drupalKernel;

@@ @@
   /**
    * The config installer.
    *
-   * @var \Drupal\Core\Config\ConfigInstallerInterface
+   * @var ConfigInstallerInterface
    */
   protected $configInstaller;

@@ @@
   /**
    * Constructs a ConfigSubscriber object.
    *
-   * @param \Drupal\Core\Cache\CacheTagsInvalidatorInterface $cache_tags_invalidator
+   * @param CacheTagsInvalidatorInterface $cache_tags_invalidator
    *   The cache tags invalidator.
-   * @param \Drupal\Core\Config\TypedConfigManagerInterface $typed_config_manager
+   * @param TypedConfigManagerInterface $typed_config_manager
    *   The typed config manager.
-   * @param \Drupal\Core\DrupalKernelInterface $drupal_kernel
+   * @param DrupalKernelInterface $drupal_kernel
    *   The Drupal kernel.
-   * @param \Drupal\Core\Config\ConfigInstallerInterface $config_installer
+   * @param ConfigInstallerInterface $config_installer
    *   The config installer.
    */
   public function __construct(CacheTagsInvalidatorInterface $cache_tags_invalidator, TypedConfigManagerInterface $typed_config_manager, DrupalKernelInterface $drupal_kernel, ConfigInstallerInterface $config_installer) {
@@ @@
   /**
    * Invalidates all render caches when CDN settings are modified.
    *
-   * @param \Drupal\Core\Config\ConfigCrudEvent $event
+   * @param ConfigCrudEvent $event
    *   The Event to process.
    */
   public function onSave(ConfigCrudEvent $event) {
@@ @@
   /**
    * Validates the given config.
    *
-   * @param \Drupal\Core\Config\Config $config
+   * @param Config $config
    *   The CDN settings configuration to validate.
    *
    * @throws \DomainException
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


14) modules/contrib/cdn/src/CdnSettings.php:3

    ---------- begin diff ----------
@@ @@

 namespace Drupal\cdn;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Component\Assertion\Inspector;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\ConfigValueException;
@@ @@
   /**
    * The CDN settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $rawSettings;

@@ @@
   /**
    * Constructs a new CdnSettings object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
    */
   public function __construct(ConfigFactoryInterface $config_factory) {
@@ @@
    *   Values are CDN domains (either string if only one, or array of strings if
    *   multiple).
    *
-   * @throws \Drupal\Core\Config\ConfigValueException
+   * @throws ConfigValueException
    *
    * @todo Abstract this out further in the future if the need arises, i.e. if
    *       more conditions besides extensions are added. For now, KISS.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


15) modules/contrib/cdn/src/CdnFarfutureController.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * The private key service.
    *
-   * @var \Drupal\Core\PrivateKey
+   * @var PrivateKey
    */
   protected $privateKey;

@@ @@
   /**
    * The stream wrapper manager.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;

   /**
-   * @param \Drupal\Core\PrivateKey $private_key
+   * @param PrivateKey $private_key
    *   The private key service.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager
+   * @param StreamWrapperManagerInterface $stream_wrapper_manager
    *   The stream wrapper manager.
    */
   public function __construct(PrivateKey $private_key, StreamWrapperManagerInterface $stream_wrapper_manager) {
@@ @@
   /**
    * Serves the requested file with optimal far future expiration headers.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request. $request->query must have relative_file_url, set by
    *   \Drupal\cdn\PathProcessor\CdnFarfuturePathProcessor.
    * @param string $security_token
@@ @@
    * @param string $scheme
    *   The file's scheme.
    *
-   * @return \Symfony\Component\HttpFoundation\BinaryFileResponse|\Symfony\Component\HttpFoundation\Response
+   * @return BinaryFileResponse|Response
    *   The response that will efficiently send the requested file.
    *
-   * @throws \Symfony\Component\HttpKernel\Exception\BadRequestHttpException
+   * @throws BadRequestHttpException
    *   Thrown when the 'relative_file_url' query argument is not set, which can
    *   only happen in case of malicious requests or in case of a malfunction in
    *   \Drupal\cdn\PathProcessor\CdnFarfuturePathProcessor.
@@ @@
   /**
    * Serves the requested file with optimal far future expiration headers.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request. $request->query must have root_relative_file_url,
    *   set by \Drupal\cdn\PathProcessor\CdnFarfuturePathProcessor.
    * @param string $security_token
@@ @@
    * @param int $mtime
    *   The file's mtime.
    *
-   * @return \Symfony\Component\HttpFoundation\BinaryFileResponse|\Symfony\Component\HttpFoundation\Response
+   * @return BinaryFileResponse|Response
    *   The response that will efficiently send the requested file.
    *
-   * @throws \Symfony\Component\HttpKernel\Exception\BadRequestHttpException
+   * @throws BadRequestHttpException
    *   Thrown when the 'root_relative_file_url' query argument is not set, which
    *   can only happen in case of malicious requests or in case of a malfunction
    *   in \Drupal\cdn\PathProcessor\CdnFarfuturePathProcessor.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


16) modules/contrib/cdn/src/Asset/CssOptimizer.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The decorated CSS asset optimizer service.
    *
-   * @var \Drupal\Core\Asset\AssetOptimizerInterface
+   * @var AssetOptimizerInterface
    */
   protected $decoratedCssOptimizer;

   /**
-   * @param \Drupal\Core\Asset\AssetOptimizerInterface $decorated_css_optimizer
+   * @param AssetOptimizerInterface $decorated_css_optimizer
    *   The decorated CSS asset optimizer service.
    */
   public function __construct(AssetOptimizerInterface $decorated_css_optimizer) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


17) modules/contrib/cdn/cdn_ui/src/Form/CdnSettingsForm.php:31

    ---------- begin diff ----------
@@ @@
   /**
    * The stream wrapper manager.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;

@@ @@
    *
    * @param string $stream_wrapper_scheme
    *   A valid stream wrapper scheme.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperInterface $stream_wrapper
+   * @param StreamWrapperInterface $stream_wrapper
    *   A stream wrapper instance.
    *
    * @return bool
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/cdn/cdn.module:89

    ---------- begin diff ----------
@@ @@

   $ckeditor_plugin_manager = \Drupal::service('plugin.manager.ckeditor.plugin');
   $root_relative_file_url = function ($uri) {
-    return file_url_transform_relative(file_create_url($uri));
+    return \Drupal::service('file_url_generator')->generateString($uri);
   };
   foreach ($settings['editor']['formats'] as $format => &$format_settings) {
     if ($format_settings['editor'] === 'ckeditor') {
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector


 [OK] 18 files have been changed by Rector                                      

