modules/contrib/spamspan/spamspan.module
modules/contrib/spamspan/src/Form/SpamspanTestForm.php
modules/contrib/spamspan/src/Plugin/Field/FieldFormatter/EmailSpamspanFormatter.php
modules/contrib/spamspan/src/Plugin/Filter/FilterSpamspan.php
modules/contrib/spamspan/src/SpamspanDomTrait.php
modules/contrib/spamspan/src/SpamspanInterface.php
modules/contrib/spamspan/src/SpamspanSettingsFormTrait.php
modules/contrib/spamspan/src/SpamspanTrait.php
modules/contrib/spamspan/src/TwigExtension/SpamspanExtension.php
modules/contrib/spamspan/tests/src/Kernel/FilterSpamspanUnitTest.php

4 files with changes
====================

1) modules/contrib/spamspan/tests/src/Kernel/FilterSpamspanUnitTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\spamspan\Kernel;

+use Drupal\spamspan\Plugin\Filter\FilterSpamspan;
 use Drupal\filter\FilterPluginCollection;
 use Drupal\KernelTests\KernelTestBase;

@@ @@
   /**
    * Default spamspan filter.
    *
-   * @var \Drupal\spamspan\Plugin\Filter\FilterSpamspan
+   * @var FilterSpamspan
    */
   protected $spamspanFilter;

@@ @@
   /**
    * Default spamspan filter with spamspan_use_form = 1.
    *
-   * @var \Drupal\spamspan\Plugin\Filter\FilterSpamspan
+   * @var FilterSpamspan
    */
   protected $spamspanFilterForm;

@@ @@
   /**
    * Default spamspan filter with custom at and dot.
    *
-   * @var \Drupal\spamspan\Plugin\Filter\FilterSpamspan
+   * @var FilterSpamspan
    */
   protected $spamspanFilterAtDot;

@@ @@
     $this->spamspanFilterAtDot = $manager->createInstance('filter_spamspan', $configuration);

     // Read the test image from the file provided.
-    $this->base64Image = file_get_contents(drupal_get_path('module', 'spamspan') . '/tests/src/Kernel/base64image.txt');
+    $this->base64Image = file_get_contents(\Drupal::service('extension.list.module')->getPath('spamspan') . '/tests/src/Kernel/base64image.txt');

   }

@@ @@
     // Graphical at and [dot].
     $emails = [
       'user@example.com' => $this->withDom
-      ? '<span class="spamspan"><span class="u">user</span><img class="spamspan-image" alt="at" src="' . base_path() . drupal_get_path('module',
-          'spamspan') . '/image.gif"><span class="d">example<span class="o"> [dot] </span>com</span></span>'
-      : '<span class="spamspan"><span class="u">user</span><img class="spamspan-image" alt="at" src="' . base_path() . drupal_get_path('module',
-          'spamspan') . '/image.gif" /><span class="d">example<span class="o"> [dot] </span>com</span></span>',
+      ? '<span class="spamspan"><span class="u">user</span><img class="spamspan-image" alt="at" src="' . base_path() . \Drupal::service('extension.list.module')->getPath('spamspan') . '/image.gif"><span class="d">example<span class="o"> [dot] </span>com</span></span>'
+      : '<span class="spamspan"><span class="u">user</span><img class="spamspan-image" alt="at" src="' . base_path() . \Drupal::service('extension.list.module')->getPath('spamspan') . '/image.gif" /><span class="d">example<span class="o"> [dot] </span>com</span></span>',
     ];

     foreach ($emails as $input => $shouldbe) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/spamspan/src/TwigExtension/SpamspanExtension.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\Renderer
+   * @var Renderer
    */
   protected $renderer;

@@ @@
   /**
    * Constructor of SpamSpanExtension.
    *
-   * @param \Drupal\Core\Render\Renderer $renderer
+   * @param Renderer $renderer
    *   The renderer.
    */
   public function __construct(Renderer $renderer) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/spamspan/src/SpamspanTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\spamspan;

+use Drupal\Core\Render\RendererInterface;
 use Drupal\Component\Utility\Html;
 use Drupal\Component\Utility\Xss;

@@ @@
         '#theme' => 'spamspan_at_sign',
         '#settings' => $this->settings,
       ];
-      /** @var \Drupal\Core\Render\RendererInterface $renderer */
+      /** @var RendererInterface $renderer */
       $renderer = \Drupal::service('renderer');
       $at = $renderer->renderPlain($render_at);
     }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


4) modules/contrib/spamspan/spamspan.module:62

    ---------- begin diff ----------
@@ @@
   return [
     'spamspan_at_sign' => [
       'variables' => [
-        'path' => base_path() . drupal_get_path('module', 'spamspan') . '/image.gif',
+        'path' => base_path() . \Drupal::service('extension.list.module')->getPath('spamspan') . '/image.gif',
         'settings' => [],
       ],
     ],
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 4 files have been changed by Rector                                       

