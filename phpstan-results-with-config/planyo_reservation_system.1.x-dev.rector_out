modules/contrib/planyo_reservation_system/planyo.profile
modules/contrib/planyo_reservation_system/src/Common/PlanyoUtils.php
modules/contrib/planyo_reservation_system/src/Controller/PlanyoController.php
modules/contrib/planyo_reservation_system/src/Form/ModuleConfigurationForm.php
modules/contrib/planyo_reservation_system/src/ModuleConfigurationForm.php
modules/contrib/planyo_reservation_system/src/PlanyoUtils.php
modules/contrib/planyo_reservation_system/src/Plugin/Block/PlanyoBlock.php
modules/contrib/planyo_reservation_system/src/ulap/Controller/PlanyoUlapController.php

2 files with changes
====================

1) modules/contrib/planyo_reservation_system/src/PlanyoUtils.php:40

    ---------- begin diff ----------
@@ @@
     $headers = array('Content-Type' => 'application/x-www-form-urlencoded');

     try {
-      $client = new \GuzzleHttp\Client();
+      $client = new Client();
       $response = $client->post($url, ['query'=>$data, 'headers'=>$headers]);
       $data = $response->getBody();
     }
@@ @@
     $user = Drupal::currentUser();
     $planyo_login_info = null;
     if ($user && $user->id() && PlanyoUtils::variable_get('planyo_use_login', '0') == '1') {
-      $user_fields = user_load($user->id());
+      $user_fields = \Drupal::service('entity_type.manager')->getStorage('user')->load($user->id());
       $last_name = null;
       $first_name = null;
       $email = null;
@@ @@
     $retarr['#attached']['drupalSettings']['planyo'] = array('ulap_script' => $ulap_script,
                                           'drupal_version' => 8,
                                           'planyo_site_id' => $planyo_site_id,  // ID of your planyo site
-                                          'planyo_files_location' => drupal_get_path('module', 'planyo'),  // relative or absolute directory where the planyo files are kept
+                                          'planyo_files_location' => \Drupal::service('extension.list.module')->getPath('planyo'),  // relative or absolute directory where the planyo files are kept
                                           'extra_search_fields' => PlanyoUtils::variable_get('planyo_extra_search_fields', ''), // comma-separated extra fields in the search box
                                           'planyo_language' => $default_language,  // you can optionally change the language here, e.g. 'FR' or 'ES'
                                           'sort_fields' => PlanyoUtils::variable_get('planyo_sort_fields', 'name,price'),  // comma-separated sort fields -- a single field will hide the sort dropdown box
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * UserLoadRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/planyo_reservation_system/src/Common/PlanyoUtils.php:40

    ---------- begin diff ----------
@@ @@
     $headers = array('Content-Type' => 'application/x-www-form-urlencoded');

     try {
-      $client = new \GuzzleHttp\Client();
+      $client = new Client();
       $response = $client->post($url, ['query'=>$data, 'headers'=>$headers]);
       $data = $response->getBody();
     }
@@ @@
     $user = Drupal::currentUser();
     $planyo_login_info = null;
     if ($user && $user->id() && PlanyoUtils::variable_get('planyo_use_login', '0') == '1') {
-      $user_fields = user_load($user->id());
+      $user_fields = \Drupal::service('entity_type.manager')->getStorage('user')->load($user->id());
       $last_name = null;
       $first_name = null;
       $email = null;
@@ @@
     $retarr['#attached']['drupalSettings']['planyo'] = array('ulap_script' => $ulap_script,
                                           'drupal_version' => 8,
                                           'planyo_site_id' => $planyo_site_id,  // ID of your planyo site
-                                          'planyo_files_location' => drupal_get_path('module', 'planyo'),  // relative or absolute directory where the planyo files are kept
+                                          'planyo_files_location' => \Drupal::service('extension.list.module')->getPath('planyo'),  // relative or absolute directory where the planyo files are kept
                                           'extra_search_fields' => PlanyoUtils::variable_get('planyo_extra_search_fields', ''), // comma-separated extra fields in the search box
                                           'planyo_language' => $default_language,  // you can optionally change the language here, e.g. 'FR' or 'ES'
                                           'sort_fields' => PlanyoUtils::variable_get('planyo_sort_fields', 'name,price'),  // comma-separated sort fields -- a single field will hide the sort dropdown box
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * UserLoadRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


 [OK] 2 files have been changed by Rector                                       

