modules/contrib/taxonomy_container/src/Plugin/EntityReferenceSelection/TermSelection.php
modules/contrib/taxonomy_container/tests/src/Unit/TermSelectionTest.php

2 files with changes
====================

1) modules/contrib/taxonomy_container/tests/src/Unit/TermSelectionTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\taxonomy_container\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Prophecy\Prophecy\ObjectProphecy;
+use PHPUnit\Framework\MockObject\MockObject;
 use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Entity\EntityRepositoryInterface;
 use Drupal\Core\Entity\EntityTypeBundleInfoInterface;
@@ @@
  */
 class TermSelectionTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The mocked entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var EntityTypeManagerInterface|ObjectProphecy
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The mocked module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var ModuleHandlerInterface|ObjectProphecy
    */
   protected $moduleHandler;

@@ @@
   /**
    * The mocked taxonomy term entity storage.
    *
-   * @var \Drupal\taxonomy\TermStorageInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var TermStorageInterface|ObjectProphecy
    */
   protected $termStorage;

@@ @@
   /**
    * A mocked test user.
    *
-   * @var \Drupal\Core\Session\AccountInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var AccountInterface|ObjectProphecy
    */
   protected $user;

@@ @@
   /**
    * A mocked entity field manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var EntityFieldManagerInterface|ObjectProphecy
    */
   protected $entityFieldManager;

@@ @@
   /**
    * A mocked bundle info service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var EntityTypeBundleInfoInterface|ObjectProphecy
    */
   public $entityTypeBundleInfo;

@@ @@
   /**
    * A mocked entity repository.
    *
-   * @var \Drupal\Core\Entity\EntityRepositoryInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var EntityRepositoryInterface|ObjectProphecy
    */
   protected $entityRepository;

@@ @@
    *   Optional ID of the first parent term. Omit this or set to 0 to indicate
    *   that this is a root level term.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    *   The mocked term entity.
    */
   protected function getMockTerm($id, $label, $parent = 0) {
@@ @@
     // We're using MockBuilder instead of Prophecy so we can mock the accessing
     // of the public properties $term->parents and $term->depth. This is not
     // supported by Prophecy.
-    $term = $this->getMockBuilder(Term::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $term = $this->createMock(Term::class);
     $term->expects($this->any())
       ->method('id')
       ->willReturn($id);
@@ @@
   /**
    * Returns an instance of the plugin being tested.
    *
-   * @return \Drupal\taxonomy_container\Plugin\EntityReferenceSelection\TermSelection
+   * @return TermSelection
    *   The plugin being tested.
    */
   protected function instantiatePlugin(array $configuration = []) {
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/taxonomy_container/src/Plugin/EntityReferenceSelection/TermSelection.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\taxonomy_container\Plugin\EntityReferenceSelection;

+use Drupal\taxonomy\TermStorageInterface;
+use Drupal\taxonomy\TermInterface;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\taxonomy\Plugin\EntityReferenceSelection\TermSelection as BaseTermSelection;
@@ @@
     $bundles = $this->entityTypeBundleInfo->getBundleInfo('taxonomy_term');
     $bundle_names = $this->getConfiguration()['target_bundles'] ?: array_keys($bundles);

-    /** @var \Drupal\taxonomy\TermStorageInterface $term_storage */
+    /** @var TermStorageInterface $term_storage */
     $term_storage = $this->entityTypeManager->getStorage('taxonomy_term');

     $prefix = $this->configuration['prefix'];
@@ @@
         $key = $bundle;
       }

-      /** @var \Drupal\taxonomy\TermInterface[] $terms */
+      /** @var TermInterface[] $terms */
       $terms = $term_storage->loadTree($bundle, 0, NULL, TRUE);
       $protected_terms = [];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

