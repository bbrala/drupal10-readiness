diff --git a/ga_push.module b/ga_push.module
index d89f19f..11f79d5 100755
--- a/ga_push.module
+++ b/ga_push.module
@@ -663,7 +663,7 @@ function ga_push_get_event_non_interaction_option_list() {
  */
 function ga_push_ga_push_method() {
 
-  $module_path = drupal_get_path('module', 'ga_push');
+  $module_path = \Drupal::service('extension.list.module')->getPath('ga_push');
 
   $method[GA_PUSH_METHOD_ANALYTICS_JS] = [
     'name' => 'Analytics.js (js)',
diff --git a/inc/ga_push.admin.inc b/inc/ga_push.admin.inc
index 34bb29f..c22b4e6 100755
--- a/inc/ga_push.admin.inc
+++ b/inc/ga_push.admin.inc
@@ -21,7 +21,7 @@ function ga_push_settings_form($form, &$form_state) {
   ];
 
   $form['help'] = [
-    '#markup' => render($help),
+    '#markup' => \Drupal::service('renderer')->render($help),
   ];
 
   $form['ga_push_default_method'] = [
diff --git a/src/GaIdService.php b/src/GaIdService.php
index 500d7b8..a2006f0 100644
--- a/src/GaIdService.php
+++ b/src/GaIdService.php
@@ -14,23 +14,23 @@ class GaIdService implements GaIdServiceInterface {
   /**
    * Drupal\Core\Config\ConfigManagerInterface definition.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * Constructs a new AnalyticsIdService object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_manager
+   * @param ConfigFactoryInterface $config_manager
    *   Configuration manager.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Module handler service.
    */
   public function __construct(ConfigFactoryInterface $config_manager, ModuleHandlerInterface $module_handler) {
