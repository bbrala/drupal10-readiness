diff --git a/ckeditor_imagesfromserver.info.yml b/ckeditor_imagesfromserver.info.yml
index 10683a1..a95b934 100644
--- a/ckeditor_imagesfromserver.info.yml
+++ b/ckeditor_imagesfromserver.info.yml
@@ -1,8 +1,7 @@
 name: CKEditor ImagesFromServer
 type: module
 description: CKEditor ImagesFromServer plugin.
-core: 8.x
 package: CKEditor
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:ckeditor
diff --git a/src/Plugin/CKEditorPlugin/ImagesFromServerPlugin.php b/src/Plugin/CKEditorPlugin/ImagesFromServerPlugin.php
index a4d9de6..1c0b788 100755
--- a/src/Plugin/CKEditorPlugin/ImagesFromServerPlugin.php
+++ b/src/Plugin/CKEditorPlugin/ImagesFromServerPlugin.php
@@ -22,7 +22,7 @@ class ImagesFromServerPlugin extends CKEditorPluginBase implements ContainerFact
   /**
    * The config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
@@ -53,7 +53,7 @@ class ImagesFromServerPlugin extends CKEditorPluginBase implements ContainerFact
     return [
       'ImagesFromServer' => [
         'label' => $this->t('ImagesFromServer'),
-        'image' => drupal_get_path('module', 'ckeditor_imagesfromserver') . '/icons/icon.png',
+        'image' => \Drupal::service('extension.list.module')->getPath('ckeditor_imagesfromserver') . '/icons/icon.png',
       ],
     ];
   }
@@ -119,7 +119,7 @@ class ImagesFromServerPlugin extends CKEditorPluginBase implements ContainerFact
 
     // Installation profiles can place libraries into a 'libraries' directory.
     if ($installProfile = \Drupal::installProfile()) {
-      $profile_path = drupal_get_path('profile', $installProfile);
+      $profile_path = \Drupal::service('extension.list.profile')->getPath($installProfile);
       $directories[] = "$profile_path/libraries/";
     }
 
