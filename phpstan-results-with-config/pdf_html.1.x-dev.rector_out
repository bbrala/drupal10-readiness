modules/contrib/pdf_html/src/Form/PdfHtmlForm.php

1 file with changes
===================

1) modules/contrib/pdf_html/src/Form/PdfHtmlForm.php:31

    ---------- begin diff ----------
@@ @@
   /**
    * Batch Builder.
    *
-   * @var \Drupal\Core\Batch\BatchBuilder
+   * @var BatchBuilder
    */
   protected $batchBuilder;
   /**
    * Configuration Factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   protected $config;
   /**
    * Entity field manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManager
+   * @var EntityFieldManager
    */
   protected $entityFieldManager;
   /**
    * Entity Stream Wrapper.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManager
+   * @var StreamWrapperManager
    */
   protected $streamWrapperManager;
   /**
    * Entity Type Manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManager
+   * @var EntityTypeManager
    */
   protected $entityTypeManager;
   /**
    * Drupal Renderer.
    *
-   * @var \Drupal\Core\Render\Renderer
+   * @var Renderer
    */
   protected $renderer;

@@ @@
       ->setProgressMessage($this->t('Completed @current of @total.'))
       ->setErrorMessage($this->t('An error has occurred.'));
     $items = [];
-    $this->batchBuilder->setFile(drupal_get_path('module', 'pdf_html') . '/src/Form/PdfHtmlForm.php');
+    $this->batchBuilder->setFile(\Drupal::service('extension.list.module')->getPath('pdf_html') . '/src/Form/PdfHtmlForm.php');
     $files = array_diff(preg_grep('~\.(pdf)$~', scandir($form_state->getValue('destination'))), [
       '.',
       '..',
@@ @@
     }
     // Create file object from remote URL.
     $data = file_get_contents($file_path);
-    $file = file_save_data($data, 'public://' . $file_name, FileSystemInterface::EXISTS_REPLACE);
+    $file = \Drupal::service('file.repository')->writeData($data, 'public://' . $file_name, FileSystemInterface::EXISTS_REPLACE);
     // Create node object with attached file.
     $node = Node::create([
       'type' => $target_bundle,
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileSaveDataRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

