modules/contrib/insert_view_adv/insert_view_adv.install
modules/contrib/insert_view_adv/insert_view_adv.module
modules/contrib/insert_view_adv/modules/bueditor/src/Plugin/BUEditorPlugin/DrupalViews.php
modules/contrib/insert_view_adv/src/Ajax/InsertViewCommand.php
modules/contrib/insert_view_adv/src/Controller/AdvancedInsertViewController.php
modules/contrib/insert_view_adv/src/Form/InsertViewDialog.php
modules/contrib/insert_view_adv/src/Plugin/CKEditorPlugin/InsertView.php
modules/contrib/insert_view_adv/src/Plugin/Filter/InsertView.php

4 files with changes
====================

1) modules/contrib/insert_view_adv/src/Plugin/Filter/InsertView.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\insert_view_adv\Plugin\Filter;

+use Drupal\views\ViewExecutable;
+use Symfony\Component\HttpFoundation\Request;
 use Drupal\Component\Serialization\Json;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Security\TrustedCallbackInterface;
@@ @@
         return ['#attached' => [], '#markup' => $plain];
       }
     }
-    /** @var \Drupal\views\ViewExecutable $view */
+    /** @var ViewExecutable $view */
     $view = Views::getView($view_name);
     if (empty($view)) {
       return ['#attached' => [], '#markup' => $plain];
@@ @@
       return ['#attached' => [], '#markup' => $plain];
     }
     $view->setDisplay($display_id);
-    /** @var \Symfony\Component\HttpFoundation\Request $request */
+    /** @var Request $request */
     $request = \Drupal::service('request_stack')->getCurrentRequest();
     $current_path = $request->getPathInfo();
     // Workaround for exposed filter reset button.
@@ @@
         '#type' => 'item_list',
         '#items' => $items,
       ];
-      return render($list);
+      return \Drupal::service('renderer')->render($list);
     }
     else {
       return $this->t('You may use [view:<em>name=display=args</em>] tags to display views.');
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/insert_view_adv/src/Plugin/CKEditorPlugin/InsertView.php:21

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'insert_view_adv') . '/plugin/plugin.js';
+    return \Drupal::service('extension.list.module')->getPath('insert_view_adv') . '/plugin/plugin.js';
   }

   /**
@@ @@
     return [
       'insert_view_adv' => [
         'label' => $this->t('Advanced insert View'),
-        'image' => drupal_get_path('module', 'insert_view_adv') . '/plugin/icon.png',
+        'image' => \Drupal::service('extension.list.module')->getPath('insert_view_adv') . '/plugin/icon.png',
       ],
     ];
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/insert_view_adv/src/Form/InsertViewDialog.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\insert_view_adv\Form;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\Core\Ajax\CloseModalDialogCommand;
 use Drupal\Core\Ajax\HtmlCommand;
@@ @@
 class InsertViewDialog extends FormBase {

   /**
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

   /**
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * InsertViewDialog constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entityTypeManager
+   * @param EntityTypeManagerInterface $entityTypeManager
    */
   public function __construct(EntityTypeManagerInterface $entityTypeManager, EntityFieldManagerInterface $entityFieldManager) {
     $this->entityTypeManager = $entityTypeManager;
@@ @@
   }

   /**
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *
-   * @return \Drupal\Core\Form\FormBase|\Drupal\insert_view_adv\Form\InsertViewDialog
+   * @return FormBase|\Drupal\insert_view_adv\Form\InsertViewDialog
    */
   public static function create(ContainerInterface $container) {
     return new static(
@@ @@
    * @param $view_block
    * @param $num
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function renderArgument(&$form, $form_state, $view_block, $num) {
     if (!empty($form['#view_arguments'][$view_block][$num])) {
@@ @@
   /**
    * Get a value from the widget in the WYSIWYG.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state to extract values from.
    * @param string $key
    *   The key to get from the selected WYSIWYG element.
@@ @@
   /**
    * Get the values from the form required for the client.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state from the dialog submission.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/insert_view_adv/src/Controller/AdvancedInsertViewController.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
   /**
    * Constructs a ViewAjaxController object.
    *
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
    */
   public function __construct(RendererInterface $renderer) {
@@ @@
   /**
    * Loads and renders a view via AJAX.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
    *
-   * @param \Drupal\filter\Entity\FilterFormat|null $filter_format
+   * @param FilterFormat|null $filter_format
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The view response as ajax response.
-   *
    */
   public function ajaxView(Request $request, FilterFormat $filter_format = NULL) {
     $name = $request->request->get('view_name');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [ERROR] Could not process                                                      
         "modules/contrib/insert_view_adv/modules/bueditor/src/Plugin/BUEditorPlug
         in/DrupalViews.php" file, due to:                                      
         "Analyze error: "Class Drupal\bueditor\BUEditorPluginBase not found.". 
         Include your files in "$rectorConfig->autoloadPaths([...]);" or        
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

