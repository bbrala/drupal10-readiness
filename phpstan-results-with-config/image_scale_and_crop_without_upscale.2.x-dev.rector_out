modules/contrib/image_scale_and_crop_without_upscale/src/Plugin/ImageEffect/ScaleAndCropWithoutUpscaleImageEffect.php
modules/contrib/image_scale_and_crop_without_upscale/tests/src/Functional/ImageEffectsTest.php

1 file with changes
===================

1) modules/contrib/image_scale_and_crop_without_upscale/tests/src/Functional/ImageEffectsTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\image_scale_and_crop_without_upscale\Functional;

+use Drupal\image\ImageEffectManager;
 use Drupal\FunctionalTests\Image\ToolkitTestBase;

 /**
@@ @@
   /**
    * The image effect manager.
    *
-   * @var \Drupal\image\ImageEffectManager
+   * @var ImageEffectManager
    */
   protected $manager;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->manager = $this->container->get('plugin.manager.image.effect');
   }
@@ @@
       $resultWidth = $data[4];
       $resultHeight = $data[5];

-      $this->file = drupal_get_path('module', 'image_scale_and_crop_without_upscale') . '/tests/images/200x200.png';
+      $this->file = \Drupal::service('extension.list.module')->getPath('image_scale_and_crop_without_upscale') . '/tests/images/200x200.png';
       $this->image = $this->getImage();
       $this->imageTestReset();

@@ @@

       // Check the parameters.
       $calls = $this->imageTestGetAllCalls();
-      $this->assertEqual($calls['scale_and_crop'][0][0], $cropX, 'X was computed and passed correctly for data set ' . serialize($data));
-      $this->assertEqual($calls['scale_and_crop'][0][1], $cropY, 'Y was computed and passed correctly for data set ' . serialize($data));
-      $this->assertEqual($calls['scale_and_crop'][0][2], $resultWidth, 'Width was computed and passed correctly for data set ' . serialize($data));
-      $this->assertEqual($calls['scale_and_crop'][0][3], $resultHeight, 'Height was computed and passed correctly for data set ' . serialize($data));
+      $this->assertEquals($calls['scale_and_crop'][0][0], $cropX, 'X was computed and passed correctly for data set ' . serialize($data));
+      $this->assertEquals($calls['scale_and_crop'][0][1], $cropY, 'Y was computed and passed correctly for data set ' . serialize($data));
+      $this->assertEquals($calls['scale_and_crop'][0][2], $resultWidth, 'Width was computed and passed correctly for data set ' . serialize($data));
+      $this->assertEquals($calls['scale_and_crop'][0][3], $resultHeight, 'Height was computed and passed correctly for data set ' . serialize($data));
     }
   }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * DrupalGetPathRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

