modules/contrib/opigno_calendar/opigno_calendar.install
modules/contrib/opigno_calendar/opigno_calendar.module
modules/contrib/opigno_calendar/src/Plugin/Field/FieldFormatter/TimeRangeFormatter.php
modules/contrib/opigno_calendar/src/Plugin/Field/FieldWidget/OpignoDateRangeWidget.php

4 files with changes
====================

1) modules/contrib/opigno_calendar/src/Plugin/Field/FieldWidget/OpignoDateRangeWidget.php:245

    ---------- begin diff ----------
@@ @@
    * @param string $pattern
    *   Date pattern.
    *
-   * @return \Drupal\Core\Datetime\DrupalDateTime
+   * @return DrupalDateTime
    *   Datetime object.
    *
    * @throws \Exception
@@ @@
    * This will take a default value, apply the proper timezone for display in
    * a widget, and set the default time for date-only fields.
    *
-   * @param \Drupal\Core\Datetime\DrupalDateTime $date
+   * @param DrupalDateTime $date
    *   The UTC default date.
    * @param string $timezone
    *   The timezone to apply.
    *
-   * @return \Drupal\Core\Datetime\DrupalDateTime
+   * @return DrupalDateTime
    *   A date object for use as a default value in a field widget.
    */
   protected function createDefaultValue(DrupalDateTime $date, $timezone) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/opigno_calendar/src/Plugin/Field/FieldFormatter/TimeRangeFormatter.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\opigno_calendar\Plugin\Field\FieldFormatter;

+use Drupal\Core\Datetime\DrupalDateTime;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\datetime_range\Plugin\Field\FieldFormatter\DateRangeCustomFormatter;
@@ @@

     foreach ($items as $delta => $item) {
       if (!empty($item->start_date) && !empty($item->end_date)) {
-        /** @var \Drupal\Core\Datetime\DrupalDateTime $start_date */
+        /** @var DrupalDateTime $start_date */
         $start_date = $item->start_date;
-        /** @var \Drupal\Core\Datetime\DrupalDateTime $end_date */
+        /** @var DrupalDateTime $end_date */
         $end_date = $item->end_date;
         $formatted_start_date = $this->dateFormatter->format($start_date->getTimestamp(), 'custom', $split_format['date']);
         $formatted_end_date = $this->dateFormatter->format($end_date->getTimestamp(), 'custom', $split_format['date']);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/opigno_calendar/opigno_calendar.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\EntityFormInterface;
+use Drupal\Core\Entity\ContentEntityInterface;
 /**
  * @file
  * Contains opigno_calendar.module.
@@ @@
     return;
   }

-  /** @var \Drupal\views\ViewExecutable $view */
+  /** @var ViewExecutable $view */
   $view = $entry[0]['#view'];
   if ((!$view || $view->getDisplay()->getOption('css_class') !== 'opigno-calendar-views'
     && $view->getDisplay()->getOption('css_class') !== 'view-opigno-calendar')
@@ @@
  * Implements hook_theme_registry_alter
  */
 function opigno_calendar_theme_registry_alter(&$theme_registry) {
-  $theme_registry['calendar_month_col']['path'] = drupal_get_path('module', 'opigno_calendar') . '/templates';
+  $theme_registry['calendar_month_col']['path'] = \Drupal::service('extension.list.module')->getPath('opigno_calendar') . '/templates';
 }

 /**
@@ @@
     $uid = $current_user->id();
     $current_user = User::load($uid);

-    /** @var \Drupal\Core\Entity\EntityFormInterface $form_object */
+    /** @var EntityFormInterface $form_object */
     $form_object = $form_state->getFormObject();
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+    /** @var ContentEntityInterface $entity */
     $entity = $form_object->getEntity();
     if (!$entity->hasField('field_calendar_event_members')) {
       return;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


4) modules/contrib/opigno_calendar/opigno_calendar.install:12

    ---------- begin diff ----------
@@ @@
  * Creates the members field in the opigno calendar event type.
  */
 function opigno_calendar_update_8001() {
-  $config_path = drupal_get_path('module', 'opigno_calendar')
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_calendar')
     . '/config/install';
   $storage = new FileStorage($config_path);

@@ @@
  * Adding Datepicker date format.
  */
 function opigno_calendar_update_8003() {
-  $config_path = drupal_get_path('module', 'opigno_calendar')
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_calendar')
     . '/config/install';
   $storage = new FileStorage($config_path);

@@ @@
   $theme_handler = Drupal::service('theme_handler');
   $info = $theme_handler->listInfo();
   if (isset($info['platon'])) {
-    $config_path = drupal_get_path('theme', 'platon')
+    $config_path = \Drupal::service('extension.list.theme')->getPath('platon')
       . '/config/optional';
     $storage = new FileStorage($config_path);

@@ @@
   $theme_handler = Drupal::service('theme_handler');
   $info = $theme_handler->listInfo();
   if (isset($info['platon'])) {
-    $config_path = drupal_get_path('theme', 'platon')
+    $config_path = \Drupal::service('extension.list.theme')->getPath('platon')
       . '/config/optional';
     $storage = new FileStorage($config_path);

@@ @@
  * Added title for calendar page to improve accessibility.
  */
 function opigno_calendar_update_8006() {
-  $config_path = drupal_get_path('module', 'opigno_calendar') . '/config/install';
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_calendar') . '/config/install';
   $storage = new FileStorage($config_path);

   $config_storage = \Drupal::service('config.storage');
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 4 files have been changed by Rector                                       

