diff --git a/src/Form/KafkaConfiguration.php b/src/Form/KafkaConfiguration.php
index 1ae5b08..798c62c 100644
--- a/src/Form/KafkaConfiguration.php
+++ b/src/Form/KafkaConfiguration.php
@@ -28,7 +28,7 @@ class KafkaConfiguration extends ConfigFormBase {
 
     if ($error_level == ERROR_REPORTING_HIDE) {
       $link = Url::fromRoute('system.logging_settings')->toString();
-      drupal_set_message(t('Sending of logs depends on the default errors and logging configuration. Please <a href="@link">click here</a> to enable error logging.', ['@link' => $link]), 'warning');
+      $this->messenger()->addWarning(t('Sending of logs depends on the default errors and logging configuration. Please <a href="@link">click here</a> to enable error logging.', ['@link' => $link]));
     }
 
     $form['broker'] = [
diff --git a/src/Logger/KafkaLogger.php b/src/Logger/KafkaLogger.php
index 89abc5d..d7ebeca 100644
--- a/src/Logger/KafkaLogger.php
+++ b/src/Logger/KafkaLogger.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\watchdog_kafka\Logger;
 
+use Drupal\Core\Config\Config;
 use RdKafka\Producer;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Logger\LogMessageParserInterface;
@@ -21,30 +22,30 @@ class KafkaLogger implements LoggerInterface {
   /**
    * A configuration object containing syslog settings.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $config;
 
   /**
    * The message's placeholders parser.
    *
-   * @var \Drupal\Core\Logger\LogMessageParserInterface
+   * @var LogMessageParserInterface
    */
   protected $parser;
 
   /**
    * Kafka producer object.
    *
-   * @var \RdKafka\Producer
+   * @var Producer
    */
   protected $kafkaProducer;
 
   /**
    * Constructs a SysLog object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory object.
-   * @param \Drupal\Core\Logger\LogMessageParserInterface $parser
+   * @param LogMessageParserInterface $parser
    *   The parser to use when extracting message variables.
    */
   public function __construct(ConfigFactoryInterface $config_factory, LogMessageParserInterface $parser) {
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index fcbf879..84d5406 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\watchdog_kafka\Functional;
 
+use Drupal\user\UserInterface;
 use Drupal\Core\Url;
 use Drupal\Tests\BrowserTestBase;
 
@@ -22,14 +23,14 @@ class LoadTest extends BrowserTestBase {
   /**
    * A user with permission to administer site configuration.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $user;
 
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
