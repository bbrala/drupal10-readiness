modules/contrib/kalastatic/kalastatic.install
modules/contrib/kalastatic/kalastatic.module
modules/contrib/kalastatic/src/Controller/KalastaticAdmin.php
modules/contrib/kalastatic/src/Controller/KalastaticServer.php
modules/contrib/kalastatic/src/Form/KalastaticSettingsForm.php
modules/contrib/kalastatic/src/PathProcessor/KalastaticPathProcessor.php

2 files with changes
====================

1) modules/contrib/kalastatic/src/Controller/KalastaticServer.php:74

    ---------- begin diff ----------
@@ @@
     elseif (file_exists($this->getBuildPath() . '/index.html')){
       // Kalastatic seems to exist but the page that was requested doesn't so
       // let's throw a Drupal 404.
-      drupal_set_message(t('The requested page could not be found inside Kalastatic'), 'error');
+      $this->messenger()->addError(t('The requested page could not be found inside Kalastatic'));
       throw new NotFoundHttpException();
     }
     elseif ((isset($args[1]) && $args[1] == 'prototype') || (isset($args[2]) && $args[2] == 'styleguide')) {
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/kalastatic/kalastatic.module:47

    ---------- begin diff ----------
@@ @@
  */
 function kalastatic_path_to_src_default() {
   $default_theme = \Drupal::config('system.theme')->get('default');
-  return drupal_get_path('theme', $default_theme) . '/kalastatic';
+  return \Drupal::service('extension.list.theme')->getPath($default_theme) . '/kalastatic';
 }

 /**
@@ @@
       else {
         // There is no image style set in the config so let's reference the
         // original.
-        $image_url = file_create_url($image_uri);
+        $image_url = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
       }
     }
     else {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector


 [OK] 2 files have been changed by Rector                                       

