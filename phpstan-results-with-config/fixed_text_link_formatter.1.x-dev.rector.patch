diff --git a/fixed_text_link_formatter.info.yml b/fixed_text_link_formatter.info.yml
index 2a96943..ab7e885 100644
--- a/fixed_text_link_formatter.info.yml
+++ b/fixed_text_link_formatter.info.yml
@@ -1,7 +1,6 @@
 name: Fixed Text Link Formatter
 type: module
 description: Formats a link field with a configurable fixed link text.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:link
diff --git a/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php b/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php
index 9ca5515..e7fb6af 100644
--- a/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php
+++ b/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\fixed_text_link_formatter\Plugin\Field\FieldFormatter;
 
+use Drupal\file\Entity\File;
 use Drupal\Core\Cache\CacheableMetadata;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ -101,10 +102,10 @@ class FixedTextFileUrl extends FileFormatterBase {
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $elements = [];
 
-    /** @var \Drupal\file\Entity\File $file */
+    /** @var File $file */
     foreach ($this->getEntitiesToView($items, $langcode) as $delta => $file) {
       $text = $this->getLinkText();
-      $url = Url::fromUri(file_create_url($file->getFileUri()));
+      $url = \Drupal::service('file_url_generator')->generate($file->getFileUri());
       $link = Link::fromTextAndUrl($text, $url);
 
       $build = $link->toRenderable();
diff --git a/src/Plugin/Field/FieldFormatter/FixedTextLink.php b/src/Plugin/Field/FieldFormatter/FixedTextLink.php
index b847a0b..6928e11 100644
--- a/src/Plugin/Field/FieldFormatter/FixedTextLink.php
+++ b/src/Plugin/Field/FieldFormatter/FixedTextLink.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\fixed_text_link_formatter\Plugin\Field\FieldFormatter;
 
+use Drupal\link\Plugin\Field\FieldType\LinkItem;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\link\Plugin\Field\FieldFormatter\LinkFormatter;
@@ -92,7 +93,7 @@ class FixedTextLink extends LinkFormatter {
    * {@inheritdoc}
    */
   public function viewElements(FieldItemListInterface $items, $langcode) {
-    /** @var \Drupal\link\Plugin\Field\FieldType\LinkItem $item */
+    /** @var LinkItem $item */
     foreach ($items as $item) {
       $allowOverride = (bool) $this->getSetting('allow_override');
       $shouldOverride = $allowOverride && $item->get('title')->getString() === '';
diff --git a/tests/src/Functional/FixedTextLinkTest.php b/tests/src/Functional/FixedTextLinkTest.php
index 2f06ce4..b98158a 100644
--- a/tests/src/Functional/FixedTextLinkTest.php
+++ b/tests/src/Functional/FixedTextLinkTest.php
@@ -2,6 +2,10 @@
 
 namespace Drupal\Tests\fixed_text_link_formatter\Functional;
 
+use Drupal\node\Entity\NodeType;
+use Drupal\field\FieldStorageConfigInterface;
+use Drupal\Core\Field\FieldConfigInterface;
+use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\field\Entity\FieldConfig;
 use Drupal\field\Entity\FieldStorageConfig;
 use Drupal\link\LinkItemInterface;
@@ -20,17 +24,17 @@ class FixedTextLinkTest extends BrowserTestBase {
   public static $modules = ['node', 'fixed_text_link_formatter'];
 
   /**
-   * @var \Drupal\node\Entity\NodeType
+   * @var NodeType
    */
   private $nodeType;
 
   /**
-   * @var \Drupal\field\FieldStorageConfigInterface
+   * @var FieldStorageConfigInterface
    */
   private $fieldStorage;
 
   /**
-   * @var \Drupal\Core\Field\FieldConfigInterface
+   * @var FieldConfigInterface
    */
   private $field;
 
@@ -40,7 +44,7 @@ class FixedTextLinkTest extends BrowserTestBase {
   protected $defaultTheme = 'classy';
 
   /**
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   private $entityDisplayRepository;
 
@@ -49,7 +53,7 @@ class FixedTextLinkTest extends BrowserTestBase {
    */
   private $linkFieldName;
 
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->entityDisplayRepository = $this->container->get('entity_display.repository');
