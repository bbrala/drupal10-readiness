modules/contrib/message_subscribe/message_subscribe.api.php
modules/contrib/message_subscribe/message_subscribe.install
modules/contrib/message_subscribe/message_subscribe.module
modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.install
modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.module
modules/contrib/message_subscribe/message_subscribe_email/src/EventSubscriber/FlagEvents.php
modules/contrib/message_subscribe/message_subscribe_email/src/Manager.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Functional/ViewsTest.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/FunctionalJavascript/MessageSubscribeEmailTest.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/Form/AdminSettingsTest.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailNotificationsTest.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailSubscribersTest.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailTestBase.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Unit/ManagerTest.php
modules/contrib/message_subscribe/message_subscribe_example/message_subscribe_example.module
modules/contrib/message_subscribe/message_subscribe_ui/message_subscribe_ui.module
modules/contrib/message_subscribe/message_subscribe_ui/src/Controller/SubscriptionController.php
modules/contrib/message_subscribe/message_subscribe_ui/src/Plugin/Block/Subscriptions.php
modules/contrib/message_subscribe/message_subscribe_ui/src/Plugin/Derivative/MessageSubscribeUiLocalTask.php
modules/contrib/message_subscribe/message_subscribe_ui/tests/src/Functional/SubscriptionsBlockTest.php
modules/contrib/message_subscribe/src/Exception/MessageSubscribeException.php
modules/contrib/message_subscribe/src/Form/MessageSubscribeAdminSettings.php
modules/contrib/message_subscribe/src/Plugin/QueueWorker/MessageSubscribe.php
modules/contrib/message_subscribe/src/Subscribers.php
modules/contrib/message_subscribe/src/Subscribers/DeliveryCandidate.php
modules/contrib/message_subscribe/src/Subscribers/DeliveryCandidateInterface.php
modules/contrib/message_subscribe/src/SubscribersInterface.php
modules/contrib/message_subscribe/tests/modules/message_subscribe_test/message_subscribe_test.module
modules/contrib/message_subscribe/tests/src/Functional/MenuTest.php
modules/contrib/message_subscribe/tests/src/Functional/UninstallTest.php
modules/contrib/message_subscribe/tests/src/Kernel/ContextTest.php
modules/contrib/message_subscribe/tests/src/Kernel/Form/MessageSubscribeAdminSettingsTest.php
modules/contrib/message_subscribe/tests/src/Kernel/MessageSubscribeTestBase.php
modules/contrib/message_subscribe/tests/src/Kernel/QueueTest.php
modules/contrib/message_subscribe/tests/src/Kernel/SubscribersTest.php
modules/contrib/message_subscribe/tests/src/Unit/Subscribers/DeliveryCandidateTest.php
modules/contrib/message_subscribe/tests/src/Unit/SubscribersTest.php
modules/contrib/message_subscribe/tests/src/fixture_foo.module.php

29 files with changes
=====================

1) modules/contrib/message_subscribe/tests/src/Unit/SubscribersTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Drupal\message_subscribe\SubscribersInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Entity\EntityInterface;
@@ @@
  */
 class SubscribersTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Mock flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * Mock config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * Mock entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Mock message notifier.
    *
-   * @var \Drupal\message_notify\MessageNotifier
+   * @var MessageNotifier
    */
   protected $messageNotifier;

@@ @@
   /**
    * Mock module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Mock queue factory.
    *
-   * @var \Drupal\Core\Queue\QueueFactory
+   * @var QueueFactory
    */
   protected $queue;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     require __DIR__ . '/../fixture_foo.module.php';
@@ @@
   /**
    * Helper to generate a new subscriber service with mock services.
    *
-   * @return \Drupal\message_subscribe\SubscribersInterface
+   * @return SubscribersInterface
    *   The subscribers service object.
    */
   protected function getSubscriberService() {
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/message_subscribe/tests/src/Kernel/SubscribersTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe\Kernel;

+use Drupal\flag\FlagServiceInterface;
+use Drupal\message_subscribe\SubscribersInterface;
+use Drupal\node\NodeInterface;
+use Drupal\user\UserInterface;
+use Drupal\Core\Entity\Query\QueryInterface;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\Core\Test\AssertMailTrait;
 use Drupal\field\Entity\FieldConfig;
@@ @@
   /**
    * Flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * The message subscription service.
    *
-   * @var \Drupal\message_subscribe\SubscribersInterface
+   * @var SubscribersInterface
    */
   protected $messageSubscribers;

@@ @@
   /**
    * Nodes to test with.
    *
-   * @var \Drupal\node\NodeInterface[]
+   * @var NodeInterface[]
    */
   protected $nodes;

@@ @@
   /**
    * Users to test with.
    *
-   * @var \Drupal\user\UserInterface[]
+   * @var UserInterface[]
    */
   protected $users;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->installSchema('node', ['node_access']);
@@ @@
     $mails = $this->getMails();
     $no_message_count = $message_count = 0;
     foreach ($this->users as $account) {
-      /** @var \Drupal\Core\Entity\Query\QueryInterface $query */
+      /** @var QueryInterface $query */
       $query = $this->container->get('entity_type.manager')->getStorage('message')->getQuery();
       $query->condition('uid', $account->id());
       $result = $query->execute();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/message_subscribe/tests/src/Kernel/QueueTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe\Kernel;

+use Drupal\node\NodeInterface;
 use Drupal\message\Entity\Message;
 use Drupal\message\Entity\MessageTemplate;
 use Drupal\message_subscribe\Exception\MessageSubscribeException;
@@ @@
   /**
    * Node for testing.
    *
-   * @var \Drupal\node\NodeInterface
+   * @var NodeInterface
    */
   protected $node;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->config('message_subscribe.settings')
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/message_subscribe/tests/src/Kernel/MessageSubscribeTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe\Kernel;

+use Drupal\message_subscribe\SubscribersInterface;
+use Drupal\message\MessageTemplateInterface;
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\Tests\node\Traits\ContentTypeCreationTrait;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
@@ @@
   /**
    * The message subscribers service.
    *
-   * @var \Drupal\message_subscribe\SubscribersInterface
+   * @var SubscribersInterface
    */
   protected $messageSubscribers;

@@ @@
   /**
    * Message template.
    *
-   * @var \Drupal\message\MessageTemplateInterface
+   * @var MessageTemplateInterface
    */
   protected $template;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->installSchema('system', ['sequences']);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/message_subscribe/tests/src/Kernel/Form/MessageSubscribeAdminSettingsTest.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->form = MessageSubscribeAdminSettings::create($this->container);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/message_subscribe/tests/src/Kernel/ContextTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe\Kernel;

+use Drupal\node\NodeInterface;
+use Drupal\message_subscribe\SubscribersInterface;
+use Drupal\taxonomy\TermInterface;
+use Drupal\user\UserInterface;
 use Drupal\comment\CommentInterface;
 use Drupal\comment\Entity\Comment;
 use Drupal\comment\Tests\CommentTestTrait;
@@ @@
   /**
    * Test comment.
    *
-   * @var \Drupal\comment\CommentInterface
+   * @var CommentInterface
    */
   protected $comment;

@@ @@
   /**
    * Test group.
    *
-   * @var \Drupal\node\NodeInterface
+   * @var NodeInterface
    */
   protected $group;

@@ @@
   /**
    * Group content node.
    *
-   * @var \Drupal\node\NodeInterface
+   * @var NodeInterface
    */
   protected $node;

@@ @@
   /**
    * The message subscribers service.
    *
-   * @var \Drupal\message_subscribe\SubscribersInterface
+   * @var SubscribersInterface
    */
   protected $subscribers;

@@ @@
   /**
    * Test terms.
    *
-   * @var \Drupal\taxonomy\TermInterface[]
+   * @var TermInterface[]
    */
   protected $terms;

@@ @@
   /**
    * Test users.
    *
-   * @var \Drupal\user\UserInterface[]
+   * @var UserInterface[]
    */
   protected $users;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->installSchema('comment', ['comment_entity_statistics']);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/message_subscribe/tests/src/Functional/UninstallTest.php:26

    ---------- begin diff ----------
@@ @@
     // Verify settings page.
     $this->drupalGet(Url::fromRoute('message_subscribe.admin_settings'));
     $this->assertSession()->statusCodeEquals(200);
+    $this->drupalGet('admin/modules/uninstall');

     // Uninstall module.
-    $this->drupalPostForm('admin/modules/uninstall', ['uninstall[message_subscribe]' => TRUE], t('Uninstall'));
-    $this->drupalPostForm(NULL, [], t('Uninstall'));
+    $this->submitForm(['uninstall[message_subscribe]' => TRUE], t('Uninstall'));
+    $this->submitForm([], t('Uninstall'));

     // Validate Message Subscribe was uninstalled.
     $this->assertSession()->pageTextContains(t('The selected modules have been uninstalled.'));
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


8) modules/contrib/message_subscribe/src/SubscribersInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\message_subscribe;

+use Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface;
+use Drupal\flag\FlagInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\message\MessageInterface;
@@ @@
   /**
    * Process a message and send to subscribed users.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity object to process subscriptions and send notifications for.
-   * @param \Drupal\message\MessageInterface $message
+   * @param MessageInterface $message
    *   The message object.
    * @param array $notify_options
    *   (optional) An array of options to be passed to the message notifier
@@ @@
   /**
    * Retrieve a list of subscribers for a given entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity to retrieve subscribers for.
-   * @param \Drupal\message\MessageInterface $message
+   * @param MessageInterface $message
    *   The message entity.
    * @param array $options
    *   (optional) An array of options with the same elements as the
@@ @@
    *   (optional) The context array, passed by reference. This has the same
    *   elements as the `$context` paramater for `self::sendMessage()`.
    *
-   * @return \Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface[]
+   * @return DeliveryCandidateInterface[]
    *   Array of delivery candidate objects keyed with the user IDs to send
    *   notifications to.
    */
@@ @@
    * For example, given a node we extract the node author and related
    * taxonomy terms.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity object.
    * @param bool $skip_detailed_context
    *   (optional) Skip detailed context detection and just use entity ID/type.
@@ @@
    *   (optional) The entity type for which to load the flags.
    * @param string $bundle
    *   (optional) The bundle for which to load the flags.
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   (optional) The user account to filter available flags. If not set, all
    *   flags for the given entity and bundle will be returned.
    *
-   * @return \Drupal\flag\FlagInterface[]
+   * @return FlagInterface[]
    *   An array of the structure [fid] = flag_object.
    *
    * @see \Drupal\flag\FlagServiceInterface::getAllFlags()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


9) modules/contrib/message_subscribe/src/Subscribers.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\message_subscribe;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Queue\QueueInterface;
+use Drupal\node\NodeInterface;
+use Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface;
 use Drupal\comment\CommentInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityInterface;
@@ @@
   /**
    * The message subscribe settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * The entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The flag manager service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * The message notification service.
    *
-   * @var \Drupal\message_notify\MessageNotifier
+   * @var MessageNotifier
    */
   protected $messageNotifier;

@@ @@
   /**
    * The module handler service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The message subscribe queue.
    *
-   * @var \Drupal\Core\Queue\QueueInterface
+   * @var QueueInterface
    */
   protected $queue;

@@ @@
   /**
    * Logger channel.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;

@@ @@
   /**
    * Construct the service.
    *
-   * @param \Drupal\flag\FlagServiceInterface $flag_service
+   * @param FlagServiceInterface $flag_service
    *   The flag manager service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
-   * @param \Drupal\message_notify\MessageNotifier $message_notifier
+   * @param MessageNotifier $message_notifier
    *   The message notification service.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler service.
-   * @param \Drupal\Core\Queue\QueueFactory $queue
+   * @param QueueFactory $queue
    *   The queue service.
    */
   public function __construct(FlagServiceInterface $flag_service, ConfigFactoryInterface $config_factory, EntityTypeManagerInterface $entity_type_manager, MessageNotifier $message_notifier, ModuleHandlerInterface $module_handler, QueueFactory $queue) {
@@ @@
   /**
    * Sets the logger channel.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   The message_subscribe logger channel.
    *
    * @todo Inject this service in the 2.x version
@@ @@
   /**
    * Helper method to determine if the given entity belongs to the given user.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity to check ownership of.
    * @param int $uid
    *   The user ID to check for ownership.
@@ @@
       return $context;
     }

-    /** @var \Drupal\node\NodeInterface[] $nodes */
+    /** @var NodeInterface[] $nodes */
     $nodes = $this->entityTypeManager->getStorage('node')->loadMultiple($context['node']);

     if ($this->moduleHandler->moduleExists('og')) {
@@ @@
         }
       }
       // Re-load nodes as the OG context may have added additional ones.
-      /** @var \Drupal\node\NodeInterface[] $nodes */
+      /** @var NodeInterface[] $nodes */
       $nodes = $this->entityTypeManager->getStorage('node')->loadMultiple($context['node']);
     }

@@ @@
   /**
    * Get the default notifiers for a given set of users.
    *
-   * @param \Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface[] &$uids
+   * @param DeliveryCandidateInterface[] $uids
    *   An array detailing notification info for users.
    */
   protected function addDefaultNotifiers(array &$uids) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


10) modules/contrib/message_subscribe/src/Plugin/QueueWorker/MessageSubscribe.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The message subscription service.
    *
-   * @var \Drupal\message_subscribe\SubscribersInterface
+   * @var SubscribersInterface
    */
   protected $subscribers;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/message_subscribe/src/Form/MessageSubscribeAdminSettings.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\message_subscribe\Form;

+use Drupal\Core\Plugin\DefaultPluginManager;
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;

@@ @@
    */
   public function buildForm(array $form, FormStateInterface $form_state) {

-    /** @var \Drupal\Core\Plugin\DefaultPluginManager $message_notifiers */
+    /** @var DefaultPluginManager $message_notifiers */
     $message_notifiers = \Drupal::service('plugin.message_notify.notifier.manager');
     $options = array_map(function ($definition) {
       return $definition['title'];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/message_subscribe/message_subscribe_ui/tests/src/Functional/SubscriptionsBlockTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe_ui\Functional;

+use Drupal\user\UserInterface;
+use Drupal\flag\FlagServiceInterface;
+use Drupal\node\NodeInterface;
+use Drupal\taxonomy\TermInterface;
+use Drupal\user\RoleInterface;
 use Drupal\entity_test\FieldStorageDefinition;
 use Drupal\Tests\field\Traits\EntityReferenceTestTrait;
 use Drupal\Tests\BrowserTestBase;
@@ @@
   /**
    * Admin user.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $adminUser;

@@ @@
   /**
    * The flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * A node.
    *
-   * @var \Drupal\node\NodeInterface
+   * @var NodeInterface
    */
   protected $node;

@@ @@
   /**
    * Taxonomy terms.
    *
-   * @var \Drupal\taxonomy\TermInterface[]
+   * @var TermInterface[]
    */
   protected $terms = [];

@@ @@
   /**
    * Normal authenticated user.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $webUser;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->adminUser = $this->createUser([], NULL, TRUE);
@@ @@
       'subscriptions[taxonomy_term][' . $this->terms[1]->id() . ']' => TRUE,
       'subscriptions[taxonomy_term][' . $this->terms[7]->id() . ']' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $flag = $this->flagService->getFlagById('subscribe_term');
     foreach ([1, 3, 7, 9] as $i) {
       $term = $this->terms[$i];
@@ @@
     }

     // Grant permission for user subscriptions.
-    /** @var \Drupal\user\RoleInterface $role */
+    /** @var RoleInterface $role */
     $role = $this->container->get('entity_type.manager')->getStorage('user_role')->load($this->webUser->getRoles(TRUE)[0]);
     $role->grantPermission('flag subscribe_user');
     $role->grantPermission('unflag subscribe_user');
@@ @@
     $edit = [
       'subscriptions[user][' . $this->adminUser->id() . ']' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $flag = $this->flagService->getFlagById('subscribe_user');
     $this->assertNotEmpty($this->flagService->getEntityFlaggings($flag, $this->adminUser, $this->webUser));
     // Subscriptions should be checked.
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/message_subscribe/message_subscribe_ui/src/Plugin/Derivative/MessageSubscribeUiLocalTask.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The message subscription service.
    *
-   * @var \Drupal\message_subscribe\SubscribersInterface
+   * @var SubscribersInterface
    */
   protected $subscribers;

@@ @@
   /**
    * Constructs the local task deriver.
    *
-   * @param \Drupal\message_subscribe\SubscribersInterface $subscribers
+   * @param SubscribersInterface $subscribers
    *   The message subscription service.
    */
   public function __construct(SubscribersInterface $subscribers) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/message_subscribe/message_subscribe_ui/src/Plugin/Block/Subscriptions.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\message_subscribe_ui\Plugin\Block;

+use Drupal\flag\FlagInterface;
+use Drupal\Core\StringTranslation\TranslatableMarkup;
 use Drupal\Core\Block\BlockBase;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Form\FormBuilderInterface;
@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * The form builder service.
    *
-   * @var \Drupal\Core\Form\FormBuilderInterface
+   * @var FormBuilderInterface
    */
   protected $formBuilder;

@@ @@
   /**
    * The current route match service.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;

@@ @@
   /**
    * The subscribers service.
    *
-   * @var \Drupal\message_subscribe\SubscribersInterface
+   * @var SubscribersInterface
    */
   protected $subscribers;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Form\FormBuilderInterface $form_builder
+   * @param FormBuilderInterface $form_builder
    *   The form builder service.
-   * @param \Drupal\message_subscribe\SubscribersInterface $subscribers
+   * @param SubscribersInterface $subscribers
    *   The subscribers service.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match service.
-   * @param \Drupal\Core\Session\AccountProxyInterface $current_user
+   * @param AccountProxyInterface $current_user
    *   The current user.
-   * @param \Drupal\flag\FlagServiceInterface $flag_service
+   * @param FlagServiceInterface $flag_service
    *   The flag service.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, FormBuilderInterface $form_builder, SubscribersInterface $subscribers, RouteMatchInterface $route_match, AccountProxyInterface $current_user, FlagServiceInterface $flag_service) {
@@ @@
   /**
    * Helper method to retrieve the current page entity.
    *
-   * @return \Drupal\Core\Entity\EntityInterface|null
+   * @return EntityInterface|null
    *   The entity for the current route.
    */
   protected function getCurrentEntity() {
@@ @@
       if ($referenced_entity->access('view')) {
         $flags = $this->subscribers->getFlags($referenced_entity->getEntityTypeId(), $referenced_entity->bundle(), $this->currentUser);
         if (!empty($flags)) {
-          /** @var \Drupal\flag\FlagInterface $flag */
+          /** @var FlagInterface $flag */
           // @todo Support multiple subscription flags per-entity if there is
           // such a use-case.
           $flag = reset($flags);
@@ @@
   /**
    * Get a subscription checkbox label for a given entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The referenced entity.
    *
-   * @return \Drupal\Core\StringTranslation\TranslatableMarkup
+   * @return TranslatableMarkup
    *   The label for the subscription checkbox.
    */
   protected function getLabel(EntityInterface $entity) {
@@ @@
   /**
    * Determine if this entity has accessible entities to subscribe to.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity to check for subscribable entities.
    *
    * @return bool
@@ @@
   public function submitForm(array &$form, FormStateInterface $form_state) {
     foreach ($form_state->getValue('subscriptions') as $entity_type => $entities) {
       foreach ($entities as $entity_id => $subscribe) {
-        /** @var \Drupal\flag\FlagInterface[] $flags */
+        /** @var FlagInterface[] $flags */
         $flags = $form['subscriptions'][$entity_type][$entity_id]['#flags'];
         $entity = $form['subscriptions'][$entity_type][$entity_id]['#entity'];
         foreach ($flags as $flag) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/message_subscribe/message_subscribe_ui/src/Controller/SubscriptionController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\message_subscribe_ui\Controller;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Access\AccessResultInterface;
+use Drupal\views\ViewExecutable;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Controller\ControllerBase;
@@ @@
   /**
    * The message subscribe settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * The message subscribers service.
    *
-   * @var \Drupal\message_subscribe\SubscribersInterface
+   * @var SubscribersInterface
    */
   protected $subscribers;

@@ @@
   /**
    * Construct the subscriptions controller.
    *
-   * @param \Drupal\Core\Session\AccountProxyInterface $current_user
+   * @param AccountProxyInterface $current_user
    *   The current user.
-   * @param \Drupal\flag\FlagServiceInterface $flag_service
+   * @param FlagServiceInterface $flag_service
    *   The flag service manager.
-   * @param \Drupal\message_subscribe\SubscribersInterface $subscribers
+   * @param SubscribersInterface $subscribers
    *   The message subscribers service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory service.
    */
   public function __construct(AccountProxyInterface $current_user, FlagServiceInterface $flag_service, SubscribersInterface $subscribers, ConfigFactoryInterface $config_factory) {
@@ @@
   /**
    * Access controller for subscription management tabs.
    *
-   * @param \Drupal\Core\Session\AccountInterface $user
+   * @param AccountInterface $user
    *   The user account session.
-   * @param \Drupal\flag\FlagInterface $flag
+   * @param FlagInterface $flag
    *   (optional) The flag for which to display the view.
    *
-   * @return \Drupal\Core\Access\AccessResultInterface
+   * @return AccessResultInterface
    *   Returns TRUE if access is granted.
    */
   public function tabAccess(AccountInterface $user, FlagInterface $flag = NULL) {
@@ @@
   /**
    * Provides the page title for a given tab.
    *
-   * @param \Drupal\flag\FlagInterface $flag
+   * @param FlagInterface $flag
    *   The flag for which to display subscriptions.
    *
    * @return string
@@ @@
   /**
    * Render the subscription management tab.
    *
-   * @param \Drupal\user\UserInterface $user
+   * @param UserInterface $user
    *   The user account.
-   * @param \Drupal\flag\FlagInterface $flag
+   * @param FlagInterface $flag
    *   The flag to display subscriptions for.
    *
    * @return array
@@ @@
   /**
    * Helper function to get a view associated with a flag.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user to pass in as the views argument.
-   * @param \Drupal\flag\FlagInterface $flag
+   * @param FlagInterface $flag
    *   The flag for which to find a matching view.
    *
-   * @return \Drupal\views\ViewExecutable
+   * @return ViewExecutable
    *   The corresponding view executable.
    *
-   * @throws \Drupal\message_subscribe\Exception\MessageSubscribeException
+   * @throws MessageSubscribeException
    *   - If a view corresponding to the `subscribe_ENTITY_TYPE_ID` does not
    *     exist.
    *   - If the view's relationship flag isn't properly enabled or configured.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/message_subscribe/message_subscribe_ui/message_subscribe_ui.module:13

    ---------- begin diff ----------
@@ @@
  */
 function message_subscribe_ui_form_flag_form_alter(array &$form, FormStateInterface $form_state, $form_id) {
   $prefix = \Drupal::config('message_subscribe.settings')->get('flag_prefix');
-  /** @var \Drupal\flag\FlagInterface $flag */
+  /** @var FlagInterface $flag */
   $flag = $form_state->getFormObject()->getEntity();
   if (strpos($flag->id(), $prefix) === 0) {
     // This is a message subscribe flag, so add the view selection option.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


17) modules/contrib/message_subscribe/message_subscribe_example/message_subscribe_example.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface;
 /**
  * @file
  * Holds hook implementation for the Message Subscribe Example module.
@@ @@
  *
  * Alter the subscribers list.
  *
- * @param \Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface[] &$uids
+ * @param DeliveryCandidateInterface[] $uids
  *   The array of delivery candidates as defined by
  *   `hook_message_subscribe_get_subscribers()`.
  * @param array $values
@@ @@
 /**
  * Set message entity published field when it changes in the related entity.
  *
- * @param \Drupal\Core\Entity\ContentEntityBase $entity
+ * @param ContentEntityBase $entity
  *   The entity object.
  */
 function message_subscribe_example_update_message_status(ContentEntityBase $entity) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


18) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Unit/ManagerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe_email\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\ImmutableConfig;
 use Drupal\flag\FlagInterface;
@@ @@
  */
 class ManagerTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Tests the flag retrieval.
    *
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


19) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe_email\Kernel;

+use Drupal\flag\FlagServiceInterface;
+use Drupal\message\MessageTemplateInterface;
+use Drupal\node\NodeInterface;
+use Drupal\user\UserInterface;
 use Drupal\message\Entity\MessageTemplate;
 use Drupal\Tests\message_subscribe\Kernel\MessageSubscribeTestBase;

@@ @@
   /**
    * Flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * Message template.
    *
-   * @var \Drupal\message\MessageTemplateInterface
+   * @var MessageTemplateInterface
    */
   protected $messageTemplate;

@@ @@
   /**
    * Nodes to test with.
    *
-   * @var \Drupal\node\NodeInterface[]
+   * @var NodeInterface[]
    */
   protected $nodes;

@@ @@
   /**
    * Users to test with.
    *
-   * @var \Drupal\user\UserInterface[]
+   * @var UserInterface[]
    */
   protected $users;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->installConfig(['message_subscribe_email']);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


20) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailSubscribersTest.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     // Opt out of default email notifications and subscribe to node 1.
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


21) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailNotificationsTest.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $flag = $this->flagService->getFlagById('subscribe_node');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/Form/AdminSettingsTest.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->values['message_subscribe_email_flag_prefix'] = [
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


23) modules/contrib/message_subscribe/message_subscribe_email/tests/src/FunctionalJavascript/MessageSubscribeEmailTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe_email\FunctionalJavascript;

+use Drupal\flag\FlagServiceInterface;
+use Drupal\node\NodeInterface;
+use Drupal\user\UserInterface;
 use Drupal\FunctionalJavascriptTests\WebDriverTestBase;

 /**
@@ @@
   /**
    * Flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * Nodes to test with.
    *
-   * @var \Drupal\node\NodeInterface[]
+   * @var NodeInterface[]
    */
   protected $nodes;

@@ @@
   /**
    * Users to test with.
    *
-   * @var \Drupal\user\UserInterface[]
+   * @var UserInterface[]
    */
   protected $users;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     // Add some nodes.
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


24) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Functional/ViewsTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe_email\Functional;

+use Drupal\flag\FlagServiceInterface;
+use Drupal\message_subscribe\SubscribersInterface;
 use Drupal\Tests\node\Traits\ContentTypeCreationTrait;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
 use Drupal\Tests\BrowserTestBase;
@@ @@
   /**
    * The flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * The message subscription service.
    *
-   * @var \Drupal\message_subscribe\SubscribersInterface
+   * @var SubscribersInterface
    */
   protected $messageSubscribers;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->flagService = $this->container->get('flag');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


25) modules/contrib/message_subscribe/message_subscribe_email/src/Manager.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\message_subscribe_email;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\flag\FlagInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\flag\FlagServiceInterface;

@@ @@
   /**
    * Message subscribe settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * The flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * Construct the message subscribe email manager.
    *
-   * @param \Drupal\flag\FlagServiceInterface $flag_service
+   * @param FlagServiceInterface $flag_service
    *   The flag service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory service.
    */
   public function __construct(FlagServiceInterface $flag_service, ConfigFactoryInterface $config_factory) {
@@ @@
    *
    * Retrieve available email flags.
    *
-   * @return \Drupal\flag\FlagInterface[]
+   * @return FlagInterface[]
    *   An array of flags, keyed by the flag ID.
    */
   public function getFlags() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


26) modules/contrib/message_subscribe/message_subscribe_email/src/EventSubscriber/FlagEvents.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * Config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The flag service.
    *
-   * @var \Drupal\flag\FlagServiceInterface
+   * @var FlagServiceInterface
    */
   protected $flagService;

@@ @@
   /**
    * Construct the flag event subscriber.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Drupal\flag\FlagServiceInterface $flag_service
+   * @param FlagServiceInterface $flag_service
    *   The flag service.
    */
   public function __construct(ConfigFactoryInterface $config_factory, FlagServiceInterface $flag_service) {
@@ @@
   /**
    * React to entity flagging.
    *
-   * @param \Drupal\flag\Event\FlaggingEvent $event
+   * @param FlaggingEvent $event
    *   The flagging event.
    */
   public function onFlag(FlaggingEvent $event) {
@@ @@
   /**
    * React to entity unflagging.
    *
-   * @param \Drupal\flag\Event\UnflaggingEvent $event
+   * @param UnflaggingEvent $event
    *   The flagging event.
    */
   public function onUnflag(UnflaggingEvent $event) {
@@ @@
   /**
    * Flag or unflag the corresponding `email_*` flag for `subscribe_*` flags.
    *
-   * @param \Drupal\flag\FlaggingInterface $flagging
+   * @param FlaggingInterface $flagging
    *   The flagging object.
    * @param string $action
    *   The action. Either 'flag' or 'unflag'.
    *
-   * @throws \Drupal\message_subscribe\Exception\MessageSubscribeException
+   * @throws MessageSubscribeException
    *   If there isn't a corresponding `email_` flag for the given `subscribe_`
    *   flag.
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


27) modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\flag\FlaggingInterface;
+use Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface;
 /**
  * @file
  * Code for the  message subscribe email feature.
@@ @@
     }

     // Get the other flags on that same content.
-    /** @var \Drupal\flag\FlaggingInterface[] $user_flaggings */
+    /** @var FlaggingInterface[] $user_flaggings */
     $user_flaggings = $flag_service->getAllEntityFlaggings($flaggable, $account, $sid);
     $user_flags = [];
     foreach ($user_flaggings as $flagging) {
@@ @@
     return;
   }

-  /** @var \Drupal\flag\FlagInterface[] $flags */
+  /** @var FlagInterface[] $flags */
   if (!$flags = \Drupal::service('message_subscribe_email.manager')->getFlags()) {
     // No subscribe email related flags.
     return;
@@ @@

   $debug && \Drupal::logger('message_subscribe_email')->debug('Found email subscribers @subscribers', ['@subscribers' => implode(', ', $all_email_subscribers)]);

-  /** @var \Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface $delivery_candidate */
+  /** @var DeliveryCandidateInterface $delivery_candidate */
   foreach ($uids as $uid => $delivery_candidate) {
     // If email flags aren't already set, get them from database.
     if (!array_intersect($delivery_candidate->getFlags(), $flag_ids)) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


28) modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\Display\EntityViewDisplayInterface;
 /**
  * @file
  * Install hooks for the message_subscribe_email module.
  */
-
 /**
  * Implements hook_install().
  *
@@ @@
  */
 function message_subscribe_email_install() {
   // Add the `message_subscribe_email` field to the user form.
-  /** @var \Drupal\Core\Entity\Display\EntityViewDisplayInterface $display */
+  /** @var EntityViewDisplayInterface $display */
   if (method_exists(\Drupal::service('entity_display.repository'), 'getFormDisplay')) {
     $display = \Drupal::service('entity_display.repository')->getFormDisplay('user', 'user');
   }
   else {
     // Pre-Drupal 8.8.
-    $display = entity_get_form_display('user', 'user', 'default');
+    $display = \Drupal::service('entity_display.repository')->getFormDisplay('user', 'user', 'default');
   }
   if (!$display->getComponent('message_subscribe_email')) {
     $settings = [
    ----------- end diff -----------

Applied rules:
 * EntityGetFormDisplayRector
 * ArgumentRemoverRector


29) modules/contrib/message_subscribe/message_subscribe.api.php:16

    ---------- begin diff ----------
@@ @@
 /**
  * Allow modules to add user IDs that need to be notified.
  *
- * @param \Drupal\message\MessageInterface $message
+ * @param MessageInterface $message
  *   The message object.
  * @param array $subscribe_options
  *   Subscription options as defined by
@@ @@
  *   value. According to this context this function will retrieve the
  *   related subscribers.
  *
- * @return \Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface[]
+ * @return DeliveryCandidateInterface[]
  *   An array, keyed by recipeint user ID, of delivery candidate objects.
  */
 function hook_message_subscribe_get_subscribers(MessageInterface $message, array $subscribe_options = [], array $context = []) {
@@ @@
 /**
  * Alter the subscribers list.
  *
- * @param \Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface[] &$uids
+ * @param DeliveryCandidateInterface[] $uids
  *   The array of delivery candidates as defined by
  *   `hook_message_subscribe_get_subscribers()`.
  * @param array $values
@@ @@
 /**
  * Alter the message entity immediately before it is sent.
  *
- * @param \Drupal\message\MessageInterface $message
+ * @param MessageInterface $message
  *   The message entity to be sent. This already has the recipient set as the
  *   message owner.
- * @param \Drupal\message_subscribe\Subscribers\DeliveryCandidateInterface $delivery_candidate
+ * @param DeliveryCandidateInterface $delivery_candidate
  *   A delivery candidate object.
  */
 function hook_message_subscribe_message_alter(MessageInterface $message, DeliveryCandidateInterface $delivery_candidate) {
    ----------- end diff -----------

 [OK] 29 files have been changed by Rector                                      

