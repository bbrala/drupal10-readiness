modules/contrib/term_split/src/EventSubscriber/OverviewTerms.php
modules/contrib/term_split/src/Form/SplitTerm.php
modules/contrib/term_split/src/Form/SplitTermConfirm.php
modules/contrib/term_split/src/TermSplitter.php
modules/contrib/term_split/src/TermSplitterInterface.php
modules/contrib/term_split/tests/src/Kernel/Form/SplitTermTest.php
modules/contrib/term_split/tests/src/Kernel/TermSplitTestBase.php
modules/contrib/term_split/tests/src/Kernel/TermSplitterTest.php
modules/contrib/term_split/tests/src/Kernel/TestDoubles/TermSplitterDummy.php
modules/contrib/term_split/tests/src/Kernel/TestDoubles/TermSplitterSpy.php

8 files with changes
====================

1) modules/contrib/term_split/tests/src/Kernel/TermSplitterTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\term_split\Kernel;

+use Drupal\term_reference_change\ReferenceMigrator;
+use Drupal\node\Entity\Node;
 use Drupal\term_split\TermSplitter;

 /**
@@ @@
   /**
    * The term reference migrator.
    *
-   * @var \Drupal\term_reference_change\ReferenceMigrator
+   * @var ReferenceMigrator
    */
   private $termReferenceMigrator;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->termReferenceMigrator = \Drupal::getContainer()->get('term_reference_change.migrator');
   }
@@ @@
     $term2Result = $this->termStorage->loadByProperties(['name' => 'Term 2']);
     $term2 = reset($term2Result);

-    /** @var \Drupal\node\Entity\Node $node1 */
+    /** @var Node $node1 */
     $node1 = $this->entityTypeManager->getStorage('node')->load($node1->id());
-    /** @var \Drupal\node\Entity\Node $node2 */
+    /** @var Node $node2 */
     $node2 = $this->entityTypeManager->getStorage('node')->load($node2->id());
     self::assertEquals($term1->id(), $node1->get('field_terms')->getString());
     self::assertEquals($term2->id(), $node2->get('field_terms')->getString());
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/term_split/tests/src/Kernel/TermSplitTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\term_split\Kernel;

+use Drupal\Core\Entity\EntityTypeManager;
+use Drupal\taxonomy\Entity\Vocabulary;
+use Drupal\taxonomy\TermStorage;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\Tests\field\Traits\EntityReferenceTestTrait;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManager
+   * @var EntityTypeManager
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The vocabulary.
    *
-   * @var \Drupal\taxonomy\Entity\Vocabulary
+   * @var Vocabulary
    */
   protected $vocabulary;

@@ @@
   /**
    * The term storage.
    *
-   * @var \Drupal\taxonomy\TermStorage
+   * @var TermStorage
    */
   protected $termStorage;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig(['filter']);
     $this->installSchema('system', ['key_value_expire', 'sequences']);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/term_split/tests/src/Kernel/Form/SplitTermTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\term_split\Kernel\Form;

+use Drupal\taxonomy\TermInterface;
 use Drupal\Core\Form\FormState;
 use Drupal\Core\Url;
 use Drupal\node\Entity\Node;
@@ @@
   /**
    * The term.
    *
-   * @var \Drupal\taxonomy\TermInterface
+   * @var TermInterface
    */
   private $term;

@@ @@
   /**
    * The term splitter.
    *
-   * @var \Drupal\Tests\term_split\Kernel\TestDoubles\TermSplitterSpy
+   * @var TermSplitterSpy
    */
   private $termSplitter;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->termSplitter = new TermSplitterSpy();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/term_split/src/TermSplitterInterface.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * Splits a source term into two new target terms.
    *
-   * @param \Drupal\taxonomy\TermInterface $sourceTerm
+   * @param TermInterface $sourceTerm
    *   The term to split.
    * @param string $target1
    *   The name of the first target term.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


5) modules/contrib/term_split/src/TermSplitter.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\term_split;

+use Drupal\taxonomy\TermStorageInterface;
 use Drupal\Core\Entity\EntityStorageException;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   private $entityTypeManager;

@@ @@
   /**
    * The taxonomy term storage.
    *
-   * @var \Drupal\taxonomy\TermStorageInterface
+   * @var TermStorageInterface
    */
   private $termStorage;

@@ @@
   /**
    * The term reference migration service.
    *
-   * @var \Drupal\term_reference_change\ReferenceMigrator
+   * @var ReferenceMigrator
    */
   private $migrator;

@@ @@
   /**
    * TermSplitter constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entityTypeManager
+   * @param EntityTypeManagerInterface $entityTypeManager
    *   The entity type manager service.
-   * @param \Drupal\term_reference_change\ReferenceMigrator $migrator
+   * @param ReferenceMigrator $migrator
    *   The reference migration service.
    */
   public function __construct(EntityTypeManagerInterface $entityTypeManager, ReferenceMigrator $migrator) {
@@ @@
       '%a' => $term1->label(),
       '%b' => $term2->label(),
     ];
-    drupal_set_message($this->t('%source has been split into %a and %b', $args));
+    \Drupal::messenger()->addStatus($this->t('%source has been split into %a and %b', $args));
   }

   /**
@@ @@
    * @param string $vocabularyId
    *   The vocabulary id.
    *
-   * @return \Drupal\taxonomy\TermInterface
+   * @return TermInterface
    *   The created or loaded term.
    */
   private function createTermIfNotExists($termName, $vocabularyId) {
@@ @@
   /**
    * Delete a taxonomy term.
    *
-   * @param \Drupal\taxonomy\TermInterface $term
+   * @param TermInterface $term
    *   The term to delete.
    */
   private function deleteTerm(TermInterface $term) {
@@ @@
    * @param string $vocabularyId
    *   The vocabulary id.
    *
-   * @return \Drupal\taxonomy\TermInterface
+   * @return TermInterface
    *   The loaded or created taxonomy term.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   private function loadTerm($name, $vocabularyId) {
     $result = $this->termStorage->loadByProperties([
@@ @@
   /**
    * Migrates node references from source term to the target term.
    *
-   * @param \Drupal\taxonomy\TermInterface $sourceTerm
+   * @param TermInterface $sourceTerm
    *   The term to migrate from.
-   * @param \Drupal\taxonomy\TermInterface $targetTerm
+   * @param TermInterface $targetTerm
    *   The term to migrate to.
    * @param int[] $limitByNids
    *   Only change nodes with an id in this list.
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


6) modules/contrib/term_split/src/Form/SplitTermConfirm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\term_split\Form;

+use Drupal\node\NodeInterface;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Form\FormBase;
@@ @@
   /**
    * The term splitter.
    *
-   * @var \Drupal\term_split\TermSplitterInterface
+   * @var TermSplitterInterface
    */
   private $termSplitter;

@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   private $entityTypeManager;

@@ @@
   /**
    * SplitTerm constructor.
    *
-   * @param \Drupal\term_split\TermSplitterInterface $termSplitter
+   * @param TermSplitterInterface $termSplitter
    *   The term splitter service.
    * @param \Drupal\user\PrivateTempStoreFactory $tempStoreFactory
    *   The temp store factory service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entityTypeManager
+   * @param EntityTypeManagerInterface $entityTypeManager
    *   The entity type manager service.
    */
   public function __construct(TermSplitterInterface $termSplitter, PrivateTempStoreFactory $tempStoreFactory, EntityTypeManagerInterface $entityTypeManager) {
@@ @@
   /**
    * A callback for the form title.
    *
-   * @return \Drupal\Core\StringTranslation\TranslatableMarkup
+   * @return TranslatableMarkup
    *   The title.
    */
   public function titleCallback() {
@@ @@
   /**
    * Creates a cancel url object.
    *
-   * @param \Drupal\taxonomy\TermInterface $sourceTerm
+   * @param TermInterface $sourceTerm
    *   The source term.
    *
-   * @return \Drupal\Core\Url
+   * @return Url
    *   The cancel url.
    *
    * @SuppressWarnings(static)
@@ @@
   /**
    * Loads the source term.
    *
-   * @return \Drupal\taxonomy\TermInterface
+   * @return TermInterface
    *   The loaded source term.
    */
   protected function getSourceTerm() {
     $settings = $this->getSplitSettings();

-    /** @var \Drupal\taxonomy\TermInterface $term */
+    /** @var TermInterface $term */
     $term = $this->entityTypeManager->getStorage('taxonomy_term')
       ->load($settings['tid']);

@@ @@
   /**
    * Loads all nodes referencing the term to be split.
    *
-   * @return \Drupal\node\NodeInterface[]
+   * @return NodeInterface[]
    *   The loaded nodes.
    */
   protected function loadNodesReferencingSourceTerm() {
@@ @@
     $settings = $this->getSplitSettings();

     $allConfiguredNids = array_merge($settings['a']['nids'], $settings['b']['nids']);
-    /** @var \Drupal\node\NodeInterface[] $nodes */
+    /** @var NodeInterface[] $nodes */
     $nodes = $this->entityTypeManager->getStorage('node')
       ->loadMultiple($allConfiguredNids);
     return $nodes;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/term_split/src/Form/SplitTerm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\term_split\Form;

+use Drupal\node\NodeInterface;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * The reference finder.
    *
-   * @var \Drupal\term_reference_change\ReferenceFinder
+   * @var ReferenceFinder
    */
   private $referenceFinder;

@@ @@
   /**
    * The source term.
    *
-   * @var \Drupal\taxonomy\TermInterface
+   * @var TermInterface
    */
   private $sourceTerm;

@@ @@
   /**
    * SplitTerm constructor.
    *
-   * @param \Drupal\term_reference_change\ReferenceFinder $referenceFinder
+   * @param ReferenceFinder $referenceFinder
    *   The reference finder service.
    * @param \Drupal\user\PrivateTempStoreFactory $tempStoreFactory
    *   The temp store factory service.
@@ @@
       '#size' => 25,
     ];

-    /** @var \Drupal\node\NodeInterface $node */
+    /** @var NodeInterface $node */
     foreach ($this->getReferencingNodes($taxonomy_term) as $node) {
       $form['nodes'][$node->id()]['link'] = [
         '#type' => 'link',
@@ @@
   /**
    * A callback for the form title.
    *
-   * @param \Drupal\taxonomy\TermInterface $taxonomy_term
+   * @param TermInterface $taxonomy_term
    *   The source term.
    *
-   * @return \Drupal\Core\StringTranslation\TranslatableMarkup
+   * @return TranslatableMarkup
    *   The title.
    *
    * @SuppressWarnings(camelCase)
@@ @@
   /**
    * Creates a cancel url object.
    *
-   * @param \Drupal\taxonomy\TermInterface $sourceTerm
+   * @param TermInterface $sourceTerm
    *   The source term.
    *
-   * @return \Drupal\Core\Url
+   * @return Url
    *   The cancel url.
    *
    * @SuppressWarnings(static)
@@ @@
   /**
    * Retrieves all nodes referencing the given term.
    *
-   * @param \Drupal\taxonomy\TermInterface $term
+   * @param TermInterface $term
    *   The term to retrieve references for.
    *
-   * @return \Drupal\node\NodeInterface[]
+   * @return NodeInterface[]
    *   The referencing nodes.
    */
   private function getReferencingNodes(TermInterface $term) {
@@ @@
   /**
    * Retrieves the name for the given target term.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $formState
+   * @param FormStateInterface $formState
    *   The form state.
    * @param string $target
    *   The target.
@@ @@
   /**
    * Retrieves the selected node ids for the given target from the form state.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $formState
+   * @param FormStateInterface $formState
    *   The form state.
    * @param string $target
    *   The target.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/term_split/src/EventSubscriber/OverviewTerms.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\term_split\EventSubscriber;

+use Drupal\taxonomy\Entity\Term;
 use Drupal\Core\Render\Element;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\Core\Url;
@@ @@
     $children = Element::getVisibleChildren($form['terms']);

     foreach ($children as $child) {
-      /** @var \Drupal\taxonomy\Entity\Term $currentTerm */
+      /** @var Term $currentTerm */
       $currentTerm = $form['terms'][$child]['#term'];
       $routeName = 'entity.taxonomy_term.split_form';
       $routeParameters['taxonomy_term'] = $currentTerm->id();
-      /** @var \Drupal\Core\Url $editUrl */
+      /** @var Url $editUrl */
       $editUrl = $form['terms'][$child]['operations']['#links']['edit']['url'];
       $options = $editUrl->getOptions();
       $splitFormUrl = new Url($routeName, $routeParameters, $options);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 8 files have been changed by Rector                                       

