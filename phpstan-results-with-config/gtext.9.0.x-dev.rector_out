modules/contrib/gtext/gtext.install
modules/contrib/gtext/gtext.module
modules/contrib/gtext/src/Controller/APIController.php
modules/contrib/gtext/src/Controller/TranslateController.php
modules/contrib/gtext/src/Form/SettingsForm.php
modules/contrib/gtext/src/Form/TranslateFilterForm.php
modules/contrib/gtext/src/Form/TranslateForm.php
modules/contrib/gtext/src/Form/TranslateStringForm.php
modules/contrib/gtext/src/GoogleTranslate.php
modules/contrib/gtext/src/TextTranslationFactory.php
modules/contrib/gtext/src/TextTranslationWrapper.php
modules/contrib/gtext/src/Twig/TwigTranslateExtension.php
modules/contrib/gtext/src/Utility/HelpTemplate.php

9 files with changes
====================

1) modules/contrib/gtext/src/Utility/HelpTemplate.php:55

    ---------- begin diff ----------
@@ @@
    *   Path string.
    */
   public static function getDescriptionTemplatePath() {
-    return drupal_get_path('module', self::getModuleName()) . "/templates/help.html.twig";
+    return \Drupal::service('extension.list.module')->getPath(self::getModuleName()) . "/templates/help.html.twig";
   }

 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/gtext/src/Twig/TwigTranslateExtension.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * Provides a TextTranslationFactory class.
    *
-   * @var \Drupal\gtext\TextTranslationFactory
+   * @var TextTranslationFactory
    */
   protected $gtext;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/gtext/src/Form/TranslateStringForm.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * Returns the language manager service.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * Defines a class to store localized strings in the database.
    *
-   * @var \Drupal\locale\StringDatabaseStorage
+   * @var StringDatabaseStorage
    */
   protected $localeStorage;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/gtext/src/Form/TranslateForm.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * Returns the language manager service.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * Defines a class to store localized strings in the database.
    *
-   * @var \Drupal\locale\StringDatabaseStorage
+   * @var StringDatabaseStorage
    */
   protected $localeStorage;

@@ @@
   /**
    * Class that manages modules in a Drupal installation.
    *
-   * @var \Drupal\Core\Extension\ModuleHandler
+   * @var ModuleHandler
    */
   protected $moduleHandler;

@@ @@
   /**
    * Database API class.
    *
-   * @var Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
         '#attributes'  => [
           'title'        => t('Click to copy code for Twig'),
           'class'        => ['gtext-click-copy'],
-          'src'          => '/' . drupal_get_path('module', 'gtext') . '/misc/img/twig.svg',
+          'src'          => '/' . \Drupal::service('extension.list.module')->getPath('gtext') . '/misc/img/twig.svg',
         ]
       ];
       $form['strings'][$string->lid]['original']['copy']['code'] = [
@@ @@
         '#attributes'  => [
           'title'        => t('Click to copy code for PHP'),
           'class'        => ['gtext-click-copy'],
-          'src'          => '/' . drupal_get_path('module', 'gtext') . '/misc/img/php.svg',
+          'src'          => '/' . \Drupal::service('extension.list.module')->getPath('gtext') . '/misc/img/php.svg',
         ]
       ];
       $context = str_replace('\'', '\\\'', $string->context);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/gtext/src/Form/TranslateFilterForm.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * Returns the language manager service.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageMmanager;

@@ @@
   /**
    * Turns a render array into a HTML string.
    *
-   * @var \Drupal\Core\Render\Renderer
+   * @var Renderer
    */
   protected $renderer;

@@ @@
   /**
    * Class that manages modules in a Drupal installation.
    *
-   * @var \Drupal\Core\Extension\ModuleHandler
+   * @var ModuleHandler
    */
   protected $moduleHandler;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/gtext/src/Form/SettingsForm.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * Defines the configuration object factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   protected $configFactory;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/gtext/src/Controller/TranslateController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\gtext\Controller;

+use Drupal\locale\StringDatabaseStorage;
 use Drupal\gtext\Form\TranslateForm;
 use Drupal\gtext\Form\TranslateFilterForm;
 use Drupal\gtext\Form\TranslateStringForm;
@@ @@
   /**
    * Defines a class to store localized strings in the database.
    *
-   * @var \Drupal\locale\StringDatabaseStorage
+   * @var StringDatabaseStorage
    */
   protected $localeStorage;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


8) modules/contrib/gtext/src/Controller/APIController.php:30

    ---------- begin diff ----------
@@ @@
   /**
    * Defines a class to store localized strings in the database.
    *
-   * @var \Drupal\locale\StringDatabaseStorage
+   * @var StringDatabaseStorage
    */
   protected $localeStorage;

@@ @@
   /**
    * Database API class.
    *
-   * @var Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
   /**
    * The messenger service.
    *
-   * @var \Drupal\Core\Messenger\Messenger
+   * @var Messenger
    */
   protected $messenger;

@@ @@
   /**
    * Provides helpers to operate on files and stream wrappers.
    *
-   * @var \Drupal\Core\File\FileSystem
+   * @var FileSystem
    */
   protected $fileSystem;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/gtext/gtext.module:172

    ---------- begin diff ----------
@@ @@
     \Drupal::service('event_dispatcher')->dispatch(new LocaleEvent($langcodes, $lids), LocaleEvents::SAVE_TRANSLATION);
   } else
   if ( interface_exists(ComponentEventDispatcherInterface::class) && \Drupal::service('event_dispatcher') instanceof ComponentEventDispatcherInterface ){
-    \Drupal::service('event_dispatcher')->dispatch(LocaleEvents::SAVE_TRANSLATION, new LocaleEvent($langcodes, $lids));
+    \Drupal::service('event_dispatcher')->dispatch(new LocaleEvent($langcodes, $lids), LocaleEvents::SAVE_TRANSLATION);
   } else {
     \Drupal::messenger()->addError( t('Error calling event. It is possible that the changes will be applied only after the cache is cleared'));
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector


 [OK] 9 files have been changed by Rector                                       

