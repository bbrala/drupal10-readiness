modules/contrib/forum_inheritance/forum_inheritance.api.php
modules/contrib/forum_inheritance/forum_inheritance.module
modules/contrib/forum_inheritance/src/FieldConfiguration.php
modules/contrib/forum_inheritance/src/FieldInheritor.php
modules/contrib/forum_inheritance/src/FieldItemSetHelper.php
modules/contrib/forum_inheritance/src/ForumInheritanceHooks.php
modules/contrib/forum_inheritance/tests/src/Functional/AdminPageTest.php

6 files with changes
====================

1) modules/contrib/forum_inheritance/tests/src/Functional/AdminPageTest.php:32

    ---------- begin diff ----------
@@ @@
   public function testAdminPage() {
     $this->drupalLogin($this->rootUser);
     $this->drupalGet('admin');
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);

     // Ensure that the test is not marked as risky because of no assertions.
     // see https://gitlab.com/weitzman/drupal-test-traits/-/commit/82bf5059908f9073b3468cb7313960da72176d9a
    ----------- end diff -----------

Applied rules:
 * AssertResponseRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/forum_inheritance/src/ForumInheritanceHooks.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\forum_inheritance;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Core\TypedData\Exception\ReadOnlyException;
+use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Field\EntityReferenceFieldItemListInterface;
 use Drupal\Core\Field\FieldDefinitionInterface;
@@ @@
 class ForumInheritanceHooks {

   /**
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    */
   public static function hookEntityInsert(EntityInterface $entity) {
     // This moved to ::hookEntityPrepareForm.
@@ @@
   /**
    * Implements hook_entity_update().
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\Entity\EntityStorageException
-   * @throws \Drupal\Core\TypedData\Exception\ReadOnlyException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
+   * @throws EntityStorageException
+   * @throws ReadOnlyException
    */
   public static function hookEntityUpdate(EntityInterface $entity) {
     foreach (FieldConfiguration::all() as $fc) {
       if ($entity instanceof TermInterface && $entity->bundle() === $fc->getTermBundle()) {
-        /** @var \Drupal\Core\Entity\EntityTypeManagerInterface $entityTypeManager */
+        /** @var EntityTypeManagerInterface $entityTypeManager */
         $entityTypeManager = \Drupal::service('entity_type.manager');

         // Inherit to contained forums.
@@ @@
         $nodeStorage = $entityTypeManager->getStorage('node');
         $query = $nodeStorage->getQuery()
           ->condition($fc->getTermReference(), $possibleForumTerms);
-        /** @var \Drupal\taxonomy\TermInterface[] $result */
+        /** @var TermInterface[] $result */
         $containedForumNodeIds = $query->execute();
         $containedForumNodes = Node::loadMultiple($containedForumNodeIds);
         FieldInheritor::inheritFieldChanges([$entity], $containedForumNodes, $fc->getFieldMap());
@@ @@
   /**
    * Prepopulate foum topic form.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    * @param $operation
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\TypedData\Exception\ReadOnlyException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
+   * @throws ReadOnlyException
    *
    * @see forum_form_node_form_alter
    */
@@ @@
         if (is_numeric($forumId)) {
           $forumsField->setValue(['target_id' => $forumId]);
         }
-        /** @var \Drupal\taxonomy\TermInterface[] $parentForumTerms */
+        /** @var TermInterface[] $parentForumTerms */
         $parentForumTerms = $forumsField->referencedEntities();
         // Whether we or someone else populated $parentForumTerms, inherit the
         // term fields.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/forum_inheritance/src/FieldItemSetHelper.php:47

    ---------- begin diff ----------
@@ @@
   /**
    * Get field item normalizer callback.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $fieldDefinition
+   * @param FieldDefinitionInterface $fieldDefinition
    *   The field definition.
    *
    * @return \Closure
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


4) modules/contrib/forum_inheritance/src/FieldInheritor.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\forum_inheritance;

+use Drupal\Core\Entity\FieldableEntityInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Core\TypedData\Exception\ReadOnlyException;
+use Drupal\taxonomy\TermInterface;
 use Drupal\Component\Utility\DiffArray;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Field\FieldItemListInterface;
@@ @@
   /**
    * Inherit field changes.
    *
-   * @param \Drupal\Core\Entity\FieldableEntityInterface[] $sourceEntities
+   * @param FieldableEntityInterface[] $sourceEntities
    *   The entity.
-   * @param \Drupal\Core\Entity\FieldableEntityInterface[] $targetEntities
+   * @param FieldableEntityInterface[] $targetEntities
    *   The target entities.
    * @param string[] $fieldMap
    *   The field map. Not existing fields are silently ignored.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\Entity\EntityStorageException
-   * @throws \Drupal\Core\TypedData\Exception\ReadOnlyException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
+   * @throws EntityStorageException
+   * @throws ReadOnlyException
    */
   public static function inheritFieldChanges($sourceEntities, $targetEntities, $fieldMap) {
     $targetNeedsSave = self::copyFieldChanges($sourceEntities, $targetEntities, $fieldMap);
@@ @@
   }

   /**
-   * Copy field changes but do not save them.
-   *
-   * @param $sourceEntities
-   * @param $targetEntities
-   * @param $fieldMap
-   *
-   * @return array
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\TypedData\Exception\ReadOnlyException
-   */
+     * Copy field changes but do not save them.
+     *
+     * @param $sourceEntities
+     * @param $targetEntities
+     * @param $fieldMap
+     *
+     * @return array
+     * @throws InvalidPluginDefinitionException
+     * @throws PluginNotFoundException
+     * @throws ReadOnlyException
+     */
     public static function copyFieldChanges($sourceEntities, $targetEntities, $fieldMap) {
       $targetNeedsSave = [];
       foreach ($sourceEntities as $sourceEntity) {
-      /** @var \Drupal\taxonomy\TermInterface $originalSourceEntity */
+      /** @var TermInterface $originalSourceEntity */
       $originalSourceEntity = $sourceEntity->original ?? static::emptyEntity($sourceEntity);
       foreach ($targetEntities as $targetIndex => $targetEntity) {
         foreach ($fieldMap as $sourceFieldName => $targetFieldName) {
@@ @@
   /**
    * Inherit one field change.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $originalSourceField
-   * @param \Drupal\Core\Field\FieldItemListInterface $sourceField
-   * @param \Drupal\Core\Field\FieldItemListInterface $targetField
+   * @param FieldItemListInterface $originalSourceField
+   * @param FieldItemListInterface $sourceField
+   * @param FieldItemListInterface $targetField
    *
    * @return bool
    *   If the target field has been changed.
    *
-   * @throws \Drupal\Core\TypedData\Exception\ReadOnlyException
+   * @throws ReadOnlyException
    */
   public static function inheritOneFieldChange(FieldItemListInterface $originalSourceField, FieldItemListInterface $sourceField, FieldItemListInterface $targetField) {
     if ($sourceField->getFieldDefinition()->getFieldStorageDefinition()->isMultiple()) {
@@ @@
   /**
    * Inherit one field change.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $originalSourceField
-   * @param \Drupal\Core\Field\FieldItemListInterface $sourceField
-   * @param \Drupal\Core\Field\FieldItemListInterface $targetField
+   * @param FieldItemListInterface $originalSourceField
+   * @param FieldItemListInterface $sourceField
+   * @param FieldItemListInterface $targetField
    *
    * @return bool
    *   If the target field has been changed.
-   * @throws \Drupal\Core\TypedData\Exception\ReadOnlyException
+   * @throws ReadOnlyException
    */
   public static function inheritOneSingleFieldChange(FieldItemListInterface $originalSourceField, FieldItemListInterface $sourceField, FieldItemListInterface $targetField) {
     if (!$sourceField->equals($originalSourceField)) {
@@ @@
   /**
    * Inherit one set field change.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $originalSourceField
-   * @param \Drupal\Core\Field\FieldItemListInterface $sourceField
-   * @param \Drupal\Core\Field\FieldItemListInterface $targetField
+   * @param FieldItemListInterface $originalSourceField
+   * @param FieldItemListInterface $sourceField
+   * @param FieldItemListInterface $targetField
    *
    * @return bool
    *   If the target field has been changed.
-   * @throws \Drupal\Core\TypedData\Exception\ReadOnlyException
+   * @throws ReadOnlyException
    */
   public static function inheritOneSetFieldChange(FieldItemListInterface $originalSourceField, FieldItemListInterface $sourceField, FieldItemListInterface $targetField) {
     $currentValues = FieldItemSetHelper::fieldItemListToArray($sourceField);
@@ @@
   /**
    * Create an empty entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $sourceEntity
+   * @param EntityInterface $sourceEntity
    *   The source entity.
    *
-   * @return \Drupal\Core\Entity\EntityInterface
+   * @return EntityInterface
    *   The empty entity.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   private static function emptyEntity(EntityInterface $sourceEntity) {
     $entityType = $sourceEntity->getEntityType();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


5) modules/contrib/forum_inheritance/src/FieldConfiguration.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\forum_inheritance;

+use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Field\FieldDefinitionInterface;
 use Drupal\field\FieldConfigInterface;

@@ @@
    */
   public function getFieldMap() {
     if (!isset($this->fieldMap)) {
-      /** @var \Drupal\Core\Entity\EntityFieldManagerInterface $entityFieldManager */
+      /** @var EntityFieldManagerInterface $entityFieldManager */
       $entityFieldManager = \Drupal::service('entity_field.manager');
       $termFieldDefinitions = $entityFieldManager->getFieldDefinitions('taxonomy_term', $this->getTermBundle());
       $nodeFieldDefinitions = $entityFieldManager->getFieldDefinitions('node', $this->getNodeBundle());
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


6) modules/contrib/forum_inheritance/forum_inheritance.module:11

    ---------- begin diff ----------
@@ @@
 /**
  * Implements hook_entity_insert().
  */
-function forum_inheritance_entity_insert(Drupal\Core\Entity\EntityInterface $entity) {
+function forum_inheritance_entity_insert(EntityInterface $entity) {
   ForumInheritanceHooks::hookEntityInsert($entity);
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 6 files have been changed by Rector                                       

