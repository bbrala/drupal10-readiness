modules/contrib/patternkit/modules/patternkit_example/patternkit_example.module
modules/contrib/patternkit/modules/patternkit_media_library/patternkit_media_library.install
modules/contrib/patternkit/modules/patternkit_media_library/patternkit_media_library.module
modules/contrib/patternkit/modules/patternkit_media_library/src/Controller/PatternkitMediaLibraryController.php
modules/contrib/patternkit/modules/patternkit_media_library/src/Form/MediaLibrarySettingsForm.php
modules/contrib/patternkit/modules/patternkit_media_library/src/MediaLibraryJSONLibraryOpener.php
modules/contrib/patternkit/patternkit.install
modules/contrib/patternkit/patternkit.module
modules/contrib/patternkit/src/AJAX/PatternkitEditorUpdateCommand.php
modules/contrib/patternkit/src/Annotation/PatternLibrary.php
modules/contrib/patternkit/src/Asset/Library.php
modules/contrib/patternkit/src/Asset/LibraryInterface.php
modules/contrib/patternkit/src/Asset/PatternLibraryParser/FilePatternLibraryParser.php
modules/contrib/patternkit/src/Asset/PatternLibraryParser/JSONPatternLibraryParser.php
modules/contrib/patternkit/src/Asset/PatternLibraryParser/RESTPatternLibraryParser.php
modules/contrib/patternkit/src/Asset/PatternLibraryParser/TwigPatternLibraryParser.php
modules/contrib/patternkit/src/Asset/PatternLibraryParser/WebcomponentPatternLibraryParser.php
modules/contrib/patternkit/src/Asset/PatternLibraryParserBase.php
modules/contrib/patternkit/src/Asset/PatternLibraryParserInterface.php
modules/contrib/patternkit/src/Commands/PatternkitCommands.php
modules/contrib/patternkit/src/Controller/PatternkitController.php
modules/contrib/patternkit/src/Entity/Pattern.php
modules/contrib/patternkit/src/Entity/PatternInterface.php
modules/contrib/patternkit/src/Entity/PatternRouteProvider.php
modules/contrib/patternkit/src/Entity/PatternkitBlock.php
modules/contrib/patternkit/src/Form/PatternLibraryJSONForm.php
modules/contrib/patternkit/src/Form/PatternkitForm.php
modules/contrib/patternkit/src/Form/PatternkitSettingsForm.php
modules/contrib/patternkit/src/Form/PatternkitTranslateBlockForm.php
modules/contrib/patternkit/src/FormElement/PatternkitJson.php
modules/contrib/patternkit/src/JSONSchemaEditorTrait.php
modules/contrib/patternkit/src/Loader/PatternLibraryLoader.php
modules/contrib/patternkit/src/PathProcessor/PathProcessorPatterns.php
modules/contrib/patternkit/src/PatternEditorConfig.php
modules/contrib/patternkit/src/PatternLibrary.php
modules/contrib/patternkit/src/PatternLibraryJSONParserTrait.php
modules/contrib/patternkit/src/PatternLibraryPluginDefault.php
modules/contrib/patternkit/src/PatternLibraryPluginDefinition.php
modules/contrib/patternkit/src/PatternLibraryPluginInterface.php
modules/contrib/patternkit/src/PatternLibraryPluginManager.php
modules/contrib/patternkit/src/PatternTranslationHandler.php
modules/contrib/patternkit/src/Plugin/Block/PatternkitBlock.php
modules/contrib/patternkit/src/Plugin/Derivative/PatternkitBlock.php
modules/contrib/patternkit/src/Plugin/Field/FieldType/SerializedData.php
modules/contrib/patternkit/src/Plugin/Menu/LocalAction/PatternkitAddLocalAction.php
modules/contrib/patternkit/src/Plugin/PatternLibrary/PatternLibraryFile.php
modules/contrib/patternkit/src/Plugin/PatternLibrary/PatternLibraryJSON.php
modules/contrib/patternkit/src/Plugin/PatternLibrary/PatternLibraryREST.php
modules/contrib/patternkit/src/Plugin/PatternLibrary/PatternLibraryTwig.php
modules/contrib/patternkit/src/Routing/PatternkitTranslateBlockFormRouteSubscriber.php
modules/contrib/patternkit/src/StreamWrapper/LibraryStream.php
modules/contrib/patternkit/src/StreamWrapper/PatternkitStream.php
modules/contrib/patternkit/tests/src/Functional/PatternkitTest.php

37 files with changes
=====================

1) modules/contrib/patternkit/tests/src/Functional/PatternkitTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\patternkit\Functional;

+use Behat\Mink\Exception\ExpectationException;
+use Behat\Mink\Exception\ResponseTextException;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Core\Entity\ContentEntityStorageInterface;
+use Drupal\patternkit\Entity\PatternInterface;
 use Drupal\patternkit\Entity\Pattern;
 use Drupal\patternkit\Plugin\Derivative\PatternkitBlock;
 use Drupal\Tests\BrowserTestBase;
@@ @@
   /**
    * Verify that the toolbar tab and tray are showing and functioning.
    *
-   * @throws \Behat\Mink\Exception\ExpectationException
-   * @throws \Behat\Mink\Exception\ResponseTextException
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws ExpectationException
+   * @throws ResponseTextException
+   * @throws EntityStorageException
    */
   public function testPatternkitExampleBlock() {
     // @todo Remove this when
@@ @@
       'published' => TRUE,
     ]);
     $patternkit_block->save();
-    /** @var \Drupal\Core\Entity\ContentEntityStorageInterface $pattern_storage */
+    /** @var ContentEntityStorageInterface $pattern_storage */
     $pattern_storage = \Drupal::entityTypeManager()->getStorage('patternkit_pattern');
     $pattern_id = PatternkitBlock::derivativeToAssetId('patternkit_atoms_example_src_example');
-    /** @var \Drupal\patternkit\Entity\PatternInterface $pattern */
+    /** @var PatternInterface $pattern */
     $pattern = Pattern::create(\Drupal::service('patternkit.asset.library')->getLibraryAsset($pattern_id));
     $pattern_cache = $pattern_storage->loadByProperties([
       'library' => $pattern->getLibrary(),
       'path' => $pattern->getPath(),
     ]);
-    /** @var \Drupal\patternkit\Entity\PatternInterface $pattern_loaded */
+    /** @var PatternInterface $pattern_loaded */
     $pattern_loaded = end($pattern_cache);
     if (!empty($pattern_loaded)) {
       if ($pattern_loaded->getHash() !== $pattern->getHash()) {
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/patternkit/src/StreamWrapper/LibraryStream.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\StreamWrapper;

+use Drupal\Core\Asset\AssetResolverInterface;
 use Drupal\Core\Asset\AttachedAssets;
 use Drupal\Core\StreamWrapper\PublicStream;

@@ @@
     // Remove erroneous leading or trailing, forward-slashes and backslashes.
     $uri = trim($path, '\/');

-    /** @var \Drupal\Core\Asset\AssetResolverInterface $asset_resolver */
+    /** @var AssetResolverInterface $asset_resolver */
     $asset_resolver = \Drupal::service('asset.resolver');
     [$extension, $library, $type_level] = explode('/', $uri);
     // @todo Allow retrieving specific filenames and css levels.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/patternkit/src/Plugin/PatternLibrary/PatternLibraryTwig.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Plugin\PatternLibrary;

+use Drupal\Core\Template\TwigEnvironment;
+use Twig\Loader\FilesystemLoader;
+use Drupal\patternkit\Asset\PatternLibraryParser\TwigPatternLibraryParser;
+use Drupal\Component\Serialization\SerializationInterface;
+use Drupal\Core\State\StateInterface;
+use Drupal\patternkit\Asset\PatternLibraryParserInterface;
+use Drupal\Core\Config\ConfigFactoryInterface;
+use Drupal\patternkit\Entity\Pattern;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\patternkit\Entity\PatternInterface;
@@ @@
   /**
    * Twig environment service.
    *
-   * @var \Drupal\Core\Template\TwigEnvironment
+   * @var TwigEnvironment
    */
   protected $twig;

@@ @@
   /**
    * Twig file loader.
    *
-   * @var \Twig\Loader\FilesystemLoader
+   * @var FilesystemLoader
    */
   protected $twigLoader;

@@ @@
   /**
    * Twig pattern library parser service.
    *
-   * @var \Drupal\patternkit\Asset\PatternLibraryParser\TwigPatternLibraryParser
+   * @var TwigPatternLibraryParser
    */
   protected $twigParser;

@@ @@
    */
   public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition): PatternLibraryPluginInterface {
     $root = $container->get('app.root');
-    /** @var \Drupal\Component\Serialization\SerializationInterface $serializer */
+    /** @var SerializationInterface $serializer */
     $serializer = $container->get('serialization.json');
-    /** @var \Drupal\Core\State\StateInterface $state */
+    /** @var StateInterface $state */
     $state = $container->get('state');
-    /** @var \Drupal\patternkit\Asset\PatternLibraryParserInterface $twig_parser */
+    /** @var PatternLibraryParserInterface $twig_parser */
     $twig_parser = $container->get('patternkit.asset.library.parser.twig');
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+    /** @var ConfigFactoryInterface $config_factory */
     $config_factory = $container->get('config.factory');
     return new static($root, $serializer, $state, $twig_parser, $config_factory, $configuration, $plugin_id, $plugin_definition);
   }
@@ @@
       $this->twig = \Drupal::service('twig');
     }
     $elements = [];
-    /** @var \Drupal\patternkit\Entity\Pattern $pattern */
+    /** @var Pattern $pattern */
     foreach ($assets as $pattern) {
       $template = $pattern->getTemplate();
       if (empty($template)) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/patternkit/src/Plugin/PatternLibrary/PatternLibraryREST.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Plugin\PatternLibrary;

+use Drupal\patternkit\Asset\PatternLibraryParserInterface;
+use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Extension\Extension;
 use Drupal\Core\State\StateInterface;
 use Drupal\patternkit\Entity\PatternInterface;
@@ @@
   /**
    * The state key/value store.
    *
-   * @var \Drupal\Core\State\StateInterface
+   * @var StateInterface
    */
   protected $state;

@@ @@
    * @param string $root
    *   The application root path.
    *   e.g. '/var/www/docroot'.
-   * @param \Drupal\patternkit\Asset\PatternLibraryParserInterface $parser
+   * @param PatternLibraryParserInterface $parser
    *   Pattern library parser service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Extension config retrieval.
    * @param array $configuration
    *   Plugin config.
@@ @@
    *   Plugin ID.
    * @param mixed $plugin_definition
    *   Plugin Definition.
-   * @param \Drupal\Core\State\StateInterface $state
+   * @param StateInterface $state
    *   The state key/value store.
    */
   public function __construct($root, $parser, $config_factory, array $configuration, $plugin_id, $plugin_definition, StateInterface $state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/patternkit/src/Plugin/PatternLibrary/PatternLibraryJSON.php:29

    ---------- begin diff ----------
@@ @@
    * @param string $root
    *   The application root path.
    *   e.g. '/var/www/docroot'.
-   * @param \Drupal\Component\Serialization\SerializationInterface $serializer
+   * @param SerializationInterface $serializer
    *   Serialization service.
-   * @param \Drupal\Core\State\StateInterface $state
+   * @param StateInterface $state
    *   Static state of the application.
-   * @param \Drupal\patternkit\Asset\PatternLibraryParserInterface $parser
+   * @param PatternLibraryParserInterface $parser
    *   Pattern library parser service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Extension config retrieval.
    * @param array $configuration
    *   Config.
@@ @@
    */
   public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition): PatternLibraryPluginInterface {
     $root = $container->get('app.root');
-    /** @var \Drupal\Component\Serialization\SerializationInterface $serializer */
+    /** @var SerializationInterface $serializer */
     $serializer = $container->get('serialization.json');
-    /** @var \Drupal\Core\State\StateInterface $state */
+    /** @var StateInterface $state */
     $state = $container->get('state');
-    /** @var \Drupal\patternkit\Asset\PatternLibraryParserInterface $json_parser */
+    /** @var PatternLibraryParserInterface $json_parser */
     $json_parser = $container->get('patternkit.asset.library.parser.json');
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+    /** @var ConfigFactoryInterface $config_factory */
     $config_factory = $container->get('config.factory');
     return new static($root, $serializer, $state, $json_parser, $config_factory, $configuration, $plugin_id, $plugin_definition);
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/patternkit/src/Plugin/PatternLibrary/PatternLibraryFile.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Plugin\PatternLibrary;

+use Drupal\Core\Template\TwigEnvironment;
+use Twig\Loader\FilesystemLoader;
+use Drupal\patternkit\Asset\PatternLibraryParser\FilePatternLibraryParser;
+use Drupal\patternkit\Asset\PatternLibraryParserInterface;
+use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
 use Drupal\patternkit\Entity\PatternInterface;
 use Drupal\patternkit\PatternEditorConfig;
@@ @@
   /**
    * Twig environment service.
    *
-   * @var \Drupal\Core\Template\TwigEnvironment
+   * @var TwigEnvironment
    */
   protected $twig;

@@ @@
   /**
    * Twig file loader.
    *
-   * @var \Twig\Loader\FilesystemLoader
+   * @var FilesystemLoader
    */
   protected $twigLoader;

@@ @@
   /**
    * File pattern library parser service.
    *
-   * @var \Drupal\patternkit\Asset\PatternLibraryParser\FilePatternLibraryParser
+   * @var FilePatternLibraryParser
    */
   protected $fileParser;

@@ @@
    */
   public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition): PatternLibraryPluginInterface {
     $root = $container->get('app.root');
-    /** @var \Drupal\patternkit\Asset\PatternLibraryParserInterface $file_parser */
+    /** @var PatternLibraryParserInterface $file_parser */
     $file_parser = $container->get('patternkit.asset.library.parser.file');
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+    /** @var ConfigFactoryInterface $config_factory */
     $config_factory = $container->get('config.factory');
     return new static($root, $file_parser, $config_factory, $configuration, $plugin_id, $plugin_definition);
   }
@@ @@
    * Returns the editor for the generic file plugin.
    *
    * @param \Drupal\patternkit\entity\PatternInterface|null $pattern
-   * @param \Drupal\patternkit\PatternEditorConfig|null $config
+   * @param PatternEditorConfig|null $config
    *
    * @return mixed|void
    *   An editor render array or nothing if not present.
@@ @@
         [$namespace, $file] = explode('#', $template);
       }
       $bare       = basename($file);
-      /** @var \Drupal\Core\Template\TwigEnvironment $twig */
+      /** @var TwigEnvironment $twig */
       $twig       = \Drupal::service('twig');
       $template   = $twig->load("$namespace/$pattern->filename");
       $elements[] = $template->render($pattern->config ?? []);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/patternkit/src/Plugin/Derivative/PatternkitBlock.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Plugin\Derivative;

+use Drupal\Core\Logger\LoggerChannelInterface;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Core\Config\ConfigFactoryInterface;
+use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Component\Plugin\Derivative\DeriverBase;
 use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Entity\EntityStorageInterface;
@@ @@

 class PatternkitBlock extends DeriverBase implements ContainerDeriverInterface {

-  /** @var \Drupal\Core\Config\ImmutableConfig */
+  /** @var ImmutableConfig */
   protected $config;

-  /** @var Psr\Log\LoggerInterface */
+  /** @var LoggerInterface */
   protected $logger;

-    /** @var \Drupal\Core\Entity\EntityStorageInterface */
+    /** @var EntityStorageInterface */
   protected $patternkitStorage;

-  /** @var \Drupal\patternkit\Asset\LibraryInterface */
+  /** @var LibraryInterface */
   protected $library;

   /**
    * Used to populate all of the types of Patternkit blocks based on libraries.
    *
-   * @param \Drupal\Core\Config\ImmutableConfig $config
+   * @param ImmutableConfig $config
    *   Provides patternkit configurable settings.
-   * @param \Drupal\Core\Logger\LoggerChannelInterface $logger
+   * @param LoggerChannelInterface $logger
    *   Generates and provides log channels.
-   * @param \Drupal\patternkit\Asset\LibraryInterface $library
+   * @param LibraryInterface $library
    *   Provides a list of pattern libraries with metadata.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $storage
+   * @param EntityStorageInterface $storage
    *   Loads and saves entities to storage.
    */
   public function __construct(
@@ @@
   /**
    * {@inheritdoc}
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws PluginNotFoundException
    *   Thrown if the entity type doesn't exist.
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
+   * @throws InvalidPluginDefinitionException
    *   Thrown if the storage handler couldn't be loaded.
    */
   public static function create(ContainerInterface $container, $base_plugin_id): PatternkitBlock {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+    /** @var ConfigFactoryInterface $config_factory */
     $config_factory = $container->get('config.factory');
     $config = $config_factory->get(PatternkitSettingsForm::SETTINGS);
-    /** @var \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager */
+    /** @var EntityTypeManagerInterface $entity_manager */
     $entity_manager = $container->get('entity_type.manager');
-    /** @var \Drupal\Core\Logger\LoggerChannelInterface $logger */
+    /** @var LoggerChannelInterface $logger */
     $logger = $container->get('logger.channel.patternkit');
-    /** @var \Drupal\patternkit\Asset\LibraryInterface $library */
+    /** @var LibraryInterface $library */
     $library = $container->get('patternkit.asset.library');
     return new static(
       $config,
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/patternkit/src/Plugin/Block/PatternkitBlock.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Plugin\Block;

+use Drupal\Core\Block\BlockManager;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\patternkit\entity\PatternInterface;
+use Drupal\Core\Entity\ContentEntityStorageInterface;
+use Drupal\Core\Logger\LoggerChannelInterface;
+use Drupal\patternkit\PatternLibraryPluginInterface;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Core\Entity\EntityStorageException;
 use Drupal\Component\Plugin\Context\Context;
 use Drupal\Component\Serialization\SerializationInterface;
 use Drupal\Component\Utility\Xss;
@@ @@
   /**
    * Controls the block cache.
    *
-   * @var \Drupal\Core\Block\BlockManager
+   * @var BlockManager
    */
   protected $blockManager;

   /**
-   * @var \Drupal\Core\Plugin\Context\ContextHandlerInterface
+   * @var ContextHandlerInterface
    */
   protected $contextHandler;

@@ @@
   /**
    * Allows adding all current contexts to the block plugin.
    *
-   * @var \Drupal\Core\Plugin\Context\ContextRepositoryInterface
+   * @var ContextRepositoryInterface
    */
   protected $contextRepository;

@@ @@
   /**
    * Loads and saves the attached patternkit data content entity.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Loads pattern information.
    *
-   * @var \Drupal\patternkit\Asset\LibraryInterface
+   * @var LibraryInterface
    */
   protected $library;

@@ @@
   /**
    * Loads plugins for parsing and rendering patterns.
    *
-   * @var \Drupal\patternkit\PatternLibraryPluginManager
+   * @var PatternLibraryPluginManager
    */
   protected $patternLibraryPluginManager;

@@ @@
   /**
    * Encodes and decodes configuration for storage.
    *
-   * @var \Drupal\Component\Serialization\SerializationInterface
+   * @var SerializationInterface
    */
   protected $serializer;

@@ @@
   /**
    * Parses and replaces Drupal tokens.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $token;

@@ @@
   /**
    * Renders strings using the Twig template engine.
    *
-   * @var \Drupal\Core\Template\TwigEnvironment
+   * @var TwigEnvironment
    */
   protected $twig;

@@ @@
   /**
    * Returns a new PatternkitBlock instance.
    *
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   The global project container.
    * @param array $configuration
    *   Configuration array.
@@ @@
     $plugin_id,
     $plugin_definition): PatternkitBlock {

-    /** @var \Drupal\Core\Block\BlockManagerInterface $block_plugin_manager */
+    /** @var BlockManagerInterface $block_plugin_manager */
     $block_plugin_manager = $container->get('plugin.manager.block');
-    /** @var \Drupal\Core\Plugin\Context\ContextHandlerInterface $context_handler */
+    /** @var ContextHandlerInterface $context_handler */
     $context_handler = $container->get('context.handler');
-    /** @var \Drupal\Core\Plugin\Context\ContextRepositoryInterface $context_repository */
+    /** @var ContextRepositoryInterface $context_repository */
     $context_repository = $container->get('context.repository');
-    /** @var \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager */
+    /** @var EntityTypeManagerInterface $entity_type_manager */
     $entity_type_manager = $container->get('entity_type.manager');
-    /** @var \Drupal\patternkit\Asset\LibraryInterface $library */
+    /** @var LibraryInterface $library */
     $library = $container->get('patternkit.asset.library');
-    /** @var \Drupal\patternkit\PatternLibraryPluginManager $pattern_plugin_manager */
+    /** @var PatternLibraryPluginManager $pattern_plugin_manager */
     $pattern_plugin_manager = $container->get('plugin.manager.library.pattern');
-    /** @var \Drupal\Component\Serialization\SerializationInterface $serializer */
+    /** @var SerializationInterface $serializer */
     $serializer = $container->get('serialization.json');
-    /** @var \Drupal\Core\Utility\Token $token */
+    /** @var Token $token */
     $token = $container->get('token');
-    /** @var \Drupal\Core\Template\TwigEnvironment $twig */
+    /** @var TwigEnvironment $twig */
     $twig = $container->get('twig');
     return new static(
       $block_plugin_manager,
@@ @@
    *
    * Adds services to allow Patternkit to load and display library patterns.
    *
-   * @param \Drupal\Core\Block\BlockManagerInterface $block_manager
+   * @param BlockManagerInterface $block_manager
    *   Block manager service.
    * @param array $configuration
    *   Default configuration for the block plugin instance.
-   * @param \Drupal\Core\Plugin\Context\ContextHandlerInterface $context_handler
+   * @param ContextHandlerInterface $context_handler
    *   The ContextHandler allows mapping provided contexts to definitions.
-   * @param \Drupal\Core\Plugin\Context\ContextRepositoryInterface $context_repository
+   * @param ContextRepositoryInterface $context_repository
    *   The repository of available contexts for the current route.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager service.
-   * @param \Drupal\patternkit\Asset\LibraryInterface $library
+   * @param LibraryInterface $library
    *   Pattern discovery service.
-   * @param \Drupal\patternkit\PatternLibraryPluginManager $pattern_plugin_manager
+   * @param PatternLibraryPluginManager $pattern_plugin_manager
    *   Pattern library plugin manager service.
    * @param string $plugin_id
    *   Plugin ID.
    * @param array $plugin_definition
    *   Plugin definition.
-   * @param \Drupal\Component\Serialization\SerializationInterface $serializer
+   * @param SerializationInterface $serializer
    *   Serialization service.
-   * @param \Drupal\Core\Utility\Token $token
+   * @param Token $token
    *   Token service.
-   * @param \Drupal\Core\Template\TwigEnvironment $twig
+   * @param TwigEnvironment $twig
    *   The Twig rendering environment wrapper.
    */
   public function __construct(
@@ @@
    *
    * @param array $form
    *   PatternkitBlock form Drupal render array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The relevant Drupal FormState for the form render array.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   An AJAX response to update the current pattern based on the form.
    */
   public function ajaxUpdatePattern(array &$form, FormStateInterface $form_state): AjaxResponse {
@@ @@
    *
    * {@inheritDoc}
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   public function blockForm($form, FormStateInterface $form_state): array {
     $form += parent::blockForm($form, $form_state);
@@ @@

     $configuration = $this->getConfiguration();
     $plugin = $this->getPluginDefinition();
-    /** @var \Drupal\patternkit\entity\PatternInterface $pattern */
+    /** @var PatternInterface $pattern */
     try {
       $pattern = $form_state->get('pattern');
     }
@@ @@

     $form_state->set('pattern', $pattern);

-    /** @var \Drupal\Core\Entity\ContentEntityStorageInterface $block_storage */
+    /** @var ContentEntityStorageInterface $block_storage */
     $block_storage = $this->entityTypeManager->getStorage('patternkit_block');
     if (isset($configuration['patternkit_block_id'])
       && (int) $configuration['patternkit_block_id'] > 0) {
@@ @@
       }
     }
     catch (\Exception $exception) {
-      /** @var \Drupal\Core\Logger\LoggerChannelInterface $logger */
+      /** @var LoggerChannelInterface $logger */
       $logger = \Drupal::service('logger.channel.patternkit');
       $logger->info($this->t('Unable to show update UI for pattern in filesystem: @id', ['@id' => $pattern_id]));
     }
@@ @@

     $form['configuration_description']['#markup'] = $this->t('Provide context for your pattern. You can use tokens and Twig in your values.');

-    /** @var \Drupal\patternkit\PatternLibraryPluginInterface $library */
+    /** @var PatternLibraryPluginInterface $library */
     $library = $this->patternLibraryPluginManager->createInstance($pattern->getLibraryPluginId());
     $editor = $library->getEditor($pattern, $editor_config);
     if (!is_array($editor)) {
@@ @@
    *
    * @param array $form
    *   The form definition array for the full block configuration form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @see \Drupal\Core\Block\BlockPluginInterface::blockForm()
    * @see \Drupal\Core\Block\BlockPluginInterface::blockValidate()
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws PluginNotFoundException
    *   Thrown if the entity type doesn't exist.
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
+   * @throws InvalidPluginDefinitionException
    *   Thrown if the storage handler couldn't be loaded.
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    *   In case of failures an exception is thrown.
    */
   public function blockSubmit($form, FormStateInterface $form_state) {
@@ @@
     $configuration = $this->getConfiguration();
     $pattern_id = \Drupal\patternkit\Plugin\Derivative\PatternkitBlock::derivativeToAssetId($this->getDerivativeId());

-    /** @var \Drupal\Core\Entity\ContentEntityStorageInterface $block_storage */
+    /** @var ContentEntityStorageInterface $block_storage */
     $block_storage = $this->entityTypeManager->getStorage('patternkit_block');
     $values = [
       'data' => $form_state->getValue('instance_config'),
@@ @@
     $patternkit_block->isDefaultRevision(TRUE);
     $patternkit_block->save();

-    /** @var \Drupal\Core\Entity\ContentEntityStorageInterface $pattern_storage */
+    /** @var ContentEntityStorageInterface $pattern_storage */
     $pattern_storage = $this->entityTypeManager->getStorage('patternkit_pattern');
-    /** @var \Drupal\patternkit\entity\PatternInterface $pattern */
+    /** @var PatternInterface $pattern */
     $pattern = $form_state->get('pattern') ?? Pattern::create($this->library->getLibraryAsset($pattern_id));
     $pattern_cache = $pattern_storage->loadByProperties([
       'library' => $pattern->getLibrary(),
       'path' => $pattern->getPath(),
     ]);
-    /** @var \Drupal\patternkit\entity\PatternInterface|null $pattern_loaded */
+    /** @var PatternInterface|null $pattern_loaded */
     $pattern_loaded = $pattern_cache ? end($pattern_cache) : NULL;
     if ($pattern_loaded !== NULL) {
       if ($pattern_loaded->getHash() !== $pattern->getHash()) {
@@ @@
    *
    * @param array $form
    *   Drupal PatternkitBlock form render array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Relevant Drupal Form state.
    */
   public function blockValidate($form, FormStateInterface $form_state) {
@@ @@
   /**
    * Build the content for PatternKit block.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    *   If the instance cannot be created, such as if the ID is invalid.
    */
   public function build() {
@@ @@
     $instance_id = $configuration['instance_uuid'] ?? $pattern_id;

     // Load module specific config.
-    /** @var \Drupal\patternkit\entity\PatternInterface $pattern */
+    /** @var PatternInterface $pattern */
     if (!empty($configuration['pattern'])) {
       $pattern_storage = $this->entityTypeManager->getStorage('patternkit_pattern');
       $pattern = $pattern_storage->loadRevision($configuration['pattern']);
@@ @@
     // @todo Revisit twig default hard-coding.
     $pattern_plugin = $pattern->getLibraryPluginId();
     $library_plugin_id = !empty($pattern_plugin) ? $pattern_plugin : 'twig';
-    /** @var \Drupal\patternkit\PatternLibraryPluginInterface $library_plugin */
+    /** @var PatternLibraryPluginInterface $library_plugin */
     $library_plugin = $this->patternLibraryPluginManager->createInstance($library_plugin_id);
     $elements = $library_plugin->render([$pattern]);

@@ @@

   /**
    * @param $form
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *
    * @see \Drupal\views\Plugin\views\PluginBase
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/patternkit/src/PatternLibraryPluginManager.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The theme handler.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;

@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler to invoke the alter hook with.
    */
   public function __construct(Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler, ThemeHandlerInterface $theme_handler) {
@@ @@
   /**
    * {@inheritdoc}
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
+   * @throws InvalidPluginDefinitionException
    */
   public function processDefinition(&$definition, $plugin_id) {
     parent::processDefinition($definition, $plugin_id);
@@ @@
   /**
    * {@inheritdoc}
    *
-   * @return \Drupal\patternkit\PatternLibraryPluginDefinition[]
+   * @return PatternLibraryPluginDefinition[]
    */
   public function getSortedDefinitions(array $definitions = NULL, $label_key = 'label'): array {
     // Sort the plugins first by category, then by label.
@@ @@
   /**
    * {@inheritdoc}
    *
-   * @return \Drupal\patternkit\PatternLibraryPluginDefinition[][]
+   * @return PatternLibraryPluginDefinition[][]
    */
   public function getGroupedDefinitions(array $definitions = NULL, $label_key = 'label'): array {
     $definitions = $this->getSortedDefinitions($definitions ?? $this->getDefinitions(), $label_key);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/patternkit/src/PatternLibraryPluginInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit;

+use Drupal\patternkit\Entity\Pattern;
 use Drupal\Core\Extension\Extension;
 use Drupal\patternkit\Entity\PatternInterface;

@@ @@
   /**
    * Fetches and loads all assets for a provided Pattern
    *
-   * @param \Drupal\patternkit\Entity\PatternInterface $pattern
-   * @param \Drupal\patternkit\PatternEditorConfig|null $config
+   * @param PatternInterface $pattern
+   * @param PatternEditorConfig|null $config
    *
    * @return array
    *   The loaded assets for the pattern. Should have the following keys:
@@ @@
   /**
    * Returns renderable data or markup for a pattern editor.
    *
-   * @param \Drupal\patternkit\Entity\PatternInterface|null $pattern
+   * @param PatternInterface|null $pattern
    *   If specified, return an editor customized for this pattern.
    * @param PatternEditorConfig $config
    *   Optional configuration settings for the editor.
@@ @@
    *
    * @param Extension $extension
    *   The extension to retrieve pattern metadata from.
-   * @param \Drupal\patternkit\PatternLibrary $library
+   * @param PatternLibrary $library
    *   The metadata for the library that is being retrieved.
    * @param string $path
    *   The path to the pattern library collection.
    *
-   * @return \Drupal\patternkit\Entity\Pattern[]
+   * @return Pattern[]
    *   The resulting pattern metadata.
    */
   public function getMetadata(Extension $extension, PatternLibrary $library, $path): array;
@@ @@
   /**
    * Returns renderable data or markup for a provided array of patterns.
    *
-   * @param \Drupal\patternkit\Entity\PatternInterface[] $assets
+   * @param PatternInterface[] $assets
    *   An array of \Drupal\patternkit\Entity\PatternInterface to render.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


11) modules/contrib/patternkit/src/PatternLibraryPluginDefinition.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit;

+use Drupal\Core\StringTranslation\TranslatableMarkup;
 use Drupal\Component\Plugin\Definition\DerivablePluginDefinitionInterface;
 use Drupal\Component\Plugin\Definition\PluginDefinition;
 use Drupal\Core\Plugin\Definition\DependentPluginDefinitionInterface;
@@ @@
   /**
    * Gets the human-readable name of the definition.
    *
-   * @return string|\Drupal\Core\StringTranslation\TranslatableMarkup
+   * @return string|TranslatableMarkup
    *   The human-readable name of the definition.
    */
   public function getLabel() {
@@ @@
   /**
    * Sets the human-readable name of the definition.
    *
-   * @param string|\Drupal\Core\StringTranslation\TranslatableMarkup $label
+   * @param string|TranslatableMarkup $label
    *   The human-readable name of the definition.
    *
    * @return $this
@@ @@
   /**
    * Gets the description of the definition.
    *
-   * @return string|\Drupal\Core\StringTranslation\TranslatableMarkup
+   * @return string|TranslatableMarkup
    *   The description of the definition.
    */
   public function getDescription() {
@@ @@
   /**
    * Sets the description of the definition.
    *
-   * @param string|\Drupal\Core\StringTranslation\TranslatableMarkup $description
+   * @param string|TranslatableMarkup $description
    *   The description of the definition.
    *
    * @return $this
@@ @@
   /**
    * Gets the human-readable category of the definition.
    *
-   * @return string|\Drupal\Core\StringTranslation\TranslatableMarkup
+   * @return string|TranslatableMarkup
    *   The human-readable category of the definition.
    */
   public function getCategory() {
@@ @@
   /**
    * Sets the human-readable category of the definition.
    *
-   * @param string|\Drupal\Core\StringTranslation\TranslatableMarkup $category
+   * @param string|TranslatableMarkup $category
    *   The human-readable category of the definition.
    *
    * @return $this
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/patternkit/src/PatternLibraryPluginDefault.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Component\Plugin\PluginBase;
 use Drupal\Component\Utility\NestedArray;
 use Drupal\Core\Config\ConfigFactoryInterface;
@@ @@
   /**
    * Stores patternkit configuration.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * Parses library files into a Patternkit Library.
    *
-   * @var \Drupal\patternkit\Asset\PatternLibraryParserInterface
+   * @var PatternLibraryParserInterface
    */
   protected $parser;

@@ @@
    * @param string $root
    *   The application root path.
    *   e.g. '/var/www/docroot'.
-   * @param \Drupal\patternkit\Asset\PatternLibraryParserInterface $parser
+   * @param PatternLibraryParserInterface $parser
    *   Pattern library parser service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Extension config retrieval.
    * @param array $configuration
    *   Plugin config.
@@ @@
   }

   /**
-   * @param \Drupal\patternkit\Entity\PatternInterface $pattern
-   * @param \Drupal\patternkit\PatternEditorConfig|null $config
+   * @param PatternInterface $pattern
+   * @param PatternEditorConfig|null $config
    *
    * @return array
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/patternkit/src/PatternLibraryJSONParserTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit;

+use Drupal\Component\Serialization\Json;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\patternkit\Asset\Library;
+use Drupal\Core\StreamWrapper\StreamWrapperManagerInterface;
 use Drupal\patternkit\Entity\PatternInterface;

 /**
@@ @@
   /**
    * Serializes and de-serializes data.
    *
-   * @var \Drupal\Component\Serialization\Json
+   * @var Json
    */
   protected $serializer;

@@ @@
    *
    * @param object $properties
    *   The properties to parse.
-   * @param \Drupal\patternkit\Entity\PatternInterface $pattern
+   * @param PatternInterface $pattern
    *   Pattern for retrieving schema data and pathing.
    *
    * @return object
    *   The updated schema properties object.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    *
    * @example JSON Schema technically allows the following valid refs:
    *   - URI "example.json" "../../example.json" "./example.json"
@@ @@
   public static function schemaDereference($properties, PatternInterface $pattern) {
     $ext = '.json';
     $ext_len = strlen($ext);
-    /** @var \Drupal\patternkit\Asset\Library $library */
+    /** @var Library $library */
     $library = \Drupal::service('patternkit.asset.library');
     foreach ($properties as $property => $value) {
       if (!is_scalar($value)) {
@@ @@
       if (strpos($value, '#/') === 0) {
         continue;
       }
-      /** @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_manager */
+      /** @var StreamWrapperManagerInterface $stream_manager */
       $stream_manager = \Drupal::service('stream_wrapper_manager');
       if ($stream_manager->isValidScheme($stream_manager->getViaUri($value))) {
         continue;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


14) modules/contrib/patternkit/src/PatternLibrary.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit;

+use Drupal\Core\Extension\Extension;
+use Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException;
+use Drupal\Core\Extension\ExtensionList;
 use Drupal\Core\Asset\Exception\LibraryDefinitionMissingLicenseException;

 /**
@@ @@
   /**
    * Returns the Extension that owns the library.
    *
-   * @return \Drupal\Core\Extension\Extension
+   * @return Extension
    *   The extension name.
    *
-   * @throws \Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException
+   * @throws ServiceNotFoundException
    */
   public function getExtension() {
-    /** @var \Drupal\Core\Extension\ExtensionList $extension_list */
+    /** @var ExtensionList $extension_list */
     $extension_list = \Drupal::service("extension.list." . $this->extensionType);
     return $extension_list->get($this->extension);
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


15) modules/contrib/patternkit/src/PatternEditorConfig.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit;

+use Drupal\patternkit\Entity\Pattern;
 /**
  * Class PatternkitEditorConfig.
  */
@@ @@
   /**
    * Optional pattern to use for configuring the editor.
    *
-   * @var \Drupal\patternkit\Entity\Pattern
+   * @var Pattern
    */
   public $pkdata;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


16) modules/contrib/patternkit/src/Loader/PatternLibraryLoader.php:15

    ---------- begin diff ----------
@@ @@
    *
    * @param string|array $paths
    *   Paths to pass to the Filesystem loader.
-   * @param Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logs to the patternkit channel.
-   * @param \Drupal\patternkit\Asset\LibraryInterface $library
+   * @param LibraryInterface $library
    *   Provides library names and paths.
    */
   public function __construct($paths,
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/patternkit/src/JSONSchemaEditorTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Component\Serialization\SerializationInterface;
+use Drupal\Core\State\StateInterface;
+use Drupal\editor\Plugin\EditorManager;
 use Drupal\ckeditor\Plugin\Editor\CKEditor;
 use Drupal\Core\Logger\LoggerChannelTrait;
 use Drupal\Core\Messenger\MessengerTrait;
@@ @@
   /**
    * Patternkit config.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * Encodes and decodes strings.
    *
-   * @var \Drupal\Component\Serialization\SerializationInterface
+   * @var SerializationInterface
    */
   protected $serializer;

@@ @@
   /**
    * Application static state.
    *
-   * @var \Drupal\Core\State\StateInterface
+   * @var StateInterface
    */
   protected $state;

@@ @@
    * @todo Eval if this belongs in PatternkitLibraryDiscovery instead.
    */
   public function getLibraryAssetUrlFromUri($uri): string {
-    $url = file_create_url($uri);
+    $url = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     if ($url !== $uri) {
       $query_string = $this->state->get('system.css_js_query_string') ?: '0';
       $query_string_separator = (strpos($url, '?') !== FALSE) ? '&' : '?';
-      $url = file_url_transform_relative($url) . $query_string_separator . $query_string;
+      $url = \Drupal::service('file_url_generator')->transformRelative($url) . $query_string_separator . $query_string;
     }
     return $url;
   }
@@ @@
    *
    * @param string $schema
    *   JSON Schema to display.
-   * @param \Drupal\patternkit\PatternEditorConfig $config
+   * @param PatternEditorConfig $config
    *   Editor configuration settings.
    *
    * @return array
@@ @@
         // The following code builds a CKEditor toolbar. Code stolen from
         // \Drupal\editor\Element::preRenderTextFormat.
         $ckeditor_instance = CKEditor::create(\Drupal::getContainer(), [], 'ckeditor', ['provider' => 'patternkit']);
-        /** @var \Drupal\editor\Entity\Editor $ckeditor_config */
+        /** @var Editor $ckeditor_config */
         $ckeditor_entity = Editor::load($selected_toolbar);
         if ($ckeditor_entity && $ckeditor_entity->status()) {
           $editor_settings['patternkitCKEditorConfig'] = $ckeditor_instance->getJSSettings($ckeditor_entity);
@@ @@

     // Attaches attachments for selected editor.
     if (!empty($selected_toolbar)) {
-      /** @var \Drupal\editor\Plugin\EditorManager $editor_plugin_manager */
+      /** @var EditorManager $editor_plugin_manager */
       $editor_plugin_manager = \Drupal::service('plugin.manager.editor');
       $element['#attached'] = BubbleableMetadata::mergeAttachments($element['#attached'], $editor_plugin_manager->getAttachments([$selected_toolbar]));
     }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


18) modules/contrib/patternkit/src/Form/PatternkitSettingsForm.php:12

    ---------- begin diff ----------
@@ @@
   /** @var string */
   const SETTINGS = 'patternkit.settings';

-  /** @var \Drupal\patternkit\Asset\LibraryInterface */
+  /** @var LibraryInterface */
   protected $library;

   public function __construct(ConfigFactoryInterface $config_factory, LibraryInterface $library) {
@@ @@
   }

   public static function create(ContainerInterface $container) {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+    /** @var ConfigFactoryInterface $config_factory */
     $config_factory = $container->get('config.factory');
-    /** @var \Drupal\patternkit\Asset\LibraryInterface $library */
+    /** @var LibraryInterface $library */
     $library = $container->get('patternkit.asset.library');
     return new static($config_factory, $library);
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


19) modules/contrib/patternkit/src/Form/PatternkitForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Form;

+use Drupal\patternkit\entity\PatternkitBlock;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Entity\ContentEntityForm;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * The block content entity.
    *
-   * @var \Drupal\patternkit\entity\PatternkitBlock
+   * @var PatternkitBlock
    */
   protected $entity;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


20) modules/contrib/patternkit/src/Form/PatternLibraryJSONForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Form;

+use Drupal\Core\Entity\EntityTypeManager;
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ @@
 class PatternLibraryJSONForm extends ConfigFormBase {

   /**
-   * @var \Drupal\Core\Entity\EntityTypeManager
+   * @var EntityTypeManager
    */
   protected $entityStorage;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


21) modules/contrib/patternkit/src/Entity/PatternkitBlock.php:79

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public static function baseFieldDefinitions(EntityTypeInterface $entity_type) {
-    /** @var \Drupal\Core\Field\BaseFieldDefinition[] $fields */
+    /** @var BaseFieldDefinition[] $fields */
     $fields = EditorialContentEntityBase::baseFieldDefinitions($entity_type);

     $fields['id']->setLabel(t('Custom block ID'))
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/patternkit/src/Entity/Pattern.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Entity;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Core\Field\FieldItemListInterface;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\patternkit\PatternLibraryPluginManager;
+use Drupal\patternkit\PatternLibraryPluginInterface;
 use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Annotation\PluralTranslation;
@@ @@
    * @return static
    *   The Pattern object.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws PluginNotFoundException
    *   Thrown if the entity type doesn't exist.
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
+   * @throws InvalidPluginDefinitionException
    *   Thrown if the storage handler couldn't be loaded.
    */
   public static function create(array $values = []) {
@@ @@
    * Asset groups can be used for override purposes, as they will replace lower
    * weighted assets.
    *
-   * @return \Drupal\Core\Field\FieldItemListInterface|mixed
+   * @return FieldItemListInterface|mixed
    */
   public function getAssets() {
     return array_merge([], ...$this->get('assets')->getValue());
@@ @@
    * Calls all getters for lazy-loaded values.
    *
    * @return int
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    *
    * @todo Should be a way to hook into ContentEntity lazy loading instead.
    */
@@ @@
    *
    * Schema and Template are always stored as assets when fetched.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws PluginException
+   * @throws PluginNotFoundException
    */
   protected function fetchAssets() {
     $plugin_id = $this->getLibraryPluginId();
-    /** @var \Drupal\patternkit\PatternLibraryPluginManager $plugin_manager */
+    /** @var PatternLibraryPluginManager $plugin_manager */
     $plugin_manager = \Drupal::service('plugin.manager.library.pattern');
-    /** @var \Drupal\patternkit\PatternLibraryPluginInterface $plugin */
+    /** @var PatternLibraryPluginInterface $plugin */
     try {
       $plugin = $plugin_manager->createInstance($plugin_id);
     }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


23) modules/contrib/patternkit/src/Controller/PatternkitController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Controller;

+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Extension\ThemeHandlerInterface;
@@ @@
   /**
    * The custom block storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $patternkitStorage;

@@ @@
   /**
    * The pattern library.
    *
-   * @var \Drupal\patternkit\Asset\LibraryInterface
+   * @var LibraryInterface
    */
   protected $library;

@@ @@
   /**
    * The theme handler.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;

@@ @@
   /**
    * Constructs a Patternkit Controller.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $patternkit_storage
+   * @param EntityStorageInterface $patternkit_storage
    *   The Patternkit storage.
-   * @param \Drupal\patternkit\Asset\LibraryInterface $library
+   * @param LibraryInterface $library
    *   The Pattern Library.
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler.
    */
   public function __construct(
@@ @@
   /**
    * {@inheritdoc}
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws PluginNotFoundException
    *   Thrown if the entity type doesn't exist.
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
+   * @throws InvalidPluginDefinitionException
    *   Thrown if the storage handler couldn't be loaded.
    */
   public static function create(ContainerInterface $container) {
-    /** @var \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager */
+    /** @var EntityTypeManagerInterface $entity_manager */
     $entity_manager = $container->get('entity_type.manager');
-    /** @var \Drupal\patternkit\Asset\LibraryInterface $library */
+    /** @var LibraryInterface $library */
     $library = $container->get('patternkit.asset.library');
-    /** @var \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler */
+    /** @var ThemeHandlerInterface $theme_handler */
     $theme_handler = $container->get('theme_handler');
     return new static(
       $entity_manager->getStorage('patternkit_block'),
@@ @@
    *
    * @param string $pattern_id
    *   The pattern to add.
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
    *
    * @return array
@@ @@
   /**
    * Returns the JSON-encoded Patternkit schema for the provided pattern.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The request object.
    * @param string $pattern_id
    *   The name of the pattern to use for retrieving the schema.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   The schema response.
    */
   public function apiPattern(Request $request, $pattern_id = NULL): Response {
@@ @@
    * @param string $pattern_id
    *   The name of the pattern to use for retrieving the schema.
    *
-   * @return \Symfony\Component\HttpFoundation\JsonResponse
+   * @return JsonResponse
    *   The schema response.
    */
   public function apiPatternSchema($pattern_id): JsonResponse {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


24) modules/contrib/patternkit/src/Commands/PatternkitCommands.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Commands;

+use Drupal\Core\Entity\EntityStorageInterface;
+use Drupal\patternkit\Asset\LibraryInterface;
+use Drupal\Core\Block\BlockManager;
+use Drupal\layout_builder\SectionStorage\SectionStorageManagerInterface;
+use Drupal\layout_builder\LayoutTempstoreRepositoryInterface;
+use Drupal\Core\Config\Entity\ConfigEntityStorageInterface;
+use Drupal\Core\KeyValueStore\KeyValueExpirableFactoryInterface;
+use Drupal\Patternkit\entity\PatternInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\layout_builder\SectionComponent;
 use Drupal\block\BlockInterface;
 use Drupal\Core\Cache\CacheableMetadata;
 use Drupal\Core\Plugin\Context\Context;
@@ @@
   /**
    * Block storage manager.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $blockStorage;

@@ @@
   /**
    * Asset Library manager.
    *
-   * @var \Drupal\patternkit\Asset\LibraryInterface
+   * @var LibraryInterface
    */
   protected $library;

@@ @@
   /**
    * Pattern storage manager.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $patternStorage;

@@ @@
     $block_count = 0;

     $entity_type_manager = \Drupal::entityTypeManager();
-    /** @var \Drupal\Core\Block\BlockManager $block_manager */
+    /** @var BlockManager $block_manager */
     $block_manager = \Drupal::service('plugin.manager.block');
-    /** @var \Drupal\layout_builder\SectionStorage\SectionStorageManagerInterface $section_storage_manager */
+    /** @var SectionStorageManagerInterface $section_storage_manager */
     $section_storage_manager = \Drupal::service('plugin.manager.layout_builder.section_storage');
     $storage_definitions = $section_storage_manager->getDefinitions();
-    /** @var \Drupal\layout_builder\LayoutTempstoreRepositoryInterface $tempstore_repository */
+    /** @var LayoutTempstoreRepositoryInterface $tempstore_repository */
     $tempstore_repository = \Drupal::service('layout_builder.tempstore_repository');
     $block_storage = $this->blockStorage;
     $library = $this->library;
@@ @@

     $section_storages = [];
     // Gather section storages from all entities and entity type layouts.
-    /** @var \Drupal\Core\Config\Entity\ConfigEntityStorageInterface $view_mode_storage */
+    /** @var ConfigEntityStorageInterface $view_mode_storage */
     $display_storage = $entity_type_manager->getStorage('entity_view_display');
     $displays = $display_storage->loadMultiple();
-    /** @var \Drupal\layout_builder\Entity\LayoutBuilderEntityViewDisplay $display */
+    /** @var LayoutBuilderEntityViewDisplay $display */
     foreach ($displays as $display) {
       if (!$display instanceof LayoutBuilderEntityViewDisplay) {
         continue;
@@ @@
     }

     // Gather section storages from the tempstore, to update layout drafts.
-    /** @var \Drupal\Core\KeyValueStore\KeyValueExpirableFactoryInterface $key_value_factory */
+    /** @var KeyValueExpirableFactoryInterface $key_value_factory */
     $key_value_factory = \Drupal::service('keyvalue.expirable');
     foreach (array_keys($storage_definitions) as $section_storage_type) {
       $key_value = $key_value_factory->get("tempstore.shared.layout_builder.section_storage.$section_storage_type");
@@ @@
             continue;
           }
           try {
-            /** @var \Drupal\Patternkit\entity\PatternInterface $pattern */
+            /** @var PatternInterface $pattern */
             $pattern = Pattern::create($pattern_asset);
           }
           catch (\Exception $exception) {
@@ @@
             'library' => $pattern->getLibrary(),
             'path' => $pattern->getPath(),
           ]);
-          /** @var \Drupal\Patternkit\entity\PatternInterface $pattern_loaded */
+          /** @var PatternInterface $pattern_loaded */
           $pattern_loaded = end($pattern_cache);
           if ($pattern_loaded !== NULL) {
             if ($pattern_loaded->getHash() !== $pattern->getHash()) {
@@ @@
    * @return array|bool
    *   Drush expected command result.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginException
+   * @throws PluginNotFoundException
+   * @throws EntityStorageException
    */
   public function libUpdate() {
     $logger = $this->logger();
@@ @@
     $block_count = 0;

     $entity_type_manager = \Drupal::entityTypeManager();
-    /** @var \Drupal\Core\Block\BlockManager $block_manager */
+    /** @var BlockManager $block_manager */
     $block_manager = \Drupal::service('plugin.manager.block');
     $block_storage = $this->blockStorage;

     if ($lb_enabled) {
-      /** @var \Drupal\layout_builder\SectionStorage\SectionStorageManagerInterface $section_storage_manager */
+      /** @var SectionStorageManagerInterface $section_storage_manager */
       $section_storage_manager = \Drupal::service('plugin.manager.layout_builder.section_storage');
       $storage_definitions = $section_storage_manager->getDefinitions();
-      /** @var \Drupal\layout_builder\LayoutTempstoreRepositoryInterface $tempstore_repository */
+      /** @var LayoutTempstoreRepositoryInterface $tempstore_repository */
       $tempstore_repository = \Drupal::service('layout_builder.tempstore_repository');
       $section_storages = [];
       // Gather section storages from all entities and entity type layouts.
-      /** @var \Drupal\Core\Config\Entity\ConfigEntityStorageInterface $view_mode_storage */
+      /** @var ConfigEntityStorageInterface $view_mode_storage */
       $display_storage = $entity_type_manager->getStorage('entity_view_display');
       $displays = $display_storage->loadMultiple();
-      /** @var \Drupal\layout_builder\Entity\LayoutBuilderEntityViewDisplay $display */
+      /** @var LayoutBuilderEntityViewDisplay $display */
       foreach ($displays as $display) {
         if (!$display instanceof LayoutBuilderEntityViewDisplay) {
           continue;
@@ @@
       }

       // Gather section storages from the tempstore, to update layout drafts.
-      /** @var \Drupal\Core\KeyValueStore\KeyValueExpirableFactoryInterface $key_value_factory */
+      /** @var KeyValueExpirableFactoryInterface $key_value_factory */
       $key_value_factory = \Drupal::service('keyvalue.expirable');
       foreach (array_keys($storage_definitions) as $section_storage_type) {
         $key_value = $key_value_factory->get("tempstore.shared.layout_builder.section_storage.$section_storage_type");
@@ @@

       foreach ($section_storages as $section_storage) {
         foreach ($section_storage->getSections() as $section_delta => $section) {
-          /** @var \Drupal\block\BlockInterface $component */
+          /** @var BlockInterface $component */
           foreach ($section->getComponents() as $component_delta => $component) {
             if (!$configuration = $this->updateBlockComponentPluginPattern($component)) {
               continue;
@@ @@
         }
       }
     }
-    /** @var \Drupal\block\BlockInterface $block */
+    /** @var BlockInterface $block */
     foreach ($block_storage->loadMultiple() as $block) {
       if (!$block instanceof BlockInterface) {
         continue;
@@ @@
   /**
    * Updates a Patternkit Block Component Plugin's Pattern to latest.
    *
-   * @param \Drupal\block\BlockInterface|\Drupal\layout_builder\SectionComponent $component
+   * @param BlockInterface|SectionComponent $component
    *   The block plugin or component to update.
    * @param null|string $library_name
    *   The name of the library to match against, or NULL to skip matching.
@@ @@
    *
    * @return false|array The updated configuration, or FALSE if it failed.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
+   * @throws EntityStorageException
    */
   private function updateBlockComponentPluginPattern($component, $library_name = NULL) {
     $logger = $this->logger();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


25) modules/contrib/patternkit/src/Asset/PatternLibraryParserInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Asset;

+use Drupal\Core\Asset\Exception\InvalidLibraryFileException;
 use Drupal\patternkit\Entity\PatternInterface;
 use Drupal\patternkit\PatternEditorConfig;
 use Drupal\patternkit\PatternLibrary;
@@ @@
    * @param array|object $schema
    *   The optional schema for the pattern.
    *
-   * @return \Drupal\patternkit\Entity\PatternInterface
+   * @return PatternInterface
    *   A fully-instantiated Patternkit Pattern.
    */
   public function createPattern($name, $schema): PatternInterface;
@@ @@
    * @param object $config
    *   Configuration object for this instance of the pattern.
    *
-   * @return \Drupal\patternkit\Entity\PatternInterface
+   * @return PatternInterface
    *   The patternkit object of interest.
    */
   public static function fetchAssets($subtype, $config): PatternInterface;
@@ @@
    * @param object $pk_obj
    *   The patternkit pattern object to extend.
    *
-   * @return \Drupal\patternkit\Entity\PatternInterface
+   * @return PatternInterface
    *   The patternkit object representing the pattern..
    */
   public function fetchFragmentAssets($subtype, $config, &$pk_obj): PatternInterface;
@@ @@
   /**
    * Fetches all assets for a pattern.
    *
-   * @param \Drupal\patternkit\Entity\PatternInterface $pattern
+   * @param PatternInterface $pattern
    *   The pattern to use for asset retrieval.
-   * @param \Drupal\patternkit\PatternEditorConfig|null $config
+   * @param PatternEditorConfig|null $config
    *   The configuration object to use for provisioning the pattern.
    *
    * @return array
@@ @@
    * See https://www.drupal.org/node/2274843#define-library for more
    * information.
    *
-   * @param \Drupal\patternkit\PatternLibrary $library
+   * @param PatternLibrary $library
    *   The data of the library that was registered.
    * @param string $path
    *   The relative path to the extension.
@@ @@
    * @return array
    *   An array of parsed library data.
    *
-   * @throws \Drupal\Core\Asset\Exception\InvalidLibraryFileException
+   * @throws InvalidLibraryFileException
    *   Thrown when a parser exception was thrown.
    */
   public function parsePatternLibraryInfo(PatternLibrary $library, $path): array;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


26) modules/contrib/patternkit/src/Asset/PatternLibraryParserBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Asset;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Asset\LibraryDiscoveryParser;
 use Drupal\Core\File\FileSystem;
 use Drupal\Core\File\FileSystemInterface;
@@ @@
    * @param array|object $data
    *   The optional data for the pattern.
    *
-   * @return \Drupal\patternkit\Entity\PatternInterface
+   * @return PatternInterface
    *   A fully-instantiated Patternkit Pattern.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function createPattern($name, $data): PatternInterface {
     // Pattern schemas contain values needed for Pattern fields.
@@ @@
    *
    * @param \Drupal\patternkit\entity\PatternInterface $pattern
    *   The pattern to use for asset retrieval.
-   * @param \Drupal\patternkit\PatternEditorConfig|null $config
+   * @param PatternEditorConfig|null $config
    *   The configuration object to use for provisioning the pattern.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


27) modules/contrib/patternkit/src/Asset/PatternLibraryParser/WebcomponentPatternLibraryParser.php:18

    ---------- begin diff ----------
@@ @@
    * @param object $config
    *   Configuration object for this instance of the pattern.
    *
-   * @return \Drupal\patternkit\Entity\PatternInterface
+   * @return PatternInterface
    *   The patternkit object representing the pattern.
    *
    * @todo Finish implementation.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


28) modules/contrib/patternkit/src/Asset/PatternLibraryParser/TwigPatternLibraryParser.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Asset\PatternLibraryParser;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Component\Serialization\SerializationInterface;
 use Drupal\Core\Asset\Exception\InvalidLibraryFileException;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
   /**
    * TwigPatternLibraryParser constructor.
    *
-   * @param \Drupal\Component\Serialization\SerializationInterface $serializer
+   * @param SerializationInterface $serializer
    *   Serializes and de-serializes data.
    * @param string $root
    *   The application root path.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Allows modules to alter library parsing.
-   * @param \Drupal\Core\Theme\ThemeManagerInterface $theme_manager
+   * @param ThemeManagerInterface $theme_manager
    *   Allows themes to alter library parsing.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper
+   * @param StreamWrapperManagerInterface $stream_wrapper
    *   The stream wrapper manager.
    */
   public function __construct(
@@ @@
    * @param array|object $data
    *   The optional data for the pattern.
    *
-   * @return \Drupal\patternkit\Entity\PatternInterface
+   * @return PatternInterface
    *   A fully-instantiated Patternkit Pattern.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function createPattern($name, $data): PatternInterface {
     // Pattern schemas contain values needed for Pattern fields.
@@ @@
    * See https://www.drupal.org/node/2274843#define-library for more
    * information.
    *
-   * @param \Drupal\patternkit\PatternLibrary $library
+   * @param PatternLibrary $library
    *   The data of the library that was registered.
    * @param string $path
    *   The relative path to the extension.
@@ @@
    * @return array
    *   An array of parsed library data.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function parsePatternLibraryInfo(PatternLibrary $library, $path): array {
     if (!file_exists($path)) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


29) modules/contrib/patternkit/src/Asset/PatternLibraryParser/RESTPatternLibraryParser.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Asset\PatternLibraryParser;

+use GuzzleHttp\Exception\GuzzleException;
 use Drupal\Core\Cache\CacheBackendInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\File\FileSystemInterface;
@@ @@
  */
 class RESTPatternLibraryParser {

-  /** @var \GuzzleHttp\ClientInterface */
+  /** @var ClientInterface */
   protected $client;

-  /** @var \Drupal\Core\File\FileSystemInterface */
+  /** @var FileSystemInterface */
   protected $fs;

   /**
@@ @@
    * PatternkitRESTLib constructor.
    *
    * {@inheritDoc}
-   * @param \GuzzleHttp\ClientInterface $client
+   * @param ClientInterface $client
    *   The HTTP client for rest API library retrieval.
    */
   public function __construct(ConfigFactoryInterface $config_factory,
@@ @@
   /**
    * Fetches all assets for a pattern.
    *
-   * @param \Drupal\patternkit\Entity\PatternInterface $pattern
+   * @param PatternInterface $pattern
    *   The pattern to use for asset retrieval.
-   * @param \Drupal\patternkit\PatternEditorConfig $config
+   * @param PatternEditorConfig $config
    *   The configuration object to use for provisioning the pattern.
    *
-   * @return \Drupal\patternkit\Entity\PatternInterface
+   * @return PatternInterface
    *   The pattern parameter with updated asset references.
    *
-   * @throws \GuzzleHttp\Exception\GuzzleException
+   * @throws GuzzleException
    */
   public function fetchPatternAssets(PatternInterface $pattern,
     PatternEditorConfig $config) :PatternInterface {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


30) modules/contrib/patternkit/src/Asset/PatternLibraryParser/JSONPatternLibraryParser.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * Attaches required services.
    *
-   * @param \Drupal\Component\Serialization\SerializationInterface $serializer
+   * @param SerializationInterface $serializer
    *   Serializes and de-serializes data.
    * @param string $root
    *   The application root path.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Allows modules to alter library parsing.
-   * @param \Drupal\Core\Theme\ThemeManagerInterface $theme_manager
+   * @param ThemeManagerInterface $theme_manager
    *   Allows themes to alter library parsing.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper
+   * @param StreamWrapperManagerInterface $stream_wrapper
    *   The stream wrapper manager.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


31) modules/contrib/patternkit/src/Asset/PatternLibraryParser/FilePatternLibraryParser.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Asset\PatternLibraryParser;

+use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Component\Serialization\SerializationInterface;
 use Drupal\Core\Asset\Exception\InvalidLibraryFileException;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
   /**
    * FilePatternLibraryParser constructor.
    *
-   * @param \Drupal\Component\Serialization\SerializationInterface $serializer
+   * @param SerializationInterface $serializer
    *   Serializes and de-serializes data.
    * @param string $root
    *   The application root path.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Allows modules to alter library parsing.
-   * @param \Drupal\Core\Theme\ThemeManagerInterface $theme_manager
+   * @param ThemeManagerInterface $theme_manager
    *   Allows themes to alter library parsing.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper
+   * @param StreamWrapperManagerInterface $stream_wrapper
    *   The stream wrapper manager.
    */
   public function __construct(
@@ @@
    * See https://www.drupal.org/node/2274843#define-library for more
    * information.
    *
-   * @param \Drupal\patternkit\PatternLibrary $library
+   * @param PatternLibrary $library
    *   The data of the library that was registered.
    * @param string $path
    *   The relative path to the extension.
@@ @@
    * @return array
    *   An array of parsed library data.
    *
-   * @throws \Drupal\Core\Asset\Exception\InvalidLibraryFileException
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws InvalidLibraryFileException
+   * @throws PluginException
    */
   public function parsePatternLibraryInfo(PatternLibrary $library, $path): array {
     if (!file_exists($path)) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


32) modules/contrib/patternkit/src/Asset/LibraryInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Asset;

+use Drupal\Core\Asset\Exception\IncompleteLibraryDefinitionException;
+use Drupal\Core\Asset\Exception\InvalidLibraryFileException;
+use Drupal\patternkit\PatternLibrary;
+use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Core\Cache\CacheCollectorInterface;

 /**
@@ @@
    * @return array
    *   An array of library assets.
    *
-   * @throws \Drupal\Core\Asset\Exception\IncompleteLibraryDefinitionException
-   * @throws \Drupal\Core\Asset\Exception\InvalidLibraryFileException
+   * @throws IncompleteLibraryDefinitionException
+   * @throws InvalidLibraryFileException
    */
   public function getAssets(): array;

@@ @@
    * @return mixed|null
    *   The specific asset requested or NULL if not found.
    *
-   * @throws \Drupal\Core\Asset\Exception\IncompleteLibraryDefinitionException
-   * @throws \Drupal\Core\Asset\Exception\InvalidLibraryFileException
+   * @throws IncompleteLibraryDefinitionException
+   * @throws InvalidLibraryFileException
    */
   public function getLibraryAsset($key);

@@ @@
   /**
    * Returns an array of all libraries.
    *
-   * @return \Drupal\patternkit\PatternLibrary[]
+   * @return PatternLibrary[]
    *   All libraries as definitions, keyed by library name.
    */
   public function getLibraries(): array;
@@ @@
   /**
    * Returns the specified Patternkit module metadata.
    *
-   * @return \Drupal\patternkit\PatternLibrary[]
+   * @return PatternLibrary[]
    *   Array of metadata objects found or object if specific pattern requested.
    *   Keyed by library name in the format.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   public function getLibraryDefinitions(): array;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


33) modules/contrib/patternkit/src/Asset/Library.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit\Asset;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Extension\Extension;
+use Drupal\Core\Asset\Exception\IncompleteLibraryDefinitionException;
+use Drupal\Core\StreamWrapper\StreamWrapperManagerInterface;
+use Symfony\Component\DependencyInjection\Exception\ServiceCircularReferenceException;
+use Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException;
+use Drupal\patternkit\PatternLibraryPluginInterface;
+use Drupal\patternkit\Entity\Pattern;
 use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Component\Serialization\Exception\InvalidDataTypeException;
 use Drupal\Component\Utility\NestedArray;
@@ @@
   /** @var string */
   const PERSISTENT_CACHE_ID = 'patternkit.library.cache';

-  /** @var \Drupal\Core\Config\ImmutableConfig */
+  /** @var ImmutableConfig */
   protected $config;

-  /** @var \Drupal\Core\Extension\Extension[] */
+  /** @var Extension[] */
   protected $extensionList;

   /** @var array */
@@ @@
    */
   protected $libraryDefinitions = [];

-  /** @var \Drupal\patternkit\PatternLibraryPluginManager */
+  /** @var PatternLibraryPluginManager */
   protected $libraryPluginManager;

-  /** @var \Drupal\Core\Extension\ModuleHandlerInterface */
+  /** @var ModuleHandlerInterface */
   protected $moduleHandler;

   /** @var string */
   protected $root;

-  /** @var \Drupal\Core\Theme\ThemeManagerInterface */
+  /** @var ThemeManagerInterface */
   protected $themeManager;

   /**
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   The Symfony app container.
    *
    * @return self
    */
   public static function create(ContainerInterface $container): self {
-    /** @var \Drupal\Core\Cache\CacheBackendInterface $cache */
+    /** @var CacheBackendInterface $cache */
     $cache = $container->get('cache.discovery');
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+    /** @var ConfigFactoryInterface $config_factory */
     $config_factory = $container->get('config.factory');
-    /** @var \Drupal\patternkit\PatternLibraryPluginManager $library_plugin_manager */
+    /** @var PatternLibraryPluginManager $library_plugin_manager */
     $library_plugin_manager = $container->get('plugin.manager.library.pattern');
-    /** @var \Drupal\Core\Lock\LockBackendInterface $lock */
+    /** @var LockBackendInterface $lock */
     $lock = $container->get('lock');
-    /** @var \Drupal\Core\Extension\ModuleHandlerInterface $module_handler */
+    /** @var ModuleHandlerInterface $module_handler */
     $module_handler = $container->get('module_handler');
     /** @var string $root */
     $root = $container->get('app.root');
-    /** @var \Drupal\Core\Theme\ThemeManagerInterface $theme_manager */
+    /** @var ThemeManagerInterface $theme_manager */
     $theme_manager = $container->get('theme.manager');
     return new static(
       $cache,
@@ @@
   /**
    * Constructs a \Drupal\system\ConfigFormBase object.
    *
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache
+   * @param CacheBackendInterface $cache
    *   Provide a default cache.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Provide the factory for configuration objects.
-   * @param \Drupal\Core\Lock\LockBackendInterface $lock
+   * @param LockBackendInterface $lock
    *   Provide the lock backend.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Provide a module handler.
-   * @param \Drupal\patternkit\PatternLibraryPluginManager $library_plugin_manager
+   * @param PatternLibraryPluginManager $library_plugin_manager
    *   Provide a plugin manager for pattern libraries.
    * @param string $root
    *   The app root path.
-   * @param \Drupal\Core\Theme\ThemeManagerInterface $theme_manager
+   * @param ThemeManagerInterface $theme_manager
    *   Provide a theme manager.
    */
   public function __construct(
@@ @@
    *
    * @see \Drupal\Core\Asset\LibraryDiscoveryParser::applyLibrariesOverride
    *
-   * @throws \Drupal\Core\Asset\Exception\InvalidLibrariesOverrideSpecificationException
+   * @throws InvalidLibrariesOverrideSpecificationException
    */
   protected function applyLibrariesOverride($libraries, $extension): array {
     $active_theme = $this->themeManager->getActiveTheme();
@@ @@
     foreach ($all_libraries_overrides as $theme_path => $libraries_overrides) {
       /**
        * @var string $library_name
-       * @var \Drupal\patternkit\PatternLibrary $library
+       * @var PatternLibrary $library
        */
       foreach ($libraries as $library_name => $library) {
         if (!is_subclass_of($library, PatternLibrary::class)) {
@@ @@
    * @param string $extension
    *   The name of the extension that registered a library.
    *
-   * @return \Drupal\patternkit\PatternLibrary[]
+   * @return PatternLibrary[]
    *   All library definitions of the passed extension.
    *
-   * @throws \Drupal\Core\Asset\Exception\IncompleteLibraryDefinitionException
+   * @throws IncompleteLibraryDefinitionException
    *   Thrown when a library has no js/css/setting.
    * @throws \UnexpectedValueException
    *   Thrown when a js file defines a positive weight.
@@ @@

   /**
    * {@inheritDoc}
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   public function getAssets(): array {
     $assets = [];
@@ @@
    * @param bool $reset
    *   TRUE if the library cache should be re-parsed.
    *
-   * @return \Drupal\patternkit\PatternLibrary[]
+   * @return PatternLibrary[]
    *   An array of libraries and information.
    */
   public function getLibraries($reset = FALSE): array {
@@ @@
    */
   public function getLibraryAsset($key) {
     $library_name = substr($key, 0, strpos($key, '/'));
-    /** @var \Drupal\patternkit\PatternLibrary $library */
+    /** @var PatternLibrary $library */
     $library = $this->get(trim($library_name, '@'));
     return $library->patterns[substr($key, strlen($library_name . '/'))] ?? NULL;
   }
@@ @@
   /**
    * Returns the specified Patternkit module metadata.
    *
-   * @return \Drupal\patternkit\PatternLibrary[]
+   * @return PatternLibrary[]
    *   Array of metadata objects found or object if specific pattern requested.
    *   Keyed by library name in the format.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   public function getLibraryDefinitions(): array {
     if (!empty($this->libraryDefinitions)) {
@@ @@
    *   found.
    */
   protected function drupalGetPath($type, $name): string {
-    return drupal_get_path($type, $name);
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Unsupported extension type encountered, using extension.path.resolver instead of extension.list
+    return \Drupal::service('extension.path.resolver')->getPath($type, $name);
   }

   /**
@@ @@
    */
   protected function fileValidUri($uri): bool {
     // Assert that the URI has an allowed scheme. Bare paths are not allowed.
-    /** @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager */
+    /** @var StreamWrapperManagerInterface $stream_wrapper_manager */
     $stream_wrapper_manager = \Drupal::service('stream_wrapper_manager');
     $uri_scheme = $stream_wrapper_manager::getScheme($uri);
     if (!$stream_wrapper_manager->isValidScheme($uri_scheme)) {
@@ @@
    *
    * @todo Replace with Symfony tag methods when they become available.
    *
-   * @return \Drupal\Core\Extension\Extension[]
+   * @return Extension[]
    */
   protected function getExtensionList(): array {
     if (isset($this->extensionList)) {
@@ @@
   }

   /**
-   * Utility function to get all Patternkit module metadata.
-   *
-   * @return array
-   *   Array of metadata objects found.
-   *
-   * @throws \Symfony\Component\DependencyInjection\Exception\ServiceCircularReferenceException
-   *   When a circular reference is detected.
-   * @throws \Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException;
-   *   When the service is not defined.
-   * @throws \Drupal\Core\Asset\Exception\InvalidLibraryFileException
-   *   Thrown if an invalid library path was passed to the parser.
-   */
+  * Utility function to get all Patternkit module metadata.
+  *
+  * @return array
+  *   Array of metadata objects found.
+  *
+   * @throws ServiceCircularReferenceException
+  *   When a circular reference is detected.
+   * @throws ServiceNotFoundException ;
+    When the service is not defined.
+   * @throws InvalidLibraryFileException
+  *   Thrown if an invalid library path was passed to the parser.
+  */
   protected function getLibraryMetadata(): array {
     $metadata = [];
     $plugin_default = self::DEFAULT_LIBRARY_PLUGIN_ID;
@@ @@
         }
         $lib_info[$path] = $info;
         $library->setPatternInfo($lib_info);
-        /** @var \Drupal\patternkit\PatternLibraryPluginInterface $plugin */
+        /** @var PatternLibraryPluginInterface $plugin */
         try {
           $plugin = $this->libraryPluginManager->createInstance($info['plugin']);
         }
@@ @@
             throw new InvalidLibraryFileException("Error loading pattern libraries via $plugin_id: " . $exception->getMessage());
           }
         }
-        /** @var \Drupal\patternkit\Entity\Pattern $pattern */
+        /** @var Pattern $pattern */
         $library->patterns = array_merge($library->patterns, $plugin->getMetadata($library->getExtension(), $library, $path));
         if (empty($library->patterns)) {
           \Drupal::logger('patternkit')->info(
@@ @@
    * @param string $path
    *   The relative path to the extension.
    *
-   * @return \Drupal\patternkit\PatternLibrary[]
+   * @return PatternLibrary[]
    *   An array of parsed library data.
    *
-   * @throws \Drupal\Core\Asset\Exception\InvalidLibraryFileException
+   * @throws InvalidLibraryFileException
    *   Thrown when a parser exception got thrown.
    */
   protected function parseLibraryInfo($extension_type, $extension, $path): array {
@@ @@
       $library['extension'] = $extension;
       $library['id'] = $id;
       $serializer = new Serializer([new PropertyNormalizer()]);
-      /** @var \Drupal\patternkit\PatternLibrary $library */
+      /** @var PatternLibrary $library */
       $libraries[$id] = $serializer->denormalize($library, PatternLibrary::class);
     }

@@ @@
   /**
    * {@inheritDoc}
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   protected function resolveCacheMiss($key) {
     $definitions = $this->getLibraryDefinitions();
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


34) modules/contrib/patternkit/patternkit.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\Exception\EntityTypeIdLengthException;
 /**
  * @file
  * Install file for patternkit module.
@@ @@
 /**
  * Allows upgrading from dev version automatically.
  *
- * @throws \Drupal\Core\Entity\Exception\EntityTypeIdLengthException
+ * @throws EntityTypeIdLengthException
  */
 function patternkit_update_8001(&$sandbox) {
   // Installs new entities if necessary.
@@ @@
  */
 function patternkit_update_8004(&$sandbox) {
   $config_key = 'patternkit.settings';
-  $source = new FileStorage(drupal_get_path('module', 'patternkit') . '/config/install');
+  $source = new FileStorage(\Drupal::service('extension.list.module')->getPath('patternkit') . '/config/install');
   $config_install = $source->read($config_key);
   $config_current = \Drupal::configFactory()->getEditable($config_key);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


35) modules/contrib/patternkit/modules/patternkit_media_library/src/MediaLibraryJSONLibraryOpener.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit_media_library;

+use Drupal\media\Entity\Media;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * MediaLibraryFieldWidgetOpener constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager) {
@@ @@
       return $response;
     }
     try {
-      /** @var \Drupal\media\Entity\Media $media */
+      /** @var Media $media */
       $media = $this->entityTypeManager->getStorage('media')->load($mid);
       $fid = $media->getSource()->getSourceFieldValue($media);
       $file = $this->entityTypeManager->getStorage('file')->load($fid);
@@ @@
         $url = $file->toUrl()->setAbsolute(FALSE);
       }
       elseif ($file->access('download')) {
-        $url = file_url_transform_relative(file_create_url($file->getFileUri()));
+        $url = \Drupal::service('file_url_generator')->generateString($file->getFileUri());
       }
       else {
         $url = $file->label();
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


36) modules/contrib/patternkit/modules/patternkit_media_library/src/Controller/PatternkitMediaLibraryController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\patternkit_media_library\Controller;

+use Drupal\media_library\MediaLibraryUiBuilder;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\media_library\MediaLibraryState;
 use Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException;
@@ @@
   /**
    * Returns a media library display especially for Patternkit.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The Symfony request object.
    *
    * @return array
    *   A Drupal render array.
    *
-   * @throws \Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException
+   * @throws ServiceNotFoundException
    */
   public function mediaLibrary(Request $request): array {
     $query = $request->query;
@@ @@
     if (!\Drupal::hasService('media_library.ui_builder')) {
       throw new ServiceNotFoundException('media_library.ui_builder');
     }
-    /** @var \Drupal\media_library\MediaLibraryUiBuilder $ml_ui_builder */
+    /** @var MediaLibraryUiBuilder $ml_ui_builder */
     $ml_ui_builder = \Drupal::service('media_library.ui_builder');

     return $ml_ui_builder->buildUi($ml_state);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


37) modules/contrib/patternkit/modules/patternkit_media_library/patternkit_media_library.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Config\ConfigInstaller;
 /**
  * @file
  * Functions run when the module is installed by Drupal.
@@ @@
   $config_current = \Drupal::configFactory()->getEditable($config_key);
   // Installs the default config only if this config is not already set.
   if (is_null($config_current->get('use_styles'))) {
-    /** @var \Drupal\Core\Config\ConfigInstaller $config_installer_service */
+    /** @var ConfigInstaller $config_installer_service */
     $config_installer_service = \Drupal::service('config.installer');
     $config_installer_service->installDefaultConfig('module', 'patternkit_media_library');
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [ERROR] Could not process                                                      
         "modules/contrib/patternkit/src/Form/PatternkitTranslateBlockForm.php" 
         file, due to:                                                          
         "Analyze error: "Class Drupal\layout_builder\Form\TranslateBlockForm not
         found.". Include your files in "$rectorConfig->autoloadPaths([...]);" or
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

