diff --git a/squealer.install b/squealer.install
index 865f383..21d6d46 100644
--- a/squealer.install
+++ b/squealer.install
@@ -1,15 +1,15 @@
 <?php
 
+use Drupal\Core\File\FileSystemInterface;
 /**
  * @file
  * Install, uninstall and update hooks for SQueaLer module.
  */
-
 /**
  * Implements hook_install().
  */
 function squealer_install() {
   // Create a directory in the site files directory to store reports.
   $destination = 'public://squealer_reports';
-  file_prepare_directory($destination, FILE_CREATE_DIRECTORY | FILE_MODIFY_PERMISSIONS);
+  \Drupal::service('file_system')->prepareDirectory($destination, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
 }
diff --git a/src/Commands/SquealerCommands.php b/src/Commands/SquealerCommands.php
index 5447583..bf6ea30 100644
--- a/src/Commands/SquealerCommands.php
+++ b/src/Commands/SquealerCommands.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\squealer\Commands;
 
+use Drupal\Core\Database\Connection;
+use Drupal\Core\File\FileSystemInterface;
 use Drush\Commands\DrushCommands;
 use Drush\Commands\AcquiaDisallowedCommandException;
 use Drupal\Core\DrupalKernel;
@@ -28,7 +30,7 @@ class SquealerCommands extends DrushCommands {
   /**
    * Variable to store the Drupal 7 database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
@@ -189,32 +191,32 @@ class SquealerCommands extends DrushCommands {
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatter
+   * @var DateFormatter
    */
   protected $dateFormatter;
 
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystem
+   * @var FileSystem
    */
   protected $fileSystem;
 
   /**
    * The drupal kernel service.
    *
-   * @var \Drupal\Core\DrupalKernel
+   * @var DrupalKernel
    */
   protected $drupalKernel;
 
   /**
    * Constructs a new DrushCommands object.
    *
-   * @param \Drupal\Core\Datetime\DateFormatter $date_formatter
+   * @param DateFormatter $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\File\FileSystem $file_system
+   * @param FileSystem $file_system
    *   The file system service.
-   * @param \Drupal\Core\DrupalKernel $drupal_kernel
+   * @param DrupalKernel $drupal_kernel
    *   The drupal kernel service.
    */
   public function __construct(
@@ -1465,7 +1467,7 @@ class SquealerCommands extends DrushCommands {
    * identified from field_collection_item and paragraphs_item content. It is
    * a recursive function because the table joining varies.
    *
-   * @param \Drupal\Core\Database\Query\SelectInterface $query
+   * @param SelectInterface $query
    *   The query database connection.
    * @param string $original_entity_type
    *   The original entity type from the first field.
@@ -1473,7 +1475,7 @@ class SquealerCommands extends DrushCommands {
    *   The table prefix for the previous table.
    * @param array $field_parameters
    *   The table parameters.
-   * @param \Drupal\Core\Database\Query\Condition $group
+   * @param Condition $group
    *   An orConditionGroup, if it exists.
    */
   private function queryRecursiveJoin(
@@ -1765,7 +1767,7 @@ class SquealerCommands extends DrushCommands {
    *
    * @param int $result_count
    *   Number of results.
-   * @param \Drupal\Core\Database\StatementInterface $query_result
+   * @param StatementInterface $query_result
    *   Data for the report.
    * @param string $report_type
    *   Type of report.
@@ -1833,7 +1835,7 @@ class SquealerCommands extends DrushCommands {
         $date = date('Y-m-d');
         // Create a dated directory for the reports.
         $destination = 'public://squealer_reports/' . $date;
-        file_prepare_directory($destination, FILE_CREATE_DIRECTORY | FILE_MODIFY_PERMISSIONS);
+        \Drupal::service('file_system')->prepareDirectory($destination, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
         // Get the real path of the files that will be generated.
         $files_directory = $this->fileSystem->realpath('public://');
         $report_type = str_replace(' ', '_', $report_type);
