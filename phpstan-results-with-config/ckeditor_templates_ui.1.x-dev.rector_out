modules/contrib/ckeditor_templates_ui/ckeditor_templates_ui.module
modules/contrib/ckeditor_templates_ui/ckeditor_templates_ui.post_update.php
modules/contrib/ckeditor_templates_ui/src/CkeditorTemplatesUi.php
modules/contrib/ckeditor_templates_ui/src/CkeditorTemplatesUiInterface.php
modules/contrib/ckeditor_templates_ui/src/Controller/CkeditorTemplateListBuilder.php
modules/contrib/ckeditor_templates_ui/src/Entity/CkeditorTemplates.php
modules/contrib/ckeditor_templates_ui/src/Form/CkeditorTemplateDeleteForm.php
modules/contrib/ckeditor_templates_ui/src/Form/CkeditorTemplateForm.php

4 files with changes
====================

1) modules/contrib/ckeditor_templates_ui/src/Form/CkeditorTemplateForm.php:15

    ---------- begin diff ----------
@@ @@
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
     $image = $template->get('image');
     if ($image) {
       $image_markup = '<div class="form-item image-preview" style="max-width: 200px; max-height: 200px;">';
-      $image_markup .= '<img src="' . file_create_url($image) . '" alt="' . $this->t('Preview') . '" />';
+      $image_markup .= '<img src="' . \Drupal::service('file_url_generator')->generateAbsoluteString($image) . '" alt="' . $this->t('Preview') . '" />';
       $image_markup .= '</div>';
       $form['image_preview'] = [
         '#type' => 'inline_template',
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/ckeditor_templates_ui/src/Controller/CkeditorTemplateListBuilder.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * The messenger.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * CkeditorTemplateListBuilder constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entityType
+   * @param EntityTypeInterface $entityType
    *   The entity type definition.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $storage
+   * @param EntityStorageInterface $storage
    *   The entity storage class.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger.
    */
   public function __construct(EntityTypeInterface $entityType,
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/ckeditor_templates_ui/src/CkeditorTemplatesUi.php:48

    ---------- begin diff ----------
@@ @@
    */
   private function getTemplatesDefaultPath() {
     global $base_path;
-    return [$base_path . drupal_get_path('module', 'ckeditor_templates_ui') . '/js/ckeditor_templates.js'];
+    return [$base_path . \Drupal::service('extension.list.module')->getPath('ckeditor_templates_ui') . '/js/ckeditor_templates.js'];
   }

 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/ckeditor_templates_ui/ckeditor_templates_ui.module:61

    ---------- begin diff ----------
@@ @@
         // that cannot evaluate to false, is the same for all templates and
         // is used to create the image path. This makes it inconvenient for us.
         // For things to work out all url-s must start with "/".
-        $templates[$i]['image'] = file_create_url($value->image);
-        $templates[$i]['image'] = file_url_transform_relative($templates[$i]['image']);
+        $templates[$i]['image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($value->image);
+        $templates[$i]['image'] = \Drupal::service('file_url_generator')->transformRelative($templates[$i]['image']);
         // Remove leading "/" since it will be added separately
         // by the "imagesPath" parameter.
         $templates[$i]['image'] = substr($templates[$i]['image'], 1);
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector


 [OK] 4 files have been changed by Rector                                       

