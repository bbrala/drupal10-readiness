modules/contrib/flipping_book/flipping_book.module
modules/contrib/flipping_book/flipping_book.page.inc
modules/contrib/flipping_book/src/Entity/FlippingBook.php
modules/contrib/flipping_book/src/Entity/FlippingBookInterface.php
modules/contrib/flipping_book/src/Entity/FlippingBookType.php
modules/contrib/flipping_book/src/Entity/FlippingBookTypeInterface.php
modules/contrib/flipping_book/src/Entity/FlippingBookViewsData.php
modules/contrib/flipping_book/src/FlippingBook.php
modules/contrib/flipping_book/src/FlippingBookAccessControlHandler.php
modules/contrib/flipping_book/src/FlippingBookHtmlRouteProvider.php
modules/contrib/flipping_book/src/FlippingBookInterface.php
modules/contrib/flipping_book/src/FlippingBookListBuilder.php
modules/contrib/flipping_book/src/FlippingBookPermissions.php
modules/contrib/flipping_book/src/FlippingBookTranslationHandler.php
modules/contrib/flipping_book/src/FlippingBookTypeHtmlRouteProvider.php
modules/contrib/flipping_book/src/FlippingBookTypeListBuilder.php
modules/contrib/flipping_book/src/Form/FlippingBookDeleteForm.php
modules/contrib/flipping_book/src/Form/FlippingBookForm.php
modules/contrib/flipping_book/src/Form/FlippingBookSettingsForm.php
modules/contrib/flipping_book/src/Form/FlippingBookTypeDeleteForm.php
modules/contrib/flipping_book/src/Form/FlippingBookTypeForm.php
modules/contrib/flipping_book/src/Plugin/Field/FieldFormatter/FlippingBookIframeFormatter.php
modules/contrib/flipping_book/src/Plugin/Field/FieldFormatter/FlippingBookLinkFormatter.php

10 files with changes
=====================

1) modules/contrib/flipping_book/src/Plugin/Field/FieldFormatter/FlippingBookIframeFormatter.php:94

    ---------- begin diff ----------
@@ @@
   /**
    * Generate the output appropriate for one field item.
    *
-   * @param \Drupal\Core\Field\FieldItemInterface $item
+   * @param FieldItemInterface $item
    *   One field item.
    *
    * @return string
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/flipping_book/src/Form/FlippingBookTypeForm.php:89

    ---------- begin diff ----------
@@ @@
           '%label' => $flipping_book_type->label(),
         ]));
     }
-    $form_state->setRedirectUrl($flipping_book_type->urlInfo('collection'));
+    $form_state->setRedirectUrl($flipping_book_type->toUrl('collection'));
   }

 }
    ----------- end diff -----------

Applied rules:
 * EntityInterfaceUrlInfoRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/flipping_book/src/Form/FlippingBookSettingsForm.php:28

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/flipping_book/src/Form/FlippingBookForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\flipping_book\Form;

+use Drupal\Core\Archiver\ArchiverManager;
+use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Component\Plugin\PluginManagerInterface;
 use Drupal\Core\Entity\ContentEntityForm;
@@ @@
   /**
    * File System service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * Archiver Manager service.
    *
-   * @var \Drupal\Core\Archiver\ArchiverManager
+   * @var ArchiverManager
    */
   protected $archiverManager;

@@ @@
   /**
    * Flipping Book service.
    *
-   * @var \Drupal\flipping_book\FlippingBookInterface
+   * @var FlippingBookInterface
    */
   protected $flippingBook;

@@ @@
   /**
    * Extract upload location.
    *
-   * @param \Drupal\flipping_book\Entity\FlippingBook $flippingBook
+   * @param FlippingBook $flippingBook
    *   A Flipping Book entity.
    *
    * @return string
@@ @@
   /**
    * Handle uploaded archive.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state instance.
    */
   protected function handleArchive(FormStateInterface $form_state) {
@@ @@
   /**
    * Delete Flipping Book.
    *
-   * @param \Drupal\flipping_book\Entity\FlippingBook $flippingBook
+   * @param FlippingBook $flippingBook
    *   A Flipping Book entity.
    */
   protected function deleteFlippingBook(FlippingBook $flippingBook) {
@@ @@
   /**
    * Prepare export.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state instance.
    */
   protected function prepareExport(FormStateInterface $form_state) {
@@ @@
   /**
    * Get File storage.
    *
-   * @return \Drupal\Core\Entity\EntityStorageInterface
+   * @return EntityStorageInterface
    *   A file storage instance.
    */
   protected function getFileStorage() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/flipping_book/src/FlippingBookTypeHtmlRouteProvider.php:31

    ---------- begin diff ----------
@@ @@
   /**
    * Gets the collection route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getCollectionRoute(EntityTypeInterface $entity_type) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/flipping_book/src/FlippingBookPermissions.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * Constructs a new FlippingBookPermissions instance.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
    */
   public function __construct(EntityTypeManagerInterface $entity_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


7) modules/contrib/flipping_book/src/FlippingBookInterface.php:0

    ---------- begin diff ----------
@@ @@
 <?php

 namespace Drupal\flipping_book;
+use Drupal\flipping_book\Entity\FlippingBookType;
 use Drupal\file\Entity\File;
 use Drupal\flipping_book\Entity\FlippingBook as FlippingBookEntity;

@@ @@
    * @param \Drupal\flipping_book\Entity\FlippingBook $flippingBook
    *   A Flipping Book entity.
    *
-   * @return \Drupal\flipping_book\Entity\FlippingBookType
+   * @return FlippingBookType
    *   The Flipping Book type entity.
    */
   public function getBundleEntity(FlippingBookEntity $flippingBook);
@@ @@
   /**
    * Prepare export directory.
    *
-   * @param \Drupal\file\Entity\File $file
+   * @param File $file
    *   A File entity.
    * @param string $export_location
    *   The export location path.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


8) modules/contrib/flipping_book/src/FlippingBookHtmlRouteProvider.php:35

    ---------- begin diff ----------
@@ @@
   /**
    * Gets the collection route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getCollectionRoute(EntityTypeInterface $entity_type) {
@@ @@
   /**
    * Gets the settings form route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getSettingsFormRoute(EntityTypeInterface $entity_type) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/flipping_book/src/FlippingBookAccessControlHandler.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\flipping_book;

+use Drupal\flipping_book\Entity\FlippingBookInterface;
 use Drupal\Core\Entity\EntityAccessControlHandler;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Session\AccountInterface;
@@ @@
    * {@inheritdoc}
    */
   protected function checkAccess(EntityInterface $entity, $operation, AccountInterface $account) {
-    /** @var \Drupal\flipping_book\Entity\FlippingBookInterface $entity */
+    /** @var FlippingBookInterface $entity */
     switch ($operation) {
       case 'view':
         if (!$entity->isPublished()) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/flipping_book/src/FlippingBook.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * File System service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * Archiver Manager service.
    *
-   * @var \Drupal\Core\Archiver\ArchiverManager
+   * @var ArchiverManager
    */
   protected $pluginManagerArchiver;

@@ @@
   /**
    * Entity Type Manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * FlippingBook constructor.
    *
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   A File System service instance.
-   * @param \Drupal\Core\Archiver\ArchiverManager $plugin_manager_archiver
+   * @param ArchiverManager $plugin_manager_archiver
    *   An Archiver Manager service instance.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The Entity Type Manager service instance.
    */
   public function __construct(FileSystemInterface $file_system, ArchiverManager $plugin_manager_archiver, EntityTypeManagerInterface $entity_type_manager) {
@@ @@
   public function buildFlippingBookUrl(FlippingBookEntity $flippingBook) {
     $location = $this->extractUploadLocation($flippingBook);
     $dir = $flippingBook->getDirectory();
-    $uri = file_create_url("$location/$dir/index.html");
+    $uri = \Drupal::service('file_url_generator')->generateAbsoluteString("$location/$dir/index.html");
     return Url::fromUri($uri);
   }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 10 files have been changed by Rector                                      

