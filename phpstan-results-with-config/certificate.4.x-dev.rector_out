modules/contrib/certificate/certificate.api.php
modules/contrib/certificate/certificate.module
modules/contrib/certificate/certificate.post_update.php
modules/contrib/certificate/modules/certificate_test/certificate_test.module
modules/contrib/certificate/modules/certificate_test/src/Entity/CertificateTestEntity.php
modules/contrib/certificate/modules/certificate_test/src/Plugin/certificate/CertificateMapper/TestCertificateMapper.php
modules/contrib/certificate/modules/quiz_certificate/quiz_certificate.module
modules/contrib/certificate/src/Access/CertificateMappingAccessControlHandler.php
modules/contrib/certificate/src/Annotation/CertificateMapper.php
modules/contrib/certificate/src/Config/Entity/CertificateTemplateListBuilder.php
modules/contrib/certificate/src/Config/Entity/CertificateTypeListBuilder.php
modules/contrib/certificate/src/Controller/CertificateAdminController.php
modules/contrib/certificate/src/Controller/CertificateController.php
modules/contrib/certificate/src/Controller/CertificateTemplateController.php
modules/contrib/certificate/src/Entity/CertificateMapping.php
modules/contrib/certificate/src/Entity/CertificateSnapshot.php
modules/contrib/certificate/src/Entity/CertificateTemplate.php
modules/contrib/certificate/src/Entity/CertificateType.php
modules/contrib/certificate/src/Form/CertificateConfigForm.php
modules/contrib/certificate/src/Form/CertificateEntityForm.php
modules/contrib/certificate/src/Form/CertificateMappingsInlineEntityForm.php
modules/contrib/certificate/src/Form/CertificateTypeForm.php
modules/contrib/certificate/src/Plugin/CertificateMapperBase.php
modules/contrib/certificate/src/Plugin/CertificateMapperManager.php
modules/contrib/certificate/src/Plugin/Derivative/CertificateLocalTasks.php
modules/contrib/certificate/src/Plugin/certificate/CertificateMapper/CourseCreditCertificateMapper.php
modules/contrib/certificate/src/Plugin/certificate/CertificateMapper/ManualCertificateMapper.php
modules/contrib/certificate/src/Plugin/certificate/CertificateMapper/RulesCertificateMapper.php
modules/contrib/certificate/src/Routing/CertificateRoutes.php
modules/contrib/certificate/tests/src/Functional/CertificateTest.php

8 files with changes
====================

1) modules/contrib/certificate/tests/src/Functional/CertificateTest.php:25

    ---------- begin diff ----------
@@ @@
   // @todo remove node as dep, something in PDF requiring it
   protected static $modules = ['certificate', 'certificate_test', 'node'];

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->admin_user = $this->createUser(array('administer certificate'));
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/certificate/src/Entity/CertificateTemplate.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\certificate\Entity;

+use Drupal\entity_print\Plugin\PrintEngineBase;
 use Drupal;
 use Drupal\Core\Entity\ContentEntityBase;
 use Drupal\Core\Entity\EditorialContentEntityBase;
@@ @@

     $fields['orientation'] = BaseFieldDefinition::create('list_string')
       ->setLabel('Orientation')
-      ->setSetting('allowed_values', [\Drupal\entity_print\Plugin\PrintEngineBase::PORTRAIT => 'Portrait', \Drupal\entity_print\Plugin\PrintEngineBase::LANDSCAPE => 'Landscape'])
-      ->setDefaultValue(\Drupal\entity_print\Plugin\PrintEngineBase::PORTRAIT)
+      ->setSetting('allowed_values', [PrintEngineBase::PORTRAIT => 'Portrait', PrintEngineBase::LANDSCAPE => 'Landscape'])
+      ->setDefaultValue(PrintEngineBase::PORTRAIT)
       ->setDisplayOptions('form', [
       'label' => 'above',
       'type' => 'options_buttons',
@@ @@
   /**
    * Load a printable engine.
    *
-   * @return \Drupal\entity_print\Plugin\PrintEngineBase
+   * @return PrintEngineBase
    */
   public function loadPrintableEngine($configuration = []) {
     $engines = \Drupal::config('entity_print.settings')->get('print_engines');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/certificate/src/Controller/CertificateController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\certificate\Controller;

+use Drupal\Core\Entity\ContentEntityInterface;
+use Drupal\Core\Access\AccessResultInterface;
 use Drupal;
 use Drupal\certificate\Entity\CertificateMapping;
 use Drupal\certificate\Entity\CertificateSnapshot;
@@ @@
   /**
    * Get the certificate enabled entity from the route.
    *
-   * @return \Drupal\Core\Entity\ContentEntityInterface
+   * @return ContentEntityInterface
    */
   public function getEntityFromRoute() {
     $param = current(\Drupal::routeMatch()->getParameters());
@@ @@
    * @param AccountInterface $account
    * The user account to check
    *
-   * @return \Drupal\Core\Access\AccessResultInterface
+   * @return AccessResultInterface
    *   An access result
    */
   public function accessTab(EntityInterface $entity = NULL, AccountInterface $user = NULL) {
@@ @@
     // If no snapshot HTML found, load the entity
     if (empty($html)) {
       $renderView = $certificate_template->renderView($user, $entity);
-      $html = render($renderView);
+      $html = \Drupal::service('renderer')->render($renderView);
     }

     // Add base HREF so images work.
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/certificate/src/Access/CertificateMappingAccessControlHandler.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\certificate\Access;

+use Drupal\Core\Access\AccessResultAllowed;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\entity\UncacheableEntityAccessControlHandler;
@@ @@

   protected function checkCreateAccess(AccountInterface $account, array $context, $entity_bundle = NULL) {
     if ($account->hasPermission('assign certificates')) {
-      return \Drupal\Core\Access\AccessResultAllowed::allowed();
+      return AccessResultAllowed::allowed();
     }

     return parent::checkCreateAccess($account, $context, $entity_bundle);
@@ @@

   function checkAccess(EntityInterface $entity, $operation, AccountInterface $account) {
     if ($account->hasPermission('assign certificates')) {
-      return \Drupal\Core\Access\AccessResultAllowed::allowed();
+      return AccessResultAllowed::allowed();
     }

     return parent::checkAccess($entity, $operation, $account);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/certificate/modules/quiz_certificate/quiz_certificate.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\quiz\Entity\Quiz;
+use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Session\AccountInterface;

@@ @@
  */
 function quiz_certificate_entity_access(EntityInterface $entity, $operation, AccountInterface $user) {
   if ($operation == 'certificate') {
-    if (is_a($entity, \Drupal\quiz\Entity\Quiz::class)) {
+    if (is_a($entity, Quiz::class)) {
       $qrids = \Drupal::entityQuery('quiz_result')
         ->condition('uid', $user->id())
         ->condition('qid', $entity->id())
@@ @@
       $results = \Drupal::entityTypeManager()->getStorage('quiz_result')->loadMultiple($qrids);
       foreach ($results as $result) {
         if ($result->score->value >= $entity->pass_rate->value) {
-          return \Drupal\Core\Access\AccessResult::allowed();
+          return AccessResult::allowed();
         }
       }

-      return \Drupal\Core\Access\AccessResult::forbidden();
+      return AccessResult::forbidden();
     }
   }
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


6) modules/contrib/certificate/certificate.post_update.php:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\ContentEntityType;
 use Drupal\Core\Database\Database;
 use Drupal\Core\Entity\EntityLastInstalledSchemaRepositoryInterface;
 use Drupal\Core\Field\BaseFieldDefinition;
@@ @@
  */
 function certificate_post_update_make_certificate_mappings_revisionable(&$sandbox) {
   // Workaround to remove a stray vid entity key so it can be reinstalled.
-  /** @var Drupal\Core\Entity\ContentEntityType $kvitem */
+  /** @var ContentEntityType $kvitem */
   $kvitem = \Drupal::keyValue('entity.definitions.installed')->get('certificate_mapping.entity_type');
   $entity_keys = $kvitem->getKeys();
   $entity_keys['revision'] = NULL;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


7) modules/contrib/certificate/certificate.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Routing\RouteMatchInterface;
 use Drupal\Core\Link;
 use Drupal\certificate\Form\CertificateConfigForm;
 use Drupal\Core\Entity\ContentEntityInterface;
@@ @@
 /**
  * Implements hook_help().
  */
-function certificate_help($route_name, \Drupal\Core\Routing\RouteMatchInterface $route_match) {
+function certificate_help($route_name, RouteMatchInterface $route_match) {
   switch ($route_name) {
     case 'entity.certificate_type.collection':
       return '<p>' . t('Certificate template types are used to create certificate templates. For example instead of a single WYSIWYG field, you can create a certificate template type that uses text fields and image uploads. Then you can use view modes to configure the certificate output.') . '</p>';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


8) modules/contrib/certificate/certificate.api.php:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Access\AccessResult;
 /**
  * @file certificate.api.php
  * Document certificate hooks.
@@ @@
  *
  * Implementations should check that $operation == 'certificate'
  *
- * @return \Drupal\Core\Access\AccessResult
+ * @return AccessResult
  *   Forbidden if user should not be shown the menu tab or link.
  *   Allowed if user should be able to download a certificate.
  */
@@ @@
 function hook_entity_access(EntityInterface $entity, $operation, AccountInterface $user) {
   if ($operation == 'certificate') {
     if (get_score($user) > passing_score($entity)) {
-      return \Drupal\Core\Access\AccessResult::allowed();
+      return AccessResult::allowed();
     }
     else {
-      return \Drupal\Core\Access\AccessResult::forbidden();
+      return AccessResult::forbidden();
     }
   }
 }
@@ @@
  * @param $template_ids
  *   Array of valid certificates.
  *
- * @param \Drupal\Core\Entity\EntityInterface $entity
+ * @param EntityInterface $entity
  *   Entity generating the certificate.
  *
- * @param \Drupal\Core\Session\AccountInterface $account
+ * @param AccountInterface $account
  *   Account generating the certificate.
  */
 function hook_certificate_template_id_alter(&$template_ids, EntityInterface $entity, AccountInterface $account) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 8 files have been changed by Rector                                       

