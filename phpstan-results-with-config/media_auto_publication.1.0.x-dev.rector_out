modules/contrib/media_auto_publication/media_auto_publication.module
modules/contrib/media_auto_publication/src/PublishAssociated.php

1 file with changes
===================

1) modules/contrib/media_auto_publication/src/PublishAssociated.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\media_auto_publication;

+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Core\Field\FieldDefinitionInterface;
+use Drupal\media\MediaInterface;
 use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityPublishedInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * Constructs an "PublishAssociated" object.
    *
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity type manager.
    */
   public function __construct(EntityFieldManagerInterface $entity_field_manager) {
@@ @@
   /**
    * Publish associated medias.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity object.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public function publish(EntityInterface $entity) {
     if (self::isBeingPublished($entity)) {
@@ @@
   /**
    * Check entity has publish state and is being published.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity object.
    *
    * @return bool
@@ @@
   /**
    * Publish referenced medias.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity object.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   private function publishReferencedMedias(EntityInterface $entity) {
     // Get all fields attached of entity.
@@ @@
     // Loop to find all fields of type "entity_reference"
     // with "media" target type.
     foreach ($fields as &$field) {
-      /** @var \Drupal\Core\Field\FieldDefinitionInterface $field */
-
+      /** @var FieldDefinitionInterface $field */
       if (
         $field->getType() !== 'entity_reference' ||
         $field->getSetting('target_type') !== 'media'
@@ @@
       // Get referenced entities.
       $referenced_entities = $entity->get($field->getName())->referencedEntities();
       foreach ($referenced_entities as $referenced_entity) {
-        /** @var \Drupal\media\MediaInterface $referenced_entity */
-
+        /** @var MediaInterface $referenced_entity */
         if ($referenced_entity->isPublished()) {
           continue;
         }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


 [OK] 1 file has been changed by Rector                                         

