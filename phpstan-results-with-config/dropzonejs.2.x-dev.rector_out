modules/contrib/dropzonejs/dropzonejs.install
modules/contrib/dropzonejs/dropzonejs.module
modules/contrib/dropzonejs/modules/eb_widget/dropzonejs_eb_widget.install
modules/contrib/dropzonejs/modules/eb_widget/src/Plugin/EntityBrowser/Widget/DropzoneJsEbWidget.php
modules/contrib/dropzonejs/modules/eb_widget/src/Plugin/EntityBrowser/Widget/InlineEntityFormMediaWidget.php
modules/contrib/dropzonejs/modules/eb_widget/src/Plugin/EntityBrowser/Widget/MediaEntityDropzoneJsEbWidget.php
modules/contrib/dropzonejs/src/Controller/UploadController.php
modules/contrib/dropzonejs/src/DropzoneJsUploadSave.php
modules/contrib/dropzonejs/src/DropzoneJsUploadSaveInterface.php
modules/contrib/dropzonejs/src/Element/DropzoneJs.php
modules/contrib/dropzonejs/src/Events/DropzoneMediaEntityCreateEvent.php
modules/contrib/dropzonejs/src/Events/Events.php
modules/contrib/dropzonejs/src/Form/DropzoneJsUploadForm.php
modules/contrib/dropzonejs/src/UploadException.php
modules/contrib/dropzonejs/src/UploadHandler.php
modules/contrib/dropzonejs/src/UploadHandlerInterface.php
modules/contrib/dropzonejs/tests/modules/dropzonejs_test/src/Form/DropzoneJsTestForm.php
modules/contrib/dropzonejs/tests/src/FunctionalJavascript/DropzoneJsEbWidgetTest.php
modules/contrib/dropzonejs/tests/src/FunctionalJavascript/DropzoneJsWebDriverTestBase.php
modules/contrib/dropzonejs/tests/src/Kernel/DropzoneJsElementTest.php
modules/contrib/dropzonejs/tests/src/Kernel/DropzoneJsUploadControllerTest.php

15 files with changes
=====================

1) modules/contrib/dropzonejs/tests/src/Kernel/DropzoneJsUploadControllerTest.php:54

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig('dropzonejs');
     $this->installEntitySchema('user');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/dropzonejs/tests/src/Kernel/DropzoneJsElementTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installEntitySchema('user');

-    /** @var \Drupal\user\RoleInterface $role */
+    /** @var RoleInterface $role */
     $role = Role::create(['id' => RoleInterface::ANONYMOUS_ID]);
     $role->grantPermission('dropzone upload files');
     $role->save();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/dropzonejs/tests/src/FunctionalJavascript/DropzoneJsWebDriverTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\dropzonejs\FunctionalJavascript;

+use Drupal\file\FileInterface;
+use Drupal\Core\Entity\EntityStorageException;
+use Behat\Mink\Exception\ElementNotFoundException;
 use Drupal\file\Entity\File;
 use Drupal\FunctionalJavascriptTests\WebDriverTestBase;

@@ @@
    * @param string $extension
    *   File extension.
    *
-   * @return \Drupal\file\FileInterface
+   * @return FileInterface
    *   Returns an image.
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   protected function getFile($name, $extension = 'jpg') {
     file_put_contents('public://' . $name . '.' . $extension, $this->fileData);
@@ @@
   /**
    * Drop a predefined file to dropzone.
    *
-   * @throws \Behat\Mink\Exception\ElementNotFoundException
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws ElementNotFoundException
+   * @throws EntityStorageException
    */
   protected function dropFile() {
     // Sometimes we are not yet switched to the iframe. Stop the horses a bit
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/dropzonejs/tests/src/FunctionalJavascript/DropzoneJsEbWidgetTest.php:40

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $account = $this->drupalCreateUser(static::$userPermissions);
     $this->drupalLogin($account);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/dropzonejs/src/UploadHandlerInterface.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * Reads, checks and return filename of a file being uploaded.
    *
-   * @param \Symfony\Component\HttpFoundation\File\UploadedFile $file
+   * @param UploadedFile $file
    *   An instance of UploadedFile.
    *
    * @return string
    *   The sanitized filename.
    *
-   * @throws \Drupal\dropzonejs\UploadException
+   * @throws UploadException
    */
   public function getFilename(UploadedFile $file);

@@ @@
   /**
    * Handles an uploaded file.
    *
-   * @param \Symfony\Component\HttpFoundation\File\UploadedFile $file
+   * @param UploadedFile $file
    *   The uploaded file.
    *
    * @return string
    *   URI of the uploaded file.
    *
-   * @throws \Drupal\dropzonejs\UploadException
+   * @throws UploadException
    */
   public function handleUpload(UploadedFile $file);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


6) modules/contrib/dropzonejs/src/UploadHandler.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dropzonejs;

+use Symfony\Component\HttpFoundation\Request;
+use Drupal\Core\Transliteration\PhpTransliteration;
+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Component\Transliteration\TransliterationInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Language\LanguageManagerInterface;
@@ @@
   /**
    * The current request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    *   The HTTP request object.
    */
   protected $request;
@@ @@
   /**
    * Transliteration service.
    *
-   * @var \Drupal\Core\Transliteration\PhpTransliteration
+   * @var PhpTransliteration
    */
   protected $transliteration;

@@ @@
   /**
    * Language manager service.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The settings of dropzonejs.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $dropzoneSettings;

@@ @@
   /**
    * Constructs dropzone upload controller route controller.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config factory.
-   * @param \Drupal\Component\Transliteration\TransliterationInterface $transliteration
+   * @param TransliterationInterface $transliteration
    *   Transliteration service.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   LanguageManager service.
    */
   public function __construct(RequestStack $request_stack, ConfigFactoryInterface $config_factory, TransliterationInterface $transliteration, LanguageManagerInterface $language_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


7) modules/contrib/dropzonejs/src/UploadException.php:68

    ---------- begin diff ----------
@@ @@
   /**
    * Generates and returns JSON response object for the error.
    *
-   * @return \Symfony\Component\HttpFoundation\JsonResponse
+   * @return JsonResponse
    *   JSON response object.
    */
   public function getErrorResponse() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/dropzonejs/src/Form/DropzoneJsUploadForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dropzonejs\Form;

+use Drupal\file\FileInterface;
 use Drupal\Component\Utility\Bytes;
 use Drupal\Core\Field\FieldStorageDefinitionInterface;
 use Drupal\Core\Form\FormBuilderInterface;
@@ @@
   /**
    * DropzoneJS module upload save service.
    *
-   * @var \Drupal\dropzonejs\DropzoneJsUploadSaveInterface
+   * @var DropzoneJsUploadSaveInterface
    */
   protected $dropzoneJsUploadSave;

@@ @@
   /**
    * Set the upload service.
    *
-   * @param \Drupal\dropzonejs\DropzoneJsUploadSaveInterface $dropzoneJsUploadSave
+   * @param DropzoneJsUploadSaveInterface $dropzoneJsUploadSave
    *   The upload service.
    */
   protected function setDropzoneJsUploadSave(DropzoneJsUploadSaveInterface $dropzoneJsUploadSave) {
@@ @@
    *
    * @param array $element
    *   The upload element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
    * @return array
@@ @@
    *
    * @param array $form
    *   The form render array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    */
   public function uploadButtonSubmit(array $form, FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   Form structure.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state object.
    *
-   * @return \Drupal\file\FileInterface[]
+   * @return FileInterface[]
    *   Array of uploaded files.
    */
   protected function getFiles(array $form, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/dropzonejs/src/Events/DropzoneMediaEntityCreateEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dropzonejs\Events;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\file\FileInterface;
 use Drupal\media\MediaInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Represents Media Entity creation as an event when using DropzoneJS.
@@ @@
   /**
    * The media entity being created.
    *
-   * @var \Drupal\media\MediaInterface
+   * @var MediaInterface
    */
   protected $mediaEntity;

@@ @@
   /**
    * The file that will be used for the media entity.
    *
-   * @var \Drupal\file\FileInterface
+   * @var FileInterface
    */
   protected $file;

@@ @@
   /**
    * The form state.
    *
-   * @var \Drupal\Core\Form\FormStateInterface
+   * @var FormStateInterface
    */
   protected $formState;

@@ @@
   /**
    * DropzoneMediaEntityCreateEvent constructor.
    *
-   * @param \Drupal\media\MediaInterface $media_entity
+   * @param MediaInterface $media_entity
    *   The media entity being created.
-   * @param \Drupal\file\FileInterface $file
+   * @param FileInterface $file
    *   The file that will be used for the media entity.
    * @param array $form
    *   The form that contains the Dropzone element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    * @param array $element
    *   The Dropzone form element.
@@ @@
   /**
    * Get the media entity.
    *
-   * @return \Drupal\media\MediaInterface
+   * @return MediaInterface
    *   A media entity.
    */
   public function getMediaEntity() {
@@ @@
   /**
    * Set the media entity.
    *
-   * @param \Drupal\media\MediaInterface $media_entity
+   * @param MediaInterface $media_entity
    *   The updated media entity.
    */
   public function setMediaEntity(MediaInterface $media_entity) {
@@ @@
   /**
    * Get the file for the media entity.
    *
-   * @return \Drupal\file\FileInterface
+   * @return FileInterface
    *   The file that will be used for the media entity.
    */
   public function getFile() {
@@ @@
   /**
    * Get the form state.
    *
-   * @return \Drupal\Core\Form\FormStateInterface
+   * @return FormStateInterface
    *    The current formstate.
    */
   public function getFormState() {
@@ @@
   /**
    * Set the form state.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The updated form state.
    */
   public function setFormState(FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/dropzonejs/src/Element/DropzoneJs.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dropzonejs\Element;

+use Drupal\Core\File\FileSystemInterface;
 use Drupal\Component\Utility\Bytes;
 use Drupal\Component\Utility\Environment;
 use Drupal\Component\Utility\Html;
@@ @@
           if (file_exists($old_filepath)) {
             // Finaly rename the file and add it to results.
             $new_filepath = $tmp_upload_scheme . '://' . $name;
-            /** @var \Drupal\Core\File\FileSystemInterface $file_system */
+            /** @var FileSystemInterface $file_system */
             $file_system = \Drupal::service('file_system');
             $move_result = $file_system->move($old_filepath, $new_filepath);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/dropzonejs/src/DropzoneJsUploadSaveInterface.php:22

    ---------- begin diff ----------
@@ @@
    *   be a stream wrapper URI.
    * @param string $extensions
    *   A space separated list of valid extensions.
-   * @param \Drupal\Core\Session\AccountProxyInterface $user
+   * @param AccountProxyInterface $user
    *   The owner of the file.
    * @param array $validators
    *   (Optional) Associative array of callback functions used to validate the
@@ @@
    *   file_validate_extensions and file_validate_name_length in this method
    *   already.
    *
-   * @return \Drupal\file\FileInterface|bool
+   * @return FileInterface|bool
    *   The file entity of the newly uploaded file or false in case of a failure.
    *   The file isn't saved yet. That should be handled by the caller.
    */
@@ @@
   /**
    * Validate the uploaded file.
    *
-   * @param \Drupal\file\FileInterface $file
+   * @param FileInterface $file
    *   The file entity object.
    * @param string $extensions
    *   A space separated string of valid extensions.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


12) modules/contrib/dropzonejs/src/DropzoneJsUploadSave.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dropzonejs;

+use Symfony\Component\Mime\MimeTypesInterface;
 use Drupal\Component\Render\PlainTextOutput;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\Core\Utility\Token;
 use Drupal\file\FileInterface;
-use Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface;
 use Drupal\Core\File\FileSystemInterface;

 /**
@@ @@
   /**
    * Entity manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Mime type guesser service.
    *
-   * @var \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface
+   * @var MimeTypesInterface
    */
   protected $mimeTypeGuesser;

@@ @@
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * The logger service.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   protected $logger;

@@ @@
   /**
    * The renderer service.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
   /**
    * Config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The token service.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $token;

@@ @@
   /**
    * The messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * The stream wrapper manager.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;

@@ @@
   /**
    * Construct the DropzoneUploadSave object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager service.
-   * @param \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface $mimetype_guesser
+   * @param MimeTypesInterface $mimetype_guesser
    *   The mime type guesser service.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file system service.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger_factory
+   * @param LoggerChannelFactoryInterface $logger_factory
    *   The logger factory service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config factory service.
-   * @param \Drupal\Core\Utility\Token $token
+   * @param Token $token
    *   The token service.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger service.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager
+   * @param StreamWrapperManagerInterface $stream_wrapper_manager
    *   The stream wrapper manager.
    */
-  public function __construct(EntityTypeManagerInterface $entity_type_manager, MimeTypeGuesserInterface $mimetype_guesser, FileSystemInterface $file_system, LoggerChannelFactoryInterface $logger_factory, RendererInterface $renderer, ConfigFactoryInterface $config_factory, Token $token, MessengerInterface $messenger, StreamWrapperManagerInterface $stream_wrapper_manager) {
+  public function __construct(EntityTypeManagerInterface $entity_type_manager, MimeTypesInterface $mimetype_guesser, FileSystemInterface $file_system, LoggerChannelFactoryInterface $logger_factory, RendererInterface $renderer, ConfigFactoryInterface $config_factory, Token $token, MessengerInterface $messenger, StreamWrapperManagerInterface $stream_wrapper_manager) {
     $this->entityTypeManager = $entity_type_manager;
     $this->mimeTypeGuesser = $mimetype_guesser;
     $this->fileSystem = $file_system;
@@ @@
     $uri = $this->streamWrapperManager->normalizeUri($uri);
     $file_info = new \SplFileInfo($uri);

-    /** @var \Drupal\file\FileInterface $file */
+    /** @var FileInterface $file */
     $file = $this->entityTypeManager->getStorage('file')->create([
       'uid' => $user->id(),
       'status' => 0,
@@ @@
   /**
    * Rename potentially executable files.
    *
-   * @param \Drupal\file\FileInterface $file
+   * @param FileInterface $file
    *   The file entity object.
    *
    * @return bool
@@ @@
   /**
    * Validate and set destination the destination URI.
    *
-   * @param \Drupal\file\FileInterface $file
+   * @param FileInterface $file
    *   The file entity object.
    * @param string $destination
    *   A string containing the URI that the file should be copied to. This must
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


13) modules/contrib/dropzonejs/src/Controller/UploadController.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * The upload handler service.
    *
-   * @var \Drupal\dropzonejs\UploadHandlerInterface
+   * @var UploadHandlerInterface
    */
   protected $uploadHandler;

@@ @@
   /**
    * The current request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    *   The HTTP request object.
    */
   protected $request;
@@ @@
   /**
    * Constructs dropzone upload controller route controller.
    *
-   * @param \Drupal\dropzonejs\UploadHandlerInterface $upload_handler
+   * @param UploadHandlerInterface $upload_handler
    *   Upload handler.
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   Request object.
    */
   public function __construct(UploadHandlerInterface $upload_handler, Request $request) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/dropzonejs/dropzonejs.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Asset\LibrariesDirectoryFileFinder;
 /**
  * @file
  * Contains dropzonejs.module.
@@ @@
   // directory file finder service when Drupal 8.9 is the minimum supported
   // version of core.
   if (\Drupal::hasService('library.libraries_directory_file_finder')) {
-    /** @var \Drupal\Core\Asset\LibrariesDirectoryFileFinder $library_file_finder */
+    /** @var LibrariesDirectoryFileFinder $library_file_finder */
     $library_file_finder = \Drupal::service('library.libraries_directory_file_finder');
     $exif_path = $library_file_finder->find('exif-js/exif.js');
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


15) modules/contrib/dropzonejs/dropzonejs.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Asset\LibrariesDirectoryFileFinder;
 /**
  * @file
  * Install, update and uninstall functions for the dropzonejs module.
@@ @@
   // directory file finder service when Drupal 8.9 is the minimum supported
   // version of core.
   if (\Drupal::hasService('library.libraries_directory_file_finder')) {
-    /** @var \Drupal\Core\Asset\LibrariesDirectoryFileFinder $library_file_finder */
+    /** @var LibrariesDirectoryFileFinder $library_file_finder */
     $library_file_finder = \Drupal::service('library.libraries_directory_file_finder');
     $library_found = (bool) $library_file_finder->find('dropzone/dist/min/dropzone.min.js');
   }
@@ @@

     // If library is not found, then look in the current profile libraries path.
     if (!$library_found) {
-      $profile_path = drupal_get_path('profile', \Drupal::installProfile());
+      $profile_path = \Drupal::service('extension.list.profile')->getPath(\Drupal::installProfile());
       $profile_path .= '/libraries/dropzone/dist/min/dropzone.min.js';
       // Is the library found in the current profile libraries path.
       $library_found = file_exists($profile_path);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [ERROR] Could not process                                                      
         "modules/contrib/dropzonejs/modules/eb_widget/src/Plugin/EntityBrowser/Wi
         dget/MediaEntityDropzoneJsEbWidget.php" file, due to:                  
         "Analyze error: "Class Drupal\entity_browser\WidgetBase not found.".   
         Include your files in "$rectorConfig->autoloadPaths([...]);" or        
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/dropzonejs/modules/eb_widget/src/Plugin/EntityBrowser/Wi
         dget/InlineEntityFormMediaWidget.php" file, due to:                    
         "Analyze error: "Class Drupal\entity_browser\WidgetBase not found.".   
         Include your files in "$rectorConfig->autoloadPaths([...]);" or        
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/dropzonejs/modules/eb_widget/src/Plugin/EntityBrowser/Wi
         dget/DropzoneJsEbWidget.php" file, due to:                             
         "Analyze error: "Class Drupal\entity_browser\WidgetBase not found.".   
         Include your files in "$rectorConfig->autoloadPaths([...]);" or        
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/dropzonejs/modules/eb_widget/dropzonejs_eb_widget.instal
         l" file, due to:                                                       
         "Analyze error: "Class Drupal\entity_browser\WidgetBase not found.".   
         Include your files in "$rectorConfig->autoloadPaths([...]);" or        
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

 [WARNING] 1 nodes were removed                                                 

