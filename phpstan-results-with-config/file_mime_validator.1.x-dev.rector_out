modules/contrib/file_mime_validator/file_mime_validator.module
modules/contrib/file_mime_validator/src/Service/FileMimeValidator.php

1 file with changes
===================

1) modules/contrib/file_mime_validator/src/Service/FileMimeValidator.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * Drupal\Core\Config\ConfigFactoryInterface definition.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
   /**
    * Logger factory.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   protected $loggerChannelFactory;
   /**
    * String translation service.
    *
-   * @var \Drupal\Core\StringTranslation\TranslationInterface
+   * @var TranslationInterface
    */
   protected $translator;

@@ @@
   /**
    * Constructs the file upload secure validation service.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory service object.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger_factory
+   * @param LoggerChannelFactoryInterface $logger_factory
    *   The logger factory service object.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $translator
+   * @param TranslationInterface $translator
    *   The string translation service object.
    */
   public function __construct(ConfigFactoryInterface $config_factory,
@@ @@
   /**
    * Check Real Mime function.
    *
-   * @param \Drupal\file\Entity\File $file
+   * @param File $file
    *   File.
    *
    * @return array
@@ @@
     // Get mime type from file.
     $mimeByFilename = $file->getMimeType();
     // Get mime type from fileinfo.
-    $mimeByFileinfo = (substr($file->getFileUri(), 0, 5) == '/tmp/') ? (new SymfonyFileinfoMimeTypeGuesser())->guess($file->getFileUri()) : 'NOTTMPDIR';
+    $mimeByFileinfo = (substr($file->getFileUri(), 0, 5) == '/tmp/') ? (new \Symfony\Component\Mime\FileinfoMimeTypeGuesser())->guess($file->getFileUri()) : 'NOTTMPDIR';

     // If fileinfo agrees with the file's extension, exit.
     if ($mimeByFilename === $mimeByFileinfo) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector


 [OK] 1 file has been changed by Rector                                         

