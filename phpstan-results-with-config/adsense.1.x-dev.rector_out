modules/contrib/adsense/adsense.install
modules/contrib/adsense/adsense.module
modules/contrib/adsense/adstxt/adsense_adstxt.install
modules/contrib/adsense/adstxt/adsense_adstxt.module
modules/contrib/adsense/adstxt/src/Controller/AdsenseAdsTxtController.php
modules/contrib/adsense/help/adsense.help.inc
modules/contrib/adsense/oldcode/adsense_oldcode.module
modules/contrib/adsense/oldcode/revenue_sharing_basic/adsense_revenue_sharing_basic.install
modules/contrib/adsense/oldcode/revenue_sharing_basic/adsense_revenue_sharing_basic.module
modules/contrib/adsense/oldcode/revenue_sharing_basic/help/adsense_revenue_sharing_basic.help.inc
modules/contrib/adsense/oldcode/revenue_sharing_basic/src/Form/AdsenseRevenueSharingBasicSettings.php
modules/contrib/adsense/oldcode/src/Form/AdsenseOldCodeSettings.php
modules/contrib/adsense/oldcode/src/Form/AdsenseOldSearchSettings.php
modules/contrib/adsense/oldcode/src/Plugin/AdsenseAd/OldCodeAd.php
modules/contrib/adsense/oldcode/src/Plugin/AdsenseAd/OldSearchAd.php
modules/contrib/adsense/oldcode/src/Plugin/Block/OldCodeAdBlock.php
modules/contrib/adsense/oldcode/src/Plugin/Block/OldSearchAdBlock.php
modules/contrib/adsense/src/AdBlockInterface.php
modules/contrib/adsense/src/AdsenseAdBase.php
modules/contrib/adsense/src/AdsenseAdInterface.php
modules/contrib/adsense/src/AdsenseAdManager.php
modules/contrib/adsense/src/Annotation/AdsenseAd.php
modules/contrib/adsense/src/ContentAdBase.php
modules/contrib/adsense/src/Controller/CseResultsController.php
modules/contrib/adsense/src/Controller/CseV2ResultsController.php
modules/contrib/adsense/src/Form/AdsenseCseSettings.php
modules/contrib/adsense/src/Form/AdsenseMainSettings.php
modules/contrib/adsense/src/Form/AdsenseManagedSettings.php
modules/contrib/adsense/src/Plugin/AdsenseAd/CustomSearchAd.php
modules/contrib/adsense/src/Plugin/AdsenseAd/CustomSearchV2Ad.php
modules/contrib/adsense/src/Plugin/AdsenseAd/ManagedAd.php
modules/contrib/adsense/src/Plugin/Block/CustomSearchAdBlock.php
modules/contrib/adsense/src/Plugin/Block/ManagedAdBlock.php
modules/contrib/adsense/src/Plugin/Filter/AdsenseFilter.php
modules/contrib/adsense/src/PublisherId.php
modules/contrib/adsense/src/SearchAdBase.php

16 files with changes
=====================

1) modules/contrib/adsense/src/Plugin/Filter/AdsenseFilter.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\adsense\Plugin\Filter;

+use Drupal\block\Entity\Block;
 use Drupal\adsense\AdBlockInterface;
 use Drupal\adsense\AdsenseAdBase;
 use Drupal\Component\Plugin\Exception\PluginException;
@@ @@
   /**
    * The block storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $blockStorage;

@@ @@
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
   /**
    * Configuration.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $entity_storage
+   * @param EntityStorageInterface $entity_storage
    *   The block storage.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Drupal\Core\Config\ImmutableConfig $config
+   * @param ImmutableConfig $config
    *   The configuration.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityStorageInterface $entity_storage, RendererInterface $renderer, ImmutableConfig $config) {
@@ @@
                 $module_blocks = [];
               }

-              /** @var \Drupal\block\Entity\Block $block */
+              /** @var Block $block */
               foreach ($module_blocks as $block) {
                 if ($block->getPlugin() instanceof AdBlockInterface) {
                   $ad = $block->getPlugin()->createAd();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/adsense/src/Plugin/Block/ManagedAdBlock.php:26

    ---------- begin diff ----------
@@ @@
   /**
    * Stores the configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/adsense/src/Plugin/Block/CustomSearchAdBlock.php:27

    ---------- begin diff ----------
@@ @@
   /**
    * Stores the configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/adsense/src/Form/AdsenseManagedSettings.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\adsense\Form;

+use Drupal\system\Plugin\Condition\RequestPath;
 use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Component\Plugin\Factory\FactoryInterface;
 use Drupal\Component\Utility\Html;
@@ @@
   /**
    * Request path condition plugin.
    *
-   * @var \Drupal\system\Plugin\Condition\RequestPath
+   * @var RequestPath
    */
   protected $condition;

@@ @@
   /**
    * Constructs a \Drupal\adsense\Form\AdsenseManagedSettings object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $plugin_factory
+   * @param FactoryInterface $plugin_factory
    *   The factory for condition plugin objects.
    */
   public function __construct(ConfigFactoryInterface $config_factory, FactoryInterface $plugin_factory) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/adsense/src/Controller/CseV2ResultsController.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The request stack used to access request globals.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * Constructs a new CseV2ResultsController controller.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    */
   public function __construct(RequestStack $request_stack) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/adsense/src/Controller/CseResultsController.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * The request stack used to access request globals.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * Constructs a new CseV2ResultsController controller.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    */
   public function __construct(RequestStack $request_stack) {
@@ @@
         '#width' => $width,
         '#country' => $country,
         // http://www.google.com/afsonline/show_afs_search.js
-        '#script' => $base_url . '/' . drupal_get_path('module', 'adsense') . '/js/adsense_cse-v1.results.js',
+        '#script' => $base_url . '/' . \Drupal::service('extension.list.module')->getPath('adsense') . '/js/adsense_cse-v1.results.js',
       ];
     }
     return $content;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/adsense/src/Annotation/AdsenseAd.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\adsense\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The name of the ad type.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


8) modules/contrib/adsense/src/AdsenseAdManager.php:16

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/adsense/src/AdsenseAdInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\adsense;

+use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Component\Plugin\PluginInspectionInterface;

 /**
@@ @@
    * @return AdsenseAdBase
    *   Created ad object.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    *   Exception thrown in the event of problems with the plugin.
    */
   public static function createAd(array $args);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


10) modules/contrib/adsense/src/AdsenseAdBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\adsense;

+use Drupal\Core\Config\ConfigFactory;
 use Drupal\Component\Plugin\PluginBase;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
   /**
    * Config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   protected $configFactory;

@@ @@
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Current user.
    *
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed|null $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface|null $config_factory
+   * @param ConfigFactoryInterface|null $config_factory
    *   The config factory.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface|null $module_handler
+   * @param ModuleHandlerInterface|null $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Session\AccountProxyInterface|null $current_user
+   * @param AccountProxyInterface|null $current_user
    *   The current user.
    */
   public function __construct(array $configuration, $plugin_id = '', $plugin_definition = NULL, ConfigFactoryInterface $config_factory = NULL, ModuleHandlerInterface $module_handler = NULL, AccountProxyInterface $current_user = NULL) {
@@ @@
     $needs_slot = !empty($args['slot']);

     // Search for the AdsenseAd plugins.
-    /** @var \Drupal\adsense\AdsenseAdManager $manager */
+    /** @var AdsenseAdManager $manager */
     $manager = \Drupal::service('plugin.manager.adsensead');
     $plugins = $manager->getDefinitions();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/adsense/oldcode/src/Plugin/Block/OldSearchAdBlock.php:24

    ---------- begin diff ----------
@@ @@
   /**
    * Stores the configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/adsense/oldcode/src/Plugin/Block/OldCodeAdBlock.php:24

    ---------- begin diff ----------
@@ @@
   /**
    * Stores the configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/adsense/oldcode/revenue_sharing_basic/src/Form/AdsenseRevenueSharingBasicSettings.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\adsense_revenue_sharing_basic\Form;

+use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\field\Entity\FieldConfig;
@@ @@
     $roles = Role::loadMultiple();
     unset($roles[RoleInterface::ANONYMOUS_ID]);
     unset($roles[RoleInterface::AUTHENTICATED_ID]);
-    /** @var \Drupal\user\Entity\Role $role */
+    /** @var Role $role */
     foreach ($roles as $rid => $role) {
       // When using dots in the key, the form values were empty, so use dashes.
       $form['percentage']['role']['percentage_role-' . $rid] = [
@@ @@
     ];

     $types = NodeType::loadMultiple();
-    /** @var \Drupal\node\Entity\NodeType $type */
+    /** @var NodeType $type */
     foreach ($types as $id => $type) {
       // When using dots in the key, the form values were empty, so use dashes.
       $form['content_types']['node_type-' . $id] = [
@@ @@
     $profile_list = [];

     // Start with the core fields.
-    /** @var \Drupal\Core\Entity\EntityFieldManagerInterface $entityFieldManager */
+    /** @var EntityFieldManagerInterface $entityFieldManager */
     $entityFieldManager = \Drupal::service('entity_field.manager');
     $fields = $entityFieldManager->getFieldDefinitions('user', 'user');
     foreach ($fields as $field) {
       if ($field instanceof FieldConfig && ($field->getType() == 'string')) {
-        /** @var \Drupal\field\Entity\FieldConfig $field */
+        /** @var FieldConfig $field */
         $profile_list['field:' . $field->getName()] = $field->label();
       }
     }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/adsense/oldcode/revenue_sharing_basic/adsense_revenue_sharing_basic.module:86

    ---------- begin diff ----------
@@ @@

   $percents[0] = $config->get('percentage_author');

-  /** @var \Drupal\user\Entity\User $author_user */
+  /** @var User $author_user */
   $author_user = User::load($info['uid']);
   foreach ($author_user->getRoles(TRUE) as $role) {
     $percents[$role] = $config->get('percentage_role.' . $role);
@@ @@
   // Get the profile field for a certain user.
   $profile_field = explode(':', $config->get('client_id_profile_field'));
   if ($uid && (count($profile_field) > 1)) {
-    /** @var \Drupal\user\Entity\User $user */
+    /** @var User $user */
     $user = User::load($uid);

     switch ($profile_field[0]) {
@@ @@

   if (!$info) {
     $node = Drupal::routeMatch()->getParameter('node');
-    /** @var \Drupal\node\NodeInterface $node */
+    /** @var NodeInterface $node */
     if ($node instanceof NodeInterface) {
       // Cache the results.
       $info = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


15) modules/contrib/adsense/adstxt/src/Controller/AdsenseAdsTxtController.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Constructs a new CseV2ResultsController controller.
    *
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface|null $module_handler
+   * @param ModuleHandlerInterface|null $module_handler
    *   The module handler.
    */
   public function __construct(ModuleHandlerInterface $module_handler) {
@@ @@
   /**
    * Display the ads.txt page.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   Plain text response with the ads.txt content.
    */
   public function display() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/adsense/adsense.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\system\Plugin\Condition\RequestPath;
+use Drupal\Component\Plugin\Exception\PluginException;
 /**
  * @file
  * Displays Google AdSense ads on Drupal pages.
@@ @@
 function adsense_page_attachments(array &$attachments) {
   $config = \Drupal::config('adsense.settings');
   if ($config->get('adsense_managed_page_level_ads_enabled')) {
-    /** @var \Drupal\system\Plugin\Condition\RequestPath $condition */
+    /** @var RequestPath $condition */
     $condition = \Drupal::getContainer()->get('plugin.manager.condition')->createInstance('request_path');
     $visibility = $config->get('adsense_access_pages');
     if ($visibility) {
@@ @@
  * @return array
  *   Render array with ad code.
  *
- * @throws \Drupal\Component\Plugin\Exception\PluginException
+ * @throws PluginException
  *   Exception thrown in the event of problems with the plugin.
  */
 function adsense_display(array $args) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 16 files have been changed by Rector                                      

