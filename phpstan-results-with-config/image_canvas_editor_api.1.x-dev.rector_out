modules/contrib/image_canvas_editor_api/src/Annotation/ImageCanvasEditor.php
modules/contrib/image_canvas_editor_api/src/Controller/EditorController.php
modules/contrib/image_canvas_editor_api/src/Plugin/EditorInterface.php
modules/contrib/image_canvas_editor_api/src/Plugin/EditorPluginManager.php
modules/contrib/image_canvas_editor_api/src/Plugin/Field/FieldWidget/ImageCanvasEditorWidget.php
modules/contrib/image_canvas_editor_api/tests/src/FunctionalJavascript/WidgetAdminTest.php

3 files with changes
====================

1) modules/contrib/image_canvas_editor_api/tests/src/FunctionalJavascript/WidgetAdminTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $web_user = $this->drupalCreateUser(['bypass node access',
@@ @@

   /**
    * Test the fact that we can select image canvas editor as widget.
+   * @doesNotPerformAssertions
    */
   public function testAdminWidget() {
     $field_name = strtolower($this->randomMachineName());
    ----------- end diff -----------

Applied rules:
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/image_canvas_editor_api/src/Plugin/Field/FieldWidget/ImageCanvasEditorWidget.php:26

    ---------- begin diff ----------
@@ @@
   /**
    * Image editor plugin manager.
    *
-   * @var \Drupal\image_canvas_editor_api\Plugin\EditorPluginManager
+   * @var EditorPluginManager
    */
   protected $pluginManager;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/image_canvas_editor_api/src/Controller/EditorController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\image_canvas_editor_api\Controller;

+use Drupal\image_canvas_editor_api\Plugin\EditorInterface;
+use Drupal\file\Entity\File;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
   /**
    * Editor plugin manager service.
    *
-   * @var \Drupal\image_canvas_editor_api\Plugin\EditorPluginManager
+   * @var EditorPluginManager
    */
   protected $pluginManager;

@@ @@
     if (!empty($widget['settings']['editor'])) {
       $editor_id = $widget['settings']['editor'];
     }
-    /** @var \Drupal\image_canvas_editor_api\Plugin\EditorInterface $instance */
+    /** @var EditorInterface $instance */
     $instance = $this->pluginManager->createInstance($editor_id);
     if (!$file = $this->entityTypeManager->getStorage('file')->load($fid)) {
       throw new NotFoundHttpException();
     }
-    /** @var \Drupal\file\Entity\File $file */
-    $image_url = file_create_url($file->getFileUri());
+    /** @var File $file */
+    $image_url = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
     // Append some cache bust parameter. Could be a user is editing files over
     // and over again.
     $image_url .= '?cache_buster=' . time();
@@ @@
     image_path_flush($file->getFileUri());
     return new JsonResponse([
       'fid' => $fid,
-      'url' => file_create_url($file->getFileUri()),
+      'url' => \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri()),
     ]);
   }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

