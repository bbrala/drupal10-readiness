diff --git a/adsense.module b/adsense.module
index cc95f84..e50bd95 100644
--- a/adsense.module
+++ b/adsense.module
@@ -1,5 +1,7 @@
 <?php
 
+use Drupal\system\Plugin\Condition\RequestPath;
+use Drupal\Component\Plugin\Exception\PluginException;
 /**
  * @file
  * Displays Google AdSense ads on Drupal pages.
@@ -19,7 +21,7 @@ use Drupal\Core\Routing\RouteMatchInterface;
 function adsense_page_attachments(array &$attachments) {
   $config = \Drupal::config('adsense.settings');
   if ($config->get('adsense_managed_page_level_ads_enabled')) {
-    /** @var \Drupal\system\Plugin\Condition\RequestPath $condition */
+    /** @var RequestPath $condition */
     $condition = \Drupal::getContainer()->get('plugin.manager.condition')->createInstance('request_path');
     $visibility = $config->get('adsense_access_pages');
     if ($visibility) {
@@ -223,7 +225,7 @@ function adsense_help($route_name, RouteMatchInterface $route_match) {
  * @return array
  *   Render array with ad code.
  *
- * @throws \Drupal\Component\Plugin\Exception\PluginException
+ * @throws PluginException
  *   Exception thrown in the event of problems with the plugin.
  */
 function adsense_display(array $args) {
diff --git a/adstxt/src/Controller/AdsenseAdsTxtController.php b/adstxt/src/Controller/AdsenseAdsTxtController.php
index ff9766e..1894007 100644
--- a/adstxt/src/Controller/AdsenseAdsTxtController.php
+++ b/adstxt/src/Controller/AdsenseAdsTxtController.php
@@ -17,14 +17,14 @@ class AdsenseAdsTxtController extends ControllerBase {
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * Constructs a new CseV2ResultsController controller.
    *
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface|null $module_handler
+   * @param ModuleHandlerInterface|null $module_handler
    *   The module handler.
    */
   public function __construct(ModuleHandlerInterface $module_handler) {
@@ -43,7 +43,7 @@ class AdsenseAdsTxtController extends ControllerBase {
   /**
    * Display the ads.txt page.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   Plain text response with the ads.txt content.
    */
   public function display() {
diff --git a/oldcode/revenue_sharing_basic/adsense_revenue_sharing_basic.module b/oldcode/revenue_sharing_basic/adsense_revenue_sharing_basic.module
index 02ca755..beae0ae 100644
--- a/oldcode/revenue_sharing_basic/adsense_revenue_sharing_basic.module
+++ b/oldcode/revenue_sharing_basic/adsense_revenue_sharing_basic.module
@@ -87,7 +87,7 @@ function adsense_revenue_sharing_basic_choose_client($format = '') {
 
   $percents[0] = $config->get('percentage_author');
 
-  /** @var \Drupal\user\Entity\User $author_user */
+  /** @var User $author_user */
   $author_user = User::load($info['uid']);
   foreach ($author_user->getRoles(TRUE) as $role) {
     $percents[$role] = $config->get('percentage_role.' . $role);
@@ -130,7 +130,7 @@ function adsense_revenue_sharing_basic_get_profile_client_id($uid) {
   // Get the profile field for a certain user.
   $profile_field = explode(':', $config->get('client_id_profile_field'));
   if ($uid && (count($profile_field) > 1)) {
-    /** @var \Drupal\user\Entity\User $user */
+    /** @var User $user */
     $user = User::load($uid);
 
     switch ($profile_field[0]) {
@@ -161,7 +161,7 @@ function adsense_revenue_sharing_basic_get_node_info() {
 
   if (!$info) {
     $node = Drupal::routeMatch()->getParameter('node');
-    /** @var \Drupal\node\NodeInterface $node */
+    /** @var NodeInterface $node */
     if ($node instanceof NodeInterface) {
       // Cache the results.
       $info = [
diff --git a/oldcode/revenue_sharing_basic/src/Form/AdsenseRevenueSharingBasicSettings.php b/oldcode/revenue_sharing_basic/src/Form/AdsenseRevenueSharingBasicSettings.php
index 2e44610..00e26d9 100644
--- a/oldcode/revenue_sharing_basic/src/Form/AdsenseRevenueSharingBasicSettings.php
+++ b/oldcode/revenue_sharing_basic/src/Form/AdsenseRevenueSharingBasicSettings.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\adsense_revenue_sharing_basic\Form;
 
+use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\field\Entity\FieldConfig;
@@ -80,7 +81,7 @@ class AdsenseRevenueSharingBasicSettings extends ConfigFormBase {
     $roles = Role::loadMultiple();
     unset($roles[RoleInterface::ANONYMOUS_ID]);
     unset($roles[RoleInterface::AUTHENTICATED_ID]);
-    /** @var \Drupal\user\Entity\Role $role */
+    /** @var Role $role */
     foreach ($roles as $rid => $role) {
       // When using dots in the key, the form values were empty, so use dashes.
       $form['percentage']['role']['percentage_role-' . $rid] = [
@@ -97,7 +98,7 @@ class AdsenseRevenueSharingBasicSettings extends ConfigFormBase {
     ];
 
     $types = NodeType::loadMultiple();
-    /** @var \Drupal\node\Entity\NodeType $type */
+    /** @var NodeType $type */
     foreach ($types as $id => $type) {
       // When using dots in the key, the form values were empty, so use dashes.
       $form['content_types']['node_type-' . $id] = [
@@ -138,12 +139,12 @@ class AdsenseRevenueSharingBasicSettings extends ConfigFormBase {
     $profile_list = [];
 
     // Start with the core fields.
-    /** @var \Drupal\Core\Entity\EntityFieldManagerInterface $entityFieldManager */
+    /** @var EntityFieldManagerInterface $entityFieldManager */
     $entityFieldManager = \Drupal::service('entity_field.manager');
     $fields = $entityFieldManager->getFieldDefinitions('user', 'user');
     foreach ($fields as $field) {
       if ($field instanceof FieldConfig && ($field->getType() == 'string')) {
-        /** @var \Drupal\field\Entity\FieldConfig $field */
+        /** @var FieldConfig $field */
         $profile_list['field:' . $field->getName()] = $field->label();
       }
     }
diff --git a/oldcode/src/Plugin/Block/OldCodeAdBlock.php b/oldcode/src/Plugin/Block/OldCodeAdBlock.php
index 2947eb9..16108ad 100644
--- a/oldcode/src/Plugin/Block/OldCodeAdBlock.php
+++ b/oldcode/src/Plugin/Block/OldCodeAdBlock.php
@@ -25,7 +25,7 @@ class OldCodeAdBlock extends BlockBase implements AdBlockInterface, ContainerFac
   /**
    * Stores the configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
@@ -38,7 +38,7 @@ class OldCodeAdBlock extends BlockBase implements AdBlockInterface, ContainerFac
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
diff --git a/oldcode/src/Plugin/Block/OldSearchAdBlock.php b/oldcode/src/Plugin/Block/OldSearchAdBlock.php
index 2d8949b..4d0ae37 100644
--- a/oldcode/src/Plugin/Block/OldSearchAdBlock.php
+++ b/oldcode/src/Plugin/Block/OldSearchAdBlock.php
@@ -25,7 +25,7 @@ class OldSearchAdBlock extends BlockBase implements AdBlockInterface, ContainerF
   /**
    * Stores the configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
@@ -38,7 +38,7 @@ class OldSearchAdBlock extends BlockBase implements AdBlockInterface, ContainerF
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
diff --git a/src/AdsenseAdBase.php b/src/AdsenseAdBase.php
index 6b75748..e3b9282 100644
--- a/src/AdsenseAdBase.php
+++ b/src/AdsenseAdBase.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\adsense;
 
+use Drupal\Core\Config\ConfigFactory;
 use Drupal\Component\Plugin\PluginBase;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ -19,21 +20,21 @@ abstract class AdsenseAdBase extends PluginBase implements AdsenseAdInterface, C
   /**
    * Config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   protected $configFactory;
 
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * Current user.
    *
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;
 
@@ -46,11 +47,11 @@ abstract class AdsenseAdBase extends PluginBase implements AdsenseAdInterface, C
    *   The plugin_id for the plugin instance.
    * @param mixed|null $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface|null $config_factory
+   * @param ConfigFactoryInterface|null $config_factory
    *   The config factory.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface|null $module_handler
+   * @param ModuleHandlerInterface|null $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Session\AccountProxyInterface|null $current_user
+   * @param AccountProxyInterface|null $current_user
    *   The current user.
    */
   public function __construct(array $configuration, $plugin_id = '', $plugin_definition = NULL, ConfigFactoryInterface $config_factory = NULL, ModuleHandlerInterface $module_handler = NULL, AccountProxyInterface $current_user = NULL) {
@@ -95,7 +96,7 @@ abstract class AdsenseAdBase extends PluginBase implements AdsenseAdInterface, C
     $needs_slot = !empty($args['slot']);
 
     // Search for the AdsenseAd plugins.
-    /** @var \Drupal\adsense\AdsenseAdManager $manager */
+    /** @var AdsenseAdManager $manager */
     $manager = \Drupal::service('plugin.manager.adsensead');
     $plugins = $manager->getDefinitions();
 
diff --git a/src/AdsenseAdInterface.php b/src/AdsenseAdInterface.php
index f3114d4..bbf990b 100644
--- a/src/AdsenseAdInterface.php
+++ b/src/AdsenseAdInterface.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\adsense;
 
+use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Component\Plugin\PluginInspectionInterface;
 
 /**
@@ -18,7 +19,7 @@ interface AdsenseAdInterface extends PluginInspectionInterface {
    * @return AdsenseAdBase
    *   Created ad object.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    *   Exception thrown in the event of problems with the plugin.
    */
   public static function createAd(array $args);
diff --git a/src/AdsenseAdManager.php b/src/AdsenseAdManager.php
index 3c50524..7ccf6f0 100644
--- a/src/AdsenseAdManager.php
+++ b/src/AdsenseAdManager.php
@@ -17,9 +17,9 @@ class AdsenseAdManager extends DefaultPluginManager {
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
diff --git a/src/Annotation/AdsenseAd.php b/src/Annotation/AdsenseAd.php
index 48edf41..189513a 100644
--- a/src/Annotation/AdsenseAd.php
+++ b/src/Annotation/AdsenseAd.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\adsense\Annotation;
 
+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;
 
 /**
@@ -26,7 +27,7 @@ class AdsenseAd extends Plugin {
   /**
    * The name of the ad type.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
diff --git a/src/Controller/CseResultsController.php b/src/Controller/CseResultsController.php
index c5ca582..134aea0 100644
--- a/src/Controller/CseResultsController.php
+++ b/src/Controller/CseResultsController.php
@@ -14,14 +14,14 @@ class CseResultsController extends ControllerBase {
   /**
    * The request stack used to access request globals.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
 
   /**
    * Constructs a new CseV2ResultsController controller.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    */
   public function __construct(RequestStack $request_stack) {
@@ -70,7 +70,7 @@ class CseResultsController extends ControllerBase {
         '#width' => $width,
         '#country' => $country,
         // http://www.google.com/afsonline/show_afs_search.js
-        '#script' => $base_url . '/' . drupal_get_path('module', 'adsense') . '/js/adsense_cse-v1.results.js',
+        '#script' => $base_url . '/' . \Drupal::service('extension.list.module')->getPath('adsense') . '/js/adsense_cse-v1.results.js',
       ];
     }
     return $content;
diff --git a/src/Controller/CseV2ResultsController.php b/src/Controller/CseV2ResultsController.php
index 4598c12..189e1c7 100644
--- a/src/Controller/CseV2ResultsController.php
+++ b/src/Controller/CseV2ResultsController.php
@@ -15,14 +15,14 @@ class CseV2ResultsController extends ControllerBase {
   /**
    * The request stack used to access request globals.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
 
   /**
    * Constructs a new CseV2ResultsController controller.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    */
   public function __construct(RequestStack $request_stack) {
diff --git a/src/Form/AdsenseManagedSettings.php b/src/Form/AdsenseManagedSettings.php
index 34150d3..574659b 100644
--- a/src/Form/AdsenseManagedSettings.php
+++ b/src/Form/AdsenseManagedSettings.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\adsense\Form;
 
+use Drupal\system\Plugin\Condition\RequestPath;
 use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Component\Plugin\Factory\FactoryInterface;
 use Drupal\Component\Utility\Html;
@@ -20,16 +21,16 @@ class AdsenseManagedSettings extends ConfigFormBase {
   /**
    * Request path condition plugin.
    *
-   * @var \Drupal\system\Plugin\Condition\RequestPath
+   * @var RequestPath
    */
   protected $condition;
 
   /**
    * Constructs a \Drupal\adsense\Form\AdsenseManagedSettings object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $plugin_factory
+   * @param FactoryInterface $plugin_factory
    *   The factory for condition plugin objects.
    */
   public function __construct(ConfigFactoryInterface $config_factory, FactoryInterface $plugin_factory) {
diff --git a/src/Plugin/Block/CustomSearchAdBlock.php b/src/Plugin/Block/CustomSearchAdBlock.php
index 036e089..59f224b 100644
--- a/src/Plugin/Block/CustomSearchAdBlock.php
+++ b/src/Plugin/Block/CustomSearchAdBlock.php
@@ -28,7 +28,7 @@ class CustomSearchAdBlock extends BlockBase implements AdBlockInterface, Contain
   /**
    * Stores the configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
@@ -41,7 +41,7 @@ class CustomSearchAdBlock extends BlockBase implements AdBlockInterface, Contain
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
diff --git a/src/Plugin/Block/ManagedAdBlock.php b/src/Plugin/Block/ManagedAdBlock.php
index b042484..e7f0e45 100644
--- a/src/Plugin/Block/ManagedAdBlock.php
+++ b/src/Plugin/Block/ManagedAdBlock.php
@@ -27,7 +27,7 @@ class ManagedAdBlock extends BlockBase implements AdBlockInterface, ContainerFac
   /**
    * Stores the configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
@@ -40,7 +40,7 @@ class ManagedAdBlock extends BlockBase implements AdBlockInterface, ContainerFac
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
diff --git a/src/Plugin/Filter/AdsenseFilter.php b/src/Plugin/Filter/AdsenseFilter.php
index fcdc913..6a95761 100644
--- a/src/Plugin/Filter/AdsenseFilter.php
+++ b/src/Plugin/Filter/AdsenseFilter.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\adsense\Plugin\Filter;
 
+use Drupal\block\Entity\Block;
 use Drupal\adsense\AdBlockInterface;
 use Drupal\adsense\AdsenseAdBase;
 use Drupal\Component\Plugin\Exception\PluginException;
@@ -28,21 +29,21 @@ class AdsenseFilter extends FilterBase implements ContainerFactoryPluginInterfac
   /**
    * The block storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $blockStorage;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * Configuration.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;
 
@@ -55,11 +56,11 @@ class AdsenseFilter extends FilterBase implements ContainerFactoryPluginInterfac
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $entity_storage
+   * @param EntityStorageInterface $entity_storage
    *   The block storage.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Drupal\Core\Config\ImmutableConfig $config
+   * @param ImmutableConfig $config
    *   The configuration.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityStorageInterface $entity_storage, RendererInterface $renderer, ImmutableConfig $config) {
@@ -109,7 +110,7 @@ class AdsenseFilter extends FilterBase implements ContainerFactoryPluginInterfac
                 $module_blocks = [];
               }
 
-              /** @var \Drupal\block\Entity\Block $block */
+              /** @var Block $block */
               foreach ($module_blocks as $block) {
                 if ($block->getPlugin() instanceof AdBlockInterface) {
                   $ad = $block->getPlugin()->createAd();
