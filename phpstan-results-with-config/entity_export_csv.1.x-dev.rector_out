modules/contrib/entity_export_csv/entity_export_csv.install
modules/contrib/entity_export_csv/entity_export_csv.module
modules/contrib/entity_export_csv/src/Annotation/FieldTypeExport.php
modules/contrib/entity_export_csv/src/Controller/EntityExportCsvDownload.php
modules/contrib/entity_export_csv/src/Entity/EntityExportCsv.php
modules/contrib/entity_export_csv/src/Entity/EntityExportCsvInterface.php
modules/contrib/entity_export_csv/src/EntityExportCsvBatch.php
modules/contrib/entity_export_csv/src/EntityExportCsvHtmlRouteProvider.php
modules/contrib/entity_export_csv/src/EntityExportCsvListBuilder.php
modules/contrib/entity_export_csv/src/EntityExportCsvManager.php
modules/contrib/entity_export_csv/src/EntityExportCsvManagerInterface.php
modules/contrib/entity_export_csv/src/Event/EntityExportCsvEvents.php
modules/contrib/entity_export_csv/src/Event/EntityExportCsvFieldsEnabledEvent.php
modules/contrib/entity_export_csv/src/Event/EntityExportCsvFieldsEvent.php
modules/contrib/entity_export_csv/src/Event/EntityExportCsvFieldsSupportedEvent.php
modules/contrib/entity_export_csv/src/Form/EntityExportCsv.php
modules/contrib/entity_export_csv/src/Form/EntityExportCsvDeleteForm.php
modules/contrib/entity_export_csv/src/Form/EntityExportCsvDisableForm.php
modules/contrib/entity_export_csv/src/Form/EntityExportCsvDuplicateForm.php
modules/contrib/entity_export_csv/src/Form/EntityExportCsvEnableForm.php
modules/contrib/entity_export_csv/src/Form/EntityExportCsvForm.php
modules/contrib/entity_export_csv/src/Form/EntityExportCsvSettings.php
modules/contrib/entity_export_csv/src/Form/EntityExportCsvTrait.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/AddressExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/DateRangeExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/DateTimeExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/DefaultExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/EntityReferenceExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/FileExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/GeolocationExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/LinkExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/ListExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/TimestampExport.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExportBase.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExportInterface.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExportManager.php
modules/contrib/entity_export_csv/src/Plugin/FieldTypeExportManagerInterface.php
modules/contrib/entity_export_csv/tests/src/Functional/LoadTest.php

20 files with changes
=====================

1) modules/contrib/entity_export_csv/tests/src/Functional/LoadTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_export_csv\Functional;

+use Drupal\user\UserInterface;
 use Drupal\Core\Url;
 use Drupal\Tests\BrowserTestBase;

@@ @@
   /**
    * A user with permission to administer site configuration.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $user;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/entity_export_csv/src/Plugin/FieldTypeExportManager.php:16

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/entity_export_csv/src/Plugin/FieldTypeExportInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Plugin;

+use Drupal\Core\TypedData\DataDefinitionInterface;
 use Drupal\Component\Plugin\PluginInspectionInterface;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Field\FieldDefinitionInterface;
@@ @@
    *
    * @param array $form
    *   The configuration form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form_state object.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return mixed
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current form state.
    */
   public function validateConfigurationForm(array $form, FormStateInterface $form_state);
@@ @@
   /**
    * Export the value of a field.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The entity to export.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    * @param array $options
    *   An array of additionnal options.
@@ @@
   /**
    * Gets the field's properties.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $definition
+   * @param FieldDefinitionInterface $definition
    *   The field definition.
    *
-   * @return array|\Drupal\Core\TypedData\DataDefinitionInterface[]
+   * @return array|DataDefinitionInterface[]
    *   The field properties.
    */
   public function getFieldProperties(FieldDefinitionInterface $definition);
@@ @@
   /**
    * Massage the field item property value to CSV value.
    *
-   * @param \Drupal\Core\Field\FieldItemInterface $field_item
+   * @param FieldItemInterface $field_item
    *   The field item.
    * @param string $property_name
    *   The property name.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    * @param array $options
    *   An array of optional options.
@@ @@
   /**
    * Get the header columns for a field.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return array
@@ @@
   /**
    * Get the columns to generate during the export.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return int
@@ @@
   /**
    * Get the header label for a field.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return string
@@ @@
   /**
    * Import a value into a field.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The entity to export.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    * @param string $property_name
    *   The field property to import.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


4) modules/contrib/entity_export_csv/src/Plugin/FieldTypeExportBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Plugin;

+use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Component\Plugin\PluginBase;
 use Drupal\Component\Utility\NestedArray;
 use Drupal\Core\Config\ConfigFactoryInterface;
@@ @@
   /**
    * Drupal\Core\Entity\EntityTypeManagerInterface definition.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Drupal\Core\Datetime\DateFormatterInterface definition.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * Drupal\Core\Extension\ModuleHandlerInterface definition.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Drupal\Core\Entity\EntityRepositoryInterface definition.
    *
-   * @var \Drupal\Core\Entity\EntityRepositoryInterface
+   * @var EntityRepositoryInterface
    */
   protected $entityRepository;

@@ @@
   /**
    * Drupal\Core\Entity\EntityFieldManagerInterface definition.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * The language manager service.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The field properties.
    *
-   * @var \Drupal\Core\TypedData\DataDefinitionInterface[]
+   * @var DataDefinitionInterface[]
    */
   protected $properties = [];

@@ @@
    *   The plugin_id for the plugin instance.
    * @param string $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler service.
-   * @param \Drupal\Core\Entity\EntityRepositoryInterface $entity_repository
+   * @param EntityRepositoryInterface $entity_repository
    *   The entity repository.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity field manager.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory service.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityTypeManagerInterface $entity_type_manager, DateFormatterInterface $date_formatter, ModuleHandlerInterface $module_handler, EntityRepositoryInterface $entity_repository, EntityFieldManagerInterface $entity_field_manager, LanguageManagerInterface $language_manager, ConfigFactoryInterface $config_factory) {
@@ @@

     $property_names = $this->getPropertiesSelected($field_definition);
     if ($entity->hasField($field_name)) {
-      /** @var \Drupal\Core\Field\FieldItemListInterface $field_items */
+      /** @var FieldItemListInterface $field_items */
       $field_items = $entity->get($field_name);
-      /** @var \Drupal\Core\Field\FieldItemInterface $field_item */
+      /** @var FieldItemInterface $field_item */
       foreach ($field_items as $index => $field_item) {
         foreach ($property_names as $property_name) {
           $values[$index][$property_name] = $this->massageExportPropertyValue($field_item, $property_name, $field_definition, $options);
@@ @@
   /**
    * Get the field properties selected.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return array|mixed
@@ @@
   /**
    * Is the field is multiple ?
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return bool|int
@@ @@
    *
    * @param string $property_name
    *   The property name.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return mixed|string
@@ @@
   /**
    * Get the properties options to export.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return array
@@ @@
   /**
    * Get the format options to export.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return array
@@ @@
   /**
    * Get the main property name of a field.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return string
@@ @@
    *
    * Any plugin can override this method to enforce the behavior.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    *
    * @return bool
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/TimestampExport.php:47

    ---------- begin diff ----------
@@ @@
     $date_formats = [];
     $date_formats[''] = $this->t('None');
     foreach ($this->entityTypeManager->getStorage('date_format')->loadMultiple() as $machine_name => $value) {
-      $date_formats[$machine_name] = $this->t('@name format: @date', ['@name' => $value->label(), '@date' => $this->dateFormatter->format(REQUEST_TIME, $machine_name)]);
+      $date_formats[$machine_name] = $this->t('@name format: @date', ['@name' => $value->label(), '@date' => $this->dateFormatter->format(\Drupal::time()->getRequestTime(), $machine_name)]);
     }
     $date_formats['custom'] = $this->t('Custom');

@@ @@
     $options = parent::getFormatExportOptions($field_definition);
     $date_formats = [];
     foreach ($this->entityTypeManager->getStorage('date_format')->loadMultiple() as $machine_name => $value) {
-      $date_formats[$machine_name] = $this->t('@name format: @date', ['@name' => $value->label(), '@date' => $this->dateFormatter->format(REQUEST_TIME, $machine_name)]);
+      $date_formats[$machine_name] = $this->t('@name format: @date', ['@name' => $value->label(), '@date' => $this->dateFormatter->format(\Drupal::time()->getRequestTime(), $machine_name)]);
     }
     $date_formats['custom'] = $this->t('Custom');
     return $options + $date_formats;
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/DateTimeExport.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Plugin\FieldTypeExport;

+use Drupal\Core\Datetime\DateFormatInterface;
 use Drupal\Core\Datetime\DrupalDateTime;
 use Drupal\Core\Field\FieldDefinitionInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
     $options = parent::getFormatExportOptions($field_definition);
     $date_formats = [];
     foreach ($this->entityTypeManager->getStorage('date_format')->loadMultiple() as $machine_name => $value) {
-      $date_formats[$machine_name] = $this->t('@name format: @date', ['@name' => $value->label(), '@date' => $this->dateFormatter->format(REQUEST_TIME, $machine_name)]);
+      $date_formats[$machine_name] = $this->t('@name format: @date', ['@name' => $value->label(), '@date' => $this->dateFormatter->format(\Drupal::time()->getRequestTime(), $machine_name)]);
     }
     $date_formats['custom'] = $this->t('Custom');
     return $options + $date_formats;
@@ @@
    * @param string $langcode
    *   The langcode of the language to use.
    *
-   * @return \Drupal\Core\Datetime\DateFormatInterface|null
+   * @return DateFormatInterface|null
    *   The configuration entity for the date format in the given language for
    *   non-custom formats, NULL otherwise.
    */
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/entity_export_csv/src/Plugin/FieldTypeExport/DateRangeExport.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Plugin\FieldTypeExport;

+use Drupal\Core\Datetime\DateFormatInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Datetime\DrupalDateTime;
 use Drupal\Core\Field\FieldDefinitionInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
     $options = parent::getFormatExportOptions($field_definition);
     $date_formats = [];
     foreach ($this->entityTypeManager->getStorage('date_format')->loadMultiple() as $machine_name => $value) {
-      $date_formats[$machine_name] = $this->t('@name format: @date', ['@name' => $value->label(), '@date' => $this->dateFormatter->format(REQUEST_TIME, $machine_name)]);
+      $date_formats[$machine_name] = $this->t('@name format: @date', ['@name' => $value->label(), '@date' => $this->dateFormatter->format(\Drupal::time()->getRequestTime(), $machine_name)]);
     }
     $date_formats['custom'] = $this->t('Custom');
     return $options + $date_formats;
@@ @@
    * @param string $langcode
    *   The langcode of the language to use.
    *
-   * @return \Drupal\Core\Datetime\DateFormatInterface|null
+   * @return DateFormatInterface|null
    *   The configuration entity for the date format in the given language for
    *   non-custom formats, NULL otherwise.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   protected function getDateFormat($format, $langcode) {
     if (!isset($this->dateFormats[$format][$langcode])) {
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/entity_export_csv/src/Form/EntityExportCsvTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Form;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Form\FormStateInterface;

 /**
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
    * @return array
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
    * @return array
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
    * @return array
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
    * @return array
@@ @@
   /**
    * Get entity content export settings.
    *
-   * @return \Drupal\Core\Config\ImmutableConfig
+   * @return ImmutableConfig
    *   The configuration instance.
    */
   protected function getConfiguration() {
@@ @@
    *
    * @param array|string $property
    *   The property.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    * @param mixed $default
    *   The default value.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


9) modules/contrib/entity_export_csv/src/Form/EntityExportCsvSettings.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Form;

+use Drupal\Core\Entity\ContentEntityTypeInterface;
+use Drupal\Core\Config\Config;
+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Entity\EntityTypeBundleInfoInterface;
@@ @@
   /**
    * Drupal\Core\Entity\EntityTypeManagerInterface definition.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Drupal\Core\Entity\EntityTypeBundleInfoInterface definition.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface
+   * @var EntityTypeBundleInfoInterface
    */
   protected $entityTypeBundleInfo;

@@ @@
   /**
    * Drupal\Core\Entity\EntityFieldManagerInterface definition.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * The entity export csv manager.
    *
-   * @var \Drupal\entity_export_csv\EntityExportCsvManagerInterface
+   * @var EntityExportCsvManagerInterface
    */
   protected $manager;

@@ @@
     $entity_types = $this->manager->getSupportedContentEntityTypes(TRUE);
     // We do not use here a checkboxes to be able later to
     // enable / disable per bundle too.
-    /** @var \Drupal\Core\Entity\ContentEntityTypeInterface $entity_type */
+    /** @var ContentEntityTypeInterface $entity_type */
     foreach ($entity_types as $entity_type_id => $entity_type) {
       $form['entity_types'][$entity_type_id] = [
         '#type' => 'container',
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
    * @return array
@@ @@
    *
    * @param array|string $property
    *   The property.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    * @param mixed $default
    *   The default value.
@@ @@
   /**
    * Get configuration object.
    *
-   * @return \Drupal\Core\Config\Config|\Drupal\Core\Config\ImmutableConfig
+   * @return Config|ImmutableConfig
    *   The configuration object.
    */
   protected function getConfiguration() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/entity_export_csv/src/Form/EntityExportCsvForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Form;

+use Drupal\user\UserDataInterface;
+use Drupal\entity_export_csv\Entity\EntityExportCsvInterface;
+use Drupal\entity_export_csv\Plugin\FieldTypeExportInterface;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Entity\EntityForm;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * The FieldTypeExportManager.
    *
-   * @var \Drupal\entity_export_csv\Plugin\FieldTypeExportManagerInterface
+   * @var FieldTypeExportManagerInterface
    */
   protected $fieldTypeExportManager;

@@ @@
   /**
    * Drupal\user\UserDataInterface definition.
    *
-   * @var \Drupal\user\UserDataInterface
+   * @var UserDataInterface
    */
   protected $userData;

@@ @@
   /**
    * The entity export csv manager.
    *
-   * @var \Drupal\entity_export_csv\EntityExportCsvManagerInterface
+   * @var EntityExportCsvManagerInterface
    */
   protected $manager;

@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * Define entity export csv form constructor.
    *
-   * @param \Drupal\entity_export_csv\Plugin\FieldTypeExportManagerInterface $field_type_export_manager
+   * @param FieldTypeExportManagerInterface $field_type_export_manager
    *   The field type export manager.
-   * @param \Drupal\entity_export_csv\EntityExportCsvManagerInterface $entity_export_csv_manager
+   * @param EntityExportCsvManagerInterface $entity_export_csv_manager
    *   The entity export csv manager service.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
    */
   public function __construct(FieldTypeExportManagerInterface $field_type_export_manager, EntityExportCsvManagerInterface $entity_export_csv_manager, LanguageManagerInterface $language_manager) {
@@ @@
    */
   public function form(array $form, FormStateInterface $form_state) {
     $form = parent::form($form, $form_state);
-    /** @var \Drupal\entity_export_csv\Entity\EntityExportCsvInterface $entity_export_csv */
+    /** @var EntityExportCsvInterface $entity_export_csv */
     $entity_export_csv = $this->entity;

     $form['label'] = [
@@ @@
           // @TODO handle configuration values
           $configuration_default = isset($fields_default_values[$field_name]['form']['options']) ? $fields_default_values[$field_name]['form']['options'] : [];
           $configuration = $this->getElementPropertyValue(['fields', $field_name, 'form', 'options'], $form_state, $configuration_default);
-          /** @var \Drupal\entity_export_csv\Plugin\FieldTypeExportInterface $plugin */
+          /** @var FieldTypeExportInterface $plugin */
           $plugin = $this->fieldTypeExportManager->createInstance($default_exporter_value, $configuration);
           $form['bundle_wrapper']['fields'][$field_name]['form']['options'] = $plugin->buildConfigurationForm([], $form_state, $definition);
         }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/entity_export_csv/src/Form/EntityExportCsvEnableForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Form;

+use Drupal\Core\Config\Entity\ConfigEntityInterface;
 use Drupal;
 use Drupal\Core\Entity\EntityConfirmFormBase;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
    * {@inheritdoc}
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
-    /** @var \Drupal\Core\Config\Entity\ConfigEntityInterface $entity */
+    /** @var ConfigEntityInterface $entity */
     $entity = $this->entity;
     $entity->enable()->save();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/entity_export_csv/src/Form/EntityExportCsvDisableForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Form;

+use Drupal\Core\Config\Entity\ConfigEntityInterface;
 use Drupal;
 use Drupal\Core\Entity\EntityConfirmFormBase;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
    * {@inheritdoc}
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
-    /** @var \Drupal\Core\Config\Entity\ConfigEntityInterface $entity */
+    /** @var ConfigEntityInterface $entity */
     $entity = $this->entity;
     $entity->disable()->save();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/entity_export_csv/src/Form/EntityExportCsv.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Form;

+use Drupal\entity_export_csv\Plugin\FieldTypeExportInterface;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Form\FormBase;
@@ @@
   /**
    * The FieldTypeExportManager.
    *
-   * @var \Drupal\entity_export_csv\Plugin\FieldTypeExportManagerInterface
+   * @var FieldTypeExportManagerInterface
    */
   protected $fieldTypeExportManager;

@@ @@
   /**
    * Drupal\user\UserDataInterface definition.
    *
-   * @var \Drupal\user\UserDataInterface
+   * @var UserDataInterface
    */
   protected $userData;

@@ @@
   /**
    * The entity export csv manager.
    *
-   * @var \Drupal\entity_export_csv\EntityExportCsvManagerInterface
+   * @var EntityExportCsvManagerInterface
    */
   protected $manager;

@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * Define entity export csv form constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory service.
-   * @param \Drupal\entity_export_csv\Plugin\FieldTypeExportManagerInterface $field_type_export_manager
+   * @param FieldTypeExportManagerInterface $field_type_export_manager
    *   The field type export manager.
-   * @param \Drupal\user\UserDataInterface $user_data
+   * @param UserDataInterface $user_data
    *   The user data service.
-   * @param \Drupal\entity_export_csv\EntityExportCsvManagerInterface $entity_export_csv_manager
+   * @param EntityExportCsvManagerInterface $entity_export_csv_manager
    *   The entity export csv manager service.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
    */
   public function __construct(ConfigFactoryInterface $config_factory, FieldTypeExportManagerInterface $field_type_export_manager, UserDataInterface $user_data, EntityExportCsvManagerInterface $entity_export_csv_manager, LanguageManagerInterface $language_manager) {
@@ @@
           // @TODO handle configuration values
           $configuration_default = isset($user_default_values[$field_name]['form']['options']) ? $user_default_values[$field_name]['form']['options'] : [];
           $configuration = $this->getElementPropertyValue(['fields', $field_name, 'form', 'options'], $form_state, $configuration_default, $triggering_element);
-          /** @var \Drupal\entity_export_csv\Plugin\FieldTypeExportInterface $plugin */
+          /** @var FieldTypeExportInterface $plugin */
           $plugin = $this->fieldTypeExportManager->createInstance($default_exporter_value, $configuration);
           $form['bundle_wrapper']['fields'][$field_name]['form']['options'] = $plugin->buildConfigurationForm([], $form_state, $definition);
         }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/entity_export_csv/src/Event/EntityExportCsvFieldsEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Event;

-use Symfony\Component\EventDispatcher\Event;
-
+use Symfony\Contracts\EventDispatcher\Event;
+use Drupal\Core\Field\FieldDefinitionInterface;
 /**
  * Defines the fields event.
  *
@@ @@
   /**
    * An array of field definition (or label) keyed by the field name.
    *
-   * @var array|\Drupal\Core\Field\FieldDefinitionInterface[]
+   * @var array|FieldDefinitionInterface[]
    */
   protected $fields;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/entity_export_csv/src/EntityExportCsvManagerInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv;

+use Drupal\Core\Field\FieldDefinitionInterface;
+use Drupal\entity_export_csv\Entity\EntityExportCsvInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 /**
  * Interface EntityExportCsvManagerInterface.
  */
@@ @@
    * @param bool $return_field_definition
    *   Return the field definitions or label.
    *
-   * @return array|\Drupal\Core\Field\FieldDefinitionInterface[]
+   * @return array|FieldDefinitionInterface[]
    *   An array of field label or field definition, keyed by the field name.
    */
   public function getBundleFields($entity_type_id, $bundle, $return_field_definition = FALSE);
@@ @@
    * @param bool $return_field_definition
    *   Return the field definitions or label.
    *
-   * @return array|\Drupal\Core\Field\FieldDefinitionInterface[]
+   * @return array|FieldDefinitionInterface[]
    *   An array of field label or field definition, keyed by the field name.
    */
   public function getBundleFieldsEnabled($entity_type_id, $bundle, $return_field_definition = FALSE);
@@ @@
    * @param string $bundle
    *   The bundle id.
    *
-   * @return array|\Drupal\Core\Field\FieldDefinitionInterface[]
+   * @return array|FieldDefinitionInterface[]
    *   An array of field label or field definition, keyed by the field name.
    */
   public function getBundleFieldDefinitions($entity_type_id, $bundle);
@@ @@
    * @param string $entity_type_id
    *   The entity type id.
    *
-   * @return \Drupal\entity_export_csv\Entity\EntityExportCsvInterface[]
+   * @return EntityExportCsvInterface[]
    *   The entity export csv config entities.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function getConfigurations($entity_type_id = '');

@@ @@
   /**
    * Sort the fields given the fields configuration default value order.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface[] $fields
+   * @param FieldDefinitionInterface[] $fields
    *   An array of field definition keyed by the field name.
    * @param array $default_values
    *   An array of field values configuration keyed by the field name.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


16) modules/contrib/entity_export_csv/src/EntityExportCsvManager.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv;

+use Drupal\Core\Routing\CurrentRouteMatch;
+use Drupal\Core\Config\Config;
+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Component\Datetime\Time;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\ContentEntityTypeInterface;
@@ @@
   /**
    * Drupal\Core\Config\ConfigFactoryInterface definition.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The entity repository.
    *
-   * @var \Drupal\Core\Entity\EntityRepositoryInterface
+   * @var EntityRepositoryInterface
    */
   protected $entityRepository;

@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The current route match service.
    *
-   * @var \Drupal\Core\Routing\CurrentRouteMatch
+   * @var CurrentRouteMatch
    */
   protected $currentRouteMatch;

@@ @@
   /**
    * The entity field manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * The field type export manager.
    *
-   * @var \Drupal\entity_export_csv\Plugin\FieldTypeExportManagerInterface
+   * @var FieldTypeExportManagerInterface
    */
   protected $manager;

@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The entity type bundle info service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface
+   * @var EntityTypeBundleInfoInterface
    */
   protected $entityTypeBundleInfo;

@@ @@
   /**
    * The event dispatcher.
    *
-   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   * @var EventDispatcherInterface
    */
   protected $eventDispatcher;

@@ @@
   /**
    * Queue factory.
    *
-   * @var \Drupal\Core\Queue\QueueFactory
+   * @var QueueFactory
    */
   protected $queueFactory;

@@ @@
   /**
    * The time service.
    *
-   * @var \Drupal\Component\Datetime\Time
+   * @var Time
    */
   protected $time;

@@ @@
   /**
    * The state service.
    *
-   * @var \Drupal\Core\State\StateInterface
+   * @var StateInterface
    */
   protected $state;

@@ @@
   /**
    * EntityActivityManager constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
-   * @param \Drupal\Core\Entity\EntityRepositoryInterface $entity_repository
+   * @param EntityRepositoryInterface $entity_repository
    *   The entity repository.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity field manager.
-   * @param \Drupal\entity_export_csv\Plugin\FieldTypeExportManagerInterface $manager
+   * @param FieldTypeExportManagerInterface $manager
    *   The field type export manager.
-   * @param \Drupal\Core\Session\AccountProxyInterface $current_user
+   * @param AccountProxyInterface $current_user
    *   The current user.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle info service.
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   * @param EventDispatcherInterface $event_dispatcher
    *   The event dispatcher.
-   * @param \Drupal\Core\Queue\QueueFactory $queue
+   * @param QueueFactory $queue
    *   The queue factory.
-   * @param \Drupal\Component\Datetime\Time $time
+   * @param Time $time
    *   The time service.
-   * @param \Drupal\Core\State\StateInterface $state
+   * @param StateInterface $state
    *   The state service.
    */
   public function __construct(ConfigFactoryInterface $config_factory, EntityTypeManagerInterface $entity_type_manager, EntityRepositoryInterface $entity_repository, LanguageManagerInterface $language_manager, EntityFieldManagerInterface $entity_field_manager, FieldTypeExportManagerInterface $manager, AccountProxyInterface $current_user, EntityTypeBundleInfoInterface $entity_type_bundle_info, EventDispatcherInterface $event_dispatcher, QueueFactory $queue, Time $time, StateInterface $state) {
@@ @@
    * {@inheritdoc}
    */
   public function getSupportedContentEntityTypes($return_object = TRUE) {
-    /** @var \Drupal\Core\Entity\ContentEntityTypeInterface[] $entity_types */
+    /** @var ContentEntityTypeInterface[] $entity_types */
     $entity_types = $this->entityTypeManager->getDefinitions();
     foreach ($entity_types as $entity_type_id => $entity_type) {
       if (!$entity_type instanceof ContentEntityTypeInterface) {
@@ @@
       }
     }
     $event = new EntityExportCsvFieldsSupportedEvent($options, $entity_type_id, $bundle, $return_field_definition);
-    $this->eventDispatcher->dispatch(EntityExportCsvEvents::ENTITY_EXPORT_CSV_FIELDS_SUPPORTED, $event);
+    $this->eventDispatcher->dispatch($event, EntityExportCsvEvents::ENTITY_EXPORT_CSV_FIELDS_SUPPORTED);
     $options = $event->getFields();
     return $options;
   }
@@ @@
       $options = array_intersect_key($options, $bundle_fields_settings);
     }
     $event = new EntityExportCsvFieldsEnabledEvent($options, $entity_type_id, $bundle, $return_field_definition);
-    $this->eventDispatcher->dispatch(EntityExportCsvEvents::ENTITY_EXPORT_CSV_FIELDS_ENABLE, $event);
+    $this->eventDispatcher->dispatch($event, EntityExportCsvEvents::ENTITY_EXPORT_CSV_FIELDS_ENABLE);
     $options = $event->getFields();
     return $options;
   }
@@ @@
   /**
    * Get configuration object.
    *
-   * @return \Drupal\Core\Config\Config|\Drupal\Core\Config\ImmutableConfig
+   * @return Config|ImmutableConfig
    *   The config object.
    */
   protected function getConfiguration() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


17) modules/contrib/entity_export_csv/src/EntityExportCsvHtmlRouteProvider.php:37

    ---------- begin diff ----------
@@ @@
   /**
    * Gets the form route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    * @param string $action
    *   The action form.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getFormRoute(EntityTypeInterface $entity_type, $action) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/entity_export_csv/src/EntityExportCsvBatch.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\entity_export_csv\Plugin\FieldTypeExportManagerInterface;
+use Drupal\entity_export_csv\Plugin\FieldTypeExportInterface;
+use Drupal\Core\Entity\EntityTypeManagerInterface;
+use Drupal\Core\Entity\EntityTypeInterface;
+use Drupal\Core\Access\CsrfTokenGenerator;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\Core\StreamWrapper\PrivateStream;
@@ @@
    * @param array $context
    *   An array of the batch context.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginException
+   * @throws PluginNotFoundException
    */
   public static function export($entity_type_id, $bundle, array $fields, $langcode, array $conditions, $delimiter, array &$context) {
     $limit = 50;
     $messenger = \Drupal::messenger();
-    /** @var \Drupal\entity_export_csv\EntityExportCsvManagerInterface $entity_export_csv_manager */
+    /** @var EntityExportCsvManagerInterface $entity_export_csv_manager */
     $entity_export_csv_manager = \Drupal::service('entity_export_csv.manager');
-    /** @var \Drupal\entity_export_csv\Plugin\FieldTypeExportManagerInterface $field_type_export_manager */
+    /** @var FieldTypeExportManagerInterface $field_type_export_manager */
     $field_type_export_manager = \Drupal::service('plugin.manager.field_type_export');
     $definitions = $entity_export_csv_manager->getBundleFields($entity_type_id, $bundle, TRUE);

@@ @@
           continue;
         }
         try {
-          /** @var \Drupal\entity_export_csv\Plugin\FieldTypeExportInterface $field_type_exporter */
+          /** @var FieldTypeExportInterface $field_type_exporter */
           $field_type_exporter = $field_type_export_manager->createInstance($exporter, $configuration);
           $field_headers = $field_type_exporter->getHeaders($field_definition);
           $headers = array_merge($headers, $field_headers);
@@ @@
       fclose($handle);
     }

-    /** @var \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager */
+    /** @var EntityTypeManagerInterface $entity_type_manager */
     $entity_type_manager = \Drupal::service('entity_type.manager');
-    /** @var \Drupal\Core\Entity\EntityTypeInterface $entity_type_definition */
+    /** @var EntityTypeInterface $entity_type_definition */
     $entity_type_definition = $entity_type_manager->getDefinition($entity_type_id);
     $storage = $entity_type_manager->getStorage($entity_type_id);
     $query = $storage->getQuery();
@@ @@
           continue;
         }
         try {
-          /** @var \Drupal\entity_export_csv\Plugin\FieldTypeExportInterface $field_type_exporter */
+          /** @var FieldTypeExportInterface $field_type_exporter */
           $field_type_exporter = $field_type_export_manager->createInstance($exporter, $configuration);
           $field_values = $field_type_exporter->export($entity, $field_definition);
           $row = array_merge($row, $field_values);
@@ @@
    *   The token related to the file uri.
    */
   protected static function getToken($file_uri) {
-    /** @var \Drupal\Core\Access\CsrfTokenGenerator $csrf_token */
+    /** @var CsrfTokenGenerator $csrf_token */
     $csrf_token = \Drupal::service('csrf_token');
     return $csrf_token->get($file_uri);
   }
@@ @@
    * @return false|string
    *   The file path or false
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public static function prepareExportFile($entity_type_id, $bundle, array &$context) {
-    /** @var \Drupal\Core\File\FileSystemInterface $file_system */
+    /** @var FileSystemInterface $file_system */
     $file_system = \Drupal::service('file_system');
     $private_system_file = PrivateStream::basePath();
     if (!$private_system_file) {
@@ @@
     $time = time();
     $filename = $entity_type_id . '_' . $bundle . '_' . $time . '.csv';
     $destination = $directory . '/' . $filename;
-    $file = file_save_data('', $destination, FileSystemInterface::EXISTS_REPLACE);
+    $file = \Drupal::service('file.repository')->writeData('', $destination, FileSystemInterface::EXISTS_REPLACE);
     $file->setTemporary();
     $file->save();
     $file_path = $file_system->realpath($destination);
@@ @@
    */
   public static function getBundleFieldDefinitions($entity_type_id, $bundle) {
     $options = [];
-    /** @var \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager */
+    /** @var EntityFieldManagerInterface $entity_field_manager */
     $entity_field_manager = \Drupal::service('entity_field.manager');
     $fields = $entity_field_manager->getFieldDefinitions($entity_type_id, $bundle);
     foreach ($fields as $field_name => $field_definition) {
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


19) modules/contrib/entity_export_csv/src/Controller/EntityExportCsvDownload.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Controller;

+use Symfony\Component\HttpFoundation\Request;
+use Symfony\Component\HttpFoundation\Response;
 use Drupal\Core\Access\CsrfTokenGenerator;
 use Drupal\Core\DependencyInjection\ContainerInjectionInterface;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
@@ @@
   /**
    * The request.
    *
-   * @var null|\Symfony\Component\HttpFoundation\Request
+   * @var null|Request
    */
   protected $request;

@@ @@
   /**
    * The csrf token generator.
    *
-   * @var \Drupal\Core\Access\CsrfTokenGenerator
+   * @var CsrfTokenGenerator
    */
   protected $csrfToken;

@@ @@
   /**
    * The entity export csv download constructor.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
-   * @param \Drupal\Core\Access\CsrfTokenGenerator $csrf_token
+   * @param CsrfTokenGenerator $csrf_token
    *   The csrf token generator.
    */
   public function __construct(RequestStack $request_stack, CsrfTokenGenerator $csrf_token) {
@@ @@
   /**
    * Download entity content exported file.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   The response.
    */
   public function downloadExport() {
@@ @@
   /**
    * Get current request object.
    *
-   * @return null|\Symfony\Component\HttpFoundation\Request
+   * @return null|Request
    *   The request.
    */
   protected function getRequest() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


20) modules/contrib/entity_export_csv/src/Annotation/FieldTypeExport.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_export_csv\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The label of the plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * The plugin description.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


 [WARNING] 1 nodes were removed                                                 

 [OK] 20 files have been changed by Rector                                      

