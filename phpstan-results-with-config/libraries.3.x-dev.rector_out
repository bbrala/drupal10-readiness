modules/contrib/libraries/libraries.api.php
modules/contrib/libraries/libraries.drush.inc
modules/contrib/libraries/libraries.install
modules/contrib/libraries/libraries.module
modules/contrib/libraries/src/Annotation/LibraryType.php
modules/contrib/libraries/src/Annotation/Locator.php
modules/contrib/libraries/src/Annotation/VersionDetector.php
modules/contrib/libraries/src/Config/LibrariesConfigSubscriber.php
modules/contrib/libraries/src/ExternalLibrary/Asset/AssetLibrary.php
modules/contrib/libraries/src/ExternalLibrary/Asset/AssetLibraryInterface.php
modules/contrib/libraries/src/ExternalLibrary/Asset/AttachableAssetLibraryRegistrationInterface.php
modules/contrib/libraries/src/ExternalLibrary/Asset/LocalRemoteAssetTrait.php
modules/contrib/libraries/src/ExternalLibrary/Asset/MultipleAssetLibrary.php
modules/contrib/libraries/src/ExternalLibrary/Asset/MultipleAssetLibraryInterface.php
modules/contrib/libraries/src/ExternalLibrary/Definition/ChainDefinitionDiscovery.php
modules/contrib/libraries/src/ExternalLibrary/Definition/DefinitionDiscoveryFactory.php
modules/contrib/libraries/src/ExternalLibrary/Definition/DefinitionDiscoveryInterface.php
modules/contrib/libraries/src/ExternalLibrary/Definition/FileDefinitionDiscovery.php
modules/contrib/libraries/src/ExternalLibrary/Definition/FileDefinitionDiscoveryBase.php
modules/contrib/libraries/src/ExternalLibrary/Definition/GuzzleDefinitionDiscovery.php
modules/contrib/libraries/src/ExternalLibrary/Definition/WritableDefinitionDiscoveryInterface.php
modules/contrib/libraries/src/ExternalLibrary/Definition/WritableFileDefinitionDiscovery.php
modules/contrib/libraries/src/ExternalLibrary/Dependency/DependentLibraryInterface.php
modules/contrib/libraries/src/ExternalLibrary/Dependency/DependentLibraryTrait.php
modules/contrib/libraries/src/ExternalLibrary/Exception/InvalidLibraryDependencyException.php
modules/contrib/libraries/src/ExternalLibrary/Exception/LibraryDefinitionNotFoundException.php
modules/contrib/libraries/src/ExternalLibrary/Exception/LibraryNotInstalledException.php
modules/contrib/libraries/src/ExternalLibrary/Exception/LibraryTypeNotFoundException.php
modules/contrib/libraries/src/ExternalLibrary/Exception/UnknownLibraryVersionException.php
modules/contrib/libraries/src/ExternalLibrary/LibraryBase.php
modules/contrib/libraries/src/ExternalLibrary/LibraryInterface.php
modules/contrib/libraries/src/ExternalLibrary/LibraryManager.php
modules/contrib/libraries/src/ExternalLibrary/LibraryManagerInterface.php
modules/contrib/libraries/src/ExternalLibrary/Local/LocalLibraryInterface.php
modules/contrib/libraries/src/ExternalLibrary/Local/LocalLibraryTrait.php
modules/contrib/libraries/src/ExternalLibrary/Local/LocatorInterface.php
modules/contrib/libraries/src/ExternalLibrary/Local/LocatorManager.php
modules/contrib/libraries/src/ExternalLibrary/PhpFile/PhpFileLibrary.php
modules/contrib/libraries/src/ExternalLibrary/PhpFile/PhpFileLibraryInterface.php
modules/contrib/libraries/src/ExternalLibrary/PhpFile/PhpFileLoaderInterface.php
modules/contrib/libraries/src/ExternalLibrary/PhpFile/PhpRequireLoader.php
modules/contrib/libraries/src/ExternalLibrary/Remote/RemoteLibraryInterface.php
modules/contrib/libraries/src/ExternalLibrary/Remote/RemoteLibraryTrait.php
modules/contrib/libraries/src/ExternalLibrary/Type/LibraryCreationListenerInterface.php
modules/contrib/libraries/src/ExternalLibrary/Type/LibraryLoadingListenerInterface.php
modules/contrib/libraries/src/ExternalLibrary/Type/LibraryTypeBase.php
modules/contrib/libraries/src/ExternalLibrary/Type/LibraryTypeFactory.php
modules/contrib/libraries/src/ExternalLibrary/Type/LibraryTypeInterface.php
modules/contrib/libraries/src/ExternalLibrary/Utility/DependencyAccessorTrait.php
modules/contrib/libraries/src/ExternalLibrary/Utility/IdAccessorTrait.php
modules/contrib/libraries/src/ExternalLibrary/Utility/LibraryAccessorInterface.php
modules/contrib/libraries/src/ExternalLibrary/Utility/LibraryAccessorTrait.php
modules/contrib/libraries/src/ExternalLibrary/Utility/LibraryIdAccessorInterface.php
modules/contrib/libraries/src/ExternalLibrary/Utility/LibraryIdAccessorTrait.php
modules/contrib/libraries/src/ExternalLibrary/Version/VersionDetectorInterface.php
modules/contrib/libraries/src/ExternalLibrary/Version/VersionDetectorManager.php
modules/contrib/libraries/src/ExternalLibrary/Version/VersionedLibraryInterface.php
modules/contrib/libraries/src/ExternalLibrary/Version/VersionedLibraryTrait.php
modules/contrib/libraries/src/Plugin/MissingPluginConfigurationException.php
modules/contrib/libraries/src/Plugin/libraries/Locator/ChainLocator.php
modules/contrib/libraries/src/Plugin/libraries/Locator/GlobalLocator.php
modules/contrib/libraries/src/Plugin/libraries/Locator/UriLocator.php
modules/contrib/libraries/src/Plugin/libraries/Type/AssetLibraryType.php
modules/contrib/libraries/src/Plugin/libraries/Type/MultipleAssetLibraryType.php
modules/contrib/libraries/src/Plugin/libraries/Type/PhpFileLibraryType.php
modules/contrib/libraries/src/Plugin/libraries/VersionDetector/LinePatternDetector.php
modules/contrib/libraries/src/Plugin/libraries/VersionDetector/StaticDetector.php
modules/contrib/libraries/src/StreamWrapper/AssetLibrariesStream.php
modules/contrib/libraries/src/StreamWrapper/LibraryDefinitionsStream.php
modules/contrib/libraries/src/StreamWrapper/LocalHiddenStreamTrait.php
modules/contrib/libraries/src/StreamWrapper/PhpFileLibrariesStream.php
modules/contrib/libraries/src/StreamWrapper/PrivateStreamTrait.php
modules/contrib/libraries/tests/example/example_1.php
modules/contrib/libraries/tests/example/example_2.php
modules/contrib/libraries/tests/example/example_3.php
modules/contrib/libraries/tests/example/example_4.php
modules/contrib/libraries/tests/libraries/test_php_file_library/test_php_file_library.php
modules/contrib/libraries/tests/modules/libraries_test/libraries_test.inc
modules/contrib/libraries/tests/modules/libraries_test/libraries_test.module
modules/contrib/libraries/tests/modules/libraries_test/src/Controller/ExampleController.php
modules/contrib/libraries/tests/src/Functional/ExternalLibrary/Definition/DefinitionDiscoveryFactoryTest.php
modules/contrib/libraries/tests/src/Functional/LibrariesWebTest.php
modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/Asset/AssetLibraryTest.php
modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/Asset/AssetLibraryTestBase.php
modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/Asset/MultipleAssetLibraryTest.php
modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/GlobalLocatorTest.php
modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/PhpFile/PhpFileLibraryTest.php
modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/TestLibraryFilesStream.php
modules/contrib/libraries/tests/src/Kernel/LibrariesApi/LibrariesUnitTest.php
modules/contrib/libraries/tests/src/Kernel/LibraryTypeKernelTestBase.php
modules/contrib/libraries/tests/src/Unit/Plugin/libraries/VersionDetector/LinePatternDetectorTest.php

57 files with changes
=====================

1) modules/contrib/libraries/tests/src/Unit/Plugin/libraries/VersionDetector/LinePatternDetectorTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\libraries\Unit\Plugin\libraries\VersionDetector;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Prophecy\Prophecy\ObjectProphecy;
 use Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface;
 use Drupal\libraries\ExternalLibrary\Version\VersionedLibraryInterface;
 use Drupal\libraries\Plugin\libraries\VersionDetector\LinePatternDetector;
@@ @@
  */
 class LinePatternDetectorTest extends UnitTestCase {

+  use ProphecyTrait;
   protected $libraryId = 'test_library';

   /**
@@ @@
   /**
    * Sets up the library prophecy and returns it.
    *
-   * @return \Prophecy\Prophecy\ObjectProphecy
+   * @return ObjectProphecy
    */
   protected function setupLibrary() {
     $library = $this->prophesize(VersionedLibraryInterface::class);
@@ @@
    * @param array $configuration
    *   The plugin configuration to set the version detector up with.
    *
-   * @return \Drupal\libraries\Plugin\libraries\VersionDetector\LinePatternDetector
+   * @return LinePatternDetector
    *   The line pattern version detector to test.
    */
   protected function setupDetector(array $configuration = []) {
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/libraries/tests/src/Kernel/LibraryTypeKernelTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\libraries\Kernel;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Drupal\libraries\ExternalLibrary\LibraryManagerInterface;
+use Drupal\Component\Plugin\Factory\FactoryInterface;
+use Drupal\Core\Extension\ModuleHandlerInterface;
+use Drupal\Core\Config\ConfigFactoryInterface;
+use Drupal\Core\DrupalKernelInterface;
 use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException;
@@ @@
  */
 abstract class LibraryTypeKernelTestBase extends KernelTestBase {

+  use ProphecyTrait;
   /**
    * The external library manager.
    *
-   * @var \Drupal\libraries\ExternalLibrary\LibraryManagerInterface
+   * @var LibraryManagerInterface
    */
   protected $libraryManager;

@@ @@
   /**
    * The library type factory.
    *
-   * @var \Drupal\Component\Plugin\Factory\FactoryInterface
+   * @var FactoryInterface
    */
   protected $libraryTypeFactory;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

-    /** @var \Drupal\Core\Extension\ModuleHandlerInterface $module_handler */
+    /** @var ModuleHandlerInterface $module_handler */
     $module_handler = $this->container->get('module_handler');
     $this->modulePath = $module_handler->getModule('libraries')->getPath();

@@ @@
     $this->installConfig('libraries');
     // Disable remote definition fetching and set the local definitions path to
     // the module directory.
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+    /** @var ConfigFactoryInterface $config_factory */
     $config_factory = $this->container->get('config.factory');
     $config_factory->getEditable('libraries.settings')
       ->set('definition.local.path', "{$this->modulePath}/tests/library_definitions")
@@ @@
     // LibrariesConfigSubscriber::onConfigSave() invalidates the container so
     // that it is rebuilt on the next request. We need the container rebuilt
     // immediately, however.
-    /** @var \Drupal\Core\DrupalKernelInterface $kernel */
+    /** @var DrupalKernelInterface $kernel */
     $kernel = $this->container->get('kernel');
     $this->container = $kernel->rebuildContainer();

@@ @@
   /**
    * Returns the library type that is being tested.
    *
-   * @return \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface
+   * @return LibraryTypeInterface
    *   The test library type.
    */
   protected function getLibraryType() {
@@ @@
   /**
    * Returns the test library for this library type.
    *
-   * @return \Drupal\libraries\ExternalLibrary\LibraryInterface
+   * @return LibraryInterface
    *   The test library.
    */
   protected function getLibrary() {
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/TestLibraryFilesStream.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
    * booted, but this stream wrapper is only registered explicitly from tests
    * so it is possible here.
    *
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $string_translation
+   * @param TranslationInterface $string_translation
    *   The string translation handler.
    * @param string $directory
    *   The directory within the Libraries API's tests directory that is to be
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/PhpFile/PhpFileLibraryTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\libraries\Kernel\ExternalLibrary\PhpFile;

+use Drupal\libraries\ExternalLibrary\PhpFile\PhpFileLibrary;
 use Drupal\Tests\libraries\Kernel\ExternalLibrary\TestLibraryFilesStream;
 use Drupal\Tests\libraries\Kernel\LibraryTypeKernelTestBase;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->container->set('stream_wrapper.php_file_libraries', new TestLibraryFilesStream(
@@ @@
    * Tests that the list of PHP files is correctly gathered.
    */
   public function testPhpFileInfo() {
-    /** @var \Drupal\libraries\ExternalLibrary\PhpFile\PhpFileLibrary $library */
+    /** @var PhpFileLibrary $library */
     $library = $this->getLibrary();
     $this->assertTrue($library->isInstalled());
     $library_path = $this->modulePath . '/tests/libraries/test_php_file_library';
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/GlobalLocatorTest.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Assign our test stream (which points to the test php lib) to the asset
     // scheme. This gives us a scheme to work with in the test that is not
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/Asset/MultipleAssetLibraryTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\libraries\Kernel\ExternalLibrary\Asset;

+use Drupal\libraries\ExternalLibrary\Asset\AttachableAssetLibraryRegistrationInterface;
 use Drupal\Tests\libraries\Kernel\ExternalLibrary\TestLibraryFilesStream;

 /**
@@ @@
    * Tests that attachable asset library info is correctly gathered.
    */
   public function testAttachableAssetInfo() {
-    /** @var \Drupal\libraries\ExternalLibrary\Asset\AttachableAssetLibraryRegistrationInterface $library_type */
+    /** @var AttachableAssetLibraryRegistrationInterface $library_type */
     $library_type = $this->getLibraryType();
     $library = $this->getLibrary();
     $expected = [
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


7) modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/Asset/AssetLibraryTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\libraries\Kernel\ExternalLibrary\Asset;

+use Drupal\Core\Asset\LibraryDiscoveryInterface;
 use Drupal\Tests\libraries\Kernel\LibraryTypeKernelTestBase;

 /**
@@ @@
   /**
    * The Drupal core library discovery.
    *
-   * @var \Drupal\Core\Asset\LibraryDiscoveryInterface
+   * @var LibraryDiscoveryInterface
    */
   protected $coreLibraryDiscovery;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->coreLibraryDiscovery = $this->container->get('library.discovery');
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/libraries/tests/src/Kernel/ExternalLibrary/Asset/AssetLibraryTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\libraries\Kernel\ExternalLibrary\Asset;

+use Drupal\libraries\ExternalLibrary\Asset\AttachableAssetLibraryRegistrationInterface;
 use Drupal\Tests\libraries\Kernel\ExternalLibrary\TestLibraryFilesStream;

 /**
@@ @@
    * Tests that attachable asset library info is correctly gathered.
    */
   public function testAttachableAssetInfo() {
-    /** @var \Drupal\libraries\ExternalLibrary\Asset\AttachableAssetLibraryRegistrationInterface $library_type */
+    /** @var AttachableAssetLibraryRegistrationInterface $library_type */
     $library_type = $this->getLibraryType();
     $library = $this->getLibrary();
     $expected = [
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


9) modules/contrib/libraries/tests/src/Functional/LibrariesWebTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\libraries\Functional;

+use Drupal\Core\Utility\UnroutedUrlAssemblerInterface;
+use Drupal\Core\State\StateInterface;
 use Drupal\Component\Utility\Html;
 use Drupal\Tests\BrowserTestBase;

@@ @@
   /**
    * The URL generator used in this test.
    *
-   * @var \Drupal\Core\Utility\UnroutedUrlAssemblerInterface
+   * @var UnroutedUrlAssemblerInterface
    */
   protected $urlAssembler;

@@ @@
   /**
    * The state service used in this test.
    *
-   * @var \Drupal\Core\State\StateInterface
+   * @var StateInterface
    */
   protected $state;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->urlAssembler = $this->container->get('unrouted_url_assembler');
@@ @@
   public function testLibrariesScanInfoFiles() {
     $expected = [
       'example_info_file' => (object) [
-        'uri' => drupal_get_path('module', 'libraries') . '/tests/example/example_info_file.libraries.info.yml',
+        'uri' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example/example_info_file.libraries.info.yml',
         'filename' => 'example_info_file.libraries.info.yml',
         'name' => 'example_info_file.libraries.info',
       ],
@@ @@
     // Test that library information is found correctly.
     $expected = [
       'name' => 'Example files',
-      'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+      'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
       'version' => '1',
       'files' => [
         'js' => ['example_1.js' => []],
@@ @@
     // Test a library specified with an .info file gets detected.
     $expected = [
       'name' => 'Example info file',
-      'info file' => drupal_get_path('module', 'libraries') . '/tests/example/example_info_file.libraries.info.yml',
+      'info file' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example/example_info_file.libraries.info.yml',
     ];
     libraries_info_defaults($expected, 'example_info_file');
     $library = libraries_info('example_info_file');
@@ @@
   public function testCallbacks() {
     $expected = [
       'name' => 'Example callback',
-      'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+      'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
       'version' => '1',
       'versions' => [
         '1' => [
@@ @@

     // Test loading of integration files.
     $this->drupalGet('libraries_test/integration_files');
-    $this->assertRaw('libraries_test.js', 'Integration file loading: libraries_test.js found');
-    $this->assertRaw('libraries_test.css', 'Integration file loading: libraries_test.css found');
-    $this->assertRaw('libraries_test.inc', 'Integration file loading: libraries_test.inc found');
+    $this->assertSession()->responseContains('libraries_test.js');
+    $this->assertSession()->responseContains('libraries_test.css');
+    $this->assertSession()->responseContains('libraries_test.inc');

     // Test version overloading.
     $this->drupalGet('libraries_test/versions');
@@ @@
     // When the library information is not cached, all callback groups should be
     // invoked.
     $this->drupalGet('libraries_test/cache');
-    $this->assertRaw('The <em>info</em> callback group was invoked.', 'Info callback invoked for uncached libraries.');
-    $this->assertRaw('The <em>pre-detect</em> callback group was invoked.', 'Pre-detect callback invoked for uncached libraries.');
-    $this->assertRaw('The <em>post-detect</em> callback group was invoked.', 'Post-detect callback invoked for uncached libraries.');
-    $this->assertRaw('The <em>pre-load</em> callback group was invoked.', 'Pre-load callback invoked for uncached libraries.');
-    $this->assertRaw('The <em>post-load</em> callback group was invoked.', 'Post-load callback invoked for uncached libraries.');
+    $this->assertSession()->responseContains('The <em>info</em> callback group was invoked.');
+    $this->assertSession()->responseContains('The <em>pre-detect</em> callback group was invoked.');
+    $this->assertSession()->responseContains('The <em>post-detect</em> callback group was invoked.');
+    $this->assertSession()->responseContains('The <em>pre-load</em> callback group was invoked.');
+    $this->assertSession()->responseContains('The <em>post-load</em> callback group was invoked.');
     // When the library information is cached only the 'pre-load' and
     // 'post-load' callback groups should be invoked.
     $this->drupalGet('libraries_test/cache');
-    $this->assertNoRaw('The <em>info</em> callback group was not invoked.', 'Info callback not invoked for cached libraries.');
-    $this->assertNoRaw('The <em>pre-detect</em> callback group was not invoked.', 'Pre-detect callback not invoked for cached libraries.');
-    $this->assertNoRaw('The <em>post-detect</em> callback group was not invoked.', 'Post-detect callback not invoked for cached libraries.');
-    $this->assertRaw('The <em>pre-load</em> callback group was invoked.', 'Pre-load callback invoked for cached libraries.');
-    $this->assertRaw('The <em>post-load</em> callback group was invoked.', 'Post-load callback invoked for cached libraries.');
+    $this->assertSession()->responseNotContains('The <em>info</em> callback group was not invoked.');
+    $this->assertSession()->responseNotContains('The <em>pre-detect</em> callback group was not invoked.');
+    $this->assertSession()->responseNotContains('The <em>post-detect</em> callback group was not invoked.');
+    $this->assertSession()->responseContains('The <em>pre-load</em> callback group was invoked.');
+    $this->assertSession()->responseContains('The <em>post-load</em> callback group was invoked.');
     \Drupal::state()->set('libraries_test.cache', FALSE);
   }

@@ @@

     foreach ($names as $name => $expected) {
       foreach ($extensions as $extension) {
-        $filepath = drupal_get_path('module', 'libraries') . "/tests/example/$name.$extension";
+        $filepath = \Drupal::service('extension.list.module')->getPath('libraries') . "/tests/example/$name.$extension";
         // JavaScript and CSS files appear as full URLs and with an appended
         // query string.
         if (in_array($extension, ['js', 'css'])) {
@@ @@
         $raw = $prefix . $filepath . $suffix;
         if ($expected) {
           $html_expected[] = Html::escape($raw);
-          $this->assertRaw($raw, "$label$name.$extension found.");
+          $this->assertSession()->responseContains($raw);
         }
         else {
           $html_not_expected[] = Html::escape($raw);
-          $this->assertNoRaw($raw, "$label$name.$extension not found.");
+          $this->assertSession()->responseNotContains($raw);
         }
       }
     }
    ----------- end diff -----------

Applied rules:
 * AssertNoRawRector
 * AssertRawRector
 * DrupalGetPathRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/libraries/tests/src/Functional/ExternalLibrary/Definition/DefinitionDiscoveryFactoryTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\libraries\Functional\ExternalLibrary\Definition;

+use Drupal\Core\Config\Config;
+use Drupal\Core\Config\ConfigFactoryInterface;
+use Drupal\Core\Extension\ModuleHandlerInterface;
+use Drupal\libraries\ExternalLibrary\Definition\DefinitionDiscoveryInterface;
 use Drupal\Tests\BrowserTestBase;

 /**
@@ @@
   /**
    * The 'libraries.settings' configuration object.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $config;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+    /** @var ConfigFactoryInterface $config_factory */
     $config_factory = $this->container->get('config.factory');
     $this->config = $config_factory->getEditable('libraries.settings');

     // Set up the remote library definition URL to point to the local website.
-    /** @var \Drupal\Core\Extension\ModuleHandlerInterface $module_handler */
+    /** @var ModuleHandlerInterface $module_handler */
     $module_handler = $this->container->get('module_handler');
     $module_path = $module_handler->getModule('libraries')->getPath();
     $this->definitionPath = "$module_path/tests/library_definitions";
@@ @@
     $this->config
       ->set('definition.remote.urls', ["$this->baseUrl/$this->definitionPath"])
       ->save();
-    /** @var \Drupal\libraries\ExternalLibrary\Definition\DefinitionDiscoveryInterface $discovery */
+    /** @var DefinitionDiscoveryInterface $discovery */
     $discovery = $this->container->get($discovery_service_id);
     $definition_file = "$definitions_directory/$library_id.json";
-    $this->assertFileNotExists($definition_file);
+    $this->assertFileDoesNotExist($definition_file);
     $this->assertTrue($discovery->hasDefinition($library_id));
-    $this->assertFileNotExists($definition_file);
+    $this->assertFileDoesNotExist($definition_file);
     $this->assertEquals($discovery->getDefinition($library_id), $expected_definition);
     $this->assertFileExists($definition_file);
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/libraries/tests/modules/libraries_test/libraries_test.module:14

    ---------- begin diff ----------
@@ @@
   // Test library detection.
   $libraries['example_missing'] = [
     'name' => 'Example missing',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/missing',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/missing',
   ];
   $libraries['example_undetected_version'] = [
     'name' => 'Example undetected version',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests',
     'version callback' => '_libraries_test_return_version',
     'version arguments' => [FALSE],
   ];
   $libraries['example_unsupported_version'] = [
     'name' => 'Example unsupported version',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests',
     'version callback' => '_libraries_test_return_version',
     'version arguments' => ['1'],
     'versions' => [
@@ @@

   $libraries['example_supported_version'] = [
     'name' => 'Example supported version',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests',
     'version callback' => '_libraries_test_return_version',
     'version arguments' => ['1'],
     'versions' => [
@@ @@
   // Test the default version callback.
   $libraries['example_default_version_callback'] = [
     'name' => 'Example default version callback',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version arguments' => [
       'file' => 'README.txt',
       // Version 1
@@ @@
   // Test a multiple-parameter version callback.
   $libraries['example_multiple_parameter_version_callback'] = [
     'name' => 'Example multiple parameter version callback',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     // Version 1
     'version callback' => '_libraries_test_get_version',
     'version arguments' => ['README.txt', '/Version (\d+)/', 5],
@@ @@
   // Test a top-level files property.
   $libraries['example_files'] = [
     'name' => 'Example files',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1',
     'files' => [
       'js' => ['example_1.js'],
@@ @@
   // these files should be automatically loaded when the library is loaded.
   $libraries['example_integration_files'] = [
     'name' => 'Example integration files',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1',
     'integration files' => [
       'libraries_test' => [
@@ @@
   // Test version overloading.
   $libraries['example_versions'] = [
     'name' => 'Example versions',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '2',
     'versions' => [
       '1' => [
@@ @@
   // Test variant detection.
   $libraries['example_variant_missing'] = [
     'name' => 'Example variant missing',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1',
     'variants' => [
       'example_variant' => [
@@ @@

   $libraries['example_variant'] = [
     'name' => 'Example variant',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1',
     'variants' => [
       'example_variant' => [
@@ @@
   // Test correct behaviour with multiple versions and multiple variants.
   $libraries['example_versions_and_variants'] = [
     'name' => 'Example versions and variants',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '2',
     'versions' => [
       '1' => [
@@ @@
   // This library acts as a dependency for the libraries below.
   $libraries['example_dependency'] = [
     'name' => 'Example dependency',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1.1',
     'files' => ['js' => ['example_1.js']],
   ];
   $libraries['example_dependency_missing'] = [
     'name' => 'Example dependency missing',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1',
     'dependencies' => ['example_missing'],
     'files' => ['js' => ['example_1.js']],
@@ @@
   ];
   $libraries['example_dependency_incompatible'] = [
     'name' => 'Example dependency incompatible',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1',
     'dependencies' => ['example_dependency (>1.1)'],
     'files' => ['js' => ['example_1.js']],
@@ @@
   ];
   $libraries['example_dependency_compatible'] = [
     'name' => 'Example dependency compatible',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1',
     'dependencies' => ['example_dependency (>=1.1)'],
     'files' => ['js' => ['example_1.js']],
@@ @@
   // Test the applying of callbacks.
   $libraries['example_callback'] = [
     'name' => 'Example callback',
-    'library path' => drupal_get_path('module', 'libraries') . '/tests/example',
+    'library path' => \Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example',
     'version' => '1',
     'versions' => [
       '1' => [
@@ @@
  * Implements hook_libraries_info_file_paths()
  */
 function libraries_test_libraries_info_file_paths() {
-  return [drupal_get_path('module', 'libraries') . '/tests/example'];
+  return [\Drupal::service('extension.list.module')->getPath('libraries') . '/tests/example'];
 }

 /**
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


12) modules/contrib/libraries/src/StreamWrapper/LibraryDefinitionsStream.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\StreamWrapper;

+use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\StreamWrapper\LocalStream;
 use Drupal\Core\Config\ConfigFactory;

@@ @@
   /**
    * The config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/libraries/src/Plugin/libraries/Type/PhpFileLibraryType.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\Plugin\libraries\Type;

+use Drupal\libraries\ExternalLibrary\PhpFile\PhpFileLibraryInterface;
 use Drupal\Component\Plugin\Factory\FactoryInterface;
 use Drupal\libraries\ExternalLibrary\LibraryInterface;
 use Drupal\libraries\ExternalLibrary\Type\LibraryLoadingListenerInterface;
@@ @@
   /**
    * The PHP file loader.
    *
-   * @var \Drupal\libraries\ExternalLibrary\PhpFile\PhpFileLoaderInterface
+   * @var PhpFileLoaderInterface
    */
   protected $phpFileLoader;

@@ @@
    *
    * @param string $plugin_id
    *   The plugin ID taken from the class annotation.
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $locator_factory
+   * @param FactoryInterface $locator_factory
    *   The locator factory.
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $detector_factory
+   * @param FactoryInterface $detector_factory
    *   The version detector factory.
-   * @param \Drupal\libraries\ExternalLibrary\PhpFile\PhpFileLoaderInterface $php_file_loader
+   * @param PhpFileLoaderInterface $php_file_loader
    *   The PHP file loader.
    */
   public function __construct($plugin_id, FactoryInterface $locator_factory, FactoryInterface $detector_factory, PhpFileLoaderInterface $php_file_loader) {
@@ @@
    * {@inheritdoc}
    */
   public function onLibraryLoad(LibraryInterface $library) {
-    /** @var \Drupal\libraries\ExternalLibrary\PhpFile\PhpFileLibraryInterface $library */
+    /** @var PhpFileLibraryInterface $library */
     // @todo Prevent loading a library multiple times.
     foreach ($library->getPhpFiles() as $file) {
       $this->phpFileLoader->load($file);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/libraries/src/Plugin/libraries/Type/MultipleAssetLibraryType.php:24

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getAttachableAssetLibraries(LibraryInterface $external_library, LibraryManagerInterface $library_manager) {
-    assert($external_library instanceof \Drupal\libraries\ExternalLibrary\Asset\MultipleAssetLibraryInterface);
-    /** @var \Drupal\libraries\ExternalLibrary\Asset\MultipleAssetLibraryInterface $external_library */
+    assert($external_library instanceof MultipleAssetLibraryInterface);
+    /** @var MultipleAssetLibraryInterface $external_library */
     $attachable_libraries = [];
     foreach ($external_library->getAttachableAssetLibraries($library_manager) as $component_name => $attachable_library) {
       $attachable_library_id = $this->getAttachableLibraryId($external_library, $component_name);
@@ @@
   }

   /**
-   * @param \Drupal\libraries\ExternalLibrary\LibraryInterface $external_library
+   * @param LibraryInterface $external_library
    * @param string $component_name
    *
    * @return string
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/libraries/src/Plugin/libraries/Type/AssetLibraryType.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\Plugin\libraries\Type;

+use Drupal\libraries\ExternalLibrary\Asset\AssetLibraryInterface;
 use Drupal\libraries\ExternalLibrary\Asset\AssetLibrary;
 use Drupal\libraries\ExternalLibrary\Asset\AttachableAssetLibraryRegistrationInterface;
 use Drupal\libraries\ExternalLibrary\LibraryInterface;
@@ @@
    * {@inheritdoc}
    */
   public function getAttachableAssetLibraries(LibraryInterface $library, LibraryManagerInterface $library_manager) {
-    assert($library instanceof \Drupal\libraries\ExternalLibrary\Asset\AssetLibraryInterface);
-    /** @var \Drupal\libraries\ExternalLibrary\Asset\AssetLibraryInterface $library */
+    assert($library instanceof AssetLibraryInterface);
+    /** @var AssetLibraryInterface $library */
     return [$library->getId() => $library->getAttachableAssetLibrary($library_manager)];
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/libraries/src/Plugin/libraries/Locator/UriLocator.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\Plugin\libraries\Locator;

+use Drupal\Core\StreamWrapper\LocalStream;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
 use Drupal\Core\StreamWrapper\StreamWrapperManagerInterface;
 use Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface;
@@ @@
   /**
    * The stream wrapper manager.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;

@@ @@
   /**
    * Constructs a URI locator.
    *
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager
+   * @param StreamWrapperManagerInterface $stream_wrapper_manager
    *   The stream wrapper manager.
    * @param string $uri
    *   The URI to check.
@@ @@
   /**
    * Locates a library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface $library
+   * @param LocalLibraryInterface $library
    *   The library to locate.
    *
    * @see \Drupal\libraries\ExternalLibrary\Local\LocatorInterface::locate()
    */
   public function locate(LocalLibraryInterface $library) {
-    /** @var \Drupal\Core\StreamWrapper\LocalStream $stream_wrapper */
+    /** @var LocalStream $stream_wrapper */
     $stream_wrapper = $this->streamWrapperManager->getViaUri($this->uri);
-    assert($stream_wrapper instanceof \Drupal\Core\StreamWrapper\LocalStream);
+    assert($stream_wrapper instanceof LocalStream);
     // Calling LocalStream::getDirectoryPath() explicitly avoids the realpath()
     // usage in LocalStream::getLocalPath(), which breaks if Libraries API is
     // symbolically linked into the Drupal installation.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


17) modules/contrib/libraries/src/Plugin/libraries/Locator/GlobalLocator.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The Drupal config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The locator factory.
    *
-   * @var \Drupal\Component\Plugin\Factory\FactoryInterface
+   * @var FactoryInterface
    */
   protected $locatorFactory;

@@ @@
   /**
    * Constructs a global locator.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The Drupal config factory service.
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $locator_factory
+   * @param FactoryInterface $locator_factory
    *   The locator factory.
    */
   public function __construct(ConfigFactoryInterface $config_factory, FactoryInterface $locator_factory) {
@@ @@
   /**
    * Locates a library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface $library
+   * @param LocalLibraryInterface $library
    *   The library to locate.
    *
    * @see \Drupal\libraries\ExternalLibrary\Local\LocatorInterface::locate()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


18) modules/contrib/libraries/src/Plugin/libraries/Locator/ChainLocator.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The locators to check.
    *
-   * @var \Drupal\libraries\ExternalLibrary\Local\LocatorInterface[]
+   * @var LocatorInterface[]
    */
   protected $locators = [];

@@ @@
   /**
    * Add a locator to the chain.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Local\LocatorInterface $locator
+   * @param LocatorInterface $locator
    *   A locator to add to the chain.
    */
   public function addLocator(LocatorInterface $locator) {
@@ @@
   /**
    * Locates a library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface $library
+   * @param LocalLibraryInterface $library
    *   The library to locate.
    *
    * @see \Drupal\libraries\ExternalLibrary\Local\LocatorInterface::locate()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


19) modules/contrib/libraries/src/ExternalLibrary/Version/VersionedLibraryTrait.php:38

    ---------- begin diff ----------
@@ @@
    * @return string
    *   The version string, for example 1.0, 2.1.4, or 3.0.0-alpha5.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\UnknownLibraryVersionException
+   * @throws UnknownLibraryVersionException
    *
    * @see \Drupal\libraries\ExternalLibrary\Version\VersionedLibraryInterface::getVersion()
    */
@@ @@
    * to any library or even any library type, this logic is offloaded to
    * separate detector objects.
    *
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $detector_factory
+   * @param FactoryInterface $detector_factory
    *
-   * @return \Drupal\libraries\ExternalLibrary\Version\VersionDetectorInterface
+   * @return VersionDetectorInterface
    *
    * @see \Drupal\libraries\ExternalLibrary\Version\VersionDetectorInterface
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


20) modules/contrib/libraries/src/ExternalLibrary/Version/VersionedLibraryInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Version;

+use Drupal\libraries\ExternalLibrary\Exception\UnknownLibraryVersionException;
 use Drupal\Component\Plugin\Factory\FactoryInterface;
 use Drupal\libraries\ExternalLibrary\LibraryInterface;

@@ @@
    * @return string
    *   The version string, for example 1.0, 2.1.4, or 3.0.0-alpha5.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\UnknownLibraryVersionException
+   * @throws UnknownLibraryVersionException
    *
    * @see \Drupal\libraries\ExternalLibrary\Version\VersionedLibraryInterface::setVersion()
    */
@@ @@
    * to any library or even any library type, this logic is offloaded to
    * separate detector objects.
    *
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $detector_factory
+   * @param FactoryInterface $detector_factory
    *
-   * @return \Drupal\libraries\ExternalLibrary\Version\VersionDetectorInterface
+   * @return VersionDetectorInterface
    *
    * @see \Drupal\libraries\ExternalLibrary\Version\VersionDetectorInterface
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


21) modules/contrib/libraries/src/ExternalLibrary/Version/VersionDetectorManager.php:19

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/libraries/src/ExternalLibrary/Version/VersionDetectorInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Version;

+use Drupal\libraries\ExternalLibrary\Exception\UnknownLibraryVersionException;
 /**
  * Provides an interface for version detectors.
  *
@@ @@
   /**
    * Detects the version of a library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Version\VersionedLibraryInterface $library
+   * @param VersionedLibraryInterface $library
    *   The library whose version to detect.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\UnknownLibraryVersionException
+   * @throws UnknownLibraryVersionException
    *
    * @todo Provide a mechanism for version detectors to provide a reason for
    *   failing.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


23) modules/contrib/libraries/src/ExternalLibrary/Utility/LibraryAccessorTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Utility;

+use Drupal\libraries\ExternalLibrary\LibraryInterface;
 /**
  * Provides a trait for classes giving access to a library.
  */
@@ @@
   /**
    * The library.
    *
-   * @var \Drupal\libraries\ExternalLibrary\LibraryInterface
+   * @var LibraryInterface
    */
   protected $library;

@@ @@
   /**
    * Returns the library.
    *
-   * @return \Drupal\libraries\ExternalLibrary\LibraryInterface
+   * @return LibraryInterface
    *   The library.
    */
   public function getLibrary() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


24) modules/contrib/libraries/src/ExternalLibrary/Utility/LibraryAccessorInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Utility;

+use Drupal\libraries\ExternalLibrary\LibraryInterface;
 /**
  * Provides an interface for classes giving access to a library.
  */
@@ @@
   /**
    * Returns the library.
    *
-   * @return \Drupal\libraries\ExternalLibrary\LibraryInterface
+   * @return LibraryInterface
    *   The library.
    */
   public function getLibrary();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


25) modules/contrib/libraries/src/ExternalLibrary/Utility/DependencyAccessorTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Utility;

+use Drupal\libraries\ExternalLibrary\LibraryInterface;
 /**
  * Provides a trait for classes giving access to a library dependency.
  */
@@ @@
   /**
    * The dependency.
    *
-   * @var \Drupal\libraries\ExternalLibrary\LibraryInterface
+   * @var LibraryInterface
    */
   protected $dependency;

@@ @@
   /**
    * Returns the dependency.
    *
-   * @return \Drupal\libraries\ExternalLibrary\LibraryInterface
+   * @return LibraryInterface
    *   The library.
    */
   public function getLibrary() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


26) modules/contrib/libraries/src/ExternalLibrary/Type/LibraryTypeInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Type;

+use Drupal\libraries\ExternalLibrary\LibraryInterface;
 /**
  * Provides an interface for library types.
  */
@@ @@
   /**
    * Returns the class used for libraries of this type.
    *
-   * @return string|\Drupal\libraries\ExternalLibrary\LibraryInterface
+   * @return string|LibraryInterface
    *   The library class for this library type.
    *
    * @todo Consider adding a getLibraryInterface() method, as well.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


27) modules/contrib/libraries/src/ExternalLibrary/Type/LibraryTypeFactory.php:17

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


28) modules/contrib/libraries/src/ExternalLibrary/Type/LibraryTypeBase.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * The locator factory.
    *
-   * @var \Drupal\Component\Plugin\Factory\FactoryInterface
+   * @var FactoryInterface
    */
   protected $locatorFactory;

@@ @@
   /**
    * The version detector factory.
    *
-   * @var \Drupal\Component\Plugin\Factory\FactoryInterface
+   * @var FactoryInterface
    */
   protected $detectorFactory;

@@ @@
    *
    * @param string $plugin_id
    *   The plugin ID taken from the class annotation.
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $locator_factory
+   * @param FactoryInterface $locator_factory
    *   The locator factory.
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $detector_factory
+   * @param FactoryInterface $detector_factory
    *   The version detector factory.
    */
   public function __construct($plugin_id, FactoryInterface $locator_factory, FactoryInterface $detector_factory) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


29) modules/contrib/libraries/src/ExternalLibrary/Type/LibraryLoadingListenerInterface.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * Reacts to the instantiation of a library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\LibraryInterface $library
+   * @param LibraryInterface $library
    *   The library that is being instantiated.
    */
   public function onLibraryLoad(LibraryInterface $library);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


30) modules/contrib/libraries/src/ExternalLibrary/Type/LibraryCreationListenerInterface.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * Reacts to the instantiation of a library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\LibraryInterface $library
+   * @param LibraryInterface $library
    *   The library that is being instantiated.
    */
   public function onLibraryCreate(LibraryInterface $library);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


31) modules/contrib/libraries/src/ExternalLibrary/PhpFile/PhpFileLibrary.php:28

    ---------- begin diff ----------
@@ @@
    *   The library ID.
    * @param array $definition
    *   The library definition array.
-   * @param \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface $type
+   * @param LibraryTypeInterface $type
    *   The library type of this library.
    */
   public function __construct($id, array $definition, LibraryTypeInterface $type) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


32) modules/contrib/libraries/src/ExternalLibrary/Local/LocatorManager.php:19

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


33) modules/contrib/libraries/src/ExternalLibrary/Local/LocatorInterface.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * Locates a library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface $library
+   * @param LocalLibraryInterface $library
    *   The library to locate.
    */
   public function locate(LocalLibraryInterface $library);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


34) modules/contrib/libraries/src/ExternalLibrary/Local/LocalLibraryTrait.php:66

    ---------- begin diff ----------
@@ @@
    * @return string
    *   The path to the library relative to the app root.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryNotInstalledException
+   * @throws LibraryNotInstalledException
    *
    * @see \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface::getLocalPath()
    */
   public function getLocalPath() {
     if (!$this->isInstalled()) {
-      /** @var \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface $this */
+      /** @var LocalLibraryInterface $this */
       throw new LibraryNotInstalledException($this);
     }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


35) modules/contrib/libraries/src/ExternalLibrary/Local/LocalLibraryInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Local;

+use Drupal\libraries\ExternalLibrary\Exception\LibraryNotInstalledException;
 use Drupal\Component\Plugin\Factory\FactoryInterface;
 use Drupal\libraries\ExternalLibrary\LibraryInterface;

@@ @@
    * @return string
    *   The absolute path to the library on the filesystem.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryNotInstalledException
+   * @throws LibraryNotInstalledException
    *
    * @see \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface::setLocalPath()
    */
@@ @@
    * is not specific to any library or even any library type, this logic is
    * offloaded to separate locator objects.
    *
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $locator_factory
+   * @param FactoryInterface $locator_factory
    *
-   * @return \Drupal\libraries\ExternalLibrary\Local\LocatorInterface
+   * @return LocatorInterface
    *
    * @see \Drupal\libraries\ExternalLibrary\Local\LocatorInterface
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


36) modules/contrib/libraries/src/ExternalLibrary/LibraryManagerInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary;

+use Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException;
+use Drupal\libraries\ExternalLibrary\Exception\LibraryTypeNotFoundException;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\libraries\ExternalLibrary\Exception\LibraryNotInstalledException;
 /**
  * Provides an interface for external library managers.
  */
@@ @@
    * @param string $id
    *   The library ID.
    *
-   * @return \Drupal\libraries\ExternalLibrary\LibraryInterface
+   * @return LibraryInterface
    *   The library object.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryTypeNotFoundException
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws LibraryDefinitionNotFoundException
+   * @throws LibraryTypeNotFoundException
+   * @throws PluginException
    */
   public function getLibrary($id);

@@ @@
    * @param string $id
    *   The ID of the library.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryNotInstalledException
+   * @throws LibraryDefinitionNotFoundException
+   * @throws LibraryNotInstalledException
    */
   public function load($id);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


37) modules/contrib/libraries/src/ExternalLibrary/LibraryManager.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary;

+use Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface;
 use Drupal\Component\Plugin\Factory\FactoryInterface;
 use Drupal\libraries\ExternalLibrary\Exception\LibraryTypeNotFoundException;
 use Drupal\libraries\ExternalLibrary\Type\LibraryCreationListenerInterface;
@@ @@
   /**
    * The library definition discovery.
    *
-   * @var \Drupal\libraries\ExternalLibrary\Definition\DefinitionDiscoveryInterface
+   * @var DefinitionDiscoveryInterface
    */
   protected $definitionDiscovery;

@@ @@
   /**
    * The library type factory.
    *
-   * @var \Drupal\Component\Plugin\Factory\FactoryInterface
+   * @var FactoryInterface
    */
   protected $libraryTypeFactory;

@@ @@
   /**
    * Constructs an external library manager.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Definition\DefinitionDiscoveryInterface $definition_disovery
+   * @param DefinitionDiscoveryInterface $definition_disovery
    *   The library registry.
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $library_type_factory
+   * @param FactoryInterface $library_type_factory
    *   The library type factory.
    */
   public function __construct(
@@ @@
    * @param string $id
    * @param array $definition
    *
-   * @return \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface
+   * @return LibraryTypeInterface
    */
   protected function getLibraryType($id, $definition) {
     // @todo Validate that the type is a string.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


38) modules/contrib/libraries/src/ExternalLibrary/LibraryInterface.php:17

    ---------- begin diff ----------
@@ @@
    *   The library ID.
    * @param array $definition
    *   The library definition array.
-   * @param \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface $type
+   * @param LibraryTypeInterface $type
    *   The library type of this library.
    *
    * @return static
@@ @@
   /**
    * Returns the library type of the library.
    *
-   * @return \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface
+   * @return LibraryTypeInterface
    *   The library of the library.
    */
   public function getType();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


39) modules/contrib/libraries/src/ExternalLibrary/LibraryBase.php:26

    ---------- begin diff ----------
@@ @@
   /**
    * The library type of this library.
    *
-   * @var \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface
+   * @var LibraryTypeInterface
    */
   protected $type;

@@ @@
    *   The library ID.
    * @param array $definition
    *   The library definition array.
-   * @param \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface $type
+   * @param LibraryTypeInterface $type
    *   The library type of this library.
    */
   public function __construct($id, array $definition, LibraryTypeInterface $type) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


40) modules/contrib/libraries/src/ExternalLibrary/Exception/UnknownLibraryVersionException.php:15

    ---------- begin diff ----------
@@ @@
   /**
    * Constructs a library exception.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Version\VersionedLibraryInterface $library
+   * @param VersionedLibraryInterface $library
    *   The library.
    * @param string $message
    *   (optional) The exception message.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


41) modules/contrib/libraries/src/ExternalLibrary/Exception/LibraryNotInstalledException.php:15

    ---------- begin diff ----------
@@ @@
   /**
    * Constructs a library exception.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface $library
+   * @param LocalLibraryInterface $library
    *   The library that is not installed.
    * @param string $message
    *   (optional) The exception message.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


42) modules/contrib/libraries/src/ExternalLibrary/Exception/InvalidLibraryDependencyException.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * Constructs a library exception.
    *
-   * @param \Drupal\libraries\ExternalLibrary\LibraryInterface $library
+   * @param LibraryInterface $library
    *   The library with the invalid dependency.
-   * @param \Drupal\libraries\ExternalLibrary\LibraryInterface $dependency
+   * @param LibraryInterface $dependency
    *   The dependency.
    * @param string $message
    *   (optional) The exception message.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


43) modules/contrib/libraries/src/ExternalLibrary/Definition/GuzzleDefinitionDiscovery.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * The HTTP client.
    *
-   * @var \GuzzleHttp\ClientInterface
+   * @var ClientInterface
    */
   protected $httpClient;

@@ @@
   /**
    * Constructs a Guzzle-based definition discvoery.
    *
-   * @param \GuzzleHttp\ClientInterface $http_client
+   * @param ClientInterface $http_client
    *   The HTTP client.
-   * @param \Drupal\Component\Serialization\SerializationInterface $serializer
+   * @param SerializationInterface $serializer
    *   The serializer for the library definition files.
    * @param string $base_url
    *   The base URL for the library files.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


44) modules/contrib/libraries/src/ExternalLibrary/Definition/FileDefinitionDiscoveryBase.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * The serializer for the library definition files.
    *
-   * @var \Drupal\Component\Serialization\SerializationInterface
+   * @var SerializationInterface
    */
   protected $serializer;

@@ @@
   /**
    * Constructs a stream-based library definition discovery.
    *
-   * @param \Drupal\Component\Serialization\SerializationInterface $serializer
+   * @param SerializationInterface $serializer
    *   The serializer for the library definition files.
    * @param string $base_uri
    *   The base URI for the library files.
@@ @@
    * @return string
    *   The serialized library definition.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException
+   * @throws LibraryDefinitionNotFoundException
    */
   abstract protected function getSerializedDefinition($id);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


45) modules/contrib/libraries/src/ExternalLibrary/Definition/DefinitionDiscoveryInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Definition;

+use Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException;
 /**
  * Provides an interface for library definition discoveries.
  *
@@ @@
    * @return array
    *   The library definition.
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException
+   * @throws LibraryDefinitionNotFoundException
    *
    * @todo Consider returning a classed object instead of an array or at least
    *   document and validate the array structure.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


46) modules/contrib/libraries/src/ExternalLibrary/Definition/DefinitionDiscoveryFactory.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * The configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The serializer for local definition files.
    *
-   * @var \Drupal\Component\Serialization\SerializationInterface
+   * @var SerializationInterface
    */
   protected $localSerializer;

@@ @@
   /**
    * The HTTP client used to fetch remote definitions.
    *
-   * @var \GuzzleHttp\ClientInterface
+   * @var ClientInterface
    */
   protected $httpClient;

@@ @@
   /**
    * The serializer for remote definitions.
    *
-   * @var \Drupal\Component\Serialization\SerializationInterface
+   * @var SerializationInterface
    */
   protected $remoteSerializer;

@@ @@
   /**
    * Constructs a definition discovery factory.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
-   * @param \Drupal\Component\Serialization\SerializationInterface $local_serializer
+   * @param SerializationInterface $local_serializer
    *   The serializer for local definition files.
-   * @param \GuzzleHttp\ClientInterface $http_client
+   * @param ClientInterface $http_client
    *   The HTTP client used to fetch remote definitions.
-   * @param \Drupal\Component\Serialization\SerializationInterface $remote_serializer
+   * @param SerializationInterface $remote_serializer
    *   The serializer for remote definitions.
    */
   public function __construct(
@@ @@
   /**
    * Gets a library definition discovery.
    *
-   * @return \Drupal\libraries\ExternalLibrary\Definition\DefinitionDiscoveryInterface
+   * @return DefinitionDiscoveryInterface
    *   The library definition discovery.
    */
   public function get() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


47) modules/contrib/libraries/src/ExternalLibrary/Definition/ChainDefinitionDiscovery.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * The list of definition discoveries that will be checked.
    *
-   * @var \Drupal\libraries\ExternalLibrary\Definition\DefinitionDiscoveryInterface[]
+   * @var DefinitionDiscoveryInterface[]
    */
   protected $discoveries = [];

@@ @@
    * {@inheritdoc}
    */
   public function getDefinition($id) {
-    /** @var \Drupal\libraries\ExternalLibrary\Definition\WritableDefinitionDiscoveryInterface[] $discoveries_to_write */
+    /** @var WritableDefinitionDiscoveryInterface[] $discoveries_to_write */
     $discoveries_to_write = [];
     foreach ($this->discoveries as $discovery) {
       if ($discovery->hasDefinition($id)) {
@@ @@
   /**
    * Adds a definition discovery to the list to check.
    *
-   * @param \Drupal\libraries\ExternalLibrary\Definition\DefinitionDiscoveryInterface $discovery
+   * @param DefinitionDiscoveryInterface $discovery
    *   The definition discovery to add.
    *
    * @return $this
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


48) modules/contrib/libraries/src/ExternalLibrary/Asset/MultipleAssetLibraryInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Asset;

+use Drupal\libraries\ExternalLibrary\Exception\InvalidLibraryDependencyException;
 use Drupal\libraries\ExternalLibrary\LibraryInterface;
 use Drupal\libraries\ExternalLibrary\LibraryManagerInterface;

@@ @@
   /**
    * Returns a core asset library array structure for this library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\LibraryManagerInterface $library_manager
+   * @param LibraryManagerInterface $library_manager
    *   The library manager that can be used to fetch dependencies.
    *
    * @return array
@@ @@
    *
    * @see \Drupal\libraries\ExternalLibrary\Asset\SingleAssetLibraryTrait
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\InvalidLibraryDependencyException
+   * @throws InvalidLibraryDependencyException
    *
    * @todo Document the return value.
    * @todo Reconsider passing the library manager.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


49) modules/contrib/libraries/src/ExternalLibrary/Asset/MultipleAssetLibrary.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Asset;

+use Drupal\libraries\ExternalLibrary\Exception\InvalidLibraryDependencyException;
+use Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException;
+use Drupal\libraries\ExternalLibrary\Exception\LibraryTypeNotFoundException;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\libraries\ExternalLibrary\Local\LocatorInterface;
 use Drupal\Component\Plugin\Factory\FactoryInterface;
 use Drupal\libraries\ExternalLibrary\Dependency\DependentLibraryInterface;
 use Drupal\libraries\ExternalLibrary\Exception\LibraryNotInstalledException;
@@ @@
    *   The library ID.
    * @param array $definition
    *   The library definition array.
-   * @param \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface $library_type
+   * @param LibraryTypeInterface $library_type
    *   The library type of the library.
    */
   public function __construct($id, array $definition, LibraryTypeInterface $library_type) {
@@ @@
   /**
    * Returns a core library array structure for this library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\LibraryManagerInterface $library_manager
+   * @param LibraryManagerInterface $library_manager
    *   The library manager that can be used to fetch dependencies.
    *
    * @return array
@@ @@
    *
    * @see \Drupal\libraries\ExternalLibrary\Asset\getAttachableAssetLibraries::getAttachableAssetLibraries()
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\InvalidLibraryDependencyException
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryTypeNotFoundException
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws InvalidLibraryDependencyException
+   * @throws LibraryDefinitionNotFoundException
+   * @throws LibraryTypeNotFoundException
+   * @throws PluginException
    *
    * @todo Document the return value.
    */
@@ @@
   /**
    * Gets the locator of this library using the locator factory.
    *
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $locator_factory
+   * @param FactoryInterface $locator_factory
    *
-   * @return \Drupal\libraries\ExternalLibrary\Local\LocatorInterface
+   * @return LocatorInterface
    *
    * @see \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface::getLocator()
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


50) modules/contrib/libraries/src/ExternalLibrary/Asset/LocalRemoteAssetTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Asset;

+use Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface;
+use Drupal\libraries\ExternalLibrary\Remote\RemoteLibraryInterface;
 /**
  * A trait for asset libraries that serve local and remote files.
  *
@@ @@
    * @see \Drupal\libraries\ExternalLibrary\Asset\SingleAssetLibraryTrait::canBeAttached()
    */
   protected function canBeAttached() {
-    /** @var \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface|\Drupal\libraries\ExternalLibrary\Remote\RemoteLibraryInterface $this */
+    /** @var LocalLibraryInterface|RemoteLibraryInterface $this */
     return ($this->isInstalled() || $this->hasRemoteUrl());
   }

@@ @@
    *   The path prefix.
    */
   protected function getPathPrefix() {
-    /** @var \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface|\Drupal\libraries\ExternalLibrary\Remote\RemoteLibraryInterface $this */
+    /** @var LocalLibraryInterface|RemoteLibraryInterface $this */
     if ($this->isInstalled()) {
       // LocalLibraryInterface::getLocalPath() returns the path relative to the
       // app root. In order for the core core asset system to register the path
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


51) modules/contrib/libraries/src/ExternalLibrary/Asset/AttachableAssetLibraryRegistrationInterface.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * Reacts to the instantiation of a library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\LibraryInterface $external_library
+   * @param LibraryInterface $external_library
    *   The library that is being instantiated.
-   * @param \Drupal\libraries\ExternalLibrary\LibraryManagerInterface $library_manager
+   * @param LibraryManagerInterface $library_manager
    */
   public function getAttachableAssetLibraries(LibraryInterface $external_library, LibraryManagerInterface $library_manager);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


52) modules/contrib/libraries/src/ExternalLibrary/Asset/AssetLibraryInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Asset;

+use Drupal\libraries\ExternalLibrary\Exception\InvalidLibraryDependencyException;
 use Drupal\libraries\ExternalLibrary\Dependency\DependentLibraryInterface;
 use Drupal\libraries\ExternalLibrary\LibraryInterface;
 use Drupal\libraries\ExternalLibrary\LibraryManagerInterface;
@@ @@
   /**
    * Returns a core asset library array structure for this library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\LibraryManagerInterface $library_manager
+   * @param LibraryManagerInterface $library_manager
    *   The library manager that can be used to fetch dependencies.
    *
    * @return array
@@ @@
    *
    * @see \Drupal\libraries\ExternalLibrary\Asset\SingleAssetLibraryTrait
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\InvalidLibraryDependencyException
+   * @throws InvalidLibraryDependencyException
    *
    * @todo Document the return value.
    * @todo Reconsider passing the library manager.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


53) modules/contrib/libraries/src/ExternalLibrary/Asset/AssetLibrary.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\libraries\ExternalLibrary\Asset;

+use Drupal\libraries\ExternalLibrary\Exception\InvalidLibraryDependencyException;
+use Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException;
+use Drupal\libraries\ExternalLibrary\Exception\LibraryTypeNotFoundException;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\libraries\ExternalLibrary\Local\LocatorInterface;
 use Drupal\Component\Plugin\Factory\FactoryInterface;
 use Drupal\libraries\ExternalLibrary\Exception\LibraryNotInstalledException;
 use Drupal\libraries\ExternalLibrary\LibraryBase;
@@ @@
    *   The library ID.
    * @param array $definition
    *   The library definition array.
-   * @param \Drupal\libraries\ExternalLibrary\Type\LibraryTypeInterface $library_type
+   * @param LibraryTypeInterface $library_type
    *   The library type of the library.
    */
   public function __construct($id, array $definition, LibraryTypeInterface $library_type) {
@@ @@
   /**
    * Returns a core library array structure for this library.
    *
-   * @param \Drupal\libraries\ExternalLibrary\LibraryManagerInterface $library_manager
+   * @param LibraryManagerInterface $library_manager
    *   The library manager that can be used to fetch dependencies.
    *
    * @return array
@@ @@
    *
    * @see \Drupal\libraries\ExternalLibrary\Asset\getAttachableAssetLibraries::getAttachableAssetLibraries()
    *
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\InvalidLibraryDependencyException
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryDefinitionNotFoundException
-   * @throws \Drupal\libraries\ExternalLibrary\Exception\LibraryTypeNotFoundException
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws InvalidLibraryDependencyException
+   * @throws LibraryDefinitionNotFoundException
+   * @throws LibraryTypeNotFoundException
+   * @throws PluginException
    *
    * @todo Document the return value.
    */
@@ @@
   /**
    * Gets the locator of this library using the locator factory.
    *
-   * @param \Drupal\Component\Plugin\Factory\FactoryInterface $locator_factory
+   * @param FactoryInterface $locator_factory
    *
-   * @return \Drupal\libraries\ExternalLibrary\Local\LocatorInterface
+   * @return LocatorInterface
    *
    * @see \Drupal\libraries\ExternalLibrary\Local\LocalLibraryInterface::getLocator()
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


54) modules/contrib/libraries/src/Config/LibrariesConfigSubscriber.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The service container.
    *
-   * @var \Symfony\Component\DependencyInjection\ContainerInterface
+   * @var ContainerInterface
    */
   protected $container;

@@ @@
   /**
    * Constructs a Libraries API configuration subscriber.
    *
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   The service container.
    */
   public function __construct(ContainerInterface $container) {
@@ @@
   /**
    * Unsets the definition discovery service when its configuration changes.
    *
-   * @param \Drupal\Core\Config\ConfigCrudEvent $event
+   * @param ConfigCrudEvent $event
    *   The configuration event.
    */
   public function onConfigSave(ConfigCrudEvent $event) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


55) modules/contrib/libraries/libraries.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\libraries\ExternalLibrary\LibraryManagerInterface;
 /**
  * @file
  * External library handling for Drupal modules.
@@ @@
  * Register external asset libraries with Drupal core's library APIs.
  */
 function libraries_library_info_build() {
-  /** @var \Drupal\libraries\ExternalLibrary\LibraryManagerInterface $library_manager */
+  /** @var LibraryManagerInterface $library_manager */
   $library_manager = \Drupal::service('libraries.manager');
   $attachable_libraries = [];
   $libraries_with_errors = [];
@@ @@
   // profile, installation profiles may want to place libraries into a
   // 'libraries' directory.
   if ($profile = \Drupal::installProfile()) {
-    $profile_path = drupal_get_path('profile', $profile);
+    $profile_path = \Drupal::service('extension.list.profile')->getPath($profile);
     $searchdir[] = "$profile_path/libraries";
   };

@@ @@
  * https://www.drupal.org/node/2170763
  */
 function libraries_scan_info_files() {
-  $profile = drupal_get_path('profile', \Drupal::installProfile());
+  $profile = \Drupal::service('extension.list.profile')->getPath(\Drupal::installProfile());
   $config = DrupalKernel::findSitePath(\Drupal::request());

   // Build a list of directories.
@@ @@
       libraries_load_files([
         'files' => $files,
         'path' => '',
-        'library path' => drupal_get_path('module', $module),
+        'library path' => \Drupal::service('extension.list.module')->getPath($module),
       ]);
     }
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


56) modules/contrib/libraries/libraries.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\File\FileSystemInterface;
 /**
  * @file
  * Containsinstall, uninstall and update functions for Libraries API.
@@ @@
  */
 function libraries_install() {
   if (!is_dir('public://library-definitions')) {
-    /** @var \Drupal\Core\File\FileSystemInterface $file_system */
+    /** @var FileSystemInterface $file_system */
     $file_system = \Drupal::service('file_system');
     $file_system->mkdir('public://library-definitions');
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


57) modules/contrib/libraries/libraries.api.php:604

    ---------- begin diff ----------
@@ @@
 function hook_libraries_info_file_paths() {
   // Taken from the Libraries test module, which needs to specify the path to
   // the test library.
-  return [drupal_get_path('module', 'libraries_test') . '/example'];
+  return [\Drupal::service('extension.list.module')->getPath('libraries_test') . '/example'];
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 57 files have been changed by Rector                                      

