diff --git a/src/Controller/CaptureActivityDetails.php b/src/Controller/CaptureActivityDetails.php
index 55f68fe..133f154 100644
--- a/src/Controller/CaptureActivityDetails.php
+++ b/src/Controller/CaptureActivityDetails.php
@@ -18,23 +18,23 @@ class CaptureActivityDetails extends ControllerBase implements ContainerInjectio
   /**
    * The session.
    *
-   * @var \Symfony\Component\HttpFoundation\Session\SessionInterface
+   * @var SessionInterface
    */
   protected $session;
 
   /**
    * The query helper.
    *
-   * @var \Drupal\trackmyadmin\QueryHelper
+   * @var QueryHelper
    */
   protected $queryHelper;
 
   /**
    * Constructs a new CaptureActivityDetails instance.
    *
-   * @param \Symfony\Component\HttpFoundation\Session\SessionInterface $session
+   * @param SessionInterface $session
    *   The session.
-   * @param \Drupal\trackmyadmin\QueryHelper $query_helper
+   * @param QueryHelper $query_helper
    *   The query helper.
    */
   public function __construct(SessionInterface $session, QueryHelper $query_helper) {
diff --git a/src/Controller/Reports.php b/src/Controller/Reports.php
index 1b2233e..ee33cc6 100644
--- a/src/Controller/Reports.php
+++ b/src/Controller/Reports.php
@@ -21,50 +21,50 @@ class Reports extends ControllerBase implements ContainerInjectionInterface {
   /**
    * The session.
    *
-   * @var \Symfony\Component\HttpFoundation\Session\SessionInterface
+   * @var SessionInterface
    */
   protected $session;
 
   /**
    * The messenger.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;
 
   /**
    * The currentpath.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPath;
 
   /**
    * The query helper.
    *
-   * @var \Drupal\trackmyadmin\QueryHelper
+   * @var QueryHelper
    */
   protected $queryHelper;
 
   /**
    * The url generator.
    *
-   * @var \Drupal\Core\Render\MetadataBubblingUrlGenerator
+   * @var MetadataBubblingUrlGenerator
    */
   protected $urlGenerator;
 
   /**
    * Constructs a new Reports instance.
    *
-   * @param \Symfony\Component\HttpFoundation\Session\SessionInterface $session
+   * @param SessionInterface $session
    *   The session.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path
+   * @param CurrentPathStack $current_path
    *   The current path.
-   * @param \Drupal\trackmyadmin\QueryHelper $query_helper
+   * @param QueryHelper $query_helper
    *   The query helper.
-   * @param \Drupal\Core\Render\MetadataBubblingUrlGenerator $url_generator
+   * @param MetadataBubblingUrlGenerator $url_generator
    *   The url generator.
    */
   public function __construct(SessionInterface $session, MessengerInterface $messenger, CurrentPathStack $current_path, QueryHelper $query_helper, MetadataBubblingUrlGenerator $url_generator) {
diff --git a/src/EventSubscriber/Subscriber.php b/src/EventSubscriber/Subscriber.php
index 05252b6..9aa7c9f 100644
--- a/src/EventSubscriber/Subscriber.php
+++ b/src/EventSubscriber/Subscriber.php
@@ -2,9 +2,9 @@
 
 namespace Drupal\trackmyadmin\EventSubscriber;
 
+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Symfony\Component\HttpFoundation\RedirectResponse;
 use Symfony\Component\HttpKernel\KernelEvents;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\Core\Path\CurrentPathStack;
@@ -19,41 +19,41 @@ class Subscriber implements EventSubscriberInterface {
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;
 
   /**
    * The current path.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPath;
 
   /**
    * The session.
    *
-   * @var \Symfony\Component\HttpFoundation\Session\SessionInterface
+   * @var SessionInterface
    */
   protected $session;
 
   /**
    * The url generator.
    *
-   * @var \Drupal\Core\Render\MetadataBubblingUrlGenerator
+   * @var MetadataBubblingUrlGenerator
    */
   protected $urlGenerator;
 
   /**
    * Constructs a new Subscriber instance.
    *
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path
+   * @param CurrentPathStack $current_path
    *   The current path.
-   * @param \Symfony\Component\HttpFoundation\Session\SessionInterface $session
+   * @param SessionInterface $session
    *   The session.
-   * @param \Drupal\Core\Render\MetadataBubblingUrlGenerator $url_generator
+   * @param MetadataBubblingUrlGenerator $url_generator
    *   The url generator.
    */
   public function __construct(AccountInterface $current_user, CurrentPathStack $current_path, SessionInterface $session, MetadataBubblingUrlGenerator $url_generator) {
@@ -68,7 +68,7 @@ class Subscriber implements EventSubscriberInterface {
    *
    * @see Symfony\Component\HttpKernel\KernelEvents
    */
-  public function performRedirection(GetResponseEvent $event) {
+  public function performRedirection(RequestEvent $event) {
     $trackmyadmin_form_path = '/trackmyadmin/capture_details';
     $roles = $this->currentUser->getRoles();
     // Let us force to provide the details in order to proceed any further.
diff --git a/src/Form/CaptureDetailsForm.php b/src/Form/CaptureDetailsForm.php
index 75a69bc..781f29d 100644
--- a/src/Form/CaptureDetailsForm.php
+++ b/src/Form/CaptureDetailsForm.php
@@ -19,41 +19,41 @@ class CaptureDetailsForm extends FormBase {
   /**
    * The session.
    *
-   * @var \Symfony\Component\HttpFoundation\Session\SessionInterface
+   * @var SessionInterface
    */
   protected $session;
 
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountProxy
+   * @var AccountProxy
    */
   protected $currentUser;
 
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
 
   /**
    * The query helper.
    *
-   * @var \Drupal\trackmyadmin\QueryHelper
+   * @var QueryHelper
    */
   protected $queryHelper;
 
   /**
    * Constructs a new CaptureDetailsForm instance.
    *
-   * @param \Symfony\Component\HttpFoundation\Session\SessionInterface $session
+   * @param SessionInterface $session
    *   The session.
-   * @param \Drupal\Core\Session\AccountProxy $current_user
+   * @param AccountProxy $current_user
    *   The current user.
-   * @param Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The Request Stack.
-   * @param \Drupal\trackmyadmin\QueryHelper $query_helper
+   * @param QueryHelper $query_helper
    *   The query helper.
    */
   public function __construct(SessionInterface $session, AccountProxy $current_user, RequestStack $request_stack, QueryHelper $query_helper) {
diff --git a/src/QueryHelper.php b/src/QueryHelper.php
index c739d47..9865d5e 100644
--- a/src/QueryHelper.php
+++ b/src/QueryHelper.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\trackmyadmin;
 
+use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Database\Connection;
 use Drupal\Core\Datetime\DateFormatter;
 use Drupal\Core\File\FileSystemInterface;
@@ -15,41 +16,41 @@ class QueryHelper {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The date formatter.
    *
-   * @var \Drupal\Core\Datetime\DateFormatter
+   * @var DateFormatter
    */
   protected $dateFormatter;
 
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;
 
   /**
    * The user entity storage handler.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $userStorage;
 
   /**
    * Constructs the QueryHelper Object.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Datetime\DateFormatter $date_formatter
+   * @param DateFormatter $date_formatter
    *   The date formatter.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file system service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct(Connection $connection, DateFormatter $date_formatter, FileSystemInterface $file_system, EntityTypeManagerInterface $entity_type_manager) {
@@ -228,7 +229,7 @@ class QueryHelper {
     // Create the directory if needed.
     if ($this->fileSystem->prepareDirectory($download_folder, FileSystemInterface::CREATE_DIRECTORY)) {
       $file_name = 'TrackMyAdminData_' . date('m-d-Y_H_i', time()) . '.csv';
-      $file_path = file_create_url('public://trackmyadmin/' . $file_name);
+      $file_path = \Drupal::service('file_url_generator')->generateAbsoluteString('public://trackmyadmin/' . $file_name);
       $fileObject = fopen($download_folder . '/' . $file_name, 'a');
       $data = $this->fetchValues('entire_data');
       if (!empty($data)) {
