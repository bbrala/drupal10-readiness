diff --git a/yg_charity.theme b/yg_charity.theme
index ba4318e..7a21f58 100644
--- a/yg_charity.theme
+++ b/yg_charity.theme
@@ -31,10 +31,10 @@ function parallex_section(){
   if (isset($fid[0])) {
     $file = File::load($fid[0]);
     $uri = $file->getFileUri();
-    $path = file_create_url($uri);
+    $path = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
   }
   else {
-    $path = base_path() . drupal_get_path('theme', 'yg_charity') . '/images/bg.gif';
+    $path = base_path() . \Drupal::service('extension.list.theme')->getPath('yg_charity') . '/images/bg.gif';
   }
     $parallex_content[] = "<section id='parallex-section' class='text-center' style='background-image: url(".$path."); background-position:center; background-repeat: no-repeat'>
   <div class='container'>
@@ -54,7 +54,7 @@ return $parallex_content;
 /**
  * Implements hook_form_system_theme_settings_alter().
  */
-function yg_charity_form_system_theme_settings_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state) {
+function yg_charity_form_system_theme_settings_alter(&$form, FormStateInterface $form_state) {
 
 //kint(theme_get_setting('footer_content')['value']);
   $form['yg_charity_settings']['footer'] = array(
