diff --git a/multiple_sitemap.info.yml b/multiple_sitemap.info.yml
index 0c625cf..c9facde 100644
--- a/multiple_sitemap.info.yml
+++ b/multiple_sitemap.info.yml
@@ -3,7 +3,7 @@ description: Create multiple sitemaps.
 type: module
 # version: 1.1
 configure: multiple_sitemap.add_multiple_sitemap
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 # Information added by Drupal.org packaging script on 2021-06-17
 version: '8.x-1.5'
diff --git a/src/Forms/MultipleSitemapForm.php b/src/Forms/MultipleSitemapForm.php
index 70e0509..893dec7 100644
--- a/src/Forms/MultipleSitemapForm.php
+++ b/src/Forms/MultipleSitemapForm.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\multiple_sitemap\Forms;
 
+use Drupal\multiple_sitemap\MultipleSitemapDB;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Component\Utility\UrlHelper;
@@ -17,21 +18,21 @@ class MultipleSitemapForm extends FormBase {
   /**
    * The Messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;
 
   /**
    * The sitemap db.
    *
-   * @var \Drupal\multiple_sitemap\MultipleSitemapDB
+   * @var MultipleSitemapDB
    */
   protected $sitemapDb;
 
   /**
    * MultipleSitemapForm class constructor.
    *
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger service.
    * @param string $sitemap_db
    *   The sitemap_db string.
diff --git a/src/Forms/MultipleSitemapFormDelete.php b/src/Forms/MultipleSitemapFormDelete.php
index 098126a..f46f70c 100644
--- a/src/Forms/MultipleSitemapFormDelete.php
+++ b/src/Forms/MultipleSitemapFormDelete.php
@@ -6,6 +6,7 @@
 
 namespace Drupal\multiple_sitemap\Forms;
 
+use Drupal\multiple_sitemap\MultipleSitemapDB;
 use Drupal\Core\Form\ConfirmFormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Messenger\MessengerInterface;
@@ -27,21 +28,21 @@ class MultipleSitemapFormDelete extends ConfirmFormBase {
   /**
    * The sitemap db.
    *
-   * @var \Drupal\multiple_sitemap\MultipleSitemapDB
+   * @var MultipleSitemapDB
    */
   protected $sitemapDb;
 
   /**
    * The Messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;
 
   /**
    * MultipleSitemapFormDelete class constructor.
    *
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger service.
    * @param string $sitemap_db
    *   The sitemap_db string.
diff --git a/src/MultipleSitemapDB.php b/src/MultipleSitemapDB.php
index 07d2511..50f500d 100644
--- a/src/MultipleSitemapDB.php
+++ b/src/MultipleSitemapDB.php
@@ -16,14 +16,14 @@ class MultipleSitemapDB {
   /**
    * The Messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;
 
   /**
    * MultipleSitemapForm class constructor.
    *
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger service.
    */
   public function __construct(MessengerInterface $messenger) {
diff --git a/src/MultipleSitemapXml.php b/src/MultipleSitemapXml.php
index b3c719f..ec59c81 100644
--- a/src/MultipleSitemapXml.php
+++ b/src/MultipleSitemapXml.php
@@ -55,7 +55,7 @@ class MultipleSitemapXml {
     if (!empty($filesnames)) {
       foreach ($filesnames as $filesname) {
         $sub_file_name = $dir_name . '/' . $filesname . '.xml';
-        $sub_file_name = file_create_url($sub_file_name);
+        $sub_file_name = \Drupal::service('file_url_generator')->generateAbsoluteString($sub_file_name);
         $writer->startElement('sitemap');
         $writer->writeElement('loc', $sub_file_name);
         $writer->writeElement('lastmod', $lastmod);
