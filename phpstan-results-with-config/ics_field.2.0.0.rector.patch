diff --git a/ics_field.info.yml b/ics_field.info.yml
index 2b7c415..8d60fed 100644
--- a/ics_field.info.yml
+++ b/ics_field.info.yml
@@ -1,7 +1,7 @@
 name: ics_field
 type: module
 description: A module providing a calendar download as an .ics file
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: PwC's Experience Center Zurich
 dependencies:
   - datetime
diff --git a/src/CalendarProperty/CalendarPropertyProcessor.php b/src/CalendarProperty/CalendarPropertyProcessor.php
index 08a11b3..1374bda 100644
--- a/src/CalendarProperty/CalendarPropertyProcessor.php
+++ b/src/CalendarProperty/CalendarPropertyProcessor.php
@@ -19,7 +19,7 @@ class CalendarPropertyProcessor {
   use DependencySerializationTrait;
 
   /**
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $tokenService;
 
@@ -34,7 +34,7 @@ class CalendarPropertyProcessor {
   protected $dateFieldUuid;
 
   /**
-   * @var \Drupal\ics_field\Timezone\TimezoneProviderInterface
+   * @var TimezoneProviderInterface
    */
   protected $timezoneProvider;
 
@@ -65,7 +65,7 @@ class CalendarPropertyProcessor {
   /**
    * CalendarPropertyProcessor constructor.
    *
-   * @param \Drupal\Core\Utility\Token $tokenService
+   * @param Token $tokenService
    * @param TimezoneProviderInterface  $timezoneProvider
    * @param string                     $dateFieldReference
    * @param string                     $dateFieldUuid
@@ -82,7 +82,7 @@ class CalendarPropertyProcessor {
 
   /**
    * @param array                                      $tokens
-   * @param \Drupal\Core\Entity\ContentEntityInterface $contentEntity
+   * @param ContentEntityInterface $contentEntity
    * @param string                                     $host
    *
    * @return array
@@ -123,7 +123,7 @@ class CalendarPropertyProcessor {
 
   /**
    * @return array
-   * @throws \Drupal\ics_field\Exception\CalendarDownloadInvalidPropertiesException
+   * @throws CalendarDownloadInvalidPropertiesException
    * @throws \InvalidArgumentException
    */
   private function processDateList(ContentEntityInterface $contentEntity) {
@@ -157,7 +157,7 @@ class CalendarPropertyProcessor {
    *
    * @return bool
    *
-   * @throws \Drupal\ics_field\Exception\CalendarDownloadInvalidPropertiesException
+   * @throws CalendarDownloadInvalidPropertiesException
    *   True if the check was successful, otherwise false.
    *
    * @throws CalendarDownloadInvalidPropertiesException
diff --git a/src/CalendarProperty/CalendarPropertyProcessorFactory.php b/src/CalendarProperty/CalendarPropertyProcessorFactory.php
index 6add9ba..f80d9f1 100644
--- a/src/CalendarProperty/CalendarPropertyProcessorFactory.php
+++ b/src/CalendarProperty/CalendarPropertyProcessorFactory.php
@@ -26,8 +26,8 @@ class CalendarPropertyProcessorFactory {
   /**
    * CalendarPropertyProcessorFactory constructor.
    *
-   * @param \Drupal\ics_field\Timezone\TimezoneProviderInterface $timezoneProvider
-   * @param \Drupal\Core\Utility\Token                                      $token
+   * @param TimezoneProviderInterface $timezoneProvider
+   * @param Token $token
    */
   public function __construct(TimezoneProviderInterface $timezoneProvider,
                               Token $token) {
@@ -36,9 +36,9 @@ class CalendarPropertyProcessorFactory {
   }
 
   /**
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $fieldDefinition
+   * @param FieldDefinitionInterface $fieldDefinition
    *
-   * @return \Drupal\ics_field\CalendarProperty\CalendarPropertyProcessor
+   * @return CalendarPropertyProcessor
    */
   public function create(FieldDefinitionInterface $fieldDefinition) {
 
diff --git a/src/ICalFactory.php b/src/ICalFactory.php
index 898a408..dab1342 100644
--- a/src/ICalFactory.php
+++ b/src/ICalFactory.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\ics_field;
 
+use Drupal\ics_field\Exception\IcalTimezoneInvalidTimestampException;
 use Drupal\ics_field\Normalizer\UrlNormalizerInterface;
 use Eluceo\iCal\Component\Calendar;
 use Eluceo\iCal\Component\Event;
@@ -24,7 +25,7 @@ class ICalFactory {
   /**
    * The request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   protected $request;
 
@@ -36,14 +37,14 @@ class ICalFactory {
   protected $userDatetimezone;
 
   /**
-   * @var \Drupal\ics_field\Normalizer\UrlNormalizerInterface
+   * @var UrlNormalizerInterface
    */
   protected $urlNormalizer;
 
   /**
    * Constructs a new CalendarDownloadUtil.
    *
-   * @param \Drupal\ics_field\Normalizer\UrlNormalizerInterface $normalizer
+   * @param UrlNormalizerInterface $normalizer
    *
    * @internal param \string[] $calendarProperties An array of calendar
    *           properties.*   An array of calendar properties.
@@ -76,7 +77,7 @@ class ICalFactory {
    *
    * @return string The generated ical file as a string.
    *
-   * @throws \Drupal\ics_field\Exception\IcalTimezoneInvalidTimestampException
+   * @throws IcalTimezoneInvalidTimestampException
    * @throws \InvalidArgumentException
    * @throws \UnexpectedValueException
    */
diff --git a/src/ICalTimezoneGenerator.php b/src/ICalTimezoneGenerator.php
index d2cfeed..e67477f 100644
--- a/src/ICalTimezoneGenerator.php
+++ b/src/ICalTimezoneGenerator.php
@@ -40,7 +40,7 @@ class ICalTimezoneGenerator {
    *   depending on the user's timezone.
    * @param array    $dateList
    *
-   * @return \Eluceo\iCal\Component\Timezone The modified timezone object.
+   * @return Timezone The modified timezone object.
    */
   public function applyTimezoneTransitions(Timezone $iCalendarTimezone,
                                            array $dateList) {
@@ -85,7 +85,7 @@ class ICalTimezoneGenerator {
    * @param array $datesList
    *
    * @return \DateTime[]
-   * @throws \Drupal\ics_field\Exception\IcalTimezoneInvalidTimestampException
+   * @throws IcalTimezoneInvalidTimestampException
    */
   public function getMinMaxTimestamps(array $datesList) {
 
@@ -130,7 +130,7 @@ class ICalTimezoneGenerator {
    * @param bool          $daylightSavings
    * @param int           $timezoneOffsetFrom
    *
-   * @return \Eluceo\iCal\Component\TimezoneRule
+   * @return TimezoneRule
    *
    * @throws \InvalidArgumentException
    */
diff --git a/src/IcsFileManager.php b/src/IcsFileManager.php
index 2ef2e5d..59ef449 100644
--- a/src/IcsFileManager.php
+++ b/src/IcsFileManager.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\ics_field;
 
+use Drupal\Core\Logger\LoggerChannelInterface;
+use Symfony\Component\HttpFoundation\Request;
 use Drupal\Core\Entity\ContentEntityBase;
 use Drupal\Core\Entity\EntityFieldManager;
 use Drupal\Core\Field\FieldDefinitionInterface;
@@ -23,42 +25,42 @@ class IcsFileManager {
   /**
    * The logger.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelInterface
+   * @var LoggerChannelInterface
    */
   protected $logger;
 
   /**
    * The request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   protected $request;
 
   /**
    * The entity_field.manager service.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManager
+   * @var EntityFieldManager
    */
   protected $entityFieldManager;
 
   /**
    * The file.usage service.
    *
-   * @var \Drupal\file\FileUsage\FileUsageInterface
+   * @var FileUsageInterface
    */
   protected $fileUsageService;
 
   /**
    * The token service.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $tokenService;
 
   /**
    * The calendar properties processor factory.
    *
-   * @var \Drupal\ics_field\CalendarProperty\CalendarPropertyProcessorFactory
+   * @var CalendarPropertyProcessorFactory
    */
   protected $calendarPropertyProcessorFactory;
 
@@ -72,14 +74,14 @@ class IcsFileManager {
   /**
    * The messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;
 
   /**
    * The filesystem service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $filesystem;
 
@@ -109,9 +111,9 @@ class IcsFileManager {
   /**
    * Updates a node's ics file(s).
    *
-   * @param \Drupal\Core\Entity\ContentEntityBase $contentEntity
+   * @param ContentEntityBase $contentEntity
    *   Incoming content entity.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $fieldConfig
+   * @param FieldDefinitionInterface $fieldConfig
    *   Field configuration.
    * @param array $fieldValue
    *   Incoming content entity.
@@ -154,9 +156,9 @@ class IcsFileManager {
    * can't save a file during post-save so we'll create an empty file during
    * pre-save and update it with the actual content later during post-save.
    *
-   * @param \Drupal\Core\Entity\ContentEntityBase $contentEntity
+   * @param ContentEntityBase $contentEntity
    *   Incoming content entity.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $fieldConfig
+   * @param FieldDefinitionInterface $fieldConfig
    *   Field configuration.
    * @param array $fieldValue
    *   Field value.
@@ -190,9 +192,9 @@ class IcsFileManager {
   /**
    * Create/Update managed ical file.
    *
-   * @param \Drupal\Core\Entity\ContentEntityBase $contentEntity
+   * @param ContentEntityBase $contentEntity
    *   Incoming content entity.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $fieldConfig
+   * @param FieldDefinitionInterface $fieldConfig
    *   Field configuration.
    * @param string $icsFileStr
    *   The ics file as a string.
@@ -226,7 +228,7 @@ class IcsFileManager {
 
     $file = File::load($fileId);
     $fileUri = $file->getFileUri();
-    if (!file_save_data($icsFileStr, $fileUri, FileSystemInterface::EXISTS_REPLACE)) {
+    if (!\Drupal::service('file.repository')->writeData($icsFileStr, $fileUri, FileSystemInterface::EXISTS_REPLACE)) {
       $this->handleFileSaveError($fileUri);
     }
     // Always return the file id, so that it retains the reference to the
@@ -237,9 +239,9 @@ class IcsFileManager {
   /**
    * Creates a new managed file.
    *
-   * @param \Drupal\Core\Entity\ContentEntityBase $contentEntity
+   * @param ContentEntityBase $contentEntity
    *   Incoming content entity.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $fieldConfig
+   * @param FieldDefinitionInterface $fieldConfig
    *   Field configuration.
    * @param string $icsFileStr
    *   The ics file as a string.
@@ -269,9 +271,7 @@ class IcsFileManager {
                         ->uuid()) .
                   '_event.ics';
       $fileUri = $uploadLocation . '/' . $fileName;
-      $file = file_save_data($icsFileStr,
-                             $fileUri,
-                             FileSystemInterface::EXISTS_REPLACE);
+      $file = \Drupal::service('file.repository')->writeData($icsFileStr, $fileUri, FileSystemInterface::EXISTS_REPLACE);
       if ($file) {
         return $file->id();
       }
diff --git a/src/Plugin/Field/FieldFormatter/CalendarDownloadDefaultFormatter.php b/src/Plugin/Field/FieldFormatter/CalendarDownloadDefaultFormatter.php
index efad466..36eaf5f 100644
--- a/src/Plugin/Field/FieldFormatter/CalendarDownloadDefaultFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/CalendarDownloadDefaultFormatter.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\ics_field\Plugin\Field\FieldFormatter;
 
+use Drupal\Core\TypedData\Exception\MissingDataException;
 use Drupal\Core\Field\FieldItemInterface;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Field\FormatterBase;
@@ -24,7 +25,7 @@ class CalendarDownloadDefaultFormatter extends FormatterBase {
   /**
    * {@inheritdoc}
    *
-   * @throws \Drupal\Core\TypedData\Exception\MissingDataException
+   * @throws MissingDataException
    * @throws \InvalidArgumentException
    */
   public function viewElements(FieldItemListInterface $items, $langcode) {
@@ -40,20 +41,20 @@ class CalendarDownloadDefaultFormatter extends FormatterBase {
   /**
    * Generate the output appropriate for one field item.
    *
-   * @param \Drupal\Core\Field\FieldItemInterface $item
+   * @param FieldItemInterface $item
    *   One field item.
    *
    * @return mixed[]|null
    *
    * @throws \InvalidArgumentException
-   * @throws \Drupal\Core\TypedData\Exception\MissingDataException
+   * @throws MissingDataException
    *   A render array for a link element.
    */
   protected function viewValue(FieldItemInterface $item) {
     $fileRef = $item->get('fileref')->getValue();
     $file = File::load($fileRef);//TODO - once formatter classes get container access replace with DI
     if ($file) {
-      $fileUrlObj = Url::fromUri(file_create_url($file->getFileUri()));
+      $fileUrlObj = \Drupal::service('file_url_generator')->generate($file->getFileUri());
       $build = [
         '#type'  => 'link',
         '#title' => $this->t('iCal Download'),
diff --git a/src/Plugin/Field/FieldType/CalendarDownloadType.php b/src/Plugin/Field/FieldType/CalendarDownloadType.php
index 35e879a..055cc83 100644
--- a/src/Plugin/Field/FieldType/CalendarDownloadType.php
+++ b/src/Plugin/Field/FieldType/CalendarDownloadType.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\ics_field\Plugin\Field\FieldType;
 
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Core\TypedData\Exception\MissingDataException;
 use Drupal\Core\Entity\EntityTypeInterface;
 use Drupal\Core\Field\FieldItemBase;
 use Drupal\Core\Field\FieldStorageDefinitionInterface;
@@ -34,28 +36,28 @@ class CalendarDownloadType extends FieldItemBase {
   /**
    * The token service.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $tokenService;
 
   /**
    * The file.usage service.
    *
-   * @var \Drupal\file\FileUsage\FileUsageInterface
+   * @var FileUsageInterface
    */
   protected $fileUsageService;
 
   /**
    * The ics_field.file_manager service.
    *
-   * @var \Drupal\ics_field\IcsFileManager
+   * @var IcsFileManager
    */
   protected $icsFileManager;
 
   /**
    * The filesystem service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $filesystem;
 
@@ -192,7 +194,7 @@ class CalendarDownloadType extends FieldItemBase {
   /**
    * {@inheritdoc}
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws PluginNotFoundException
    */
   public static function schema(FieldStorageDefinitionInterface $fieldDefinition) {
     $targetTypeInfo = \Drupal::entityTypeManager()->getDefinition('file');
@@ -269,7 +271,7 @@ class CalendarDownloadType extends FieldItemBase {
   /**
    * {@inheritdoc}
    *
-   * @throws \Drupal\Core\TypedData\Exception\MissingDataException
+   * @throws MissingDataException
    * @throws \InvalidArgumentException
    */
   public function isEmpty() {
@@ -282,7 +284,7 @@ class CalendarDownloadType extends FieldItemBase {
    *
    * @param array $element
    *   The field element.
-   * @param \Drupal\Core\Form\FormStateInterface $formState
+   * @param FormStateInterface $formState
    *   The form state of the form the field element is part of.
    */
   public function checkWriteableDirectory(array $element,
diff --git a/src/Plugin/Field/FieldWidget/CalendarDownloadDefaultWidget.php b/src/Plugin/Field/FieldWidget/CalendarDownloadDefaultWidget.php
index 549ffc3..aaa2e0b 100644
--- a/src/Plugin/Field/FieldWidget/CalendarDownloadDefaultWidget.php
+++ b/src/Plugin/Field/FieldWidget/CalendarDownloadDefaultWidget.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\ics_field\Plugin\Field\FieldWidget;
 
+use Symfony\Component\DependencyInjection\Exception\ServiceCircularReferenceException;
+use Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException;
 use Drupal\Core\Entity\EntityFieldManager;
 use Drupal\Core\Field\FieldDefinitionInterface;
 use Drupal\Core\Field\FieldItemListInterface;
@@ -32,28 +34,28 @@ class CalendarDownloadDefaultWidget extends WidgetBase implements ContainerFacto
   /**
    * The logger.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelInterface
+   * @var LoggerChannelInterface
    */
   protected $logger;
 
   /**
    * The request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   protected $request;
 
   /**
    * The entity_field.manager service.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManager
+   * @var EntityFieldManager
    */
   protected $entityFieldManager;
 
   /**
    * The token service.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $tokenService;
 
@@ -100,8 +102,8 @@ class CalendarDownloadDefaultWidget extends WidgetBase implements ContainerFacto
   /**
    * {@inheritdoc}
    *
-   * @throws \Symfony\Component\DependencyInjection\Exception\ServiceCircularReferenceException
-   * @throws \Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException
+   * @throws ServiceCircularReferenceException
+   * @throws ServiceNotFoundException
    */
   public static function create(ContainerInterface $container,
                                 array $configuration,
@@ -189,7 +191,7 @@ class CalendarDownloadDefaultWidget extends WidgetBase implements ContainerFacto
   }
 
   /**
-   * @param \Drupal\Core\Form\FormStateInterface $formState
+   * @param FormStateInterface $formState
    *
    * @return bool
    */
diff --git a/tests/src/Functional/CalendarDownloadNodeFormTest.php b/tests/src/Functional/CalendarDownloadNodeFormTest.php
index 6c09e5f..e047055 100644
--- a/tests/src/Functional/CalendarDownloadNodeFormTest.php
+++ b/tests/src/Functional/CalendarDownloadNodeFormTest.php
@@ -2,6 +2,9 @@
 
 namespace Drupal\Tests\ics_field\Functional;
 
+use Drupal\Core\Session\AccountInterface;
+use Drupal\node\Entity\Node;
+use Drupal\Core\Config\Schema\SchemaIncompleteException;
 use Drupal\datetime\Plugin\Field\FieldType\DateTimeItemInterface;
 use Drupal\node\Entity\NodeType;
 use Drupal\Tests\BrowserTestBase;
@@ -18,7 +21,7 @@ class CalendarDownloadNodeFormTest extends BrowserTestBase {
   /**
    * The admin user used in the tests.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $adminUser;
 
@@ -34,7 +37,7 @@ class CalendarDownloadNodeFormTest extends BrowserTestBase {
   /**
    * A node created for testing.
    *
-   * @var \Drupal\node\Entity\Node
+   * @var Node
    */
   protected $testNode;
 
@@ -60,10 +63,9 @@ class CalendarDownloadNodeFormTest extends BrowserTestBase {
 
   /**
    * {@inheritdoc}
-   *
-   * @expectedException \Drupal\Core\Config\Schema\SchemaIncompleteException
    */
   public function setUp(): void {
+    $this->expectException(SchemaIncompleteException::class);
     parent::setUp();
 
     $this->adminUser = $this->drupalCreateUser([], NULL, 1);
diff --git a/tests/src/Unit/CalendarProperty/CalendarPropertyProcessorFactoryTest.php b/tests/src/Unit/CalendarProperty/CalendarPropertyProcessorFactoryTest.php
index 50e5fca..036d784 100644
--- a/tests/src/Unit/CalendarProperty/CalendarPropertyProcessorFactoryTest.php
+++ b/tests/src/Unit/CalendarProperty/CalendarPropertyProcessorFactoryTest.php
@@ -17,11 +17,8 @@ class CalendarPropertyProcessorFactoryTest extends UnitTestCase {
    */
   public function testInstantiation() {
 
-    $tpi = $this->getMockBuilder('Drupal\ics_field\Timezone\TimezoneProviderInterface')
-      ->getMock();
-    $t = $this->getMockBuilder('Drupal\Core\Utility\Token')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $tpi = $this->createMock('Drupal\ics_field\Timezone\TimezoneProviderInterface');
+    $t = $this->createMock('Drupal\Core\Utility\Token');
     $f = new CalendarPropertyProcessorFactory($tpi, $t);
 
     $this->assertInstanceOf('Drupal\ics_field\CalendarProperty\CalendarPropertyProcessorFactory',
@@ -34,23 +31,16 @@ class CalendarPropertyProcessorFactoryTest extends UnitTestCase {
    */
   public function testGeneration() {
 
-    $tpi = $this->getMockBuilder('Drupal\ics_field\Timezone\TimezoneProviderInterface')
-      ->getMock();
-    $t = $this->getMockBuilder('Drupal\Core\Utility\Token')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $tpi = $this->createMock('Drupal\ics_field\Timezone\TimezoneProviderInterface');
+    $t = $this->createMock('Drupal\Core\Utility\Token');
     $f = new CalendarPropertyProcessorFactory($tpi, $t);
 
-    $fdi = $this->getMockBuilder('Drupal\Core\Field\FieldDefinitionInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $fdi = $this->createMock('Drupal\Core\Field\FieldDefinitionInterface');
     $fdi->expects($this->once())
       ->method('getSetting')
       ->will($this->returnValue('I am the reference'));
 
-    $fci = $this->getMockBuilder('Drupal\Core\Field\FieldConfigInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $fci = $this->createMock('Drupal\Core\Field\FieldConfigInterface');
     $fci->expects($this->once())
       ->method('uuid')
       ->will($this->returnValue('i am the uuid'));
diff --git a/tests/src/Unit/CalendarProperty/CalendarPropertyProcessorTest.php b/tests/src/Unit/CalendarProperty/CalendarPropertyProcessorTest.php
index 3df07f1..ed816af 100644
--- a/tests/src/Unit/CalendarProperty/CalendarPropertyProcessorTest.php
+++ b/tests/src/Unit/CalendarProperty/CalendarPropertyProcessorTest.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\Tests\ics_field\Unit\CalendarProperty;
 
+use Drupal\Core\Entity\ContentEntityInterface;
+use PHPUnit\Framework\MockObject\MockObject;
 use Drupal\ics_field\CalendarProperty\CalendarPropertyProcessor;
 use Drupal\ics_field\Exception\CalendarDownloadInvalidPropertiesException;
 use Drupal\Tests\UnitTestCase;
@@ -14,12 +16,12 @@ use Drupal\Tests\UnitTestCase;
 class CalendarPropertyProcessorTest extends UnitTestCase {
 
   /**
-   * @var \Drupal\ics_field\CalendarProperty\CalendarPropertyProcessor
+   * @var CalendarPropertyProcessor
    */
   protected $cpp;
 
   /**
-   * @var \Drupal\Core\Entity\ContentEntityInterface
+   * @var ContentEntityInterface
    */
   protected $ce;
 
@@ -158,12 +160,10 @@ class CalendarPropertyProcessorTest extends UnitTestCase {
   }
 
   /**
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    */
   private function getTokenMock() {
-    $token = $this->getMockBuilder('Drupal\Core\Utility\Token')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $token = $this->createMock('Drupal\Core\Utility\Token');
     $token->expects($this->any())
       ->method('replace')
       ->will($this->returnArgument(0));
@@ -175,8 +175,7 @@ class CalendarPropertyProcessorTest extends UnitTestCase {
    * Get TimezoneProviderInterface mock.
    */
   private function getTzpMock() {
-    $tzp = $this->getMockBuilder('Drupal\ics_field\Timezone\TimezoneProviderInterface')
-      ->getMock();
+    $tzp = $this->createMock('Drupal\ics_field\Timezone\TimezoneProviderInterface');
     $tzp->expects($this->any())
       ->method('getTimezoneString')
       ->will($this->returnValue('Europe/Zurich'));
@@ -185,13 +184,11 @@ class CalendarPropertyProcessorTest extends UnitTestCase {
   }
 
   /**
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    */
   private function getTranslationManagerMock() {
 
-    $tr = $this->getMockBuilder('Drupal\Core\StringTranslation\TranslationManager')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $tr = $this->createMock('Drupal\Core\StringTranslation\TranslationManager');
     $tr->expects($this->any())
       ->method('translate')
       ->will($this->returnArgument(0));
@@ -200,12 +197,11 @@ class CalendarPropertyProcessorTest extends UnitTestCase {
   }
 
   /**
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    */
   private function getContentEntityMock() {
 
-    $ce = $this->getMockBuilder('Drupal\Core\Entity\ContentEntityInterface')
-      ->getMock();
+    $ce = $this->createMock('Drupal\Core\Entity\ContentEntityInterface');
     $ce->expects($this->any())
       ->method('uuid')
       ->will($this->returnValue('i_am_the_uuid'));
@@ -214,9 +210,7 @@ class CalendarPropertyProcessorTest extends UnitTestCase {
       ->will($this->returnValue('node'));
 
     // Method get needs to return some mocks.
-    $il = $this->getMockBuilder('Drupal\datetime\Plugin\Field\FieldType\DateTimeFieldItemList')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $il = $this->createMock('Drupal\datetime\Plugin\Field\FieldType\DateTimeFieldItemList');
     // Returning a value that is not a instanceof DrupalDateTime will result in the datetime being skipped
     // this is enough to get our tests working here.
     $il->expects($this->any())
@@ -231,12 +225,11 @@ class CalendarPropertyProcessorTest extends UnitTestCase {
   }
 
   /**
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    */
   private function getContentEntityWithDateTimeMock($datetimeString = '2020-11-17T00:00:00') {
 
-    $ce = $this->getMockBuilder('Drupal\Core\Entity\ContentEntityInterface')
-      ->getMock();
+    $ce = $this->createMock('Drupal\Core\Entity\ContentEntityInterface');
     $ce->expects($this->any())
       ->method('uuid')
       ->will($this->returnValue('i_am_the_uuid'));
@@ -245,13 +238,9 @@ class CalendarPropertyProcessorTest extends UnitTestCase {
       ->will($this->returnValue('node'));
 
     // Method get needs to return some mocks.
-    $il = $this->getMockBuilder('Drupal\datetime\Plugin\Field\FieldType\DateTimeFieldItemList')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $il = $this->createMock('Drupal\datetime\Plugin\Field\FieldType\DateTimeFieldItemList');
 
-    $dt = $this->getMockBuilder('Drupal\Core\Datetime\DrupalDateTime')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $dt = $this->createMock('Drupal\Core\Datetime\DrupalDateTime');
     $dt->expects($this->any())
       ->method('render')
       ->will($this->returnValue($datetimeString));
diff --git a/tests/src/Unit/ICalFactoryTest.php b/tests/src/Unit/ICalFactoryTest.php
index d21e688..f7ef7d0 100644
--- a/tests/src/Unit/ICalFactoryTest.php
+++ b/tests/src/Unit/ICalFactoryTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\ics_field\Unit;
 
+use PHPUnit\Framework\MockObject\MockObject;
 use Drupal\ics_field\ICalFactory;
 use Drupal\ics_field\Normalizer\UrlNormalizer;
 use Drupal\Tests\UnitTestCase;
@@ -106,7 +107,7 @@ class ICalFactoryTest extends UnitTestCase {
   /**
    * A data provider.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject[]
+   * @return MockObject[]
    *   The mock object for Symfony\Component\HttpFoundation\Request.
    */
   public function schemeHttpHostProvider() {
