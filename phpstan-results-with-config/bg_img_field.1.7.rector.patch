diff --git a/bg_img_field.info.yml b/bg_img_field.info.yml
index 82400ad..a5309ea 100644
--- a/bg_img_field.info.yml
+++ b/bg_img_field.info.yml
@@ -1,7 +1,6 @@
 name: Background Image Field
 description: Allows you to add responsive background images based on selctors.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 type: module
 package: Field types
 
diff --git a/src/Plugin/Field/FieldFormatter/BgImgFieldFormatter.php b/src/Plugin/Field/FieldFormatter/BgImgFieldFormatter.php
index fca8f67..f7a5e74 100644
--- a/src/Plugin/Field/FieldFormatter/BgImgFieldFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/BgImgFieldFormatter.php
@@ -45,7 +45,7 @@ class BgImgFieldFormatter extends ResponsiveImageFormatter implements ContainerF
    *   The plugin unique id.
    * @param string $plugin_definition
    *   The plugin definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field definition.
    * @param array $settings
    *   The stored setting for the formatter.
@@ -56,13 +56,13 @@ class BgImgFieldFormatter extends ResponsiveImageFormatter implements ContainerF
    * @param array $third_party_settings
    *   Any third party setting that might change how the formatter render the
    *   css.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $responsive_image_style_storage
+   * @param EntityStorageInterface $responsive_image_style_storage
    *   The responsive image styles created in the system.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $image_style_storage
+   * @param EntityStorageInterface $image_style_storage
    *   The image styles that have been created int eh system.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   Help generate links.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
    */
   public function __construct(
@@ -179,7 +179,7 @@ class BgImgFieldFormatter extends ResponsiveImageFormatter implements ContainerF
    *
    * @param array $files
    *   An array of image files.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The parent entity the field belongs to. Used for token replacement in the
    *   selector.
    *
@@ -315,7 +315,7 @@ class BgImgFieldFormatter extends ResponsiveImageFormatter implements ContainerF
             }
 
             if ($mapping['image_mapping'] == "_original image_") {
-              $url = file_create_url($image->getFileUri());
+              $url = \Drupal::service('file_url_generator')->generateAbsoluteString($image->getFileUri());
             }
             else {
               $url = ImageStyle::load($mapping['image_mapping'])->buildUrl($image->getFileUri());
