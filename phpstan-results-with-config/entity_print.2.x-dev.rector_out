modules/contrib/entity_print/entity_print.install
modules/contrib/entity_print/entity_print.module
modules/contrib/entity_print/entity_print.post_update.php
modules/contrib/entity_print/modules/entity_print_views/entity_print_views.module
modules/contrib/entity_print/modules/entity_print_views/entity_print_views.views.inc
modules/contrib/entity_print/modules/entity_print_views/src/Controller/ViewPrintController.php
modules/contrib/entity_print/modules/entity_print_views/src/Plugin/views/area/EntityPrintViewsLink.php
modules/contrib/entity_print/modules/entity_print_views/src/Plugin/views/display/PrintExtender.php
modules/contrib/entity_print/modules/entity_print_views/src/Plugin/views/field/PrintLink.php
modules/contrib/entity_print/modules/entity_print_views/src/Renderer/ViewRenderer.php
modules/contrib/entity_print/modules/entity_print_views/tests/src/Functional/PrintViewsTest.php
modules/contrib/entity_print/modules/entity_print_views/tests/src/Kernel/ViewsAccessTest.php
modules/contrib/entity_print/modules/entity_print_views/tests/src/Kernel/ViewsRendererTest.php
modules/contrib/entity_print/src/Annotation/PrintEngine.php
modules/contrib/entity_print/src/Asset/AssetCollector.php
modules/contrib/entity_print/src/Asset/AssetCollectorInterface.php
modules/contrib/entity_print/src/Asset/AssetRenderer.php
modules/contrib/entity_print/src/Asset/AssetRendererInterface.php
modules/contrib/entity_print/src/Controller/EntityPrintController.php
modules/contrib/entity_print/src/Element/PrintLink.php
modules/contrib/entity_print/src/Entity/PrintEngineStorage.php
modules/contrib/entity_print/src/Entity/PrintEngineStorageInterface.php
modules/contrib/entity_print/src/EntityPrintPermissions.php
modules/contrib/entity_print/src/Event/PreSendPrintEvent.php
modules/contrib/entity_print/src/Event/PrintCssAlterEvent.php
modules/contrib/entity_print/src/Event/PrintEventBase.php
modules/contrib/entity_print/src/Event/PrintEvents.php
modules/contrib/entity_print/src/Event/PrintHtmlAlterEvent.php
modules/contrib/entity_print/src/EventSubscriber/PostRenderSubscriber.php
modules/contrib/entity_print/src/EventSubscriber/PrintEngineExceptionSubscriber.php
modules/contrib/entity_print/src/FilenameGenerator.php
modules/contrib/entity_print/src/FilenameGeneratorInterface.php
modules/contrib/entity_print/src/Form/SettingsForm.php
modules/contrib/entity_print/src/Plugin/Action/PrintDownload.php
modules/contrib/entity_print/src/Plugin/Block/PrintLinks.php
modules/contrib/entity_print/src/Plugin/EntityPrint/ExportType/DefaultExportType.php
modules/contrib/entity_print/src/Plugin/EntityPrint/PrintEngine/AlignableHeaderFooterInterface.php
modules/contrib/entity_print/src/Plugin/EntityPrint/PrintEngine/DomPdf.php
modules/contrib/entity_print/src/Plugin/EntityPrint/PrintEngine/PdfEngineBase.php
modules/contrib/entity_print/src/Plugin/EntityPrint/PrintEngine/PhpWkhtmlToPdf.php
modules/contrib/entity_print/src/Plugin/EntityPrint/PrintEngine/TcPdfv1.php
modules/contrib/entity_print/src/Plugin/EntityPrintPluginManager.php
modules/contrib/entity_print/src/Plugin/EntityPrintPluginManagerInterface.php
modules/contrib/entity_print/src/Plugin/ExportTypeInterface.php
modules/contrib/entity_print/src/Plugin/ExportTypeManager.php
modules/contrib/entity_print/src/Plugin/ExportTypeManagerInterface.php
modules/contrib/entity_print/src/Plugin/Field/FieldFormatter/Base64ImageFormatter.php
modules/contrib/entity_print/src/Plugin/PrintEngineBase.php
modules/contrib/entity_print/src/Plugin/PrintEngineInterface.php
modules/contrib/entity_print/src/PrintBuilder.php
modules/contrib/entity_print/src/PrintBuilderInterface.php
modules/contrib/entity_print/src/PrintEngineException.php
modules/contrib/entity_print/src/Renderer/ContentEntityRenderer.php
modules/contrib/entity_print/src/Renderer/RendererBase.php
modules/contrib/entity_print/src/Renderer/RendererFactory.php
modules/contrib/entity_print/src/Renderer/RendererFactoryInterface.php
modules/contrib/entity_print/src/Renderer/RendererInterface.php
modules/contrib/entity_print/tests/modules/entity_print_test/entity_print_test.module
modules/contrib/entity_print/tests/modules/entity_print_test/src/EventSubscriber/TestEngineConfigurationAlter.php
modules/contrib/entity_print/tests/modules/entity_print_test/src/Plugin/EntityPrint/PrintEngine/NotAvailablePrintEngine.php
modules/contrib/entity_print/tests/modules/entity_print_test/src/Plugin/EntityPrint/PrintEngine/PrintExceptionEngine.php
modules/contrib/entity_print/tests/modules/entity_print_test/src/Plugin/EntityPrint/PrintEngine/TestPrintEngine.php
modules/contrib/entity_print/tests/modules/entity_print_test/src/Plugin/EntityPrint/PrintEngine/TestWordPrintEngine.php
modules/contrib/entity_print/tests/src/Functional/Base64ImageTest.php
modules/contrib/entity_print/tests/src/Functional/EntityPrintActionTest.php
modules/contrib/entity_print/tests/src/Functional/EntityPrintAdminTest.php
modules/contrib/entity_print/tests/src/Functional/EntityPrintTest.php
modules/contrib/entity_print/tests/src/Functional/InstallationTest.php
modules/contrib/entity_print/tests/src/FunctionalJavascript/EntityPrintAdminTest.php
modules/contrib/entity_print/tests/src/Kernel/EntityPrintAccessTest.php
modules/contrib/entity_print/tests/src/Kernel/EntityPrintPluginManagerTest.php
modules/contrib/entity_print/tests/src/Kernel/ExtraFieldsTest.php
modules/contrib/entity_print/tests/src/Kernel/FilenameGeneratorTest.php
modules/contrib/entity_print/tests/src/Kernel/NodePreviewTest.php
modules/contrib/entity_print/tests/src/Kernel/PostRenderSubscriberTest.php
modules/contrib/entity_print/tests/src/Kernel/PrintBuilderTest.php
modules/contrib/entity_print/tests/src/Kernel/PrintHtmlAlterTestEvent.php
modules/contrib/entity_print/tests/src/Kernel/PrintLinkTest.php
modules/contrib/entity_print/tests/src/Kernel/TranslationTest.php
modules/contrib/entity_print/tests/src/Unit/AssetCollectorTest.php
modules/contrib/entity_print/tests/src/Unit/PrintEngineExceptionTest.php

58 files with changes
=====================

1) modules/contrib/entity_print/tests/src/Unit/AssetCollectorTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Extension\Extension;
 use Drupal\Core\Extension\InfoParserInterface;
 use Drupal\Core\Extension\ThemeExtensionList;
@@ @@
  */
 class AssetCollectorTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * CSS Alter event should always fire, even when no entries in the theme file.
    */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/entity_print/tests/src/Kernel/PrintLinkTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Kernel;

+use Drupal\entity_print\Plugin\Block\PrintLinks;
 use Drupal\Core\Plugin\Context\Context;
 use Drupal\Core\Plugin\Context\ContextDefinition;
 use Drupal\KernelTests\KernelTestBase;
@@ @@
    * @param array $config
    *   The block configuration.
    *
-   * @return \Drupal\entity_print\Plugin\Block\PrintLinks
+   * @return PrintLinks
    *   The loaded block.
    */
   protected function getBlock(array $config = []) {
@@ @@
     $entity = $this->createMock('Drupal\Core\Entity\EntityInterface');
     $context = new Context(ContextDefinition::create(), $entity);

-    /** @var \Drupal\entity_print\Plugin\Block\PrintLinks $block */
+    /** @var PrintLinks $block */
     $block = $manager->createInstance('print_links', $config);
     $block->setContext('entity', $context);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/entity_print/tests/src/Kernel/PrintBuilderTest.php:117

    ---------- begin diff ----------
@@ @@

     // Print builder generates a filename for us.
     $uri = $builder->savePrintable([$node], $print_engine);
-    $this->assertRegExp('#public://(.*)\.pdf#', $uri);
+    $this->assertMatchesRegularExpression('#public://(.*)\.pdf#', $uri);

     $filename = $this->randomMachineName() . 'pdf';
     $uri = $builder->savePrintable([$node], $print_engine, 'public', $filename);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/entity_print/tests/src/Kernel/PostRenderSubscriberTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Kernel;

+use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\entity_print\EventSubscriber\PostRenderSubscriber;
 use Drupal\KernelTests\KernelTestBase;

@@ @@
    * Test the event subscriber.
    */
   public function testEventSubscriber() {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $configFactory */
+    /** @var ConfigFactoryInterface $configFactory */
     $configFactory = $this->container->get('config.factory');
     $event = new PrintHtmlAlterTestEvent();
     $subscriber = new PostRenderSubscriber($configFactory, $this->container->get('request_stack'));
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/entity_print/tests/src/Kernel/NodePreviewTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Kernel;

+use Drupal\Core\Render\RendererInterface;
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\node\Controller\NodePreviewController;
 use Drupal\node\Entity\Node;
@@ @@

     $controller = NodePreviewController::create($this->container);
     $build = $controller->view($node);
-    /** @var \Drupal\Core\Render\RendererInterface $renderer */
+    /** @var RendererInterface $renderer */
     $renderer = $this->container->get('renderer');
     $renderer->renderPlain($build);
     $this->assertNotError("array_flip(): Can only flip STRING and INTEGER values!", E_WARNING);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/entity_print/tests/src/Kernel/FilenameGeneratorTest.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * The filename generator.
    *
-   * @var \Drupal\entity_print\FilenameGeneratorInterface
+   * @var FilenameGeneratorInterface
    */
   protected $filenameGenerator;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/entity_print/tests/src/Kernel/ExtraFieldsTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Kernel;

+use Drupal\node\Entity\Node;
 use Drupal\Core\Entity\Entity\EntityViewDisplay;
 use Drupal\Core\Session\AnonymousUserSession;
 use Drupal\KernelTests\KernelTestBase;
@@ @@
   /**
    * The node we're working with.
    *
-   * @var \Drupal\node\Entity\Node
+   * @var Node
    */
   protected $node;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/entity_print/tests/src/Kernel/EntityPrintPluginManagerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Kernel;

+use Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface;
+use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\entity_print\PrintEngineException;
 use Drupal\KernelTests\KernelTestBase;

@@ @@
   /**
    * The plugin manager.
    *
-   * @var \Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface
+   * @var EntityPrintPluginManagerInterface
    */
   protected $pluginManager;

@@ @@
    * @covers ::createSelectedInstance
    */
   public function testCreateSelectedInstance() {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface $factory */
+    /** @var ConfigFactoryInterface $factory */
     $factory = $this->container->get('config.factory');
     $config = $factory->getEditable('entity_print.settings');
     $config->set('print_engines', ['pdf_engine' => '']);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/entity_print/tests/src/Kernel/EntityPrintAccessTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Kernel;

+use Drupal\node\Entity\Node;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\entity_print\Controller\EntityPrintController;
 use Drupal\KernelTests\KernelTestBase;
@@ @@
   /**
    * The node object to test against.
    *
-   * @var \Drupal\node\Entity\Node
+   * @var Node
    */
   protected $node;

@@ @@
   /**
    * Checks access for the user to print the view.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   The account we're checking against.
    * @param string $entity_type
    *   The entity type string.
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/entity_print/tests/src/FunctionalJavascript/EntityPrintAdminTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\FunctionalJavascript;

+use Drupal\node\Entity\Node;
+use Drupal\entity_print\Entity\PrintEngineStorageInterface;
 use Drupal\FunctionalJavascriptTests\WebDriverTestBase;

 /**
@@ @@
   /**
    * The node object to test against.
    *
-   * @var \Drupal\node\Entity\Node
+   * @var Node
    */
   protected $node;

@@ @@
     $assert->pageTextContains('Dompdf is not available because it is not configured. Please install with:');

     // Ensure saving the form without any PDF engine selected doesn't blow up.
-    $this->drupalPostForm(NULL, [], 'Save configuration');
+    $this->submitForm([], 'Save configuration');

     // Assert the intial config values.
     $this->getSession()->getPage()->fillField('pdf', 'testprintengine');
@@ @@
     $assert->fieldValueEquals('test_word_print_engine[test_word_setting]', 'my-default');

     // Ensure the plugin gets the chance to validate the form.
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'pdf' => 'testprintengine',
       'word_docx' => 'test_word_print_engine',
       'testprintengine[test_engine_setting]' => 'rejected',
@@ @@
     ], 'Save configuration');
     $assert->pageTextContains('Setting has an invalid value');

-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'default_css' => 0,
       'force_download' => 0,
       'pdf' => 'testprintengine',
@@ @@
       'testprintengine[test_engine_setting]' => 'testvalue',
     ], 'Save configuration');

-    /** @var \Drupal\entity_print\Entity\PrintEngineStorageInterface $config_entity */
+    /** @var PrintEngineStorageInterface $config_entity */
     $config_entity = \Drupal::entityTypeManager()->getStorage('print_engine')->load('testprintengine');
     // Assert the expected settings were stored.
     $this->assertEquals('testprintengine', $config_entity->id());
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/entity_print/tests/src/Functional/InstallationTest.php:53

    ---------- begin diff ----------
@@ @@
    * Uninstall the module using the UI.
    */
   protected function uninstallModules() {
-    $this->drupalPostForm('admin/modules/uninstall', [
+    $this->drupalGet('admin/modules/uninstall');
+    $this->submitForm([
       'uninstall[entity_print_views]' => TRUE,
     ], 'Uninstall');
     $this->getSession()->getPage()->pressButton('Uninstall');
-    $this->drupalPostForm('admin/modules/uninstall', [
+    $this->drupalGet('admin/modules/uninstall');
+    $this->submitForm([
       'uninstall[entity_print]' => TRUE,
     ], 'Uninstall');
     $this->getSession()->getPage()->pressButton('Uninstall');
@@ @@
    * Install the modules using the UI.
    */
   protected function installModules() {
-    $this->drupalPostForm('admin/modules', [
+    $this->drupalGet('admin/modules');
+    $this->submitForm([
       'modules[entity_print][enable]' => TRUE,
       'modules[entity_print_views][enable]' => TRUE,
     ], 'Install');
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/entity_print/tests/src/Functional/EntityPrintTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Functional;

+use Drupal\node\Entity\Node;
 use Drupal\Tests\BrowserTestBase;
 use Drupal\user\Entity\Role;

@@ @@
   /**
    * The node we're printing.
    *
-   * @var \Drupal\node\Entity\Node
+   * @var Node
    */
   protected $node;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/entity_print/tests/src/Functional/EntityPrintAdminTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Functional;

+use Drupal\node\Entity\Node;
 use Drupal\Core\Entity\Entity\EntityViewDisplay;
 use Drupal\Tests\BrowserTestBase;

@@ @@
   /**
    * The node object to test against.
    *
-   * @var \Drupal\node\Entity\Node
+   * @var Node
    */
   protected $node;

@@ @@

     $full_view_mode = 'Full view mode';
     $pdf_view_mode = 'PDF view mode';
-    $this->drupalPostForm('admin/structure/types/manage/page/display', [
+    $this->drupalGet('admin/structure/types/manage/page/display');
+    $this->submitForm([
       'fields[entity_print_view_pdf][empty_cell]' => $full_view_mode,
       'fields[entity_print_view_pdf][region]' => 'content',
     ], 'Save');
@@ @@
     $this->drupalGet('/print/pdf/node/1/debug');
     $assert->pageTextContains($full_view_mode);
     $assert->pageTextNotContains($pdf_view_mode);
+    $this->drupalGet('admin/structure/types/manage/page/display');

     // Configure the PDF view mode.
-    $this->drupalPostForm('admin/structure/types/manage/page/display', [
+    $this->submitForm([
       'display_modes_custom[pdf]' => 1,
     ], 'Save');
-    $this->drupalPostForm('admin/structure/types/manage/page/display/pdf', [
+    $this->drupalGet('admin/structure/types/manage/page/display/pdf');
+    $this->submitForm([
       'fields[entity_print_view_pdf][empty_cell]' => $pdf_view_mode,
       'fields[entity_print_view_pdf][region]' => 'content',
     ], 'Save');
@@ @@

     // Load the EntityViewDisplay and ensure the settings are in the correct
     // place.
-    /** @var \Drupal\Core\Entity\Entity\EntityViewDisplay $display */
+    /** @var EntityViewDisplay $display */
     $display = EntityViewDisplay::load('node.page.default');
     $this->assertSame($full_view_mode, $display->getThirdPartySetting('entity_print', 'pdf_label'));
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/entity_print/tests/src/Functional/EntityPrintActionTest.php:53

    ---------- begin diff ----------
@@ @@
    */
   public function testDownloadPdfAction() {
     $this->drupalGet('/admin/content');
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'action' => 'entity_print_pdf_download_action',
       'node_bulk_form[0]' => 1,
     ], 'Apply to selected items');
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/entity_print/tests/src/Functional/Base64ImageTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print\Functional;

+use Drupal\node\Entity\Node;
 use Drupal\Core\Entity\Entity\EntityViewDisplay;
 use Drupal\Core\Render\RenderContext;
 use Drupal\field\Entity\FieldConfig;
@@ @@
   /**
    * The node we're printing.
    *
-   * @var \Drupal\node\Entity\Node
+   * @var Node
    */
   protected $node;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/entity_print/tests/modules/entity_print_test/src/EventSubscriber/TestEngineConfigurationAlter.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * Alter the configuration for our testpdf engine.
    *
-   * @param \Symfony\Component\EventDispatcher\GenericEvent $event
+   * @param GenericEvent $event
    *   The event object.
    */
   public function alterConfiguration(GenericEvent $event) {
@@ @@
   /**
    * Alter the CSS renderable array and add our CSS.
    *
-   * @param \Drupal\entity_print\Event\PrintCssAlterEvent $event
+   * @param PrintCssAlterEvent $event
    *   The event object.
    */
   public function alterCss(PrintCssAlterEvent $event) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


17) modules/contrib/entity_print/tests/modules/entity_print_test/entity_print_test.module:10

    ---------- begin diff ----------
@@ @@
  * Implements hook_system_theme_info().
  */
 function entity_print_test_system_theme_info() {
-  $themes['entity_print_test_theme'] = drupal_get_path('module', 'entity_print_test') . '/themes/entity_print_test_theme/entity_print_test_theme.info';
+  $themes['entity_print_test_theme'] = \Drupal::service('extension.list.module')->getPath('entity_print_test') . '/themes/entity_print_test_theme/entity_print_test_theme.info';
   return $themes;
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


18) modules/contrib/entity_print/src/Renderer/RendererInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Renderer;

+use Drupal\Core\Entity\EntityInterface;
 /**
  * The renderer interface.
  */
@@ @@
   /**
    * Gets the renderable for this entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface[] $entities
+   * @param EntityInterface[] $entities
    *   The entities we're rendering.
    *
    * @return array
@@ @@
   /**
    * Get the filename for the entity we're printing *without* the extension.
    *
-   * @param \Drupal\Core\Entity\EntityInterface[] $entities
+   * @param EntityInterface[] $entities
    *   The entities for which to generate the filename from.
    *
    * @return string
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


19) modules/contrib/entity_print/src/Renderer/RendererFactoryInterface.php:14

    ---------- begin diff ----------
@@ @@
    * @param string $context
    *   The type, currently supports entities but could change in the future.
    *
-   * @return \Drupal\entity_print\Renderer\RendererInterface
+   * @return RendererInterface
    *   The constructed renderer.
    */
   public function create($item, $context = 'entity');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


20) modules/contrib/entity_print/src/Renderer/RendererBase.php:27

    ---------- begin diff ----------
@@ @@
   /**
    * The asset renderer.
    *
-   * @var \Drupal\entity_print\Asset\AssetRendererInterface
+   * @var AssetRendererInterface
    */
   protected $assetRenderer;

@@ @@
   /**
    * Generate filename's for a printed document.
    *
-   * @var \Drupal\entity_print\FilenameGeneratorInterface
+   * @var FilenameGeneratorInterface
    */
   protected $filenameGenerator;

@@ @@
   /**
    * The event dispatcher.
    *
-   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   * @var EventDispatcherInterface
    */
   protected $dispatcher;

@@ @@
    *
    * @param \Drupal\Core\Render\RendererInterface $renderer
    *   Cores renderer.
-   * @param \Drupal\entity_print\Asset\AssetRendererInterface $asset_renderer
+   * @param AssetRendererInterface $asset_renderer
    *   The asset renderer.
-   * @param \Drupal\entity_print\FilenameGeneratorInterface $filename_generator
+   * @param FilenameGeneratorInterface $filename_generator
    *   Filename generator.
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   * @param EventDispatcherInterface $event_dispatcher
    *   The event dispatcher.
    */
   public function __construct(CoreRendererInterface $renderer, AssetRendererInterface $asset_renderer, FilenameGeneratorInterface $filename_generator, EventDispatcherInterface $event_dispatcher) {
@@ @@
     });

     // Allow other modules to alter the generated HTML.
-    $this->dispatcher->dispatch(PrintEvents::POST_RENDER, new PrintHtmlAlterEvent($html, $entities));
+    $this->dispatcher->dispatch(new PrintHtmlAlterEvent($html, $entities), PrintEvents::POST_RENDER);

     return $html;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


21) modules/contrib/entity_print/src/Renderer/ContentEntityRenderer.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
    *
    * @param \Drupal\Core\Render\RendererInterface $renderer
    *   The renderer.
-   * @param \Drupal\entity_print\Asset\AssetRendererInterface $asset_renderer
+   * @param AssetRendererInterface $asset_renderer
    *   The asset renderer.
-   * @param \Drupal\entity_print\FilenameGeneratorInterface $filename_generator
+   * @param FilenameGeneratorInterface $filename_generator
    *   A filename generator.
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   * @param EventDispatcherInterface $event_dispatcher
    *   The event dispatcher.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct(CoreRendererInterface $renderer, AssetRendererInterface $asset_renderer, FilenameGeneratorInterface $filename_generator, EventDispatcherInterface $event_dispatcher, EntityTypeManagerInterface $entity_type_manager) {
@@ @@
   /**
    * Gets the view mode to use for this entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The content entity we're viewing.
    *
    * @return string
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/entity_print/src/PrintBuilderInterface.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * Render any content entity as a Print.
    *
-   * @param \Drupal\Core\Entity\EntityInterface[] $entities
+   * @param EntityInterface[] $entities
    *   The content entity to render.
-   * @param \Drupal\entity_print\Plugin\PrintEngineInterface $print_engine
+   * @param PrintEngineInterface $print_engine
    *   The plugin id of the Print engine to use.
    * @param bool $force_download
    *   (optional) TRUE to try and force the document download.
@@ @@
   /**
    * Get a HTML version of the entity as used for the Print rendering.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The content entity to render.
    * @param bool $use_default_css
    *   TRUE if you want the default CSS included, otherwise FALSE.
@@ @@
    * to keep the files private, you must specify the uri yourself when calling
    * this method.
    *
-   * @param \Drupal\Core\Entity\EntityInterface[] $entities
+   * @param EntityInterface[] $entities
    *   The content entity to render.
-   * @param \Drupal\entity_print\Plugin\PrintEngineInterface $print_engine
+   * @param PrintEngineInterface $print_engine
    *   The plugin id of the Print engine to use.
    * @param string $scheme
    *   The Drupal scheme.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


23) modules/contrib/entity_print/src/PrintBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print;

+use Drupal\entity_print\Renderer\RendererInterface;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
@@ @@
   /**
    * The Print Renderer factory.
    *
-   * @var \Drupal\entity_print\Renderer\RendererFactoryInterface
+   * @var RendererFactoryInterface
    */
   protected $rendererFactory;

@@ @@
   /**
    * The event dispatcher.
    *
-   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   * @var EventDispatcherInterface
    */
   protected $dispatcher;

@@ @@
   /**
    * Constructs a new EntityPrintPrintBuilder.
    *
-   * @param \Drupal\entity_print\Renderer\RendererFactoryInterface $renderer_factory
+   * @param RendererFactoryInterface $renderer_factory
    *   The Renderer factory.
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   * @param EventDispatcherInterface $event_dispatcher
    *   The event dispatcher.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $string_translation
+   * @param TranslationInterface $string_translation
    *   The string translation service.
    */
   public function __construct(RendererFactoryInterface $renderer_factory, EventDispatcherInterface $event_dispatcher, TranslationInterface $string_translation) {
@@ @@
     $renderer = $this->prepareRenderer($entities, $print_engine, $use_default_css);

     // Allow other modules to alter the generated Print object.
-    $this->dispatcher->dispatch(PrintEvents::PRE_SEND, new PreSendPrintEvent($print_engine, $entities));
+    $this->dispatcher->dispatch(new PreSendPrintEvent($print_engine, $entities), PrintEvents::PRE_SEND);

     // Calculate the filename.
     $filename = $renderer->getFilename($entities) . '.' . $print_engine->getExportType()->getFileExtension();
@@ @@
     $renderer = $this->prepareRenderer($entities, $print_engine, $use_default_css);

     // Allow other modules to alter the generated Print object.
-    $this->dispatcher->dispatch(PrintEvents::PRE_SEND, new PreSendPrintEvent($print_engine, $entities));
+    $this->dispatcher->dispatch(new PreSendPrintEvent($print_engine, $entities), PrintEvents::PRE_SEND);

     // If we didn't have a URI passed in the generate one.
     if (!$filename) {
@@ @@
    *
    * @param array $entities
    *   An array of entities.
-   * @param \Drupal\entity_print\Plugin\PrintEngineInterface $print_engine
+   * @param PrintEngineInterface $print_engine
    *   The print engine.
    * @param bool $use_default_css
    *   TRUE if we want the default CSS included.
    *
-   * @return \Drupal\entity_print\Renderer\RendererInterface
+   * @return RendererInterface
    *   A print renderer.
    */
   protected function prepareRenderer(array $entities, PrintEngineInterface $print_engine, $use_default_css) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


24) modules/contrib/entity_print/src/Plugin/PrintEngineInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Plugin;

+use Drupal\entity_print\PrintEngineException;
 use Drupal\Component\Plugin\PluginInspectionInterface;
 use Drupal\Component\Plugin\ConfigurableInterface;
 use Drupal\Core\Plugin\PluginFormInterface;
@@ @@
   /**
    * Gets the export type.
    *
-   * @return \Drupal\entity_print\Plugin\ExportTypeInterface
+   * @return ExportTypeInterface
    *   The export type interface.
    */
   public function getExportType();
@@ @@
    * @param bool $force_download
    *   TRUE to attempt to force the browser to download the PDF otherwise FALSE.
    *
-   * @throws \Drupal\entity_print\PrintEngineException
+   * @throws PrintEngineException
    *   Thrown when Print generation fails.
    */
   public function send($filename, $force_download = TRUE);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


25) modules/contrib/entity_print/src/Plugin/PrintEngineBase.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * The export type plugin.
    *
-   * @var \Drupal\entity_print\Plugin\ExportTypeInterface
+   * @var ExportTypeInterface
    */
   protected $exportType;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


26) modules/contrib/entity_print/src/Plugin/Field/FieldFormatter/Base64ImageFormatter.php:48

    ---------- begin diff ----------
@@ @@
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $element = [];

-    /** @var \Drupal\file\Entity\File $file */
+    /** @var File $file */
     foreach ($items as $delta => $item) {
       $file = $item->entity;
       $uri = $file->getFileUri();
@@ @@
   /**
    * Gets the image style uri.
    *
-   * @param \Drupal\image\Entity\ImageStyle $image_style
+   * @param ImageStyle $image_style
    *   The image style we want a URL for.
-   * @param \Drupal\file\Entity\File $file
+   * @param File $file
    *   The file object.
    *
    * @return bool|string
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


27) modules/contrib/entity_print/src/Plugin/ExportTypeManager.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The theme handler.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;

@@ @@
   /**
    * Constructs a new export type manager.
    *
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   The cache backend.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler.
    */
   public function __construct(CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler, ThemeHandlerInterface $theme_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


28) modules/contrib/entity_print/src/Plugin/EntityPrintPluginManagerInterface.php:14

    ---------- begin diff ----------
@@ @@
    * @param string $export_type
    *   The export type plugin id.
    *
-   * @return \Drupal\entity_print\Plugin\PrintEngineInterface
+   * @return PrintEngineInterface
    *   The loaded print engine.
    */
   public function createSelectedInstance($export_type);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


29) modules/contrib/entity_print/src/Plugin/EntityPrintPluginManager.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Plugin;

+use Drupal\entity_print\Entity\PrintEngineStorageInterface;
 use Drupal\Core\Cache\CacheBackendInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
   /**
    * The event dispatcher.
    *
-   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   * @var EventDispatcherInterface
    */
   protected $dispatcher;

@@ @@
   /**
    * The config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $dispatcher
+   * @param EventDispatcherInterface $dispatcher
    *   The event dispatcher.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler, EventDispatcherInterface $dispatcher, ConfigFactoryInterface $config_factory, EntityTypeManagerInterface $entity_type_manager) {
@@ @@
   public function createInstance($plugin_id, array $configuration = []) {
     $configuration = array_merge($this->getPrintEngineSettings($plugin_id), $configuration);

-    /** @var \Drupal\entity_print\Plugin\PrintEngineInterface $class */
+    /** @var PrintEngineInterface $class */
     $definition = $this->getDefinition($plugin_id);
     $class = $definition['class'];

@@ @@
       $this->disabledPrintEngines[$filter_export_type] = [];

       foreach ($this->getDefinitions() as $plugin_id => $definition) {
-        /** @var \Drupal\entity_print\Plugin\PrintEngineInterface $class */
+        /** @var PrintEngineInterface $class */
         $class = $definition['class'];
         if ($definition['export_type'] === $filter_export_type && !$class::dependenciesAvailable()) {
           $this->disabledPrintEngines[$filter_export_type][$plugin_id] = $definition;
@@ @@
    *   An array of Print engine settings for this plugin.
    */
   protected function getPrintEngineSettings($plugin_id) {
-    /** @var \Drupal\entity_print\Entity\PrintEngineStorageInterface $storage */
+    /** @var PrintEngineStorageInterface $storage */
     $storage = $this->entityTypeManager->getStorage('print_engine');
     if (!$entity = $storage->load($plugin_id)) {
       $entity = $storage->create(['id' => $plugin_id]);
@@ @@
     }
     $configuration = $entity->getSettings();
     $event = new GenericEvent(PrintEvents::CONFIGURATION_ALTER, ['configuration' => $configuration, 'config' => $entity]);
-    $this->dispatcher->dispatch(PrintEvents::CONFIGURATION_ALTER, $event);
+    $this->dispatcher->dispatch($event, PrintEvents::CONFIGURATION_ALTER);
     $configuration = $event->getArgument('configuration');

     return $configuration;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


30) modules/contrib/entity_print/src/Plugin/EntityPrint/PrintEngine/DomPdf.php:60

    ---------- begin diff ----------
@@ @@
   /**
    * The current request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   protected $request;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


31) modules/contrib/entity_print/src/Plugin/Block/PrintLinks.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Plugin\Block;

+use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Block\BlockBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
@@ @@
   /**
    * The export type manager.
    *
-   * @var \Drupal\entity_print\Plugin\ExportTypeManagerInterface
+   * @var ExportTypeManagerInterface
    */
   protected $exportTypeManager;

@@ @@
    *   Plugin ID.
    * @param array $plugin_definition
    *   Plugin definition.
-   * @param \Drupal\entity_print\Plugin\ExportTypeManagerInterface $exportTypeManager
+   * @param ExportTypeManagerInterface $exportTypeManager
    *   The export type manager.
    */
   public function __construct(array $configuration, $plugin_id, array $plugin_definition, ExportTypeManagerInterface $exportTypeManager) {
@@ @@
    * {@inheritdoc}
    */
   public function build() {
-    /** @var \Drupal\Core\Entity\EntityInterface $entity */
+    /** @var EntityInterface $entity */
     $entity = $this->getContextValue('entity');
     $configuration = $this->getConfiguration();
     $route_params = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


32) modules/contrib/entity_print/src/Plugin/Action/PrintDownload.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Plugin\Action;

+use Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface;
+use Drupal\entity_print\Plugin\PrintEngineInterface;
+use Drupal\node\NodeInterface;
 use Drupal\Component\Plugin\PluginManagerInterface;
 use Drupal\Component\Render\FormattableMarkup;
 use Drupal\Component\Utility\Xss;
@@ @@
   /**
    * Access manager.
    *
-   * @var \Drupal\Core\Access\AccessManagerInterface
+   * @var AccessManagerInterface
    */
   protected $accessManager;

@@ @@
   /**
    * The Print builder service.
    *
-   * @var \Drupal\entity_print\PrintBuilderInterface
+   * @var PrintBuilderInterface
    */
   protected $printBuilder;

@@ @@
   /**
    * The Entity Print plugin manager.
    *
-   * @var \Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface
+   * @var EntityPrintPluginManagerInterface
    */
   protected $entityPrintPluginManager;

@@ @@
   /**
    * The export type manager.
    *
-   * @var \Drupal\entity_print\Plugin\ExportTypeManagerInterface
+   * @var ExportTypeManagerInterface
    */
   protected $exportTypeManager;

@@ @@
   /**
    * The Print engine implementation.
    *
-   * @var \Drupal\entity_print\Plugin\PrintEngineInterface
+   * @var PrintEngineInterface
    */
   protected $printEngine;

@@ @@
    * {@inheritdoc}
    */
   public function access($object, AccountInterface $account = NULL, $return_as_object = FALSE) {
-    /** @var \Drupal\node\NodeInterface $object */
+    /** @var NodeInterface $object */
     $route_params = [
       'export_type' => $this->configuration['export_type'],
       'entity_id' => $object->id(),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


33) modules/contrib/entity_print/src/Form/SettingsForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Form;

+use Drupal\entity_print\Plugin\PrintEngineInterface;
+use Drupal\entity_print\Entity\PrintEngineStorage;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Form\ConfigFormBase;
@@ @@
   /**
    * The Print engine plugin manager.
    *
-   * @var \Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface
+   * @var EntityPrintPluginManagerInterface
    */
   protected $pluginManager;

@@ @@
   /**
    * The entity config storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $storage;

@@ @@
   /**
    * The export type manager.
    *
-   * @var \Drupal\entity_print\Plugin\ExportTypeManagerInterface
+   * @var ExportTypeManagerInterface
    */
   protected $exportTypeManager;

@@ @@
   /**
    * Constructs a \Drupal\system\ConfigFormBase object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface $plugin_manager
+   * @param EntityPrintPluginManagerInterface $plugin_manager
    *   The plugin manager object.
-   * @param \Drupal\entity_print\Plugin\ExportTypeManagerInterface $export_type_manager
+   * @param ExportTypeManagerInterface $export_type_manager
    *   The export type manager interface.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $entity_storage
+   * @param EntityStorageInterface $entity_storage
    *   The config storage.
    */
   public function __construct(ConfigFactoryInterface $config_factory, EntityPrintPluginManagerInterface $plugin_manager, ExportTypeManagerInterface $export_type_manager, EntityStorageInterface $entity_storage) {
@@ @@
   public function buildForm(array $form, FormStateInterface $form_state, Request $request = NULL) {
     $print_engines = [];
     foreach ($this->pluginManager->getDefinitions() as $plugin_id => $definition) {
-      /** @var \Drupal\entity_print\Plugin\PrintEngineInterface $class */
+      /** @var PrintEngineInterface $class */
       $class = $definition['class'];
       if ($class::dependenciesAvailable()) {
         $print_engines[$definition['export_type']][$plugin_id] = $definition['label'];
@@ @@
    *
    * @param string $plugin_id
    *   The plugin id for which we want the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state object.
    *
    * @return array
@@ @@
         // Load the config entity, submit the relevant plugin form and then save
         // it.
         $entity = $this->loadConfigEntity($plugin_id);
-        /** @var \Drupal\entity_print\Plugin\PrintEngineInterface $plugin */
+        /** @var PrintEngineInterface $plugin */
         $plugin = $entity->getPrintEnginePluginCollection()->get($entity->id());
         $plugin->validateConfigurationForm($form, $form_state);
       }
@@ @@
     foreach ($this->exportTypeManager->getDefinitions() as $export_type => $definition) {
       if ($plugin_id = $form_state->getValue($export_type)) {
         $entity = $this->loadConfigEntity($plugin_id);
-        /** @var \Drupal\entity_print\Plugin\PrintEngineInterface $plugin */
+        /** @var PrintEngineInterface $plugin */
         $plugin = $entity->getPrintEnginePluginCollection()->get($entity->id());
         $plugin->submitConfigurationForm($form, $form_state);
         $entity->save();
@@ @@
    * @param string $plugin_id
    *   The Print engine plugin id.
    *
-   * @return \Drupal\entity_print\Entity\PrintEngineStorage
+   * @return PrintEngineStorage
    *   The loaded config object backing the plugin.
    */
   protected function loadConfigEntity($plugin_id) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


34) modules/contrib/entity_print/src/FilenameGeneratorInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print;

+use Drupal\Core\Entity\EntityInterface;
 /**
  * The filename generator interface.
  */
@@ @@
   /**
    * Generates a filename to be used for a printed document.
    *
-   * @param \Drupal\Core\Entity\EntityInterface[] $entities
+   * @param EntityInterface[] $entities
    *   An array of entities to generate a filename for.
    * @param callable $entity_label_callback
    *   (optional) A function to generate the label for an individual entity.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


35) modules/contrib/entity_print/src/FilenameGenerator.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print;

+use Drupal\Core\Entity\EntityInterface;
 use Drupal\Component\Transliteration\TransliterationInterface;

 /**
@@ @@
   /**
    * The transliteration service.
    *
-   * @var \Drupal\Component\Transliteration\TransliterationInterface
+   * @var TransliterationInterface
    */
   protected $transliteration;

@@ @@
   /**
    * FilenameGenerator constructor.
    *
-   * @param \Drupal\Component\Transliteration\TransliterationInterface $transliteration
+   * @param TransliterationInterface $transliteration
    *   Transliteration service.
    */
   public function __construct(TransliterationInterface $transliteration) {
@@ @@
    */
   public function generateFilename(array $entities, callable $entity_label_callback = NULL) {
     $filenames = [];
-    /** @var \Drupal\Core\Entity\EntityInterface $entity */
+    /** @var EntityInterface $entity */
     foreach ($entities as $entity) {
       if ($label = trim($this->sanitizeFilename($entity_label_callback ? $entity_label_callback($entity) : $entity->label(), $entity->language()->getId()))) {
         $filenames[] = $label;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


36) modules/contrib/entity_print/src/EventSubscriber/PrintEngineExceptionSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\ExceptionEvent;
+use Drupal\views\ViewExecutable;
+use Drupal\Core\Entity\EntityInterface;
+use Drupal\views\ViewEntityInterface;
 use Drupal\Component\Render\FormattableMarkup;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Routing\RouteMatchInterface;
@@ @@
 use Drupal\entity_print\PrintEngineException;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\RedirectResponse;
-use Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent;
 use Symfony\Component\HttpKernel\KernelEvents;

 /**
@@ @@
   /**
    * The route match service.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;

@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * PrintEngineExceptionSubscriber constructor.
    *
-   * @param \Drupal\Core\Routing\RouteMatchInterface $routeMatch
+   * @param RouteMatchInterface $routeMatch
    *   Route match service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entityTypeManager
+   * @param EntityTypeManagerInterface $entityTypeManager
    *   Entity type manager.
    */
   public function __construct(RouteMatchInterface $routeMatch, EntityTypeManagerInterface $entityTypeManager) {
@@ @@
   /**
    * Handles print exceptions.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent $event
+   * @param ExceptionEvent $event
    *   The exception event.
    */
-  public function handleException(GetResponseForExceptionEvent $event) {
-    $exception = $event->getException();
+  public function handleException(ExceptionEvent $event) {
+    $exception = $event->getThrowable();
     if ($exception instanceof PrintEngineException) {
       \Drupal::messenger()->addError(new FormattableMarkup($exception->getPrettyMessage(), []));

@@ @@
       }
       elseif ($view = $this->getView()) {
         $display_id = $this->routeMatch->getParameter('display_id');
-        /** @var \Drupal\views\ViewExecutable $executable */
+        /** @var ViewExecutable $executable */
         $executable = $view->getExecutable();
         $executable->setDisplay($display_id);
         $url = $executable->hasUrl() ? $executable->getUrl()->toString() : Url::fromRoute('<front>');
@@ @@
   /**
    * Gets a generic entity from the route data if it exists.
    *
-   * @return bool|\Drupal\Core\Entity\EntityInterface
+   * @return bool|EntityInterface
    *   The entity or FALSE if it does not exist.
    */
   protected function getEntity() {
@@ @@
   /**
    * Gets the view from the route data if it exists.
    *
-   * @return bool|\Drupal\views\ViewEntityInterface
+   * @return bool|ViewEntityInterface
    *   The View or FALSE if it not a view route.
    */
   protected function getView() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


37) modules/contrib/entity_print/src/EventSubscriber/PostRenderSubscriber.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The Config Factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * PostRenderSubscriber constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    */
   public function __construct(ConfigFactoryInterface $config_factory, RequestStack $request_stack) {
@@ @@
   /**
    * Alter the HTML after it has been rendered.
    *
-   * @param \Drupal\entity_print\Event\PrintHtmlAlterEvent $event
+   * @param PrintHtmlAlterEvent $event
    *   The event object.
    *
    *   This is a temporary workaround for a core issue.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


38) modules/contrib/entity_print/src/Event/PrintHtmlAlterEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Event;

-use Symfony\Component\EventDispatcher\Event;
-
+use Symfony\Contracts\EventDispatcher\Event;
+use Drupal\Core\Entity\EntityInterface;
 /**
  * An event to alter the HTML string.
  */
@@ @@
   /**
    * An array of entities we're rendering.
    *
-   * @var \Drupal\Core\Entity\EntityInterface[]
+   * @var EntityInterface[]
    */
   protected $entities;

@@ @@
   /**
    * Gets the entities being rendered.
    *
-   * @return \Drupal\Core\Entity\EntityInterface[]
+   * @return EntityInterface[]
    *   An array of entities.
    */
   public function getEntities() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


39) modules/contrib/entity_print/src/Event/PrintEventBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\entity_print\Plugin\PrintEngineInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Event base class.
@@ @@
   /**
    * The print engine plugin.
    *
-   * @var \Drupal\entity_print\Plugin\PrintEngineInterface
+   * @var PrintEngineInterface
    */
   protected $printEngine;

@@ @@
   /**
    * The Print Engine event base class.
    *
-   * @param \Drupal\entity_print\Plugin\PrintEngineInterface $print_engine
+   * @param PrintEngineInterface $print_engine
    *   The Print Engine.
    */
   public function __construct(PrintEngineInterface $print_engine) {
@@ @@
   /**
    * Gets the Print Engine plugin that will print the Print.
    *
-   * @return \Drupal\entity_print\Plugin\PrintEngineInterface
+   * @return PrintEngineInterface
    *   The Print Engine.
    */
   public function getPrintEngine() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


40) modules/contrib/entity_print/src/Event/PrintCssAlterEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Event;

-use Symfony\Component\EventDispatcher\Event;
-
+use Symfony\Contracts\EventDispatcher\Event;
+use Drupal\Core\Entity\EntityInterface;
 /**
  * This event allows the CSS libraries to be altered.
  */
@@ @@
   /**
    * An array of entities we're rendering.
    *
-   * @var \Drupal\Core\Entity\EntityInterface[]
+   * @var EntityInterface[]
    */
   protected $entities;

@@ @@
   /**
    * Gets the entities being rendered.
    *
-   * @return \Drupal\Core\Entity\EntityInterface[]
+   * @return EntityInterface[]
    *   An array of entities.
    */
   public function getEntities() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


41) modules/contrib/entity_print/src/Event/PreSendPrintEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Event;

+use Drupal\Core\Entity\EntityInterface;
 use Drupal\entity_print\Plugin\PrintEngineInterface;

 /**
@@ @@
   /**
    * An array of entities.
    *
-   * @var \Drupal\Core\Entity\EntityInterface[]
+   * @var EntityInterface[]
    */
   protected $entities;

@@ @@
   /**
    * PreSendPrintEvent constructor.
    *
-   * @param \Drupal\entity_print\Plugin\PrintEngineInterface $print_engine
+   * @param PrintEngineInterface $print_engine
    *   The Print Engine.
-   * @param \Drupal\Core\Entity\EntityInterface[] $entities
+   * @param EntityInterface[] $entities
    *   The entity to print.
    */
   public function __construct(PrintEngineInterface $print_engine, array $entities) {
@@ @@
   /**
    * Gets the entities that is being printed to Print.
    *
-   * @return \Drupal\Core\Entity\EntityInterface[]
+   * @return EntityInterface[]
    *   The content entities.
    */
   public function getEntities() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


42) modules/contrib/entity_print/src/EntityPrintPermissions.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print;

+use Drupal\Core\Entity\EntityTypeInterface;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\DependencyInjection\ContainerInjectionInterface;
@@ @@
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Entity type bundle info.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface
+   * @var EntityTypeBundleInfoInterface
    */
   protected $entityTypeBundleInfo;

@@ @@
   /**
    * Constructs a new EntityPrintPermissions.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity manager.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle info.
-   * @param \Drupal\Core\StringTranslation\TranslationManager $translation_manager
+   * @param TranslationManager $translation_manager
    *   The translation manager.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, EntityTypeBundleInfoInterface $entity_type_bundle_info, TranslationManager $translation_manager) {
@@ @@
    * Returns an array of entity_print permissions.
    */
   public function getPermissions() {
-    /** @var \Drupal\Core\Entity\EntityTypeInterface[] $content_entity_types */
+    /** @var EntityTypeInterface[] $content_entity_types */
     // Get all EntityTypes for the group "content".
     $content_entity_types = array_filter($this->entityTypeManager->getDefinitions(), function ($entity_type) {
       return $entity_type->getGroup() === 'content';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


43) modules/contrib/entity_print/src/Entity/PrintEngineStorageInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Entity;

+use Drupal\Core\Plugin\DefaultSingleLazyPluginCollection;
 use Drupal\Core\Entity\EntityWithPluginCollectionInterface;
 use Drupal\Core\Config\Entity\ConfigEntityInterface;

@@ @@
   /**
    * Gets a single lazy plugin collection.
    *
-   * @return \Drupal\Core\Plugin\DefaultSingleLazyPluginCollection
+   * @return DefaultSingleLazyPluginCollection
    *   The plugin collection for our Print Engine plugin.
    */
   public function getPrintEnginePluginCollection();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


44) modules/contrib/entity_print/src/Entity/PrintEngineStorage.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Entity;

+use Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface;
 use Drupal\Core\Config\Entity\ConfigEntityBase;
 use Drupal\Core\Plugin\DefaultSingleLazyPluginCollection;

@@ @@
   /**
    * The plugin collection for one Print engine.
    *
-   * @var \Drupal\Core\Plugin\DefaultSingleLazyPluginCollection
+   * @var DefaultSingleLazyPluginCollection
    */
   protected $printEnginePluginCollection;

@@ @@
   /**
    * Gets the plugin manager.
    *
-   * @return \Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface
+   * @return EntityPrintPluginManagerInterface
    *   The plugin manager instance.
    */
   protected function getPrintEnginePluginManager() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


45) modules/contrib/entity_print/src/Controller/EntityPrintController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Controller;

+use Symfony\Component\HttpFoundation\RedirectResponse;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The plugin manager for our Print engines.
    *
-   * @var \Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface
+   * @var EntityPrintPluginManagerInterface
    */
   protected $pluginManager;

@@ @@
   /**
    * The export type manager.
    *
-   * @var \Drupal\entity_print\Plugin\ExportTypeManagerInterface
+   * @var ExportTypeManagerInterface
    */
   protected $exportTypeManager;

@@ @@
   /**
    * The Print builder.
    *
-   * @var \Drupal\entity_print\PrintBuilderInterface
+   * @var PrintBuilderInterface
    */
   protected $printBuilder;

@@ @@
   /**
    * The Entity Type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
    * @param int $entity_id
    *   The entity id.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   The response object on error otherwise the Print is sent.
    */
   public function viewPrint($export_type, $entity_type, $entity_id) {
@@ @@
    * @param int $entity_id
    *   The entity id.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   The response object.
    *
    * @TODO, improve permissions in https://www.drupal.org/node/2759553
@@ @@
    * @param int $entity_id
    *   The entity id.
    *
-   * @return \Drupal\Core\Access\AccessResult
+   * @return AccessResult
    *   The access result object.
    */
   public function checkAccess($export_type, $entity_type, $entity_id) {
@@ @@
    * @param string|int $entity_id
    *   The entity type id.
    *
-   * @return \Symfony\Component\HttpFoundation\RedirectResponse
+   * @return RedirectResponse
    *   The redirect response.
    */
   public function viewRedirect($export_type, $entity_type, $entity_id) {
@@ @@
    * @param string|int $entity_id
    *   The entity type id.
    *
-   * @return \Symfony\Component\HttpFoundation\RedirectResponse
+   * @return RedirectResponse
    *   The redirect response.
    */
   public function viewRedirectDebug($export_type, $entity_type, $entity_id) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


46) modules/contrib/entity_print/src/Asset/AssetRendererInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Asset;

+use Drupal\Core\Entity\EntityInterface;
 /**
  * Interface for the print asset renderer.
  */
@@ @@
   /**
    * Renders the CSS assets for the given entities.
    *
-   * @param \Drupal\Core\Entity\EntityInterface[] $entities
+   * @param EntityInterface[] $entities
    *   An array of entities for whose assets we want to render.
    * @param bool $use_default_css
    *   TRUE to add in the global CSS otherwise FALSE.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


47) modules/contrib/entity_print/src/Asset/AssetRenderer.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Asset;

+use Drupal\Core\Asset\CssCollectionRenderer;
 use Drupal\Core\Asset\AssetCollectionRendererInterface;
 use Drupal\Core\Asset\AssetResolverInterface;
 use Drupal\Core\Asset\AttachedAssets;
@@ @@
   /**
    * The asset resolver.
    *
-   * @var \Drupal\Core\Asset\AssetResolverInterface
+   * @var AssetResolverInterface
    */
   protected $assetResolver;

@@ @@
   /**
    * The css asset renderer.
    *
-   * @var \Drupal\Core\Asset\CssCollectionRenderer
+   * @var CssCollectionRenderer
    */
   protected $cssRenderer;

@@ @@
   /**
    * Asset collector.
    *
-   * @var \Drupal\entity_print\Asset\AssetCollectorInterface
+   * @var AssetCollectorInterface
    */
   protected $assetCollector;

@@ @@
   /**
    * AssetRenderer constructor.
    *
-   * @param \Drupal\Core\Asset\AssetResolverInterface $asset_resolver
+   * @param AssetResolverInterface $asset_resolver
    *   The asset resolver.
-   * @param \Drupal\Core\Asset\AssetCollectionRendererInterface $css_renderer
+   * @param AssetCollectionRendererInterface $css_renderer
    *   The CSS renderer.
-   * @param \Drupal\entity_print\Asset\AssetCollectorInterface $asset_collector
+   * @param AssetCollectorInterface $asset_collector
    *   The asset collector.
    */
   public function __construct(AssetResolverInterface $asset_resolver, AssetCollectionRendererInterface $css_renderer, AssetCollectorInterface $asset_collector) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


48) modules/contrib/entity_print/src/Asset/AssetCollectorInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Asset;

+use Drupal\Core\Entity\EntityInterface;
 /**
  * Collect all css assets for the entities being printed.
  */
@@ @@
    *   node:
    *     article: 'yourtheme/article-pdf'
    *
-   * @param \Drupal\Core\Entity\EntityInterface[] $entities
+   * @param EntityInterface[] $entities
    *   The entity info from entity_get_info().
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


49) modules/contrib/entity_print/src/Asset/AssetCollector.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print\Asset;

+use Drupal\Core\Extension\ThemeExtensionList;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Extension\InfoParserInterface;
 use Drupal\Core\Extension\ThemeHandlerInterface;
@@ @@
   /**
    * The theme handler.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;

@@ @@
   /**
    * Theme extension list.
    *
-   * @var \Drupal\Core\Extension\ThemeExtensionList
+   * @var ThemeExtensionList
    */
   protected $themeExtension;

@@ @@
   /**
    * The event dispatcher.
    *
-   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   * @var EventDispatcherInterface
    */
   protected $dispatcher;

@@ @@
   /**
    * AssetCollector constructor.
    *
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler.
-   * @param \Drupal\Core\Extension\ThemeExtensionList|\Drupal\Core\Extension\InfoParserInterface $theme_extension_list
+   * @param ThemeExtensionList|InfoParserInterface $theme_extension_list
    *   Theme extension list.
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   * @param EventDispatcherInterface $event_dispatcher
    *   The event dispatcher.
    */
   public function __construct(ThemeHandlerInterface $theme_handler, $theme_extension_list, EventDispatcherInterface $event_dispatcher) {
@@ @@
       }
     }

-    $this->dispatcher->dispatch(PrintEvents::CSS_ALTER, new PrintCssAlterEvent($libraries, $entities));
+    $this->dispatcher->dispatch(new PrintCssAlterEvent($libraries, $entities), PrintEvents::CSS_ALTER);

     return $libraries;
   }
@@ @@
   /**
    * Build the CSS for a single entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity to build the CSS for.
    * @param array $theme_info
    *   A list of css libraries to add.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


50) modules/contrib/entity_print/modules/entity_print_views/tests/src/Kernel/ViewsAccessTest.php:66

    ---------- begin diff ----------
@@ @@
   /**
    * Checks access for the user to print the view.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   The account we're checking against.
    * @param string $view_name
    *   The view name.
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


51) modules/contrib/entity_print/modules/entity_print_views/tests/src/Functional/PrintViewsTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\entity_print_views\Functional;

+use Drupal\node\Entity\Node;
 use Drupal\Tests\BrowserTestBase;
 use Drupal\user\Entity\Role;

@@ @@
   /**
    * An array of nodes.
    *
-   * @var \Drupal\node\Entity\Node[]
+   * @var Node[]
    */
   protected $nodes;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


52) modules/contrib/entity_print/modules/entity_print_views/src/Renderer/ViewRenderer.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print_views\Renderer;

+use Drupal\views\Entity\View;
+use Drupal\views\ViewEntityInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityTypeInterface;
 use Drupal\Core\Security\TrustedCallbackInterface;
@@ @@
   /**
    * Render a single entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $view
+   * @param EntityInterface $view
    *   The entity we're rendering.
    *
    * @return array
@@ @@
    *   A render array.
    */
   protected function renderSingle(EntityInterface $view) {
-    /** @var \Drupal\views\Entity\View $view */
+    /** @var View $view */
     $executable = $view->getExecutable();
     $render = $executable->render() ?: [];

@@ @@
    */
   public function getFilename(array $entities) {
     return $this->filenameGenerator->generateFilename($entities, function ($view) {
-      /** @var \Drupal\views\ViewEntityInterface $view */
+      /** @var ViewEntityInterface $view */
       return $view->getExecutable()->getTitle();
     });
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


53) modules/contrib/entity_print/modules/entity_print_views/src/Plugin/views/field/PrintLink.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print_views\Plugin\views\field;

+use Drupal\entity_print\Plugin\ExportTypeManagerInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Url;
 use Drupal\views\Plugin\views\field\LinkBase;
@@ @@
   /**
    * The print export type manager.
    *
-   * @var \Drupal\entity_print\Plugin\ExportTypeManagerInterface
+   * @var ExportTypeManagerInterface
    */
   protected $exportTypeManager;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


54) modules/contrib/entity_print/modules/entity_print_views/src/Plugin/views/area/EntityPrintViewsLink.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * The export type manager.
    *
-   * @var \Drupal\entity_print\Plugin\ExportTypeManagerInterface
+   * @var ExportTypeManagerInterface
    */
   protected $exportTypeManager;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\entity_print\Plugin\ExportTypeManagerInterface $export_type_manager
+   * @param ExportTypeManagerInterface $export_type_manager
    *   The export type manager.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ExportTypeManagerInterface $export_type_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


55) modules/contrib/entity_print/modules/entity_print_views/src/Controller/ViewPrintController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\entity_print_views\Controller;

+use Drupal\views\Entity\View;
 use Drupal\Component\Render\FormattableMarkup;
 use Drupal\Component\Utility\Xss;
 use Drupal\Core\Controller\ControllerBase;
@@ @@
   /**
    * The plugin manager for our Print engines.
    *
-   * @var \Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface
+   * @var EntityPrintPluginManagerInterface
    */
   protected $pluginManager;

@@ @@
   /**
    * The Print builder.
    *
-   * @var \Drupal\entity_print\PrintBuilderInterface
+   * @var PrintBuilderInterface
    */
   protected $printBuilder;

@@ @@
   /**
    * The Entity Type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The current request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   protected $currentRequest;

@@ @@
    * @param string $display_id
    *   The view display to render.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   The response object on error otherwise the Print is sent.
    */
   public function viewPrint($export_type, $view_name, $display_id) {
@@ @@
     // Create the Print engine plugin.
     $config = $this->config('entity_print.settings');

-    /** @var \Drupal\views\Entity\View $view */
+    /** @var View $view */
     $view = $this->entityTypeManager->getStorage('view')->load($view_name);
     $executable = $view->getExecutable();
     $executable->setDisplay($display_id);
@@ @@
    * @param string $display_id
    *   The machine name of the display.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   The response object.
    */
   public function viewPrintDebug($export_type, $view_name, $display_id) {
-    /** @var \Drupal\views\Entity\View $view */
+    /** @var View $view */
     $view = $this->entityTypeManager->getStorage('view')->load($view_name);
     $executable = $view->getExecutable();
     $executable->setDisplay($display_id);
@@ @@
    * @param string $display_id
    *   The view display to render.
    *
-   * @return \Drupal\Core\Access\AccessResult
+   * @return AccessResult
    *   The access result object.
    *
    * @TODO, improve permissions in https://www.drupal.org/node/2759553
@@ @@
    * @param string $display_id
    *   The machine name of the display.
    *
-   * @return \Symfony\Component\HttpFoundation\RedirectResponse
+   * @return RedirectResponse
    *   The redirect response.
    */
   public function viewRedirect($export_type, $view_name, $display_id) {
@@ @@
    * @param string $display_id
    *   The machine name of the display.
    *
-   * @return \Symfony\Component\HttpFoundation\RedirectResponse
+   * @return RedirectResponse
    *   The redirect response.
    */
   public function viewRedirectDebug($export_type, $view_name, $display_id) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


56) modules/contrib/entity_print/entity_print.post_update.php:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface;
+use Drupal\entity_print\Plugin\PrintEngineInterface;
 /**
  * @file
  * Post update hooks.
@@ @@
  * Sets the new default configuration for dompdf.
  */
 function entity_print_post_update_new_dompdf_configuration() {
-  /** @var \Drupal\entity_print\Entity\PrintEngineStorage $engine_config */
+  /** @var PrintEngineStorage $engine_config */
   if ($engine_config = PrintEngineStorage::load('dompdf')) {
     $settings = $engine_config->getSettings();
     $settings['default_paper_size'] = 'letter';
@@ @@
 function entity_print_post_update_migrate_config() {
   $config = \Drupal::configFactory()->getEditable('entity_print.settings');
   if ($plugin_id = $config->get('print_engine')) {
-    /** @var \Drupal\entity_print\Plugin\EntityPrintPluginManagerInterface $plugin_manager */
+    /** @var EntityPrintPluginManagerInterface $plugin_manager */
     $plugin_manager = \Drupal::service('plugin.manager.entity_print.print_engine');
     $definition = $plugin_manager->getDefinition($plugin_id);
-    /** @var \Drupal\entity_print\Plugin\PrintEngineInterface $class */
+    /** @var PrintEngineInterface $class */
     $class = $definition['class'];

     if ($class::dependenciesAvailable()) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


57) modules/contrib/entity_print/entity_print.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\EntityTypeInterface;
+use Drupal\Core\Entity\Entity\EntityViewDisplay;
 /**
  * @file
  * Print any entity.
@@ @@
  * Implements hook_entity_type_alter().
  */
 function entity_print_entity_type_alter(array &$entity_types) {
-  /** @var \Drupal\Core\Entity\EntityTypeInterface $entity_type */
+  /** @var EntityTypeInterface $entity_type */
   foreach ($entity_types as $entity_type) {
     if ($entity_type->entityClassImplements(ContentEntityInterface::class) && !$entity_type->hasHandlerClass('entity_print')) {
       $entity_type->setHandlerClass('entity_print', ContentEntityRenderer::class);
@@ @@
  * Implements hook_form_FORM_ID_alter().
  */
 function entity_print_form_entity_view_display_edit_form_alter(&$form, FormStateInterface $form_state) {
-  /** @var \Drupal\Core\Entity\Entity\EntityViewDisplay $display */
+  /** @var EntityViewDisplay $display */
   $display = $form_state->getFormObject()->getEntity();
   $export_types = \Drupal::service('plugin.manager.entity_print.export_type')->getDefinitions();

@@ @@
  * Entity display form submit handler.
  */
 function entity_print_form_entity_view_display_edit_form_submit(&$form, FormStateInterface $form_state) {
-  /** @var \Drupal\Core\Entity\Entity\EntityViewDisplay $display */
+  /** @var EntityViewDisplay $display */
   $display = $form_state->getFormObject()->getEntity();

   $export_types = \Drupal::service('plugin.manager.entity_print.export_type')->getDefinitions();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


58) modules/contrib/entity_print/entity_print.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\entity_print\Plugin\PrintEngineInterface;
 /**
  * @file
  * Entity Print installation file.
@@ @@
   $definitions = \Drupal::service('plugin.manager.entity_print.print_engine')->getDefinitions();
   $has_one_engine = FALSE;
   foreach ($definitions as $definition) {
-    /** @var \Drupal\entity_print\Plugin\PrintEngineInterface $class */
+    /** @var PrintEngineInterface $class */
     $class = $definition['class'];
     if ($class::dependenciesAvailable()) {
       $has_one_engine = TRUE;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [WARNING] 3 nodes were removed                                                 

 [OK] 58 files have been changed by Rector                                      

