modules/contrib/friggeri_cv/friggeri_cv.install
modules/contrib/friggeri_cv/friggeri_cv.module
modules/contrib/friggeri_cv/src/Controller/PdfController.php
modules/contrib/friggeri_cv/src/Controller/ProfileController.php
modules/contrib/friggeri_cv/src/Element/HorizontalTabs.php
modules/contrib/friggeri_cv/src/Entity/Profile.php
modules/contrib/friggeri_cv/src/Entity/ProfileFooterItem.php
modules/contrib/friggeri_cv/src/Entity/ProfileSection.php
modules/contrib/friggeri_cv/src/Form/ProfileForm.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldFormatter/PdfFormatter.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldFormatter/ProfileContactBoxDefaultFormatter.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldFormatter/ProfileEntityBoxDefaultFormatter.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldType/ProfileContactBoxItem.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldType/ProfileEntityBoxItem.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldWidget/ColorPickerFieldWidget.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldWidget/ProfileContactBoxDefaultWidget.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldWidget/ProfileEntityBoxDefaultWidget.php
modules/contrib/friggeri_cv/src/Plugin/Validation/Constraint/ProfileEntityBoxConstraint.php
modules/contrib/friggeri_cv/src/Plugin/Validation/Constraint/ProfileEntityBoxConstraintValidator.php
modules/contrib/friggeri_cv/src/ProfileAccessControlHandler.php
modules/contrib/friggeri_cv/src/ProfileDefault.php
modules/contrib/friggeri_cv/src/ProfileFooterItemInterface.php
modules/contrib/friggeri_cv/src/ProfileInterface.php
modules/contrib/friggeri_cv/src/ProfileListBuilder.php
modules/contrib/friggeri_cv/src/ProfileSectionInterface.php
modules/contrib/friggeri_cv/src/Service/PdfService.php

11 files with changes
=====================

1) modules/contrib/friggeri_cv/src/Service/PdfService.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\friggeri_cv\Service;

+use Drupal\Core\GeneratedUrl;
 use Drupal\Core\Cache\Cache;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\Core\Logger\LoggerChannelFactoryInterface;
@@ @@
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * The logger channel factory.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   protected $logger;

@@ @@
   /**
    * Constructs a PdfService object.
    *
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file system service.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger
+   * @param LoggerChannelFactoryInterface $logger
    *   The logger channel factory.
    */
   public function __construct(FileSystemInterface $file_system, LoggerChannelFactoryInterface $logger) {
@@ @@
    * @param int $id
    *   The id of the profile.
    *
-   * @return \Drupal\Core\GeneratedUrl|string
+   * @return GeneratedUrl|string
    *   The absolute url string of the profile.
    */
   public function getProfileUrl(int $id) {
@@ @@
    * @param int $id
    *   The profile id.
    *
-   * @return \mikehaertl\wkhtmlto\Pdf
+   * @return Pdf
    *   The Pdf wrapper.
    */
   public function getProfilePdf(int $id) {
@@ @@
       return FALSE;
     }
     else {
-      return file_create_url($dir . $filename);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($dir . $filename);
     }
   }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/friggeri_cv/src/ProfileListBuilder.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * The redirect destination service.
    *
-   * @var \Drupal\Core\Routing\RedirectDestinationInterface
+   * @var RedirectDestinationInterface
    */
   protected $redirectDestination;

@@ @@
   /**
    * Constructs a new ProfileListBuilder object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type definition.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $storage
+   * @param EntityStorageInterface $storage
    *   The entity storage class.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Routing\RedirectDestinationInterface $redirect_destination
+   * @param RedirectDestinationInterface $redirect_destination
    *   The redirect destination service.
    */
   public function __construct(EntityTypeInterface $entity_type, EntityStorageInterface $storage, DateFormatterInterface $date_formatter, RedirectDestinationInterface $redirect_destination) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/friggeri_cv/src/ProfileInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\friggeri_cv;

+use Drupal\friggeri_cv\Entity\ProfileSection;
 use Drupal\Core\Entity\ContentEntityInterface;

 /**
@@ @@
   /**
    * Gets the sections.
    *
-   * @return \Drupal\friggeri_cv\Entity\ProfileSection[]
+   * @return ProfileSection[]
    *   The profile sections array.
    */
   public function getSections();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


4) modules/contrib/friggeri_cv/src/ProfileDefault.php:264

    ---------- begin diff ----------
@@ @@
    *   The target id array of the generated Media.
    */
   protected static function generateMedia(string $name) {
-    $path = drupal_get_path('module', 'friggeri_cv') . '/img/footer/column' . $name;
+    $path = \Drupal::service('extension.list.module')->getPath('friggeri_cv') . '/img/footer/column' . $name;
     $directory = 'public://media/image/';
     $fs = \Drupal::service('file_system');
     $fs->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
     $filename = basename($path);
-    $file = file_save_data(file_get_contents($path), $directory . $filename);
+    $file = \Drupal::service('file.repository')->writeData(file_get_contents($path), $directory . $filename);
     $media = Media::create([
       'bundle' => 'image',
       'thumbnail' => [
@@ @@
   /**
    * Generates the default profile.
    *
-   * @return \Drupal\friggeri_cv\ProfileInterface
+   * @return ProfileInterface
    *   The default profile.
    */
   public static function generate() {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileSaveDataRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


5) modules/contrib/friggeri_cv/src/Plugin/Field/FieldWidget/ProfileContactBoxDefaultWidget.php:78

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   The form structure where widgets are being attached to.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The selected font awesome icon AjaxResponse.
    */
   public function ajaxFontAwesomeIcon(array &$form, FormStateInterface $form_state) {
@@ @@
    */
   private function getOptions() {
     // @see https://raw.githubusercontent.com/FortAwesome/Font-Awesome/fa-4/src/icons.yml
-    $url = drupal_get_path("module", "friggeri_cv") . "/img/icons/icons.yml";
+    $url = \Drupal::service('extension.list.module')->getPath("friggeri_cv") . "/img/icons/icons.yml";
     $icons = Yaml::parse(file_get_contents($url))["icons"];
     $options = ["" => $this->t("-- Select --")];
     foreach ($icons as $icon) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/friggeri_cv/src/Plugin/Field/FieldFormatter/PdfFormatter.php:25

    ---------- begin diff ----------
@@ @@
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $element = [];

-    $img = base_path() . drupal_get_path("module", "friggeri_cv")
+    $img = base_path() . \Drupal::service('extension.list.module')->getPath("friggeri_cv")
       . "/img/pdf.png";

     foreach ($items as $delta => $item) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/friggeri_cv/src/Form/ProfileForm.php:88

    ---------- begin diff ----------
@@ @@
     $link = $entity->toLink($this->t('View'))->toRenderable();

     $message_arguments = ['%label' => $this->entity->label()];
-    $logger_arguments = $message_arguments + ['link' => render($link)];
+    $logger_arguments = $message_arguments + ['link' => \Drupal::service('renderer')->render($link)];

     if ($result == SAVED_NEW) {
       $this->messenger()->addStatus($this->t('New profile %label has been created.', $message_arguments));
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/friggeri_cv/src/Entity/Profile.php:85

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getDefaultPicture() {
-    $img = base_path() . drupal_get_path("module", "friggeri_cv")
+    $img = base_path() . \Drupal::service('extension.list.module')->getPath("friggeri_cv")
       . "/img/person.svg";
     return [
       "data" => [
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/friggeri_cv/src/Element/HorizontalTabs.php:91

    ---------- begin diff ----------
@@ @@
    * @param array $element
    *   An associative array containing the properties and children of the
    *   details element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    * @param array $complete_form
    *   The complete form structure.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/friggeri_cv/src/Controller/ProfileController.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The renderer service.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
   /**
    * The controller constructor.
    *
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer service.
    */
   public function __construct(RendererInterface $renderer) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/friggeri_cv/src/Controller/PdfController.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The friggeri_cv.pdf service.
    *
-   * @var \Drupal\friggeri_cv\Service\PdfService
+   * @var PdfService
    */
   protected $pdfService;

@@ @@
   /**
    * The controller constructor.
    *
-   * @param \Drupal\friggeri_cv\Service\PdfService $pdf_service
+   * @param PdfService $pdf_service
    *   The friggeri_cv.pdf service.
    */
   public function __construct(PdfService $pdf_service) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 11 files have been changed by Rector                                      

