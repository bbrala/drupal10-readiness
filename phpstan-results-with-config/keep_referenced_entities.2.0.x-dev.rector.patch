diff --git a/keep_referenced_entities.info.yml b/keep_referenced_entities.info.yml
index e333035..f189b84 100644
--- a/keep_referenced_entities.info.yml
+++ b/keep_referenced_entities.info.yml
@@ -1,5 +1,5 @@
 name: Keep referenced entities
 type: module
 description: 'Keeps referenced entities and does not allow to remove them'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: keep_referenced_entities.settings
diff --git a/src/Access/ReferencedEntitiesList.php b/src/Access/ReferencedEntitiesList.php
index 4a2f50a..047a325 100644
--- a/src/Access/ReferencedEntitiesList.php
+++ b/src/Access/ReferencedEntitiesList.php
@@ -14,8 +14,8 @@ class ReferencedEntitiesList implements AccessInterface {
 
   /**
    * Access callback to check an access to the list of referenced entities.
-   * @param \Drupal\Core\Session\AccountInterface $account
-   * @return \Drupal\Core\Access\AccessResult
+   * @param AccountInterface $account
+   * @return AccessResult
    */
   public function viewList(AccountInterface $account, $entity_type, $entity_id) {
     if ($entity__type_manager = \Drupal::getContainer()->get('entity_type.manager')->getStorage($entity_type)) {
diff --git a/src/KeepReferencedEntitiesManager.php b/src/KeepReferencedEntitiesManager.php
index 1ce0042..63ba4fd 100644
--- a/src/KeepReferencedEntitiesManager.php
+++ b/src/KeepReferencedEntitiesManager.php
@@ -28,7 +28,7 @@ class KeepReferencedEntitiesManager {
   /**
    * Constructs the KRE Manager.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    */
   public function __construct(EntityInterface $entity) {
     $this->entity = $entity;
@@ -196,7 +196,7 @@ class KeepReferencedEntitiesManager {
       '#empty' => t('This entity has no referenced entities.'),
       '#items' => $result
     ];
-    return render($list)->__toString();
+    return \Drupal::service('renderer')->render($list)->__toString();
   }
 
   /**
