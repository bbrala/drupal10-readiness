modules/contrib/plupload_s3/src/Plugin/Field/FieldWidget/S3UploadFileWidget.php
modules/contrib/plupload_s3/src/PluploadElementProcessor.php

2 files with changes
====================

1) modules/contrib/plupload_s3/src/PluploadElementProcessor.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\plupload_s3;

+use function GuzzleHttp\json_decode;
 use Aws\S3\PostObjectV4;
 use Aws\S3\S3ClientInterface;
 use Drupal\Core\File\Exception\FileException;
@@ @@
   /**
    * File system.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
    *   Render element to adjust.
    * @param string[] $allowedExtensions
    *   Array of allowed extensions.
-   * @param \Aws\S3\S3ClientInterface $client
+   * @param S3ClientInterface $client
    *   S3 client.
    * @param string $bucket
    *   S3 bucket.
@@ @@
    *   File data object from plupload payload.
    * @param string $destinationPrefix
    *   Destination URI with optional path prefix, e.g. scheme://[prefix]
-   * @param \Aws\S3\S3ClientInterface $client
+   * @param S3ClientInterface $client
    *   S3 client.
    * @param string $bucket
    *   S3 bucket to utilize.
@@ @@
    *   Posted JSON string from Plupload.
    * @param string $destinationPrefix
    *   Destination prefix, in form of scheme://[prefix]
-   * @param \Aws\S3\S3ClientInterface $client
+   * @param S3ClientInterface $client
    *   S3 client.
    * @param string $bucket
    *   Bucket.
@@ @@
    */
   public function processPostedFiles(string $json, string $destinationPrefix, S3ClientInterface $client, string $bucket) {
     try {
-      $files = \GuzzleHttp\json_decode($json);
+      $files = json_decode($json);
     }
     catch (\InvalidArgumentException $e) {
       // @todo - handle and warn.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/plupload_s3/src/Plugin/Field/FieldWidget/S3UploadFileWidget.php:37

    ---------- begin diff ----------
@@ @@
   /**
    * The key repository service.
    *
-   * @var \Drupal\key\KeyRepositoryInterface
+   * @var KeyRepositoryInterface
    */
   protected $keyRepository;

@@ @@
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * Plupload Element processor.
    *
-   * @var \Drupal\plupload_s3\PluploadElementProcessor
+   * @var PluploadElementProcessor
    */
   protected $elementProcessor;

@@ @@
    *
    * @see https://docs.aws.amazon.com/aws-sdk-php/v3/guide/guide/credentials.html#creating-a-custom-provider
    *
-   * @return \Closure|\GuzzleHttp\Promise\RejectedPromise
+   * @return \Closure|RejectedPromise
    */
   protected function getAwsCredentialsProvider() {
     $keyName = $this->getSetting('key_name');
@@ @@
   /**
    * Get an S3 client.
    *
-   * @return \Aws\S3\S3ClientInterface
+   * @return S3ClientInterface
    */
   protected function getClient(): S3ClientInterface {
     return new S3Client([
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

