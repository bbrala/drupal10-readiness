modules/contrib/fixed_text_link_formatter/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php
modules/contrib/fixed_text_link_formatter/src/Plugin/Field/FieldFormatter/FixedTextLink.php
modules/contrib/fixed_text_link_formatter/tests/src/Functional/FixedTextLinkTest.php

3 files with changes
====================

1) modules/contrib/fixed_text_link_formatter/tests/src/Functional/FixedTextLinkTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\fixed_text_link_formatter\Functional;

+use Drupal\node\Entity\NodeType;
+use Drupal\field\FieldStorageConfigInterface;
+use Drupal\Core\Field\FieldConfigInterface;
+use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\field\Entity\FieldConfig;
 use Drupal\field\Entity\FieldStorageConfig;
 use Drupal\link\LinkItemInterface;
@@ @@
   public static $modules = ['node', 'fixed_text_link_formatter'];

   /**
-   * @var \Drupal\node\Entity\NodeType
+   * @var NodeType
    */
   private $nodeType;

   /**
-   * @var \Drupal\field\FieldStorageConfigInterface
+   * @var FieldStorageConfigInterface
    */
   private $fieldStorage;

   /**
-   * @var \Drupal\Core\Field\FieldConfigInterface
+   * @var FieldConfigInterface
    */
   private $field;

@@ @@
   protected $defaultTheme = 'classy';

   /**
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   private $entityDisplayRepository;

@@ @@
    */
   private $linkFieldName;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->entityDisplayRepository = $this->container->get('entity_display.repository');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/fixed_text_link_formatter/src/Plugin/Field/FieldFormatter/FixedTextLink.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\fixed_text_link_formatter\Plugin\Field\FieldFormatter;

+use Drupal\link\Plugin\Field\FieldType\LinkItem;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\link\Plugin\Field\FieldFormatter\LinkFormatter;
@@ @@
    * {@inheritdoc}
    */
   public function viewElements(FieldItemListInterface $items, $langcode) {
-    /** @var \Drupal\link\Plugin\Field\FieldType\LinkItem $item */
+    /** @var LinkItem $item */
     foreach ($items as $item) {
       $allowOverride = (bool) $this->getSetting('allow_override');
       $shouldOverride = $allowOverride && $item->get('title')->getString() === '';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/fixed_text_link_formatter/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\fixed_text_link_formatter\Plugin\Field\FieldFormatter;

+use Drupal\file\Entity\File;
 use Drupal\Core\Cache\CacheableMetadata;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $elements = [];

-    /** @var \Drupal\file\Entity\File $file */
+    /** @var File $file */
     foreach ($this->getEntitiesToView($items, $langcode) as $delta => $file) {
       $text = $this->getLinkText();
-      $url = Url::fromUri(file_create_url($file->getFileUri()));
+      $url = \Drupal::service('file_url_generator')->generate($file->getFileUri());
       $link = Link::fromTextAndUrl($text, $url);

       $build = $link->toRenderable();
    ----------- end diff -----------

Applied rules:
 * FromUriRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

