modules/contrib/colorbox/colorbox.api.php
modules/contrib/colorbox/colorbox.install
modules/contrib/colorbox/colorbox.module
modules/contrib/colorbox/colorbox.post_update.php
modules/contrib/colorbox/colorbox.theme.inc
modules/contrib/colorbox/drush/colorbox.drush.inc
modules/contrib/colorbox/src/ActivationCheck.php
modules/contrib/colorbox/src/ActivationCheckInterface.php
modules/contrib/colorbox/src/ColorboxAttachment.php
modules/contrib/colorbox/src/Commands/ColorboxCommands.php
modules/contrib/colorbox/src/ElementAttachmentInterface.php
modules/contrib/colorbox/src/Form/ColorboxSettingsForm.php
modules/contrib/colorbox/src/GalleryIdHelper.php
modules/contrib/colorbox/src/Plugin/Field/FieldFormatter/ColorboxFormatter.php
modules/contrib/colorbox/tests/modules/colorbox_library_test/colorbox_library_test.install
modules/contrib/colorbox/tests/modules/colorbox_library_test/colorbox_library_test.module
modules/contrib/colorbox/tests/src/FunctionalJavascript/ColorboxJavascriptTest.php

8 files with changes
====================

1) modules/contrib/colorbox/tests/src/FunctionalJavascript/ColorboxJavascriptTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\colorbox\FunctionalJavascript;

+use Drupal\node\NodeInterface;
 use Drupal\field\Entity\FieldConfig;
 use Drupal\field\Entity\FieldStorageConfig;
 use Drupal\file\Entity\File;
@@ @@
   /**
    * Node var.
    *
-   * @var \Drupal\node\NodeInterface
+   * @var NodeInterface
    */
   protected $node;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->createContentType(['type' => 'page']);
     FieldStorageConfig::create([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/colorbox/src/Plugin/Field/FieldFormatter/ColorboxFormatter.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\colorbox\Plugin\Field\FieldFormatter;

+use Drupal\image\ImageStyleStorageInterface;
+use Drupal\image\ImageStyleInterface;
 use Drupal\Core\Asset\LibraryDiscoveryInterface;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The image style entity storage.
    *
-   * @var \Drupal\image\ImageStyleStorageInterface
+   * @var ImageStyleStorageInterface
    */
   protected $imageStyleStorage;

@@ @@
   /**
    * Drupal\Core\Extension\ModuleHandlerInterface definition.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   private $moduleHandler;

@@ @@
   /**
    * Library discovery service.
    *
-   * @var \Drupal\Core\Asset\LibraryDiscoveryInterface
+   * @var LibraryDiscoveryInterface
    */
   private $libraryDiscovery;

@@ @@
    *   The plugin_id for the formatter.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the formatter is associated.
    * @param array $settings
    *   The formatter settings.
@@ @@
    *   The view mode.
    * @param array $third_party_settings
    *   Any third party settings settings.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
-   * @param Drupal\Core\Entity\EntityStorageInterface $image_style_storage
+   * @param EntityStorageInterface $image_style_storage
    *   The image style storage.
-   * @param \Drupal\colorbox\ElementAttachmentInterface $attachment
+   * @param ElementAttachmentInterface $attachment
    *   Allow the library to be attached to the page.
-   * @param Drupal\Core\Extension\ModuleHandlerInterface $moduleHandler
+   * @param ModuleHandlerInterface $moduleHandler
    *   Module handler services.
-   * @param Drupal\Core\Asset\LibraryDiscoveryInterface $libraryDiscovery
+   * @param LibraryDiscoveryInterface $libraryDiscovery
    *   Library discovery service.
    */
   public function __construct($plugin_id,
@@ @@
       $style_ids[] = $this->getSetting('colorbox_node_style_first');
     }
     $style_ids[] = $this->getSetting('colorbox_image_style');
-    /** @var \Drupal\image\ImageStyleInterface $style */
+    /** @var ImageStyleInterface $style */
     foreach ($style_ids as $style_id) {
       if ($style_id && $style = ImageStyle::load($style_id)) {
         // If this formatter uses a valid image style to display the image, add
@@ @@
       $style_ids['colorbox_node_style_first'] = $this->getSetting('colorbox_node_style_first');
     }
     $style_ids['colorbox_image_style'] = $this->getSetting('colorbox_image_style');
-    /** @var \Drupal\image\ImageStyleInterface $style */
+    /** @var ImageStyleInterface $style */
     foreach ($style_ids as $name => $style_id) {
       if ($style_id && $style = ImageStyle::load($style_id)) {
         if (!empty($dependencies[$style->getConfigDependencyKey()][$style->getConfigDependencyName()])) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/colorbox/src/GalleryIdHelper.php:24

    ---------- begin diff ----------
@@ @@
   /**
    * The Configuration Factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The Token.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $token;

@@ @@
   /**
    * GalleryIdHelper constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $configFactory
+   * @param ConfigFactoryInterface $configFactory
    *   The Configuration Factory.
-   * @param \Drupal\Core\Utility\Token $token
+   * @param Token $token
    *   The Token.
    */
   public function __construct(ConfigFactoryInterface $configFactory, Token $token) {
@@ @@
   /**
    * Generate ID.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The Entity.
-   * @param \Drupal\Core\Field\FieldItemInterface $item
+   * @param FieldItemInterface $item
    *   The Item.
    * @param array $settings
    *   The Settings.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


4) modules/contrib/colorbox/src/Form/ColorboxSettingsForm.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * The list of available modules.
    *
-   * @var \Drupal\Core\Extension\ModuleExtensionList
+   * @var ModuleExtensionList
    */
   protected $extensionListModule;

@@ @@
   /**
    * Drupal\Core\Extension\ModuleHandlerInterface definition.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   private $moduleHandler;

@@ @@
   /**
    * Class constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The Configuration Factory.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $moduleHandler
+   * @param ModuleHandlerInterface $moduleHandler
    *   The module handler service.
-   * @param \Drupal\Core\Extension\ModuleExtensionList $extension_list_module
+   * @param ModuleExtensionList $extension_list_module
    *   The list of available modules.
-   * @param \Drupal\Core\Asset\LibraryDiscoveryInterface $libraryDiscovery
+   * @param LibraryDiscoveryInterface $libraryDiscovery
    *   The library discovery service.
    */
   public function __construct(ConfigFactoryInterface $config_factory,
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/colorbox/src/ColorboxAttachment.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\colorbox;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Extension\ModuleHandlerInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Installer\InstallerKernel;
@@ @@
   /**
    * The service to determine if colorbox should be activated.
    *
-   * @var \Drupal\colorbox\ActivationCheckInterface
+   * @var ActivationCheckInterface
    */
   protected $activation;

@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The colorbox settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $settings;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


6) modules/contrib/colorbox/src/ActivationCheck.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\colorbox;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Symfony\Component\HttpFoundation\RequestStack;

@@ @@
   /**
    * The colorbox settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $settings;

@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $request;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


7) modules/contrib/colorbox/colorbox.theme.inc:131

    ---------- begin diff ----------
@@ @@
     $variables['url'] = $style->buildUrl($image_uri);
   }
   else {
-    $variables['url'] = file_create_url($image_uri);
+    $variables['url'] = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
   }

   // If File Entity module is enabled, load attribute values from file entity.
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector


8) modules/contrib/colorbox/colorbox.post_update.php:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\Display\EntityDisplayInterface;
 /**
  * @file
  * Post-update functions for Colorbox.
@@ @@
 function colorbox_post_update_image_style_dependencies() {
   // Merge view and form displays. Use array_values() to avoid key collisions.
   $displays = array_merge(array_values(EntityViewDisplay::loadMultiple()), array_values(EntityFormDisplay::loadMultiple()));
-  /** @var \Drupal\Core\Entity\Display\EntityDisplayInterface[] $displays */
+  /** @var EntityDisplayInterface[] $displays */
   foreach ($displays as $display) {
     // Re-save each config entity to add missed dependencies.
     $display->save();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 8 files have been changed by Rector                                       

