modules/contrib/post_api/post_api.module
modules/contrib/post_api/src/Event/QueueItemProcessedEvent.php
modules/contrib/post_api/src/Event/QueueProcessingCompleteEvent.php
modules/contrib/post_api/src/Form/PostApiQueueForm.php
modules/contrib/post_api/src/Form/PostApiSettingsForm.php
modules/contrib/post_api/src/Plugin/QueueWorker/PostApiQueueBase.php
modules/contrib/post_api/src/Plugin/QueueWorker/PostApiQueueWorker.php
modules/contrib/post_api/src/Service/AddToQueue.php
modules/contrib/post_api/src/Service/Request.php
modules/contrib/post_api/tests/src/Kernel/PostApiQueueTest.php

7 files with changes
====================

1) modules/contrib/post_api/tests/src/Kernel/PostApiQueueTest.php:45

    ---------- begin diff ----------
@@ @@

   /**
    * Tests the Post API queue.
+   * @doesNotPerformAssertions
    */
   public function testPostApiQueue() {
     // Create queue.
@@ @@
   /**
    * Queues and dequeues a set of items to check the basic queue functionality.
    *
-   * @param \Drupal\Core\Queue\QueueInterface $queue
+   * @param QueueInterface $queue
    *   An instantiated queue object.
    */
   protected function runBasicQueueTest(QueueInterface $queue) {
@@ @@
     $new_items[] = $item->data;

     // First two dequeued items should match the first two items we queued.
-    $this->assertEqual($this->queueScore($data, $new_items), 2, 'Two items matched');
+    $this->assertEquals($this->queueScore($data, $new_items), 2, 'Two items matched');

     // Add two more items.
     $queue->createItem($data[2]);
@@ @@

     // All dequeued items should match the items we queued exactly once,
     // therefore the score must be exactly 4.
-    $this->assertEqual($this->queueScore($data, $new_items), 4, 'Four items matched');
+    $this->assertEquals($this->queueScore($data, $new_items), 4, 'Four items matched');

     // There should be no duplicate items.
-    $this->assertEqual($this->queueScore($new_items, $new_items), 4, 'Four items matched');
+    $this->assertEquals($this->queueScore($new_items, $new_items), 4, 'Four items matched');

     $this->clearQueue($queue, $items);
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/post_api/src/Service/Request.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\post_api\Service;

+use GuzzleHttp\Exception\GuzzleException;
 use Drupal\Component\Serialization\Json;
 use Drupal\Core\Logger\LoggerChannelFactoryInterface;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
@@ @@
   /**
    * HTTP Client.
    *
-   * @var \GuzzleHttp\ClientInterface
+   * @var ClientInterface
    */
   private $httpClient;

@@ @@
   /**
    * Logger.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   private $logger;

@@ @@
   /**
    * Constructs a Request object.
    *
-   * @param \GuzzleHttp\ClientInterface $http_client
+   * @param ClientInterface $http_client
    *   HTTP client.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger
+   * @param LoggerChannelFactoryInterface $logger
    *   Logger.
    */
   public function __construct(ClientInterface $http_client, LoggerChannelFactoryInterface $logger) {
@@ @@
    * @return int|null
    *   Response object OR FALSE for exceptions.
    *
-   * @throws \GuzzleHttp\Exception\ServerException
-   * @throws \GuzzleHttp\Exception\RequestException
-   * @throws \GuzzleHttp\Exception\GuzzleException
+   * @throws ServerException
+   * @throws RequestException
+   * @throws GuzzleException
    */
   public function sendRequest($endpoint, $apikey, array $payload) {
     $headers = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


3) modules/contrib/post_api/src/Service/AddToQueue.php:34

    ---------- begin diff ----------
@@ @@
   /**
    * Queue.
    *
-   * @var \Drupal\Core\Queue\QueueFactory
+   * @var QueueFactory
    */
   private $queue;

@@ @@
   /**
    * AddToQueue constructor.
    *
-   * @param \Drupal\Core\Queue\QueueFactory $queue
+   * @param QueueFactory $queue
    *   Queue factory.
    */
   public function __construct(QueueFactory $queue) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


4) modules/contrib/post_api/src/Plugin/QueueWorker/PostApiQueueBase.php:27

    ---------- begin diff ----------
@@ @@
   /**
    * Queue factory.
    *
-   * @var \Drupal\Core\Queue\QueueFactory
+   * @var QueueFactory
    */
   protected $queue;

@@ @@
   /**
    * Request.
    *
-   * @var \Drupal\post_api\Service\Request
+   * @var Request
    */
   protected $request;

@@ @@
   /**
    * The config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * A date time instance.
    *
-   * @var \Drupal\Component\Datetime\TimeInterface
+   * @var TimeInterface
    */
   protected $time;

@@ @@
   /**
    * Event Dispatcher.
    *
-   * @var \Drupal\Component\EventDispatcher\ContainerAwareEventDispatcher
+   * @var ContainerAwareEventDispatcher
    */
   protected $eventDispatcher;

@@ @@
   /**
    * Logger.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   protected $logger;

@@ @@
   /**
    * Creates a new PostApiBase object.
    *
-   * @param \Drupal\Core\Queue\QueueFactory $queue
+   * @param QueueFactory $queue
    *   Queue Factory.
-   * @param \Drupal\post_api\Service\Request $request
+   * @param Request $request
    *   Request.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   A date time instance.
-   * @param \Drupal\Component\EventDispatcher\ContainerAwareEventDispatcher $eventDispatcher
+   * @param ContainerAwareEventDispatcher $eventDispatcher
    *   Event Dispatcher.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger
+   * @param LoggerChannelFactoryInterface $logger
    *   Request.
    */
   public function __construct(QueueFactory $queue, Request $request, ConfigFactoryInterface $config_factory, TimeInterface $time, ContainerAwareEventDispatcher $eventDispatcher, LoggerChannelFactoryInterface $logger) {
@@ @@
           // Dispatch an event to which Event Subscribers can react.
           // E.g. need special logging for various 20* responses.
           $event_item_processed = new QueueItemProcessedEvent($response_code, $item->data);
-          $this->eventDispatcher->dispatch('post_api_queue_item_processed_event', $event_item_processed);
+          $this->eventDispatcher->dispatch($event_item_processed, 'post_api_queue_item_processed_event');

           // API POST is a success - delete processed item from queue.
           $queue->deleteItem($item);
@@ @@

     // Dispatch an event to which Event Subscribers can react.
     $event_queue_complete = new QueueProcessingCompleteEvent($number_in_queue, $number_released);
-    $this->eventDispatcher->dispatch('post_api_queue_processing_complete_event', $event_queue_complete);
+    $this->eventDispatcher->dispatch($event_queue_complete, 'post_api_queue_processing_complete_event');
   }

   /**
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/post_api/src/Form/PostApiQueueForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\post_api\Form;

+use Drupal\Core\Database\Database;
 use Drupal\Core\Database\Connection;
 use Drupal\Core\Datetime\DateFormatterInterface;
 use Drupal\Core\Form\FormBase;
@@ @@
   /**
    * Queue factory.
    *
-   * @var \Drupal\Core\Queue\QueueFactory
+   * @var QueueFactory
    */
   protected $queueFactory;

@@ @@
   /**
    * Queue Worker Manager.
    *
-   * @var \Drupal\Core\Queue\QueueWorkerManagerInterface
+   * @var QueueWorkerManagerInterface
    */
   protected $queueManager;

@@ @@
   /**
    * Database connection.
    *
-   * @var \Drupal\Core\Database\Database
+   * @var Database
    */
   private $database;

@@ @@
   /**
    * Renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   private $renderer;

@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * PostApiQueueForm constructor.
    *
-   * @param \Drupal\Core\Database\Connection $database
+   * @param Connection $database
    *   Database connection.
-   * @param \Drupal\Core\Queue\QueueFactory $queue
+   * @param QueueFactory $queue
    *   Queue factory.
-   * @param \Drupal\Core\Queue\QueueWorkerManagerInterface $queue_manager
+   * @param QueueWorkerManagerInterface $queue_manager
    *   Queue manager.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   Renderer.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
    */
   public function __construct(Connection $database, QueueFactory $queue, QueueWorkerManagerInterface $queue_manager, RendererInterface $renderer, DateFormatterInterface $date_formatter) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/post_api/src/Event/QueueProcessingCompleteEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\post_api\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 /**
  * Defines the Queue processing finished event.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/post_api/src/Event/QueueItemProcessedEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\post_api\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 /**
  * Defines the "Queue Item Processed" event.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [WARNING] 2 nodes were removed                                                 

 [OK] 7 files have been changed by Rector                                       

