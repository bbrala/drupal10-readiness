diff --git a/modules/entity_browser_generic_embed/entity_browser_generic_embed.module b/modules/entity_browser_generic_embed/entity_browser_generic_embed.module
index 76642e4..71cba81 100644
--- a/modules/entity_browser_generic_embed/entity_browser_generic_embed.module
+++ b/modules/entity_browser_generic_embed/entity_browser_generic_embed.module
@@ -1,5 +1,9 @@
 <?php
 
+use Drupal\media\MediaTypeInterface;
+use Drupal\file\Plugin\Field\FieldType\FileItem;
+use Drupal\embed\EmbedButtonInterface;
+use Drupal\views\ViewExecutable;
 /**
  * @file
  * Core media asset support for .
@@ -61,7 +65,7 @@ function entity_browser_generic_embed_entity_extra_field_info() {
   $extra_fields = [];
 
   if (\Drupal::moduleHandler()->moduleExists('media')) {
-    /** @var \Drupal\media\MediaTypeInterface $media_type */
+    /** @var MediaTypeInterface $media_type */
     foreach (MediaType::loadMultiple() as $id => $media_type) {
       $plugin_definition = $media_type->getSource()->getPluginDefinition();
 
@@ -93,7 +97,7 @@ function entity_browser_generic_embed_inline_entity_form_entity_form_alter(array
 /**
  * Validates a file using media entity source field criteria.
  *
- * @param \Drupal\file\FileInterface $file
+ * @param FileInterface $file
  *   The file to validate.
  * @param string[] $bundles
  *   (optional) A set of media bundle IDs which might match the input. If
@@ -110,7 +114,7 @@ function entity_browser_generic_embed_validate_upload(FileInterface $file, array
     return [];
   }
 
-  /** @var \Drupal\file\Plugin\Field\FieldType\FileItem $item */
+  /** @var FileItem $item */
   $item = MediaHelper::getSourceField($entity)->first();
 
   $validators = [
@@ -227,7 +231,7 @@ function entity_browser_generic_embed_preprocess_image_style(array &$variables)
 function entity_browser_generic_embed_form_entity_embed_dialog_alter(array &$form, FormStateInterface $form_state) {
   list ($editor, $embed_button) = $form_state->getBuildInfo()['args'];
 
-  /** @var \Drupal\embed\EmbedButtonInterface $embed_button */
+  /** @var EmbedButtonInterface $embed_button */
   if (isset($editor) && $embed_button->id() == 'media_browser') {
     $element = &$form['attributes']['data-entity-embed-settings']['view_mode'];
     if (isset($element['#options']['embedded'])) {
@@ -280,7 +284,7 @@ function entity_browser_generic_embed_ajax_render_alter(array &$data) {
  *   Template variables.
  */
 function entity_browser_generic_embed_preprocess_views_view_grid(array &$variables) {
-  /** @var \Drupal\views\ViewExecutable $view */
+  /** @var ViewExecutable $view */
   $view = $variables['view'];
 
   if ($view->display_handler->getPluginId() == 'entity_browser') {
diff --git a/modules/entity_browser_generic_embed/src/FileInputExtensionMatchTrait.php b/modules/entity_browser_generic_embed/src/FileInputExtensionMatchTrait.php
index bd8158a..fcc238c 100644
--- a/modules/entity_browser_generic_embed/src/FileInputExtensionMatchTrait.php
+++ b/modules/entity_browser_generic_embed/src/FileInputExtensionMatchTrait.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\entity_browser_generic_embed;
 
+use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\file\FileInterface;
 use Drupal\media\MediaTypeInterface;
 
@@ -13,7 +14,7 @@ trait FileInputExtensionMatchTrait {
   /**
    * Returns the entity type manager.
    *
-   * @return \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @return EntityTypeManagerInterface
    *   The entity type manager.
    */
   private function entityTypeManager() {
diff --git a/modules/entity_browser_generic_embed/src/Form/BulkCreationEntityFormTrait.php b/modules/entity_browser_generic_embed/src/Form/BulkCreationEntityFormTrait.php
index a566117..95daee1 100644
--- a/modules/entity_browser_generic_embed/src/Form/BulkCreationEntityFormTrait.php
+++ b/modules/entity_browser_generic_embed/src/Form/BulkCreationEntityFormTrait.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\entity_browser_generic_embed\Form;
 
+use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\Exception\UndefinedLinkTemplateException;
 use Drupal\Core\Form\FormStateInterface;
 
@@ -21,7 +22,7 @@ trait BulkCreationEntityFormTrait {
     $query = $this->getRequest()->query;
 
     if ($query->has('bulk_create')) {
-      /** @var \Drupal\Core\Entity\EntityInterface $entity */
+      /** @var EntityInterface $entity */
       $entity = $this->getEntity();
 
       // If there are more entities to create, redirect to the edit form for the
diff --git a/modules/entity_browser_generic_embed/src/Form/MediaForm.php b/modules/entity_browser_generic_embed/src/Form/MediaForm.php
index 0edc86b..e64dcf6 100644
--- a/modules/entity_browser_generic_embed/src/Form/MediaForm.php
+++ b/modules/entity_browser_generic_embed/src/Form/MediaForm.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\entity_browser_generic_embed\Form;
 
+use Drupal\media\MediaInterface;
 use Drupal\Component\Utility\NestedArray;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\entity_browser_generic_embed\MediaHelper;
@@ -20,7 +21,7 @@ class MediaForm extends BaseMediaForm {
   public function form(array $form, FormStateInterface $form_state) {
     $form = parent::form($form, $form_state);
 
-    /** @var \Drupal\media\MediaInterface $entity */
+    /** @var MediaInterface $entity */
     $entity = $this->getEntity();
 
     $field = MediaHelper::getSourceField($entity);
@@ -85,7 +86,7 @@ class MediaForm extends BaseMediaForm {
    *
    * @param array $form
    *   The complete form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current form state.
    *
    * @return array
diff --git a/modules/entity_browser_generic_embed/src/InputMatchInterface.php b/modules/entity_browser_generic_embed/src/InputMatchInterface.php
index 97995fe..752819c 100644
--- a/modules/entity_browser_generic_embed/src/InputMatchInterface.php
+++ b/modules/entity_browser_generic_embed/src/InputMatchInterface.php
@@ -14,7 +14,7 @@ interface InputMatchInterface {
    *
    * @param mixed $value
    *   The input value.
-   * @param \Drupal\media\MediaTypeInterface $bundle
+   * @param MediaTypeInterface $bundle
    *   The media bundle that is using this plugin.
    *
    * @return bool
diff --git a/modules/entity_browser_generic_embed/src/MediaHelper.php b/modules/entity_browser_generic_embed/src/MediaHelper.php
index 5770d13..799af08 100644
--- a/modules/entity_browser_generic_embed/src/MediaHelper.php
+++ b/modules/entity_browser_generic_embed/src/MediaHelper.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\entity_browser_generic_embed;
 
+use Drupal\media\MediaTypeInterface;
+use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\file\FileInterface;
@@ -17,14 +19,14 @@ class MediaHelper {
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * MediaHelper constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager) {
@@ -54,7 +56,7 @@ class MediaHelper {
       ->getStorage('media_type');
     $media_types = $storage->loadMultiple($bundles ?: NULL, $check_access);
 
-    /** @var \Drupal\media\MediaTypeInterface $media_type */
+    /** @var MediaTypeInterface $media_type */
     foreach ($media_types as $media_type) {
       $field = $media_type->getSource()->getSourceFieldDefinition($media_type);
 
@@ -70,23 +72,23 @@ class MediaHelper {
   }
 
   /**
-   * Returns the first media bundle that can accept an input value.
-   *
-   * @param mixed $value
-   *   The input value.
-   * @param bool $check_access
-   *   (optional) Whether to filter the bundles by create access for the current
-   *   user. Defaults to TRUE.
-   * @param string[] $bundles
-   *   (optional) A set of media bundle IDs which might match the input. If
-   *   omitted, all available bundles are checked.
-   *
-   * @return \Drupal\media\MediaTypeInterface
-   *   A media bundle that can accept the input value.
-   *
-   * @throws \Drupal\entity_browser_generic_embed\Exception\IndeterminateBundleException if
-   *   No bundle can be matched to the input value.
-   */
+  * Returns the first media bundle that can accept an input value.
+  *
+  * @param mixed $value
+  *   The input value.
+  * @param bool $check_access
+  *   (optional) Whether to filter the bundles by create access for the current
+  *   user. Defaults to TRUE.
+  * @param string[] $bundles
+  *   (optional) A set of media bundle IDs which might match the input. If
+  *   omitted, all available bundles are checked.
+  *
+   * @return MediaTypeInterface
+  *   A media bundle that can accept the input value.
+  *
+   * @throws IndeterminateBundleException if
+    No bundle can be matched to the input value.
+  */
   public function getBundleFromInput($value, $check_access = TRUE, array $bundles = []) {
     // entity_browser_generic_embed Media overrides the media_bundle.
     // storage handler with a special.
@@ -96,7 +98,7 @@ class MediaHelper {
       ->loadMultiple($bundles ?: NULL, $check_access);
     ksort($media_types);
 
-    /** @var \Drupal\media\MediaTypeInterface $media_type */
+    /** @var MediaTypeInterface $media_type */
     foreach ($media_types as $media_type) {
       $source = $media_type->getSource();
 
@@ -116,11 +118,11 @@ class MediaHelper {
    *   (optional) A set of media bundle IDs which might match the input value.
    *   If omitted, all bundles to which the user has create access are checked.
    *
-   * @return \Drupal\media\MediaInterface
+   * @return MediaInterface
    *   The unsaved media entity.
    */
   public function createFromInput($value, array $bundles = []) {
-    /** @var \Drupal\media\MediaInterface $entity */
+    /** @var MediaInterface $entity */
     $entity = $this->entityTypeManager
       ->getStorage('media')
       ->create([
@@ -137,15 +139,15 @@ class MediaHelper {
   /**
    * Attaches a file entity to a media entity.
    *
-   * @param \Drupal\media\MediaInterface $entity
+   * @param MediaInterface $entity
    *   The media entity.
-   * @param \Drupal\file\FileInterface $file
+   * @param FileInterface $file
    *   The file entity.
    * @param int $replace
    *   (optional) What to do if the file already exists. Can be any of the
    *   constants accepted by file_move().
    *
-   * @return \Drupal\file\FileInterface|false
+   * @return FileInterface|false
    *   The final file entity (unsaved), or FALSE if an error occurred.
    */
   public static function useFile(MediaInterface $entity, FileInterface $file, $replace = FileSystemInterface::EXISTS_RENAME) {
@@ -163,7 +165,7 @@ class MediaHelper {
       return $file;
     }
     else {
-      $file = file_move($file, $destination, $replace);
+      $file = \Drupal::service('file.repository')->move($file, $destination, $replace);
 
       if ($file) {
         $field->setValue($file);
@@ -178,7 +180,7 @@ class MediaHelper {
   /**
    * Prepares the destination directory for a file attached to a media entity.
    *
-   * @param \Drupal\media\MediaInterface $entity
+   * @param MediaInterface $entity
    *   The media entity.
    *
    * @return string
@@ -188,7 +190,7 @@ class MediaHelper {
    *   If the destination directory is not writable.
    */
   public static function prepareFileDestination(MediaInterface $entity) {
-    /** @var \Drupal\file\Plugin\Field\FieldType\FileItem $item */
+    /** @var FileItem $item */
     $item = static::getSourceField($entity)->first();
 
     $dir = $item->getUploadLocation();
@@ -205,7 +207,7 @@ class MediaHelper {
   /**
    * Indicates if the media entity's type plugin supports dynamic previews.
    *
-   * @param \Drupal\media\MediaInterface $entity
+   * @param MediaInterface $entity
    *   The media entity.
    *
    * @return bool
@@ -220,10 +222,10 @@ class MediaHelper {
   /**
    * Returns the media entity's source field item list.
    *
-   * @param \Drupal\media\MediaInterface $entity
+   * @param MediaInterface $entity
    *   The media entity.
    *
-   * @return \Drupal\Core\Field\FieldItemListInterface|null
+   * @return FieldItemListInterface|null
    *   The media entity's source field item list, or NULL if the media type
    *   plugin does not define a source field.
    */
diff --git a/modules/entity_browser_generic_embed/src/OverrideHelper.php b/modules/entity_browser_generic_embed/src/OverrideHelper.php
index c6a276c..00fe52b 100644
--- a/modules/entity_browser_generic_embed/src/OverrideHelper.php
+++ b/modules/entity_browser_generic_embed/src/OverrideHelper.php
@@ -32,7 +32,7 @@ class OverrideHelper {
    * The replacement class is only used if its immediate parent is the class
    * specified by the entity type.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type definition.
    * @param string $replacement_class
    *   The class to use.
@@ -49,7 +49,7 @@ class OverrideHelper {
    * The replacement class is only used if its immediate parent is the form
    * class used for the specified operation.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type definition.
    * @param string $replacement_class
    *   The class to use.
@@ -68,7 +68,7 @@ class OverrideHelper {
    * The replacement class is only used if its immediate parent is the handler
    * class specified by the entity type definition.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type definition.
    * @param string $handler_type
    *   The handler type.
diff --git a/modules/entity_browser_generic_embed/src/Plugin/EntityBrowser/Widget/EmbedCode.php b/modules/entity_browser_generic_embed/src/Plugin/EntityBrowser/Widget/EmbedCode.php
index 97b26bc..2dde9fa 100644
--- a/modules/entity_browser_generic_embed/src/Plugin/EntityBrowser/Widget/EmbedCode.php
+++ b/modules/entity_browser_generic_embed/src/Plugin/EntityBrowser/Widget/EmbedCode.php
@@ -57,7 +57,7 @@ class EmbedCode extends EntityFormProxy {
   /**
    * Get Embed Description.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The Status of the form.
    *
    * @return string
diff --git a/modules/entity_browser_generic_embed/src/Plugin/EntityBrowser/Widget/EntityFormProxy.php b/modules/entity_browser_generic_embed/src/Plugin/EntityBrowser/Widget/EntityFormProxy.php
index b63f877..c65da28 100644
--- a/modules/entity_browser_generic_embed/src/Plugin/EntityBrowser/Widget/EntityFormProxy.php
+++ b/modules/entity_browser_generic_embed/src/Plugin/EntityBrowser/Widget/EntityFormProxy.php
@@ -19,7 +19,7 @@ abstract class EntityFormProxy extends WidgetBase {
   /**
    * The media helper service.
    *
-   * @var \Drupal\entity_browser_generic_embed\MediaHelper
+   * @var MediaHelper
    */
   protected $helper;
 
@@ -38,7 +38,7 @@ abstract class EntityFormProxy extends WidgetBase {
    *   The entity type manager service.
    * @param mixed $widget_validation_manager
    *   The widget validation manager.
-   * @param \Drupal\entity_browser_generic_embed\MediaHelper $helper
+   * @param MediaHelper $helper
    *   The media helper service.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, $event_dispatcher, $entity_type_manager, $widget_validation_manager, MediaHelper $helper) {
@@ -64,7 +64,7 @@ abstract class EntityFormProxy extends WidgetBase {
   /**
    * Returns the bundles that this widget may use.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current form state.
    *
    * @return string[]
@@ -169,10 +169,10 @@ abstract class EntityFormProxy extends WidgetBase {
    *
    * @param array $form
    *   The complete form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current form state.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The AJAX response.
    */
   public static function ajax(array &$form, FormStateInterface $form_state) {
@@ -185,7 +185,7 @@ abstract class EntityFormProxy extends WidgetBase {
   /**
    * Returns the current input value, if any.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current form state.
    *
    * @return mixed
diff --git a/modules/entity_browser_generic_embed/src/Plugin/entity_embed/EntityEmbedDisplay/MediaImage.php b/modules/entity_browser_generic_embed/src/Plugin/entity_embed/EntityEmbedDisplay/MediaImage.php
index 23a60ff..570f296 100644
--- a/modules/entity_browser_generic_embed/src/Plugin/entity_embed/EntityEmbedDisplay/MediaImage.php
+++ b/modules/entity_browser_generic_embed/src/Plugin/entity_embed/EntityEmbedDisplay/MediaImage.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\entity_browser_generic_embed\Plugin\entity_embed\EntityEmbedDisplay;
 
+use Drupal\media\MediaInterface;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\entity_embed\Plugin\entity_embed\EntityEmbedDisplay\ImageFieldFormatter;
@@ -93,11 +94,11 @@ class MediaImage extends ImageFieldFormatter {
   /**
    * Returns the image field item to use for the embedded entity.
    *
-   * @return \Drupal\image\Plugin\Field\FieldType\ImageItem
+   * @return ImageItem
    *   The image field item.
    */
   protected function getItem() {
-    /** @var \Drupal\media\MediaInterface $entity */
+    /** @var MediaInterface $entity */
     $entity = $this->getEntityFromContext();
 
     $item = MediaHelper::getSourceField($entity)->first();
diff --git a/modules/entity_browser_generic_embed/src/ValidationConstraintMatchTrait.php b/modules/entity_browser_generic_embed/src/ValidationConstraintMatchTrait.php
index 930a308..3cb79b5 100644
--- a/modules/entity_browser_generic_embed/src/ValidationConstraintMatchTrait.php
+++ b/modules/entity_browser_generic_embed/src/ValidationConstraintMatchTrait.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\entity_browser_generic_embed;
 
+use Drupal\Core\TypedData\TypedDataManagerInterface;
 use Drupal\Core\TypedData\Plugin\DataType\StringData;
 use Drupal\media\MediaTypeInterface;
 
@@ -13,7 +14,7 @@ trait ValidationConstraintMatchTrait {
   /**
    * Returns the typed data manager.
    *
-   * @return \Drupal\Core\TypedData\TypedDataManagerInterface
+   * @return TypedDataManagerInterface
    *   The typed data manager.
    */
   private function typedDataManager() {
diff --git a/src/Form/VarbaseMediaSettingsForm.php b/src/Form/VarbaseMediaSettingsForm.php
index bf194c6..3519245 100644
--- a/src/Form/VarbaseMediaSettingsForm.php
+++ b/src/Form/VarbaseMediaSettingsForm.php
@@ -18,16 +18,16 @@ class VarbaseMediaSettingsForm extends ConfigFormBase {
   /**
    * The module handler service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * Constructs a new Varbase Media settings form.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler service.
    */
   public function __construct(ConfigFactoryInterface $config_factory, ModuleHandlerInterface $module_handler) {
diff --git a/tests/src/FunctionalJavascript/VarbaseMediaTests.php b/tests/src/FunctionalJavascript/VarbaseMediaTests.php
index 77fa0ae..2e1bf35 100644
--- a/tests/src/FunctionalJavascript/VarbaseMediaTests.php
+++ b/tests/src/FunctionalJavascript/VarbaseMediaTests.php
@@ -50,7 +50,7 @@ class VarbaseMediaTests extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Insall the Claro admin theme.
diff --git a/varbase_media.module b/varbase_media.module
index d7a0905..b626da3 100644
--- a/varbase_media.module
+++ b/varbase_media.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\media\MediaInterface;
 /**
  * @file
  * Contains varbase_media.module.
@@ -672,7 +673,7 @@ function varbase_media_tokens($type, $tokens, array $data, array $options, Bubbl
 
   $replacements = [];
   if ($type === 'media' && !empty($data['media'])) {
-    /** @var \Drupal\media\MediaInterface $media_entity */
+    /** @var MediaInterface $media_entity */
     $media_entity = \Drupal::service('entity.repository')->getTranslationFromContext($data['media'], $langcode, ['operation' => 'media_entity_tokens']);
 
     foreach ($tokens as $token_name => $original) {
@@ -715,7 +716,7 @@ function _varbase_media_image_url($media_entity, $style_name = NULL) {
             ->getString());
       }
       else {
-        return file_create_url($file_entity->get('uri')->getString());
+        return \Drupal::service('file_url_generator')->generateAbsoluteString($file_entity->get('uri')->getString());
       }
     }
   }
