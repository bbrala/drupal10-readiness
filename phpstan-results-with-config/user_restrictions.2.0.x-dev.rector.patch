diff --git a/composer.json b/composer.json
index c66df87..9bd5088 100644
--- a/composer.json
+++ b/composer.json
@@ -4,6 +4,6 @@
   "type": "drupal-module",
   "license": "GPL-2.0-or-later",
   "require": {
-      "drupal/core": "^8.8 || ^9"
+    "drupal/core": "^9.1 || ^10"
   }
 }
diff --git a/src/Annotation/UserRestrictionType.php b/src/Annotation/UserRestrictionType.php
index e0e7b3f..57077c7 100644
--- a/src/Annotation/UserRestrictionType.php
+++ b/src/Annotation/UserRestrictionType.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\user_restrictions\Annotation;
 
+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;
 
 /**
@@ -23,8 +24,7 @@ class UserRestrictionType extends Plugin {
 
   /**
    * The label of the plugin.
-
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
diff --git a/src/Form/UserRestrictionsFormBase.php b/src/Form/UserRestrictionsFormBase.php
index 0e82a4b..a86eea7 100644
--- a/src/Form/UserRestrictionsFormBase.php
+++ b/src/Form/UserRestrictionsFormBase.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\user_restrictions\Form;
 
+use Drupal\user_restrictions\UserRestrictionTypeManagerInterface;
 use Drupal\Core\Datetime\DrupalDateTime;
 use Drupal\Core\Entity\EntityForm;
 use Drupal\Core\Form\FormStateInterface;
@@ -16,7 +17,7 @@ abstract class UserRestrictionsFormBase extends EntityForm {
   /**
    * The entity being used by this form.
    *
-   * @var \Drupal\user_restrictions\Entity\UserRestrictions
+   * @var UserRestrictions
    */
   protected $entity;
 
@@ -24,7 +25,7 @@ abstract class UserRestrictionsFormBase extends EntityForm {
    * {@inheritdoc}
    */
   public function form(array $form, FormStateInterface $form_state) {
-    /** @var \Drupal\user_restrictions\UserRestrictionTypeManagerInterface $type_manager */
+    /** @var UserRestrictionTypeManagerInterface $type_manager */
     $type_manager = \Drupal::service('user_restrictions.type_manager');
 
     $form['label'] = [
diff --git a/src/Form/UserRestrictionsReviewForm.php b/src/Form/UserRestrictionsReviewForm.php
index 3b14df6..055857f 100644
--- a/src/Form/UserRestrictionsReviewForm.php
+++ b/src/Form/UserRestrictionsReviewForm.php
@@ -19,23 +19,23 @@ class UserRestrictionsReviewForm extends FormBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The user restriction type manager.
    *
-   * @var \Drupal\user_restrictions\UserRestrictionTypeManagerInterface
+   * @var UserRestrictionTypeManagerInterface
    */
   protected $typeManager;
 
   /**
    * Constructs a new UserRestrictionsReviewForm instance.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\user_restrictions\UserRestrictionTypeManagerInterface $type_manager
+   * @param UserRestrictionTypeManagerInterface $type_manager
    *   The user restriction type manager.
    */
   public function __construct(Connection $connection, UserRestrictionTypeManagerInterface $type_manager) {
diff --git a/src/Plugin/UserRestrictionType/ClientIp.php b/src/Plugin/UserRestrictionType/ClientIp.php
index 507a759..8ee72ca 100644
--- a/src/Plugin/UserRestrictionType/ClientIp.php
+++ b/src/Plugin/UserRestrictionType/ClientIp.php
@@ -21,7 +21,7 @@ class ClientIp extends UserRestrictionTypeBase {
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
 
diff --git a/src/Plugin/UserRestrictionType/UserRestrictionTypeBase.php b/src/Plugin/UserRestrictionType/UserRestrictionTypeBase.php
index 45a7a4f..38355dd 100644
--- a/src/Plugin/UserRestrictionType/UserRestrictionTypeBase.php
+++ b/src/Plugin/UserRestrictionType/UserRestrictionTypeBase.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\user_restrictions\Plugin\UserRestrictionType;
 
+use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Plugin\PluginBase;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
@@ -17,14 +18,14 @@ abstract class UserRestrictionTypeBase extends PluginBase implements UserRestric
   /**
    * The entity storage interfacce.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $entityStorage;
 
   /**
    * The logger instance.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;
 
@@ -57,7 +58,7 @@ abstract class UserRestrictionTypeBase extends PluginBase implements UserRestric
    * @param string $value
    *   String to check against all restrictions of the type.
    *
-   * @return bool|\Drupal\user_restrictions\Entity\UserRestrictions
+   * @return bool|UserRestrictions
    *   The restriction entity if the value matches one of the restrictions,
    *   FALSE otherwise.
    */
@@ -72,7 +73,7 @@ abstract class UserRestrictionTypeBase extends PluginBase implements UserRestric
 
     if (!empty($exact_rules)) {
       // Simply take the first matching rule as we have no weight (yet).
-      /** @var \Drupal\user_restrictions\Entity\UserRestrictions $rule */
+      /** @var UserRestrictions $rule */
       $rule = reset($exact_rules);
       return ($rule->getAccessType() === UserRestrictions::BLACKLIST) ? $rule : FALSE;
     }
@@ -90,7 +91,7 @@ abstract class UserRestrictionTypeBase extends PluginBase implements UserRestric
 
     // Set the return variable to FALSE to allow by default.
     $return = FALSE;
-    /** @var \Drupal\user_restrictions\Entity\UserRestrictions $rule */
+    /** @var UserRestrictions $rule */
     foreach ($rules as $rule) {
       if (preg_match('/' . $rule->getPattern() . '/i', $value)) {
         // Exit loop after first whitelisted pattern.
@@ -121,7 +122,7 @@ abstract class UserRestrictionTypeBase extends PluginBase implements UserRestric
     if (empty($rules)) {
       return [];
     }
-    /** @var \Drupal\user_restrictions\Entity\UserRestrictions $rule */
+    /** @var UserRestrictions $rule */
     foreach ($rules as $id => $rule) {
       $this->patterns[$id] = $rule->getPattern();
     }
diff --git a/src/UserRestrictionTypeManager.php b/src/UserRestrictionTypeManager.php
index d44a96b..5b934e3 100644
--- a/src/UserRestrictionTypeManager.php
+++ b/src/UserRestrictionTypeManager.php
@@ -23,9 +23,9 @@ class UserRestrictionTypeManager extends DefaultPluginManager implements UserRes
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
diff --git a/src/UserRestrictionTypeManagerInterface.php b/src/UserRestrictionTypeManagerInterface.php
index 6daecb0..06a0579 100644
--- a/src/UserRestrictionTypeManagerInterface.php
+++ b/src/UserRestrictionTypeManagerInterface.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\user_restrictions;
 
+use Drupal\user_restrictions\Plugin\UserRestrictionTypeInterface;
 /**
  * Defines the interface for the UserRestrictionTypeManager.
  */
@@ -10,7 +11,7 @@ interface UserRestrictionTypeManagerInterface {
   /**
    * Get a list of all registered plugin instances.
    *
-   * @return \Drupal\user_restrictions\Plugin\UserRestrictionTypeInterface[]
+   * @return UserRestrictionTypeInterface[]
    *   List of UserRestrictionType plugin instances.
    */
   public function getTypes();
@@ -21,7 +22,7 @@ interface UserRestrictionTypeManagerInterface {
    * @param string $id
    *   The plugin ID.
    *
-   * @return \Drupal\user_restrictions\Plugin\UserRestrictionTypeInterface
+   * @return UserRestrictionTypeInterface
    *   The UserRestrictionType plugin instance.
    */
   public function getType($id);
diff --git a/src/UserRestrictionsListBuilder.php b/src/UserRestrictionsListBuilder.php
index aae3981..c21b992 100644
--- a/src/UserRestrictionsListBuilder.php
+++ b/src/UserRestrictionsListBuilder.php
@@ -19,7 +19,7 @@ class UserRestrictionsListBuilder extends ConfigEntityListBuilder {
   /**
    * The user restriction type manager.
    *
-   * @var \Drupal\user_restrictions\UserRestrictionTypeManagerInterface
+   * @var UserRestrictionTypeManagerInterface
    */
   protected $typeManager;
 
diff --git a/src/UserRestrictionsManager.php b/src/UserRestrictionsManager.php
index b42ccce..6754d3a 100644
--- a/src/UserRestrictionsManager.php
+++ b/src/UserRestrictionsManager.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\user_restrictions;
 
+use Drupal\Core\Entity\EntityStorageInterface;
+use Drupal\user_restrictions\Plugin\UserRestrictionTypeInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\user_restrictions\Entity\UserRestrictions;
@@ -24,32 +26,32 @@ class UserRestrictionsManager implements UserRestrictionsManagerInterface {
   /**
    * The entity storage interfacce.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $entityStorage;
 
   /**
    * The type manager interfacce.
    *
-   * @var \Drupal\user_restrictions\UserRestrictionTypeManagerInterface
+   * @var UserRestrictionTypeManagerInterface
    */
   protected $typeManager;
 
   /**
    * The logger instance.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;
 
   /**
    * Constructs a UserRestrictionsManager object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity storage.
-   * @param \Drupal\user_restrictions\UserRestrictionTypeManagerInterface $type_manager
+   * @param UserRestrictionTypeManagerInterface $type_manager
    *   The user restriction type manager.
-   * @param Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   The user_restrictions logger channel.
    */
   public function __construct(EntityTypeManagerInterface $entity_manager, UserRestrictionTypeManagerInterface $type_manager, LoggerInterface $logger) {
@@ -62,7 +64,7 @@ class UserRestrictionsManager implements UserRestrictionsManagerInterface {
    * {@inheritdoc}
    */
   public function matchesRestrictions(array $data) {
-    /** @var \Drupal\user_restrictions\Plugin\UserRestrictionTypeInterface $type */
+    /** @var UserRestrictionTypeInterface $type */
     foreach ($this->typeManager->getTypes() as $key => $type) {
       if ($type->matches($data)) {
         $this->setError($key, $type->getErrorMessage());
@@ -82,7 +84,7 @@ class UserRestrictionsManager implements UserRestrictionsManagerInterface {
    * @param string $message
    *   Error message.
    *
-   * @return \Drupal\user_restrictions\UserRestrictionsManagerInterface
+   * @return UserRestrictionsManagerInterface
    *   The service for chaining.
    */
   protected function setError($type, $message) {
diff --git a/tests/src/Functional/UserRestrictionsBasicTest.php b/tests/src/Functional/UserRestrictionsBasicTest.php
index 3933c70..fe43221 100644
--- a/tests/src/Functional/UserRestrictionsBasicTest.php
+++ b/tests/src/Functional/UserRestrictionsBasicTest.php
@@ -41,8 +41,8 @@ class UserRestrictionsBasicTest extends UserRestrictionsTestBase {
   public function testUserRestrictionsRecordExists() {
     $restriction = $this->storage->load($this->id);
     $this->assertTrue($restriction, 'User restriction exists in the database');
-    $this->assertEqual($restriction->label(), $this->label, 'User restriction name matches');
-    $this->assertEqual($restriction->getRuleType(), $this->type, 'User restriction type matches');
+    $this->assertEquals($restriction->label(), $this->label, 'User restriction name matches');
+    $this->assertEquals($restriction->getRuleType(), $this->type, 'User restriction type matches');
   }
 
 }
diff --git a/tests/src/Functional/UserRestrictionsExpireTest.php b/tests/src/Functional/UserRestrictionsExpireTest.php
index debdb49..beb9b14 100644
--- a/tests/src/Functional/UserRestrictionsExpireTest.php
+++ b/tests/src/Functional/UserRestrictionsExpireTest.php
@@ -24,7 +24,7 @@ class UserRestrictionsExpireTest extends UserRestrictionsTestBase {
   public function testUserRestrictionsRecordExists() {
     $restriction = $this->storage->load($this->id);
     $this->assertNotNull($restriction, 'User Restriction exists in the database');
-    $this->assertEqual($restriction->label(), $this->name, 'User restriction exists');
+    $this->assertEquals($restriction->label(), $this->name, 'User restriction exists');
   }
 
   /**
diff --git a/tests/src/Functional/UserRestrictionsLoginTest.php b/tests/src/Functional/UserRestrictionsLoginTest.php
index e3ee5c0..7b4afb8 100644
--- a/tests/src/Functional/UserRestrictionsLoginTest.php
+++ b/tests/src/Functional/UserRestrictionsLoginTest.php
@@ -26,9 +26,10 @@ class UserRestrictionsLoginTest extends UserRestrictionsTestBase {
     $edit = [];
     $edit['name'] = $name;
     $edit['mail'] = $this->randomMachineName() . '@example.com';
-    $this->drupalPostForm('user/register', $edit, t('Create new account'));
+    $this->drupalGet('user/register');
+    $this->submitForm($edit, t('Create new account'));
     $text = (string) new FormattableMarkup('The name <em class="placeholder">@name</em> is reserved, and cannot be used.', ['@name' => $name]);
-    $this->assertRaw((string) $text, 'User "name" restricted.');
+    $this->assertSession()->responseContains((string) $text);
   }
 
   /**
@@ -40,8 +41,12 @@ class UserRestrictionsLoginTest extends UserRestrictionsTestBase {
     $edit = [];
     $edit['name'] = 'lolcats';
     $edit['mail'] = $this->randomMachineName() . '@example.com';
-    $this->drupalPostForm('user/register', $edit, t('Create new account'));
-    $this->assertText(t('A welcome message with further instructions has been sent to your email address.'), 'User registered successfully.');
+    $this->drupalGet('user/register');
+    $this->submitForm($edit, t('Create new account'));
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains(t('A welcome message with further instructions has been sent to your email address.'));
   }
 
   /**
@@ -54,9 +59,10 @@ class UserRestrictionsLoginTest extends UserRestrictionsTestBase {
     $edit = [];
     $edit['name'] = $this->randomMachineName();
     $edit['mail'] = $mail;
-    $this->drupalPostForm('user/register', $edit, t('Create new account'));
+    $this->drupalGet('user/register');
+    $this->submitForm($edit, t('Create new account'));
     $text = (string) new FormattableMarkup('The email <em class="placeholder">@mail</em> is reserved, and cannot be used.', ['@mail' => $mail]);
-    $this->assertRaw((string) $text, 'User "email" restricted.');
+    $this->assertSession()->responseContains((string) $text);
   }
 
   /**
@@ -68,8 +74,12 @@ class UserRestrictionsLoginTest extends UserRestrictionsTestBase {
     $edit = [];
     $edit['name'] = $this->randomMachineName();
     $edit['mail'] = 'typhonius@mail.ru';
-    $this->drupalPostForm('user/register', $edit, t('Create new account'));
-    $this->assertText(t('A welcome message with further instructions has been sent to your email address.'), 'User registered successfully.');
+    $this->drupalGet('user/register');
+    $this->submitForm($edit, t('Create new account'));
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains(t('A welcome message with further instructions has been sent to your email address.'));
   }
 
   /**
@@ -82,8 +92,12 @@ class UserRestrictionsLoginTest extends UserRestrictionsTestBase {
     $edit = [];
     $edit['name'] = 'ilikecoffee';
     $edit['mail'] = $mail;
-    $this->drupalPostForm('user/register', $edit, t('Create new account'));
-    $this->assertText(t('A welcome message with further instructions has been sent to your email address.'), 'User registered successfully.');
+    $this->drupalGet('user/register');
+    $this->submitForm($edit, t('Create new account'));
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains(t('A welcome message with further instructions has been sent to your email address.'));
   }
 
   /**
@@ -96,9 +110,10 @@ class UserRestrictionsLoginTest extends UserRestrictionsTestBase {
     $edit = [];
     $edit['name'] = $name;
     $edit['mail'] = $this->randomMachineName() . '@' . $this->randomMachineName() . '.com';
-    $this->drupalPostForm('user/register', $edit, t('Create new account'));
+    $this->drupalGet('user/register');
+    $this->submitForm($edit, t('Create new account'));
     $text = (string) new FormattableMarkup('The name <em class="placeholder">@name</em> is reserved, and cannot be used.', ['@name' => $name]);
-    $this->assertRaw((string) $text, 'User "name" restricted.');
+    $this->assertSession()->responseContains((string) $text);
   }
 
 }
diff --git a/tests/src/Functional/UserRestrictionsTestBase.php b/tests/src/Functional/UserRestrictionsTestBase.php
index 33eeba5..6723cd2 100644
--- a/tests/src/Functional/UserRestrictionsTestBase.php
+++ b/tests/src/Functional/UserRestrictionsTestBase.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\Tests\user_restrictions\Functional;
 
+use Drupal\Core\Entity\EntityStorageInterface;
+use Drupal\Tests\user_restrictions\Functional\Drupal\user\UserInterface;
 use Drupal\Tests\BrowserTestBase;
 
 abstract class UserRestrictionsTestBase extends BrowserTestBase {
@@ -16,7 +18,7 @@ abstract class UserRestrictionsTestBase extends BrowserTestBase {
   /**
    * The restriction storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $storage;
 
@@ -28,14 +30,14 @@ abstract class UserRestrictionsTestBase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->storage = \Drupal::service('entity_type.manager')
       ->getStorage('user_restrictions');
 
     // Allow registration by site visitors without administrator approval.
-    \Drupal::configFactory()->getEditable('user.settings')->set('register', Drupal\user\UserInterface::REGISTER_VISITORS)->save();
+    \Drupal::configFactory()->getEditable('user.settings')->set('register', UserInterface::REGISTER_VISITORS)->save();
   }
 
 }
diff --git a/user_restrictions.module b/user_restrictions.module
index 1ff1c17..4cef31f 100755
--- a/user_restrictions.module
+++ b/user_restrictions.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\user_restrictions\UserRestrictionsManagerInterface;
 /**
  * @file
  * Specifies rules for restricting the data users can set for their accounts.
@@ -77,7 +78,7 @@ function user_restrictions_form_user_form_alter(&$form, &$form_state) {
  *
  * @param array $form
  *   Nested array of form elements that comprise the form.
- * @param \Drupal\Core\Form\FormStateInterface $form_state
+ * @param FormStateInterface $form_state
  *   The current state of the form.
  */
 function user_restrictions_validate(array $form, FormStateInterface $form_state) {
@@ -94,7 +95,7 @@ function user_restrictions_validate(array $form, FormStateInterface $form_state)
     }
   }
 
-  /** @var Drupal\user_restrictions\UserRestrictionsManagerInterface $restriction_manager */
+  /** @var UserRestrictionsManagerInterface $restriction_manager */
   $restriction_manager = \Drupal::service('user_restrictions.manager');
 
   if ($restriction_manager->matchesRestrictions($form_state->getValues())) {
