diff --git a/easy_responsive_images.info.yml b/easy_responsive_images.info.yml
index 1676ac8..ee554c3 100644
--- a/easy_responsive_images.info.yml
+++ b/easy_responsive_images.info.yml
@@ -1,7 +1,7 @@
 name: 'Easy Responsive Images'
 description: 'Provides a settings form to automatically generate image styles, and a Twig Filter to use the image styles in templates.'
 type: module
-core_version_requirement: ^9
+core_version_requirement: ^9.3 || ^10
 package: Other
 configure: easy_responsive_images.generate
 dependencies:
diff --git a/src/Form/Config/GenerateImageStyles.php b/src/Form/Config/GenerateImageStyles.php
index ac251ad..f6030da 100644
--- a/src/Form/Config/GenerateImageStyles.php
+++ b/src/Form/Config/GenerateImageStyles.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\easy_responsive_images\Form\Config;
 
+use Drupal\image\ImageStyleInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Extension\ModuleHandler;
@@ -17,25 +18,25 @@ class GenerateImageStyles extends ConfigFormBase {
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandler
+   * @var ModuleHandler
    */
   protected $moduleHandler;
 
   /**
    * Constructs a GenerateImageStyles object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
-   * @param \Drupal\Core\Extension\ModuleHandler $module_handler
+   * @param ModuleHandler $module_handler
    *   The module handler.
    */
   public function __construct(ConfigFactoryInterface $config_factory, EntityTypeManagerInterface $entity_type_manager, ModuleHandler $module_handler) {
@@ -186,7 +187,7 @@ class GenerateImageStyles extends ConfigFormBase {
         $name = 'responsive_' . $width . 'w';
         $generated_styles[] = $name;
         if (!$image_style_storage->load($name)) {
-          /** @var \Drupal\image\ImageStyleInterface $style */
+          /** @var ImageStyleInterface $style */
           $style = $image_style_storage->create([
             'name' => $name,
             'label' => $name,
@@ -213,7 +214,7 @@ class GenerateImageStyles extends ConfigFormBase {
         $name = 'responsive_' . $w . '_' . $h . '_' . $width . 'w';
         $generated_styles[] = $name;
         if (!$image_style_storage->load($name)) {
-          /** @var \Drupal\image\ImageStyleInterface $style */
+          /** @var ImageStyleInterface $style */
           $style = $image_style_storage->create([
             'name' => $name,
             'label' => $name,
@@ -252,7 +253,7 @@ class GenerateImageStyles extends ConfigFormBase {
         $name = 'responsive_' . $height . 'h';
         $generated_styles[] = $name;
         if (!$image_style_storage->load($name)) {
-          /** @var \Drupal\image\ImageStyleInterface $style */
+          /** @var ImageStyleInterface $style */
           $style = $image_style_storage->create([
             'name' => $name,
             'label' => $name,
diff --git a/src/TwigExtension/ImageUrl.php b/src/TwigExtension/ImageUrl.php
index 1100c15..88f262e 100644
--- a/src/TwigExtension/ImageUrl.php
+++ b/src/TwigExtension/ImageUrl.php
@@ -56,7 +56,7 @@ class ImageUrl extends AbstractExtension {
       return;
     }
 
-    $file_url = file_url_transform_relative($image_style->buildUrl($uri));
+    $file_url = \Drupal::service('file_url_generator')->transformRelative($image_style->buildUrl($uri));
 
     // If the imageapi_optimize_webp module is installed and the browser
     // supports webp, return the webp version of the image.
