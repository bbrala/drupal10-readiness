modules/contrib/ajax_comments/ajax_comments.module
modules/contrib/ajax_comments/src/Ajax/ajaxCommentsScrollToElementCommand.php
modules/contrib/ajax_comments/src/Controller/AjaxCommentsController.php
modules/contrib/ajax_comments/src/FieldSettingsHelper.php
modules/contrib/ajax_comments/src/Form/AjaxCommentsDeleteForm.php
modules/contrib/ajax_comments/src/Form/AjaxCommentsForm.php
modules/contrib/ajax_comments/src/Form/SettingsForm.php
modules/contrib/ajax_comments/src/TempStore.php
modules/contrib/ajax_comments/src/Tests/AjaxCommentsSettingsFormTest.php
modules/contrib/ajax_comments/src/Utility.php
modules/contrib/ajax_comments/tests/src/FunctionalJavascript/AjaxCommentsFunctionalTest.php

10 files with changes
=====================

1) modules/contrib/ajax_comments/tests/src/FunctionalJavascript/AjaxCommentsFunctionalTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\ajax_comments\FunctionalJavascript;

+use Drupal\user\RoleInterface;
 use Drupal\comment\Entity\Comment;
 use Drupal\comment\Plugin\Field\FieldType\CommentItemInterface;
 use Drupal\comment\Tests\CommentTestTrait;
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->entityTypeManager = $this->container->get('entity_type.manager');

@@ @@
     $this->assertJsCondition($javascript_assertion);

     // Test removing the role's permission to post comments.
-    /** @var \Drupal\user\RoleInterface[] $roles */
+    /** @var RoleInterface[] $roles */
     $roles = Role::loadMultiple($admin_user->getRoles());
     foreach ($roles as $role) {
       $role->revokePermission('post comments');
@@ @@

     // Restore the user's permission to post comments, and reload the page
     // so that the reply links are visible.
-    /** @var \Drupal\user\RoleInterface[] $roles */
+    /** @var RoleInterface[] $roles */
     $roles = Role::loadMultiple($admin_user->getRoles());
     foreach ($roles as $role) {
       $role->grantPermission('post comments');
@@ @@
     $this->drupalGet($node->toUrl());

     // Revoke the user's permission to post comments, again.
-    /** @var \Drupal\user\RoleInterface[] $roles */
+    /** @var RoleInterface[] $roles */
     $roles = Role::loadMultiple($admin_user->getRoles());
     foreach ($roles as $role) {
       $role->revokePermission('post comments');
@@ @@

     // Again, restore the user's permission to post comments, and
     // reload the page so that the reply links are visible.
-    /** @var \Drupal\user\RoleInterface[] $roles */
+    /** @var RoleInterface[] $roles */
     $roles = Role::loadMultiple($admin_user->getRoles());
     foreach ($roles as $role) {
       $role->grantPermission('post comments');
@@ @@
     }

     // Revoke the user's permission to post comments without reloading the page.
-    /** @var \Drupal\user\RoleInterface[] $roles */
+    /** @var RoleInterface[] $roles */
     $roles = Role::loadMultiple($admin_user->getRoles());
     foreach ($roles as $role) {
       $role->revokePermission('post comments');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/ajax_comments/src/Utility.php:30

    ---------- begin diff ----------
@@ @@
    *
    * @param array $build
    *   The render array to store.
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The entity with the render array to store.
    * @param string $view_mode
    *   The view mode of the render array.
@@ @@
   /**
    * Retrieve a stored entity render array.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The entity whose render array should be loaded.
    * @param string $view_mode
    *   The view mode of the render array to load.
@@ @@
    * field, return the id attribute value of the wrapper element around the
    * comment field, for use in ajax responses.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $commented_entity
+   * @param ContentEntityInterface $commented_entity
    *   The entity that has the comment field being updated.
    * @param string $field_name
    *   The machine name of the comment field.
@@ @@
   /**
    * Check if a request was made through ajax.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
    * @param array $input
    *   (optional) The form input returned from $form_state->getUserInput().
@@ @@
   /**
    * Check if the request is for a modal dialog.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
    *
    * @return bool
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/ajax_comments/src/Tests/AjaxCommentsSettingsFormTest.php:32

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $admin_roles = $this->adminUser->getRoles();
     $admin_role = Role::load(reset($admin_roles));
@@ @@
     $this->drupalLogin($this->adminUser);
     $this->drupalGet('admin/config/content/ajax_comments');
     // Check that the page loads.
-    $this->assertResponse(200);
-    $this->assertText(
-      t("Enable Ajax Comments on the comment fields' display settings"),
-      'The list of bundles appears on the form.'
-    );
+    $this->assertSession()->statusCodeEquals(200);
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains(t("Enable Ajax Comments on the comment fields' display settings"));
     $this->clickLink(t('Content: Article'));
-    $this->assertUrl('/admin/structure/types/manage/article/display', [], 'There is a link to the entity view display form for articles.');
-    $this->assertResponse(200);
+    $this->assertSession()->addressEquals('/admin/structure/types/manage/article/display', [], 'There is a link to the entity view display form for articles.');
+    $this->assertSession()->statusCodeEquals(200);

     // Open comment settings.
-    $this->drupalPostForm(NULL, [], 'comment_settings_edit');
+    $this->submitForm([], 'comment_settings_edit');
     // Disable ajax comments.
-    $this->drupalPostForm(NULL, ['fields[comment][settings_edit_form][third_party_settings][ajax_comments][enable_ajax_comments]' => '0'], 'comment_plugin_settings_update');
+    $this->submitForm(['fields[comment][settings_edit_form][third_party_settings][ajax_comments][enable_ajax_comments]' => '0'], 'comment_plugin_settings_update');
     // Save display mode.
-    $this->drupalPostForm(NULL, [], t('Save'));
-    $this->assertResponse(200);
+    $this->submitForm([], t('Save'));
+    $this->assertSession()->statusCodeEquals(200);
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertResponseRector
 * AssertTextRector
 * AssertUrlRector
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/ajax_comments/src/TempStore.php:27

    ---------- begin diff ----------
@@ @@
   /**
    * TempStore constructor.
    *
-   * @param \Drupal\Core\TempStore\PrivateTempStoreFactory $private_temp_store_factory
+   * @param PrivateTempStoreFactory $private_temp_store_factory
    *   The factory to create the PrivateTempStore object.
    */
   public function __construct(PrivateTempStoreFactory $private_temp_store_factory) {
@@ @@
   /**
    * Get a single selector value, without the '#' prefix.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The request object.
    * @param string $selector
    *   The selector to retrieve.
@@ @@
    * Store the selectors in the privateTempStore so that they are available
    * for a subsequent HTTP response (when the #lazy_builder callback runs).
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The request object.
    * @param bool $overwrite
    *   Boolean to indicate if an existing selector should be overwritten if
@@ @@
   /**
    * Update the temp store values while rebuilding a form, when necessary.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The request object.
    * @param array $form
    *   A form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state object.
    * @param bool $is_validating
    *   Indicates if this method has been called from a form validation function.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


5) modules/contrib/ajax_comments/src/Form/SettingsForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\ajax_comments\Form;

+use Drupal\Core\Entity\ContentEntityTypeInterface;
 use Drupal\field_ui\FieldUI;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityListBuilderInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The entity type bundle info service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface
+   * @var EntityTypeBundleInfoInterface
    */
   protected $entityTypeBundleInfo;

@@ @@
   /**
    * The entity type bundle info service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Constructs a \Drupal\ajax_comments\Form\SettingsForm object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle info service.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The entity type bundle info service.
    */
   public function __construct(ConfigFactoryInterface $config_factory, EntityTypeManagerInterface $entity_type_manager, EntityTypeBundleInfoInterface $entity_type_bundle_info, ModuleHandlerInterface $module_handler) {
@@ @@
     foreach ($field_list as $field_storage_config) {
       if ($field_storage_config->getType() === 'comment') {
         $entity_type_id = $field_storage_config->getTargetEntityTypeId();
-        /** @var \Drupal\Core\Entity\ContentEntityTypeInterface $entity_type */
+        /** @var ContentEntityTypeInterface $entity_type */
         $entity_type = $this->entityTypeManager->getDefinition($entity_type_id);
         // Load label info for the bundles of entity type $entity_type_id.
         $bundle_info = $this->entityTypeBundleInfo->getBundleInfo($entity_type_id);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/ajax_comments/src/Form/AjaxCommentsForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\ajax_comments\Form;

+use Drupal\comment\CommentInterface;
+use Drupal\Core\Entity\ContentEntityInterface;
+use Drupal\Core\Entity\EntityInterface;
 use Drupal\ajax_comments\FieldSettingsHelper;
 use Drupal\ajax_comments\TempStore;
 use Drupal\ajax_comments\Utility;
@@ @@
   /**
    * The CurrentRouteMatch service.
    *
-   * @var \Drupal\Core\Routing\CurrentRouteMatch
+   * @var CurrentRouteMatch
    */
   protected $currentRouteMatch;

@@ @@
   /**
    * The FieldSettingsHelper service.
    *
-   * @var \Drupal\ajax_comments\FieldSettingsHelper
+   * @var FieldSettingsHelper
    */
   protected $fieldSettingsHelper;

@@ @@
    *
    * This service stores temporary data to be used across HTTP requests.
    *
-   * @var \Drupal\ajax_comments\TempStore
+   * @var TempStore
    */
   protected $tempStore;

@@ @@
   /**
    * A request stack symfony instance.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * Constructs a new CommentForm.
    *
-   *@param \Drupal\Core\Entity\EntityRepositoryInterface $entity_repository
+   * @param EntityRepositoryInterface $entity_repository
    *   The entity repository.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
-   * @param \Drupal\Core\Routing\CurrentRouteMatch $current_route_match
+   * @param CurrentRouteMatch $current_route_match
    *   The CurrentRouteMatch service.
-   * @param \Drupal\ajax_comments\FieldSettingsHelper $field_settings_helper
+   * @param FieldSettingsHelper $field_settings_helper
    *   The FieldSettingsHelper service.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle service.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The time service.
-   * @param \Drupal\ajax_comments\TempStore $temp_store
+   * @param TempStore $temp_store
    *   The TempStore service.
    */
   public function __construct(EntityRepositoryInterface $entity_repository, AccountInterface $current_user, RendererInterface $renderer, EntityTypeBundleInfoInterface $entity_type_bundle_info = NULL, TimeInterface $time = NULL, EntityFieldManagerInterface $entity_field_manager = NULL, RequestStack $request_stack, CurrentRouteMatch $current_route_match, FieldSettingsHelper $field_settings_helper, TempStore $temp_store) {
@@ @@
       return $form;
     }

-    /** @var \Drupal\comment\CommentInterface $comment */
+    /** @var CommentInterface $comment */
     $comment = $form_state->getFormObject()->getEntity();
     // Check to see if this comment field uses ajax comments.
     $comment_formatter = $this->fieldSettingsHelper->getFieldFormatterFromComment($comment, 'full');
@@ @@
       return $form;
     }

-    /** @var \Drupal\Core\Entity\ContentEntityInterface $commented_entity */
+    /** @var ContentEntityInterface $commented_entity */
     $commented_entity = $comment->getCommentedEntity();
     $field_name = $comment->getFieldName();

@@ @@
     $element = parent::actions($form, $form_state);

     // Populate the comment-specific variables.
-    /** @var \Drupal\comment\CommentInterface $comment */
+    /** @var CommentInterface $comment */
     $comment = $form_state->getFormObject()->getEntity();
     $comment_formatter = $this->fieldSettingsHelper->getFieldFormatterFromComment($comment, 'full');
     if (empty($comment_formatter) || !$this->fieldSettingsHelper->isEnabled($comment_formatter)) {
@@ @@
       // If not using Ajax Comments, return the unmodified element.
       return $element;
     }
-    /** @var \Drupal\Core\Entity\EntityInterface $commented_entity */
+    /** @var EntityInterface $commented_entity */
     $commented_entity = $comment->getCommentedEntity();
     $field_name = $comment->getFieldName();
     $cid = $comment->id() ? $comment->id() : 0;
@@ @@
   public function validateForm(array &$form, FormStateInterface $form_state) {
     parent::validateForm($form, $form_state);

-    /** @var \Drupal\comment\CommentInterface $comment */
+    /** @var CommentInterface $comment */
     $comment = $form_state->getFormObject()->getEntity();
     $comment_formatter = $this->fieldSettingsHelper->getFieldFormatterFromComment($comment, 'full');
     if ($comment_formatter && !$this->fieldSettingsHelper->isEnabled($comment_formatter)) {
@@ @@
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    */
   public function save(array $form, FormStateInterface $form_state) {
     parent::save($form, $form_state);
-    /** @var \Drupal\comment\CommentInterface $comment */
+    /** @var CommentInterface $comment */
     $comment = $form_state->getFormObject()->getEntity();
     $comment_formatter = $this->fieldSettingsHelper->getFieldFormatterFromComment($comment, 'full');
     if (empty($comment_formatter) || !$this->fieldSettingsHelper->isEnabled($comment_formatter)) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/ajax_comments/src/Form/AjaxCommentsDeleteForm.php:24

    ---------- begin diff ----------
@@ @@
    *
    * This service stores temporary data to be used across HTTP requests.
    *
-   * @var \Drupal\ajax_comments\TempStore
+   * @var TempStore
    */
   protected $tempStore;

@@ @@
   /**
    * Constructs an AjaxCommentsDeleteForm object.
    *
-   * @param \Drupal\Core\Entity\EntityRepositoryInterface $entity_repository
+   * @param EntityRepositoryInterface $entity_repository
    *   The entity manager.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle service.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The time service.
-   * @param \Drupal\ajax_comments\TempStore $temp_store
+   * @param TempStore $temp_store
    *   The TempStore service.
    */
   public function __construct(EntityRepositoryInterface $entity_repository, EntityTypeBundleInfoInterface $entity_type_bundle_info, TimeInterface $time, TempStore $temp_store) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/ajax_comments/src/FieldSettingsHelper.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\ajax_comments;

+use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\comment\CommentInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Entity\Display\EntityDisplayInterface;
@@ @@
   /**
    * The entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The field formatter plugin manager service.
    *
-   * @var \Drupal\Core\Field\FormatterPluginManager
+   * @var FormatterPluginManager
    */
   protected $fieldFormatterManager;

@@ @@
   /**
    * AjaxCommentsFieldSettings constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
-   * @param \Drupal\Core\Field\FormatterPluginManager $formatter_plugin_manager
+   * @param FormatterPluginManager $formatter_plugin_manager
    *   The field formatter plugin manager service.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, FormatterPluginManager $formatter_plugin_manager) {
@@ @@
   /**
    * Get the entity view display configuration for the commented entity.
    *
-   * @param \Drupal\comment\CommentInterface $comment
+   * @param CommentInterface $comment
    *   The comment entity.
    * @param string $view_mode
    *   The current view mode.
    *
-   * @return \Drupal\Core\Entity\Display\EntityDisplayInterface
+   * @return EntityDisplayInterface
    *   The entity view display configuration for the commented entity.
    */
   public function getEntityViewDisplay(CommentInterface $comment, $view_mode = 'default') {
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $commented_entity */
+    /** @var ContentEntityInterface $commented_entity */
     $commented_entity = $comment->getCommentedEntity();

     // Try to load the configuration entity for the entity's
     // view display settings.
-    /** @var \Drupal\Core\Entity\Display\EntityDisplayInterface $view_display */
+    /** @var EntityDisplayInterface $view_display */
     $view_display = $this->entityTypeManager
       ->getStorage('entity_view_display')
       ->load($commented_entity->getEntityTypeId() . '.' . $commented_entity->bundle() . '.' . $view_mode);
@@ @@
   /**
    * Get the active field formatter for a comment field.
    *
-   * @param \Drupal\Core\Entity\Display\EntityDisplayInterface $view_display
+   * @param EntityDisplayInterface $view_display
    *   The commented entity view display configuration.
    * @param string $field_name
    *   The machine name of the comment field.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The field configuration.
    * @param string $view_mode
    *   The current view mode.
    *
-   * @return \Drupal\Core\Field\FormatterInterface
+   * @return FormatterInterface
    *   The field formatter for the comment field.
    */
   public function getFieldFormatter(EntityDisplayInterface $view_display, $field_name, FieldDefinitionInterface $field_definition, $view_mode = 'default') {
@@ @@
     }
     else {
       // Get the formatter for the current comment field.
-      /** @var \Drupal\Core\Field\FormatterInterface $comment_formatter */
+      /** @var FormatterInterface $comment_formatter */
       $comment_formatter = $this->fieldFormatterManager
         ->getInstance([
           'field_definition' => $field_definition,
@@ @@
   /**
    * Get the active field formatter for a comment entity.
    *
-   * @param \Drupal\comment\CommentInterface $comment
+   * @param CommentInterface $comment
    *   The comment entity.
    * @param string $view_mode
    *   The current view mode.
    *
-   * @return \Drupal\Core\Field\FormatterInterface
+   * @return FormatterInterface
    *   The field formatter for the current comment.
    */
   public function getFieldFormatterFromComment(CommentInterface $comment, $view_mode = 'default') {
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $commented_entity */
+    /** @var ContentEntityInterface $commented_entity */
     $commented_entity = $comment->getCommentedEntity();
     $field_name = $comment->getFieldName();
-    /** @var \Drupal\Core\Field\FieldDefinitionInterface $field_definition */
+    /** @var FieldDefinitionInterface $field_definition */
     $field_definition = $commented_entity->getFieldDefinition($field_name);

     // Load the configuration entity for the entity's view display settings.
-    /** @var \Drupal\Core\Entity\Display\EntityDisplayInterface $view_display */
+    /** @var EntityDisplayInterface $view_display */
     $view_display = $this->getEntityViewDisplay($comment, $view_mode);

     // Get the formatter for the current comment field.
-    /** @var \Drupal\Core\Field\FormatterInterface $comment_formatter */
+    /** @var FormatterInterface $comment_formatter */
     $comment_formatter = $this->getFieldFormatter($view_display, $field_name, $field_definition, $view_mode);

     return $comment_formatter;
@@ @@
   /**
    * Determine if ajax comments is enabled for a comment field in a view mode.
    *
-   * @param \Drupal\Core\Field\FormatterInterface $comment_formatter
+   * @param FormatterInterface $comment_formatter
    *   The field formatter for the comment field in the provided
    *   entity view mode.
    *
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


9) modules/contrib/ajax_comments/src/Controller/AjaxCommentsController.php:42

    ---------- begin diff ----------
@@ @@
   /**
    * Service to turn render arrays into HTML strings.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
    *
    * A router class for Drupal.
    *
-   * @var \Symfony\Component\Routing\RouterInterface
+   * @var RouterInterface
    */
   protected $router;

@@ @@
    *
    * This service stores temporary data to be used across HTTP requests.
    *
-   * @var \Drupal\ajax_comments\TempStore
+   * @var TempStore
    */
   protected $tempStore;

@@ @@
   /**
    * The messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * Constructs a AjaxCommentsController object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The render service.
-   * @param \Symfony\Component\Routing\RouterInterface $router
+   * @param RouterInterface $router
    *   The Router service.
-   * @param \Drupal\ajax_comments\TempStore $temp_store
+   * @param TempStore $temp_store
    *   The TempStore service.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The Messenger service.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, AccountInterface $current_user, RendererInterface $renderer, RouterInterface $router, TempStore $temp_store, MessengerInterface $messenger) {
@@ @@
   /**
    * Build a comment field render array for the ajax response.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity that has the comment field.
    * @param string $field_name
    *   The machine name of the comment field.
@@ @@
   /**
    * Create an ajax response to replace the comment field.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
-   * @param \Drupal\Core\Ajax\AjaxResponse $response
+   * @param AjaxResponse $response
    *   The response object being built.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity that has the comment field.
    * @param string $field_name
    *   The machine name of the comment field.
@@ @@
    * @param int|null $pid
    *   The entity id of the parent comment, if applicable, NULL otherwise.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The modified ajax response.
    */
   protected function buildCommentFieldResponse(Request $request, AjaxResponse $response, EntityInterface $entity, $field_name, $pid = NULL) {
@@ @@
   /**
    * Add messages to the ajax response.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
-   * @param \Drupal\Core\Ajax\AjaxResponse $response
+   * @param AjaxResponse $response
    *   The response object being built.
    * @param string $selector
    *   The DOM selector used to insert status messages.
@@ @@
    *   Indicates whether to use PrependCommand, BeforeCommand, AppendCommand,
    *   or AfterCommand.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The modified ajax response.
    */
   protected function addMessages(Request $request, AjaxResponse $response, $selector = '', $position = 'prepend') {
@@ @@
   /**
    * Returns the comment edit form.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
-   * @param \Drupal\comment\CommentInterface $comment
+   * @param CommentInterface $comment
    *   The comment entity.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse|\Symfony\Component\HttpFoundation\RedirectResponse
+   * @return AjaxResponse|RedirectResponse
    *   The Ajax response, or a redirect response if not using ajax.
    */
   public function edit(Request $request, CommentInterface $comment) {
@@ @@
   /**
    * Submit handler for the comment reply and edit forms.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
-   * @param \Drupal\comment\CommentInterface $comment
+   * @param CommentInterface $comment
    *   The comment entity.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The Ajax response.
    */
   public function save(Request $request, CommentInterface $comment) {
@@ @@
   /**
    * Cancel handler for the comment edit form.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
    * @param int $cid
    *   The id of the comment being edited, or 0 if this is a new comment.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The Ajax response.
    */
   public function cancel(Request $request, $cid) {
@@ @@
   /**
    * Builds ajax response for deleting a comment.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
-   * @param \Drupal\comment\CommentInterface $comment
+   * @param CommentInterface $comment
    *   The comment entity.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The Ajax response.
    */
   public function delete(Request $request, CommentInterface $comment) {
@@ @@
   /**
    * Builds ajax response for adding a new comment without a parent comment.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity this comment belongs to.
    * @param string $field_name
    *   The field_name to which the comment belongs.
@@ @@
    *   (optional) Some comments are replies to other comments. In those cases,
    *   $pid is the parent comment's comment ID. Defaults to NULL.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The Ajax response.
    *
    * @see \Drupal\comment\Controller\CommentController::getReplyForm()
@@ @@
   /**
    * Builds ajax response to display a form to reply to another comment.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity this comment belongs to.
    * @param string $field_name
    *   The field_name to which the comment belongs.
@@ @@
    * @param int $pid
    *   The parent comment's comment ID.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse|\Symfony\Component\HttpFoundation\RedirectResponse
+   * @return AjaxResponse|RedirectResponse
    *   The Ajax response, or a redirect response if not using ajax.
    *
    * @see \Drupal\comment\Controller\CommentController::getReplyForm()
@@ @@
   /**
    * Builds ajax response to save a submitted reply to another comment.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request object.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity this comment belongs to.
    * @param string $field_name
    *   The field_name to which the comment belongs.
@@ @@
    * @param int $pid
    *   The parent comment's comment ID.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The Ajax response.
    */
   public function saveReply(Request $request, EntityInterface $entity, $field_name, $pid) {
@@ @@
   }

   /**
-   * Check the user's permission to post a comment.
-   *
-   * @param \Symfony\Component\HttpFoundation\Request $request
-   *   The current request object.
-   * @param \Drupal\Core\Ajax\AjaxResponse $response
-   *   The response object being built.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
-   *   The entity this comment belongs to.
-   * @param string $field_name
-   *   The field_name to which the comment belongs.
-   * @param int $pid
-   *   (optional) Some comments are replies to other comments. In those cases,
-   *   $pid is the parent comment's comment ID. Defaults to NULL.
-   *
-   * @return \Drupal\Core\Ajax\AjaxResponse $response
-   *   The ajax response, if access is denied.
-   */
+  * Check the user's permission to post a comment.
+  *
+   * @param Request $request
+  *   The current request object.
+   * @param AjaxResponse $response
+  *   The response object being built.
+   * @param EntityInterface $entity
+  *   The entity this comment belongs to.
+  * @param string $field_name
+  *   The field_name to which the comment belongs.
+  * @param int $pid
+  *   (optional) Some comments are replies to other comments. In those cases,
+  *   $pid is the parent comment's comment ID. Defaults to NULL.
+  *
+   * @return AjaxResponse $response
+    The ajax response, if access is denied.
+  */
   public function replyAccess(Request $request, AjaxResponse $response, EntityInterface $entity, $field_name, $pid = NULL) {

     // Get the selectors.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/ajax_comments/ajax_comments.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Routing\CurrentRouteMatch;
+use Drupal\Core\Entity\EntityInterface;
 /**
  * @file
  * AJAX comments module file.
@@ @@
  */
 function ajax_comments_comment_links_alter(array &$links, CommentInterface &$entity, array &$context) {
   $request = \Drupal::request();
-  /** @var \Drupal\ajax_comments\FieldSettingsHelper $field_settings_helper */
+  /** @var FieldSettingsHelper $field_settings_helper */
   $field_settings_helper = \Drupal::service('ajax_comments.field_settings_helper');
   $comment_formatter = $field_settings_helper->getFieldFormatterFromComment($entity, $context['view_mode']);

@@ @@
   foreach ($build as $field_name => $field) {
     if (!empty($field['#field_type']) && $field['#field_type'] === 'comment') {
       // Check that this comment field uses Ajax Comments.
-      /** @var \Drupal\ajax_comments\FieldSettingsHelper $field_settings_helper */
+      /** @var FieldSettingsHelper $field_settings_helper */
       $field_settings_helper = \Drupal::service('ajax_comments.field_settings_helper');
       $field_config = $build[$field_name]['#items']->getFieldDefinition();
       $field_formatter = $field_settings_helper->getFieldFormatter($context['display'], $field['#field_name'], $field_config, $context['display']->getMode());
@@ @@
   if (!$commands_added) {
     foreach ($entity->getFieldDefinitions() as $machine_name => $field_config) {
       if ($field_config->getType() === 'comment') {
-        /** @var \Drupal\ajax_comments\FieldSettingsHelper $field_settings_helper */
+        /** @var FieldSettingsHelper $field_settings_helper */
         $field_settings_helper = \Drupal::service('ajax_comments.field_settings_helper');
         $field_formatter = $field_settings_helper->getFieldFormatter($display, $machine_name, $field_config, $display->getMode());
         if (!empty($field_formatter) && $field_settings_helper->isEnabled($field_formatter)) {
@@ @@
 /**
  * Implements hook_form_FORM_ID_alter().
  */
-function ajax_comments_form_comment_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
-  /** @var \Drupal\ajax_comments\FieldSettingsHelper $field_settings_helper */
+function ajax_comments_form_comment_form_alter(&$form, FormStateInterface $form_state, $form_id) {
+  /** @var FieldSettingsHelper $field_settings_helper */
   $field_settings_helper = \Drupal::service('ajax_comments.field_settings_helper');
-  /** @var \Drupal\Core\Routing\CurrentRouteMatch $current_route */
+  /** @var CurrentRouteMatch $current_route */
   $current_route = \Drupal::service('current_route_match');
   // Ajax replies to other comments should happen on the canonical entity page
   // (note this functionality has not been ported to D8, yet).
@@ @@
     return;
   }

-  /** @var \Drupal\comment\CommentInterface $comment */
+  /** @var CommentInterface $comment */
   $comment = $form_state->getFormObject()->getEntity();
-  /** @var \Drupal\Core\Entity\EntityInterface $commented_entity */
+  /** @var EntityInterface $commented_entity */
   $commented_entity = $comment->getCommentedEntity();
   $field_name = $comment->getFieldName();

@@ @@

   // Set unique id (need for Views with enabled AJAX).
   if (empty($form['actions']['submit']['#id'])) {
-    $form['actions']['submit']['#id'] = \Drupal\Component\Utility\Html::getUniqueId('edit-' . $id);
+    $form['actions']['submit']['#id'] = Html::getUniqueId('edit-' . $id);
   }

   $form['actions']['preview']['#ajax'] = [
@@ @@
   ];
   // Set unique id (need for Views with enabled AJAX).
   if (empty($form['actions']['preview']['#id'])) {
-    $form['actions']['preview']['#id'] = \Drupal\Component\Utility\Html::getUniqueId('preview-' . $id);
+    $form['actions']['preview']['#id'] = Html::getUniqueId('preview-' . $id);
   }
 }

@@ @@
  * Implements template_preprocess_comment().
  */
 function ajax_comments_preprocess_comment(&$variables) {
-  /** @var \Drupal\comment\CommentInterface $comment */
+  /** @var CommentInterface $comment */
   $comment = $variables['elements']['#comment'];
   $variables['attributes']['class'][] = AjaxCommentsController::$commentClassPrefix . $comment->id();
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 10 files have been changed by Rector                                      

