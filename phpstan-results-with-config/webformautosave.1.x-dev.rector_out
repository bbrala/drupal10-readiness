modules/contrib/webformautosave/src/AutosaveHelper.php
modules/contrib/webformautosave/tests/src/Functional/LoadTest.php
modules/contrib/webformautosave/tests/src/Functional/WebformAutosaveThirdPartySettingsTest.php
modules/contrib/webformautosave/webformautosave.install
modules/contrib/webformautosave/webformautosave.module

4 files with changes
====================

1) modules/contrib/webformautosave/webformautosave.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\webform\WebformSubmissionForm;
+use Drupal\webform\WebformSubmissionInterface;
+use Drupal\webformautosave\AutosaveHelper;
 /**
  * @file
  * Contains webformautosave.module.
@@ @@
  * Implements hook_webform_third_party_settings_form_alter().
  */
 function webformautosave_webform_third_party_settings_form_alter(array &$form, FormStateInterface $form_state) {
-  /** @var \Drupal\webform\WebformInterface $webform */
+  /** @var WebformInterface $webform */
   $webform = $form_state->getFormObject()->getEntity();

   $form['third_party_settings']['webformautosave'] = [
@@ @@
  * Implements hook_webform_submission_form_alter() for all webforms.
  */
 function webformautosave_webform_submission_form_alter(array &$form, FormStateInterface $form_state, $form_id) {
-  /** @var \Drupal\webform\WebformSubmissionForm $form_object */
+  /** @var WebformSubmissionForm $form_object */
   $form_object = $form_state->getFormObject();
-  /** @var \Drupal\webform\WebformSubmissionInterface $webform_submission */
+  /** @var WebformSubmissionInterface $webform_submission */
   $webform_submission = $form_object->getEntity();
   $webform = $webform_submission->getWebform();
   // Get webform auto-save settings.
@@ @@
   $autosave_enabled = $webform->getThirdPartySetting('webformautosave', 'auto_save');
   $autosave_time = $webform->getThirdPartySetting('webformautosave', 'auto_save_time');
   $optimistic_locking = $webform->getThirdPartySetting('webformautosave', 'optimistic_locking');
-  /** @var \Drupal\webformautosave\AutosaveHelper $autosave_helper */
+  /** @var AutosaveHelper $autosave_helper */
   $autosave_helper = Drupal::service('webformautosave.helper');

   // Auto create draft if purging is enabled and it has not been created yet.
@@ @@
  *
  * @param array $form
  *   The form we are validating.
- * @param \Drupal\Core\Form\FormStateInterface $form_state
+ * @param FormStateInterface $form_state
  *   A form_state for the form we are validating.
  */
 function optimistic_locking_validate(array $form, FormStateInterface $form_state) {
   // Load the submission.
-  /** @var \Drupal\webform\WebformSubmissionForm $form_object */
+  /** @var WebformSubmissionForm $form_object */
   $form_object = $form_state->getFormObject();
-  /** @var \Drupal\webform\WebformSubmissionInterface $webform_submission */
+  /** @var WebformSubmissionInterface $webform_submission */
   $webform_submission = $form_object->getEntity();
-  /** @var \Drupal\webformautosave\AutosaveHelper $autosave_helper */
+  /** @var AutosaveHelper $autosave_helper */
   $autosave_helper = \Drupal::service('webformautosave.helper');
   // Get the time we have stored.
   $stored_time = $form_state->get('optimistic_timestamp_' . $webform_submission->getToken());
@@ @@
   $last_change_time = $log->timestamp;
   // Check if the form has been changed.
   if (isset($stored_time) && $last_change_time > $stored_time) {
-    /** @var \Drupal\webformautosave\AutosaveHelper $autosave_helper */
+    /** @var AutosaveHelper $autosave_helper */
     $autosave_helper = Drupal::service('webformautosave.helper');
     // Build our submission URL.
     $submission_url = $autosave_helper->getSubmissionUrl($webform_submission);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


2) modules/contrib/webformautosave/tests/src/Functional/WebformAutosaveThirdPartySettingsTest.php:55

    ---------- begin diff ----------
@@ @@

     // Check 'Contact: Settings' shows 'Third party settings'.
     $this->drupalGet('/admin/structure/webform/manage/contact/settings');
-    $this->assertRaw('Third party settings');
+    $this->assertSession()->responseContains('Third party settings');
+    $this->drupalGet('/admin/structure/webform/manage/contact/settings');

     // Check 'Contact: Settings: Third party' auto save.
-    $this->drupalPostForm('/admin/structure/webform/manage/contact/settings', [], 'Save');
+    $this->submitForm([], 'Save');

     // Check webformautosave (custom) third party setting.
     $webform = $this->reloadWebform('contact');
     $this->assertTrue($webform->getThirdPartySetting('webformautosave', 'auto_save'));
-    $this->assertEqual(5000, $webform->getThirdPartySetting('webformautosave', 'auto_save_time'));
+    $this->assertEquals(5000, $webform->getThirdPartySetting('webformautosave', 'auto_save_time'));

     // Check 'Contact: Settings: Third party' auto save.
     $edit = [
       'third_party_settings[webformautosave][auto_save_time]' => 10000,
     ];
-    $this->drupalPostForm('/admin/structure/webform/manage/contact/settings', $edit, 'Save');
+    $this->drupalGet('/admin/structure/webform/manage/contact/settings');
+    $this->submitForm($edit, 'Save');

     // Check webformautosave (custom) third party setting.
     $webform = $this->reloadWebform('contact');
     $this->assertTrue($webform->getThirdPartySetting('webformautosave', 'auto_save'));
-    $this->assertEqual(10000, $webform->getThirdPartySetting('webformautosave', 'auto_save_time'));
+    $this->assertEquals(10000, $webform->getThirdPartySetting('webformautosave', 'auto_save_time'));
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AssertRawRector
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/webformautosave/tests/src/Functional/LoadTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\webformautosave\Functional;

+use Drupal\user\UserInterface;
 use Drupal\Tests\BrowserTestBase;

 /**
@@ @@
   /**
    * A user with permission to administer site configuration.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $adminUser;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/webformautosave/src/AutosaveHelper.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\webformautosave;

+use Drupal\Core\Url;
 use Drupal\Core\Datetime\DrupalDateTime;
 use Drupal\webform\WebformSubmissionInterface;
 use Drupal\webform_submission_log\WebformSubmissionLogManager;
@@ @@
   /**
    * The webform submission logger.
    *
-   * @var \Drupal\webform_submission_log\WebformSubmissionLogManager
+   * @var WebformSubmissionLogManager
    *   The webform_submission log manager
    */
   protected $webformSubmissionLogManager;
@@ @@
   /**
    * AutosaveHelper constructor.
    *
-   * @param \Drupal\webform_submission_log\WebformSubmissionLogManager $webform_submission_log_manager
+   * @param WebformSubmissionLogManager $webform_submission_log_manager
    *   The webform_submission log manager.
    */
   public function __construct(WebformSubmissionLogManager $webform_submission_log_manager) {
@@ @@
   /**
    * Getter for the most recent submission url.
    *
-   * @param \Drupal\webform\WebformSubmissionInterface $webform_submission
+   * @param WebformSubmissionInterface $webform_submission
    *   A webform_submission.
    *
-   * @return \Drupal\Core\Url
+   * @return Url
    *   The url for the most recent submission.
    */
   public function getSubmissionUrl(WebformSubmissionInterface $webform_submission) {
@@ @@
   /**
    * Getter for the most recent submission log.
    *
-   * @param \Drupal\webform\WebformSubmissionInterface $webform_submission
+   * @param WebformSubmissionInterface $webform_submission
    *   A webform_submission.
    *
    * @return object
@@ @@
   /**
    * Getter for all the fields on the current page.
    *
-   * @param \Drupal\webform\WebformSubmissionInterface $webform_submission
+   * @param WebformSubmissionInterface $webform_submission
    *   A webform_submission.
    *
    * @return array|bool
@@ @@
   /**
    * Getter for the first field on the current page.
    *
-   * @param \Drupal\webform\WebformSubmissionInterface $webform_submission
+   * @param WebformSubmissionInterface $webform_submission
    *   A webform_submission.
    *
    * @return string|bool
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


 [OK] 4 files have been changed by Rector                                       

