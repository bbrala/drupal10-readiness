modules/contrib/key_auth/key_auth.module
modules/contrib/key_auth/src/Authentication/Provider/KeyAuth.php
modules/contrib/key_auth/src/Form/KeyAuthSettingsForm.php
modules/contrib/key_auth/src/Form/UserKeyAuthForm.php
modules/contrib/key_auth/src/KeyAuth.php
modules/contrib/key_auth/src/KeyAuthInterface.php
modules/contrib/key_auth/src/PageCache/DisallowKeyAuthRequests.php
modules/contrib/key_auth/tests/key_auth_test/src/Controller/KeyAuthTestController.php
modules/contrib/key_auth/tests/src/Functional/KeyAuthTest.php

6 files with changes
====================

1) modules/contrib/key_auth/tests/src/Functional/KeyAuthTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\key_auth\Functional;

+use Drupal\key_auth\KeyAuthInterface;
+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\user\userStorage;
 use Drupal\Tests\BrowserTestBase;
 use Drupal\key_auth\KeyAuth;
 use Drupal\Core\Url;
@@ @@
   /**
    * The key auth service.
    *
-   * @var \Drupal\key_auth\KeyAuthInterface
+   * @var KeyAuthInterface
    */
   protected $keyAuth;

@@ @@
   /**
    * The module configuration.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $keyAuthConfig;

@@ @@
   /**
    * User storage.
    *
-   * @var \Drupal\user\userStorage
+   * @var userStorage
    */
   protected $userStorage;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->keyAuth = $this->container->get('key_auth');
     $this->keyAuthConfig = $this->config('key_auth.settings');
@@ @@
     $this->assertSession()->elementExists('css', '#edit-delete');

     // Test deleting the key.
-    $this->drupalPostForm(NULL, [], 'Delete current key');
+    $this->submitForm([], 'Delete current key');
     $user2 = $this->loadUser($user2->id());
     $this->assertEmpty($user2->api_key->value);
     $this->assertSession()->pageTextContains('You currently do not have a key');
@@ @@
     $this->assertSession()->elementNotExists('css', '#edit-delete');

     // Test generating a new key.
-    $this->drupalPostForm(NULL, [], 'Generate new key');
+    $this->submitForm([], 'Generate new key');
     $user2 = $this->loadUser($user2->id());
     $this->assertNotEmpty($user2->api_key->value);
     $this->assertSession()->pageTextContains($user2->api_key->value);
@@ @@

   /**
    * Test key authentication and related settings.
+   * @doesNotPerformAssertions
    */
   public function testKeyAuth() {
     // Enable page caching.
@@ @@
    *   The expected response status code.
    * @param string $key
    *   The authentication key.
-   * @param \Drupal\user\UserInterface $user
+   * @param UserInterface $user
    *   The user making the request.
    */
   public function keyAuthRequest($detection_method = NULL, $param_name = NULL, $status_code = 200, $key = NULL, UserInterface $user = NULL) {
@@ @@
     if ($status_code == 200) {
       // Ensure that caching was disabled.
       $this->assertFalse($this->drupalGetHeader('X-Drupal-Cache'));
-      $this->assertIdentical(strpos($this->drupalGetHeader('Cache-Control'), 'public'), FALSE);
+      $this->assertSame(strpos($this->drupalGetHeader('Cache-Control'), 'public'), FALSE);
     }

     // Check if a user was provided.
    ----------- end diff -----------

Applied rules:
 * AssertIdenticalRector
 * UiHelperTraitDrupalPostFormRector
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/key_auth/src/PageCache/DisallowKeyAuthRequests.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * The key auth service.
    *
-   * @var \Drupal\key_auth\KeyAuthInterface
+   * @var KeyAuthInterface
    */
   protected $keyAuth;

@@ @@
   /**
    * Constructs a key authentication page cache policy.
    *
-   * @param \Drupal\key_auth\KeyAuthInterface $key_auth
+   * @param KeyAuthInterface $key_auth
    *   The key auth service..
    */
   public function __construct(KeyAuthInterface $key_auth) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


3) modules/contrib/key_auth/src/KeyAuthInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\key_auth;

+use Drupal\user\Entity\User;
 use Symfony\Component\HttpFoundation\Request;
 use Drupal\user\UserInterface;

@@ @@
   /**
    * Get the key provided in the current request.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The current request.
    *
    * @return string|false
@@ @@
    * @param string $key
    *   The API key to match to a user.
    *
-   * @return \Drupal\user\Entity\User|null
+   * @return User|null
    *   The matching user entity, or NULL if there was no match.
    */
   public function getUserByKey($key);
@@ @@
   /**
    * Determine if a user has access to use key authentication.
    *
-   * @param \Drupal\user\UserInterface $user
+   * @param UserInterface $user
    *   The user being authenticated.
    *
    * @return bool
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


4) modules/contrib/key_auth/src/KeyAuth.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\key_auth;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Entity\EntityTypeManager;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Symfony\Component\HttpFoundation\Request;
@@ @@
   /**
    * The module configuration.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * The entity manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManager
+   * @var EntityTypeManager
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Constructs a new KeyAuth object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
    */
   public function __construct(ConfigFactoryInterface $config_factory, EntityTypeManagerInterface $entity_type_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


5) modules/contrib/key_auth/src/Form/UserKeyAuthForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\key_auth\Form;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Access\AccessResultInterface;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ @@
   /**
    * The key authentication service.
    *
-   * @var \Drupal\key_auth\KeyAuthInterface
+   * @var KeyAuthInterface
    */
   protected $keyAuth;

@@ @@
   /**
    * The module configuration.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * Constructs a new UserKeyAuthForm.
    *
-   * @param \Drupal\key_auth\KeyAuthInterface $key_auth
+   * @param KeyAuthInterface $key_auth
    *   The key authentication service.
-   * @param \Drupal\Core\Config\ConfigFactory $config_factory
+   * @param ConfigFactory $config_factory
    *   The config factory service.
    */
   public function __construct(KeyAuthInterface $key_auth, ConfigFactory $config_factory) {
@@ @@
   /**
    * Access handler for the form.
    *
-   * @param \Drupal\user\UserInterface $user
+   * @param UserInterface $user
    *   The user entity being edited.
    *
-   * @return \Drupal\Core\Access\AccessResultInterface
+   * @return AccessResultInterface
    *   The access result.
    */
   public function checkAccess(UserInterface $user) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/key_auth/src/Authentication/Provider/KeyAuth.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * The key auth service.
    *
-   * @var \Drupal\key_auth\KeyAuthInterface
+   * @var KeyAuthInterface
    */
   protected $keyAuth;

@@ @@
   /**
    * Constructs a key authentication provider object.
    *
-   * @param \Drupal\key_auth\KeyAuthInterface $key_auth
+   * @param KeyAuthInterface $key_auth
    *   The key auth service.
    */
   public function __construct(KeyAuthInterface $key_auth) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 6 files have been changed by Rector                                       

