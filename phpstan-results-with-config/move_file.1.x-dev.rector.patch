diff --git a/src/Form/DirectoryForm.php b/src/Form/DirectoryForm.php
index d3e052c..b40bf65 100644
--- a/src/Form/DirectoryForm.php
+++ b/src/Form/DirectoryForm.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\move_file\Form;
 
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Entity\EntityForm;
 use Drupal\Core\Entity\EntityStorageException;
 use Drupal\Core\File\FileSystemInterface;
@@ -16,14 +18,14 @@ class DirectoryForm extends EntityForm {
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;
 
   /**
    * Constructs a DirectoryForm.
    *
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file system service.
    */
   public function __construct(FileSystemInterface $file_system = NULL) {
@@ -156,8 +158,8 @@ class DirectoryForm extends EntityForm {
    * @return bool
    *   Returns true, if the directory exist.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function exists($id) {
     $storage = $this->entityTypeManager->getStorage('move_file_directory');
@@ -171,8 +173,8 @@ class DirectoryForm extends EntityForm {
    * @return array
    *   Taxonomy terms.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function getTermsList() {
     // Retrieve the configuration object.
diff --git a/src/Form/MoveFileContentTypesForm.php b/src/Form/MoveFileContentTypesForm.php
index 086eeba..e861c4e 100644
--- a/src/Form/MoveFileContentTypesForm.php
+++ b/src/Form/MoveFileContentTypesForm.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\move_file\Form;
 
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ -17,25 +19,25 @@ class MoveFileContentTypesForm extends ConfigFormBase {
   /**
    * The entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The entity field manager service.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;
 
   /**
    * Constructs a new DefaultSelection object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity field manager.
    */
   public function __construct(ConfigFactoryInterface $config_factory, EntityTypeManagerInterface $entity_type_manager, EntityFieldManagerInterface $entity_field_manager) {
@@ -174,8 +176,8 @@ class MoveFileContentTypesForm extends ConfigFormBase {
    * @return array
    *   List of content types.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function getContentTypesList() {
     $content_types = $this->entityTypeManager->getStorage('node_type')->loadMultiple();
diff --git a/src/Services/MoveFileService.php b/src/Services/MoveFileService.php
index 337334d..c5de506 100644
--- a/src/Services/MoveFileService.php
+++ b/src/Services/MoveFileService.php
@@ -2,6 +2,10 @@
 
 namespace Drupal\move_file\Services;
 
+use Drupal\Core\Config\ImmutableConfig;
+use Psr\Log\LoggerInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Config\ConfigFactory;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Logger\LoggerChannelFactoryInterface;
@@ -19,32 +23,32 @@ class MoveFileService {
   /**
    * Configurations.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;
 
   /**
    * A logger instance.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;
 
   /**
    * An entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactory $config_factory
+   * @param ConfigFactory $config_factory
    *   The config factory service.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger_factory
+   * @param LoggerChannelFactoryInterface $logger_factory
    *   The logger factory service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
    */
   public function __construct(ConfigFactory $config_factory, LoggerChannelFactoryInterface $logger_factory, EntityTypeManagerInterface $entity_type_manager) {
@@ -87,11 +91,11 @@ class MoveFileService {
   /**
    * Move files referenced by a node.
    *
-   * @param \Drupal\node\Entity\Node $node
+   * @param Node $node
    *   The files referenced by this node will be moved.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function move(Node $node) {
     // Get activated content types from the config object.
@@ -139,7 +143,7 @@ class MoveFileService {
             // The file should be moved only if the target URI is different from
             // the recent URI.
             if ($file_target_uri != $file->getFileUri()) {
-              if (file_move($file, $file_target_uri)) {
+              if (\Drupal::service('file.repository')->move($file, $file_target_uri)) {
                 $this->logger->notice('The file "' . $file->getFilename() . '" has been moved to the path: ' . $file_target_uri);
               }
               else {
diff --git a/src/Tests/Form/MoveFileContentTypesFormTest.php b/src/Tests/Form/MoveFileContentTypesFormTest.php
index 340939d..f0f4e98 100644
--- a/src/Tests/Form/MoveFileContentTypesFormTest.php
+++ b/src/Tests/Form/MoveFileContentTypesFormTest.php
@@ -2,6 +2,11 @@
 
 namespace Drupal\move_file\Tests\Form;
 
+use Drupal\user\UserInterface;
+use Drupal\Core\Entity\EntityStorageException;
+use Behat\Mink\Exception\ResponseTextException;
+use Behat\Mink\Exception\ElementNotFoundException;
+use Behat\Mink\Exception\ExpectationException;
 use Drupal\Tests\BrowserTestBase;
 use Drupal\user\Entity\Role;
 
@@ -42,7 +47,7 @@ class MoveFileContentTypesFormTest extends BrowserTestBase {
   /**
    * The role anonymous user.
    *
-   * @var \Drupal\user\Entity\Role
+   * @var Role
    */
   private $guestRole;
 
@@ -63,14 +68,14 @@ class MoveFileContentTypesFormTest extends BrowserTestBase {
   /**
    * An user with administration permissions.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   private $adminUser;
 
   /**
    * An user with guest permissions.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   private $guestUser;
 
@@ -80,9 +85,9 @@ class MoveFileContentTypesFormTest extends BrowserTestBase {
    * Info to administrator permissions:
    * http://drupal.stackexchange.com/q/233416/72107
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->guestRole = Role::load('anonymous');
@@ -101,9 +106,9 @@ class MoveFileContentTypesFormTest extends BrowserTestBase {
    * Test, that the '/admin/config/media/move-file/content-types' path returns
    * the right content and can be saved.
    *
-   * @throws \Behat\Mink\Exception\ResponseTextException
-   * @throws \Behat\Mink\Exception\ElementNotFoundException
-   * @throws \Behat\Mink\Exception\ExpectationException
+   * @throws ResponseTextException
+   * @throws ElementNotFoundException
+   * @throws ExpectationException
    */
   public function testSettingsFormAsAdmin() {
 
@@ -143,10 +148,7 @@ class MoveFileContentTypesFormTest extends BrowserTestBase {
       'settings[article][vocabulary_field]' => 'field_tags',
       'settings[article][file_field][field_image]' => 'field_image',
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save configuration')
-    );
+    $this->submitForm($edit, t('Save configuration'));
 
     $this->assertSession()->pageTextContains(
       'The configuration options have been saved.'
@@ -176,7 +178,7 @@ class MoveFileContentTypesFormTest extends BrowserTestBase {
    * Tests that the '/admin/config/media/move-file/content-types' path is not
    * accessible for guests.
    *
-   * @throws \Behat\Mink\Exception\ExpectationException
+   * @throws ExpectationException
    */
   public function testSettingsFormAsGuest() {
     $this->drupalLogin($this->guestUser);
diff --git a/src/Tests/Form/MoveFileCreateConfigEntityTest.php b/src/Tests/Form/MoveFileCreateConfigEntityTest.php
index eef4bd4..600406c 100644
--- a/src/Tests/Form/MoveFileCreateConfigEntityTest.php
+++ b/src/Tests/Form/MoveFileCreateConfigEntityTest.php
@@ -2,6 +2,9 @@
 
 namespace Drupal\move_file\Tests\Form;
 
+use Drupal\user\UserInterface;
+use Drupal\Core\Entity\EntityStorageException;
+use Behat\Mink\Exception\ExpectationException;
 use Drupal\taxonomy\Entity\Term;
 use Drupal\Tests\BrowserTestBase;
 use Drupal\user\Entity\Role;
@@ -43,7 +46,7 @@ class MoveFileCreateConfigEntityTest extends BrowserTestBase {
   /**
    * The role anonymous user.
    *
-   * @var \Drupal\user\Entity\Role
+   * @var Role
    */
   private $guestRole;
 
@@ -64,21 +67,21 @@ class MoveFileCreateConfigEntityTest extends BrowserTestBase {
   /**
    * An user with administration permissions.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   private $adminUser;
 
   /**
    * An user with guest permissions.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   private $guestUser;
 
   /**
    * A taxonomy term.
    *
-   * @var \Drupal\taxonomy\Entity\Term
+   * @var Term
    */
   private $term;
 
@@ -88,9 +91,9 @@ class MoveFileCreateConfigEntityTest extends BrowserTestBase {
    * Info to administrator permissions:
    * http://drupal.stackexchange.com/q/233416/72107
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->guestRole = Role::load('anonymous');
@@ -130,7 +133,7 @@ class MoveFileCreateConfigEntityTest extends BrowserTestBase {
    * Test, that the '/admin/config/media/move-file/directories' path returns
    * the right content.
    *
-   * @throws \Behat\Mink\Exception\ExpectationException
+   * @throws ExpectationException
    */
   public function testSettingsFormAsAdmin() {
 
@@ -195,10 +198,7 @@ class MoveFileCreateConfigEntityTest extends BrowserTestBase {
       'id' => '_aaa',
       'term_id' => $this->term->id(),
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save')
-    );
+    $this->submitForm($edit, t('Save'));
 
     $this->assertSession()->pageTextContains(
       'The directory /aaa was saved successfully.'
@@ -212,7 +212,7 @@ class MoveFileCreateConfigEntityTest extends BrowserTestBase {
    * Tests that the '/admin/config/media/move-file/directories' path is not
    * accessible for guests.
    *
-   * @throws \Behat\Mink\Exception\ExpectationException
+   * @throws ExpectationException
    */
   public function testSettingsFormAsGuest() {
     $this->drupalLogin($this->guestUser);
diff --git a/src/Tests/Form/MoveFileSettingsFormTest.php b/src/Tests/Form/MoveFileSettingsFormTest.php
index 97b1843..4a698a1 100644
--- a/src/Tests/Form/MoveFileSettingsFormTest.php
+++ b/src/Tests/Form/MoveFileSettingsFormTest.php
@@ -2,6 +2,9 @@
 
 namespace Drupal\move_file\Tests\Form;
 
+use Drupal\user\UserInterface;
+use Drupal\Core\Entity\EntityStorageException;
+use Behat\Mink\Exception\ExpectationException;
 use Drupal\Tests\BrowserTestBase;
 use Drupal\user\Entity\Role;
 
@@ -42,7 +45,7 @@ class MoveFileSettingsFormTest extends BrowserTestBase {
   /**
    * The role anonymous user.
    *
-   * @var \Drupal\user\Entity\Role
+   * @var Role
    */
   private $guestRole;
 
@@ -63,14 +66,14 @@ class MoveFileSettingsFormTest extends BrowserTestBase {
   /**
    * An user with administration permissions.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   private $adminUser;
 
   /**
    * An user with guest permissions.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   private $guestUser;
 
@@ -80,9 +83,9 @@ class MoveFileSettingsFormTest extends BrowserTestBase {
    * Info to administrator permissions:
    * http://drupal.stackexchange.com/q/233416/72107
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->guestRole = Role::load('anonymous');
@@ -101,7 +104,7 @@ class MoveFileSettingsFormTest extends BrowserTestBase {
    * Test, that the '/admin/config/media/move-file' path returns
    * the right content and can be saved.
    *
-   * @throws \Behat\Mink\Exception\ExpectationException
+   * @throws ExpectationException
    */
   public function testSettingsFormAsAdmin() {
 
@@ -126,10 +129,7 @@ class MoveFileSettingsFormTest extends BrowserTestBase {
     $edit = [
       'move_file_vocabulary' => 'tags',
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save configuration')
-    );
+    $this->submitForm($edit, t('Save configuration'));
 
     $this->assertSession()->pageTextContains(
       'The configuration options have been saved.'
@@ -151,7 +151,7 @@ class MoveFileSettingsFormTest extends BrowserTestBase {
    * Tests that the '/admin/config/media/move-file' path is not
    * accessible for guests.
    *
-   * @throws \Behat\Mink\Exception\ExpectationException
+   * @throws ExpectationException
    */
   public function testSettingsFormAsGuest() {
     $this->drupalLogin($this->guestUser);
diff --git a/src/Tests/MoveFileComplexTest.php b/src/Tests/MoveFileComplexTest.php
index c746d7d..6139cdc 100644
--- a/src/Tests/MoveFileComplexTest.php
+++ b/src/Tests/MoveFileComplexTest.php
@@ -2,6 +2,10 @@
 
 namespace Drupal\move_file\Tests;
 
+use Drupal\user\UserInterface;
+use Drupal\node\Entity\Node;
+use Drupal\Core\Entity\EntityStorageException;
+use Behat\Mink\Exception\ResponseTextException;
 use Drupal\file\Entity\File;
 use Drupal\move_file\Entity\DirectoryEntity;
 use Drupal\taxonomy\Entity\Term;
@@ -25,7 +29,7 @@ class MoveFileComplexTest extends BrowserTestBase {
   /**
    * An user with administration permissions.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   private $adminUser;
 
@@ -58,28 +62,28 @@ class MoveFileComplexTest extends BrowserTestBase {
   /**
    * The first taxonomy term.
    *
-   * @var \Drupal\taxonomy\Entity\Term
+   * @var Term
    */
   private $termA;
 
   /**
    * The second taxonomy term.
    *
-   * @var \Drupal\taxonomy\Entity\Term
+   * @var Term
    */
   private $termB;
 
   /**
    * File used for testing.
    *
-   * @var \Drupal\file\Entity\File
+   * @var File
    */
   private $fileToMove;
 
   /**
    * Article.
    *
-   * @var \Drupal\node\Entity\Node
+   * @var Node
    */
   private $article;
 
@@ -91,9 +95,9 @@ class MoveFileComplexTest extends BrowserTestBase {
    * permissions:
    * http://drupal.stackexchange.com/q/233416/72107
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     // Set up our custom test config.
@@ -164,8 +168,8 @@ class MoveFileComplexTest extends BrowserTestBase {
    * Test the complete module. Update the article and test, if the image is
    * moved.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
-   * @throws \Behat\Mink\Exception\ResponseTextException
+   * @throws EntityStorageException
+   * @throws ResponseTextException
    */
   public function testMovingTheFile() {
     $this->drupalLogin($this->adminUser);
@@ -178,10 +182,7 @@ class MoveFileComplexTest extends BrowserTestBase {
       'id' => '_aaa',
       'term_id' => $this->termA->id(),
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save')
-    );
+    $this->submitForm($edit, t('Save'));
     $this->assertSession()->pageTextContains(
       'The directory /aaa was saved successfully.'
     );
@@ -192,10 +193,7 @@ class MoveFileComplexTest extends BrowserTestBase {
       'id' => '_bbb',
       'term_id' => $this->termB->id(),
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save')
-    );
+    $this->submitForm($edit, t('Save'));
     $this->assertSession()->pageTextContains(
       'The directory /bbb was saved successfully.'
     );
