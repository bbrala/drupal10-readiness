modules/contrib/paragraphs_features/paragraphs_features.module
modules/contrib/paragraphs_features/src/Ajax/ScrollToElementCommand.php
modules/contrib/paragraphs_features/src/Form/SettingsForm.php
modules/contrib/paragraphs_features/src/ParagraphsFeatures.php
modules/contrib/paragraphs_features/src/Plugin/CKEditorPlugin/SplitText.php
modules/contrib/paragraphs_features/tests/modules/paragraphs_features_test/src/Plugin/Field/FieldWidget/ExtendedTestParagraphsWidget.php
modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesAddInBetweenTest.php
modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesCKEditorIntegrationTest.php
modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesDeleteConfirmationTest.php
modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesExtendedParagraphsWidgetTest.php
modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesJavascriptTestBase.php
modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesSingleActionTest.php
modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesSplitTextTest.php

8 files with changes
====================

1) modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesSplitTextTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\paragraphs_features\FunctionalJavascript;

+use Behat\Mink\Exception\DriverException;
+use Behat\Mink\Exception\UnsupportedDriverActionException;
 /**
  * Tests the paragraph text split feature.
  *
@@ @@
    * @return string
    *   Returns CKEditor ID.
    *
-   * @throws \Behat\Mink\Exception\DriverException
-   * @throws \Behat\Mink\Exception\UnsupportedDriverActionException
+   * @throws DriverException
+   * @throws UnsupportedDriverActionException
    */
   protected function createNewTextParagraph($index, $text) {
     $session = $this->getSession();
@@ @@
     $is_checked = $session->evaluateScript("jQuery('.paragraphs-features__split-text__option').is(':checked')");
     $this->assertEquals(TRUE, $is_checked, 'Checkbox should be checked.');

-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));

     // Case 1 - simple text split.
     $paragraph_content_0 = '<p>Content that will be in the first paragraph after the split.</p>';
@@ @@
     $session->executeScript("jQuery('[name=\"fields[field_paragraphs][settings_edit_form][settings][autocollapse]\"]').trigger('change');");
     $this->assertSession()->assertWaitOnAjaxRequest();

-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));

     // 7.2 - Test that simple text split works with auto-collapse.
     $paragraph_content_0 = '<p>Content that will be in the first paragraph after the split.</p>';
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesJavascriptTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\paragraphs_features\FunctionalJavascript;

+use Behat\Mink\Exception\DriverException;
+use Behat\Mink\Exception\UnsupportedDriverActionException;
 use Drupal\Core\Entity\Entity\EntityFormDisplay;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\editor\Entity\Editor;
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     if ($theme = getenv('THEME')) {
@@ @@
    * @param string|array $locator
    *   Selector locator.
    *
-   * @throws \Behat\Mink\Exception\DriverException
-   * @throws \Behat\Mink\Exception\UnsupportedDriverActionException
+   * @throws DriverException
+   * @throws UnsupportedDriverActionException
    */
   public function scrollClick($selector, $locator) {
     $this->scrollElementInView($selector, $locator);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesExtendedParagraphsWidgetTest.php:46

    ---------- begin diff ----------
@@ @@
     $is_checked = $session->evaluateScript("document.querySelector('.paragraphs-features__add-in-between__option').checked");
     $this->assertEquals(TRUE, $is_checked, 'Checkbox should be checked.');

-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();

-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));

     // Check that add in between functionality is used.
     $this->drupalGet("node/add/$content_type");
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesDeleteConfirmationTest.php:225

    ---------- begin diff ----------
@@ @@

     $action = "{$op}Field";
     $page->$action('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][delete_confirmation]');
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
   }

 }
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/paragraphs_features/tests/src/FunctionalJavascript/ParagraphsFeaturesAddInBetweenTest.php:63

    ---------- begin diff ----------
@@ @@
     $page->uncheckField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between]');
     $this->assertSession()->assertWaitOnAjaxRequest();

-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));

     // Check that default add mode functionality is used.
     $this->drupalGet("node/add/$content_type");
@@ @@
     $page->checkField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between]');
     $page->fillField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between_link_count]', 0);

-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));

     // Check that add in between functionality is used.
     $this->drupalGet("node/add/$content_type");
@@ @@
     $page->pressButton('field_paragraphs_settings_edit');
     $this->assertSession()->assertWaitOnAjaxRequest();
     $page->uncheckField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between]');
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));

     // Set modal add mode with add in between option for nested paragraph.
     $this->drupalGet("admin/structure/paragraphs_type/test_nested/form-display");
@@ @@
     $this->assertSession()->assertWaitOnAjaxRequest();
     $page->checkField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between]');
     $page->fillField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between_link_count]', 0);
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));

     // Check that add in between functionality is not available for base
     // paragraphs and it's used for nested paragraph.
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/paragraphs_features/src/Plugin/CKEditorPlugin/SplitText.php:48

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'paragraphs_features') . '/js/plugins/splittext/plugin.js';
+    return \Drupal::service('extension.list.module')->getPath('paragraphs_features') . '/js/plugins/splittext/plugin.js';
   }

   /**
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/paragraphs_features/src/ParagraphsFeatures.php:48

    ---------- begin diff ----------
@@ @@
    *
    * @param array $elements
    *   Render array for the field widget.
-   * @param \Drupal\paragraphs\Plugin\Field\FieldWidget\ParagraphsWidget $widget
+   * @param ParagraphsWidget $widget
    *   Field widget object.
    * @param string $fieldWrapperId
    *   Field Wrapper ID, usually provided by ::getWrapperId().
@@ @@
           $widget->getThirdPartySetting('paragraphs_features', 'add_in_between_link_count');
       }
       // Set module path for split_text feature.
-      $elements['add_more']['#attached']['drupalSettings']['paragraphs_features']['_path'] = drupal_get_path('module', 'paragraphs_features');
+      $elements['add_more']['#attached']['drupalSettings']['paragraphs_features']['_path'] = \Drupal::service('extension.list.module')->getPath('paragraphs_features');
     }

     $elements['add_more']['#attached']['library'][] = 'paragraphs_features/drupal.paragraphs_features.scroll_to_element';
@@ @@
    *
    * @param array $form
    *   The form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state object.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The ajax response with the paragraph to add.
    */
   public static function addMoreAjax(array $form, FormStateInterface $form_state) {
@@ @@
   /**
    * Get 3rd party setting form for paragraphs features.
    *
-   * @param \Drupal\Core\Field\WidgetInterface $plugin
+   * @param WidgetInterface $plugin
    *   Widget plugin.
    * @param string $field_name
    *   Field name.
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


8) modules/contrib/paragraphs_features/paragraphs_features.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\paragraphs\Entity\Paragraph;
 /**
  * @file
  * Contains hooks for Paragraphs Feature module.
@@ @@
  * Implements hook_field_widget_multivalue_form_alter().
  */
 function paragraphs_features_field_widget_multivalue_form_alter(array &$elements, FormStateInterface $form_state, array $context) {
-  /** @var \Drupal\paragraphs\Plugin\Field\FieldWidget\ParagraphsWidget $widget */
+  /** @var ParagraphsWidget $widget */
   $widget = $context['widget'];
   if (!($widget instanceof ParagraphsWidget)) {
     return;
@@ @@
  * Implements hook_paragraphs_widget_actions_alter().
  */
 function paragraphs_features_paragraphs_widget_actions_alter(array &$widget_actions, array &$context) {
-  /** @var \Drupal\paragraphs\Entity\Paragraph $paragraphs_entity */
+  /** @var Paragraph $paragraphs_entity */
   $paragraphs_entity = $context['paragraphs_entity'];

   foreach ($widget_actions as $grouping => $buttons) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 8 files have been changed by Rector                                       

