modules/contrib/email_change_verification/email_change_verification.install
modules/contrib/email_change_verification/email_change_verification.module
modules/contrib/email_change_verification/email_change_verification.token.inc
modules/contrib/email_change_verification/src/Controller/EmailChangeController.php
modules/contrib/email_change_verification/src/EmailChangeService.php
modules/contrib/email_change_verification/src/EmailChangeServiceInterface.php
modules/contrib/email_change_verification/src/Event/EmailChangeVerificationEvents.php
modules/contrib/email_change_verification/src/Event/EmailChangeVerificationSetRedirect.php
modules/contrib/email_change_verification/src/Event/EmailChangeVerificationSuccess.php
modules/contrib/email_change_verification/src/Form/ConfigForm.php

8 files with changes
====================

1) modules/contrib/email_change_verification/src/Event/EmailChangeVerificationSuccess.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The account for which the email was successful validated.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   public $account;

@@ @@
   /**
    * VerifiedUserEmailChange constructor.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    */
   public function __construct(UserInterface $account) {
     $this->account = $account;
@@ @@
   }

   /**
-   * @return \Drupal\user\UserInterface
+   * @return UserInterface
    */
   public function getAccount(): UserInterface {
     return $this->account;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/email_change_verification/src/Event/EmailChangeVerificationSetRedirect.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The user account for which this change is being made.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $account;

@@ @@
   }

   /**
-   * @return \Drupal\user\UserInterface
+   * @return UserInterface
    */
   public function getAccount(): UserInterface {
     return $this->account;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/email_change_verification/src/EmailChangeServiceInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\email_change_verification;

+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Core\Url;
 use Drupal\user\UserInterface;

 /**
@@ @@
   /**
    * Process an email change request.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user account for which the email change was requested.
    * @param string $newEmail
    *   The newly requested email address.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public function changeRequest(UserInterface $account, $newEmail);

@@ @@
   /**
    * Generates a verification URL.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user account for which the email change was requested.
    *
-   * @return \Drupal\Core\Url|bool
+   * @return Url|bool
    *   The verification URL or false.
    */
   public function generateVerificationUrl(UserInterface $account);
@@ @@
   /**
    * Checks a verification hash.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user account for which the email change was requested.
    * @param string $new_email
    *   The newly requested email address.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


4) modules/contrib/email_change_verification/src/EmailChangeService.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\email_change_verification;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Core\TypedData\Exception\MissingDataException;
 use Drupal\Core\Url;
 use Drupal\Core\Render\Markup;
 use Drupal\Core\Site\Settings;
@@ @@
   /**
    * The Drupal database connection service.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
   /**
    * The Email change verification configuration.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * The Drupal email manager service.
    *
-   * @var \Drupal\Core\Mail\MailManagerInterface
+   * @var MailManagerInterface
    */
   protected $mailManager;

@@ @@
   /**
    * The Drupal messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * The Drupal token service.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $tokenService;

@@ @@
   /**
    * The Drupal language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * EmailChangeService constructor.
    *
-   * @param \Drupal\Core\Database\Connection $database
+   * @param Connection $database
    *   The Drupal database connection service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $configFactory
+   * @param ConfigFactoryInterface $configFactory
    *   The Drupal configuration factory.
-   * @param \Drupal\Core\Mail\MailManagerInterface $mailManager
+   * @param MailManagerInterface $mailManager
    *   The Drupal email manager service.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The Drupal messenger service.
-   * @param \Drupal\Core\Utility\Token $tokenService
+   * @param Token $tokenService
    *   The Drupal token service.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $languageManager
+   * @param LanguageManagerInterface $languageManager
    *   The Drupal language manager.
    */
   public function __construct(
@@ @@
   /**
    * Process an email change request.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user account for which the email change was requested.
    * @param string $newEmail
    *   The newly requested email address.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public function changeRequest(UserInterface $account, $newEmail) {
     // Update the user's mail_change field.
@@ @@
   /**
    * Generates a verification URL.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user account for which the email change was requested.
    *
-   * @return \Drupal\Core\Url|bool
+   * @return Url|bool
    *   The verification URL or false.
    *
-   * @throws \Drupal\Core\TypedData\Exception\MissingDataException
+   * @throws MissingDataException
    */
   public function generateVerificationUrl(UserInterface $account) {
     $mailChange = $account->get('mail_change');
@@ @@
   /**
    * Checks a verification hash.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user account for which the email change was requested.
    * @param string $new_email
    *   The newly requested email address.
@@ @@
   /**
    * Helper function to get a hash to use in the verification URL.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user account for which the email change was requested.
    * @param int $timestamp
    *   The timestamp of the email change request.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


5) modules/contrib/email_change_verification/src/Controller/EmailChangeController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\email_change_verification\Controller;

+use Symfony\Component\HttpFoundation\RedirectResponse;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Core\Session\AccountProxyInterface;
 use Drupal\Component\EventDispatcher\ContainerAwareEventDispatcher;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\Url;
@@ @@
   /**
    * The Email change service.
    *
-   * @var \Drupal\email_change_verification\EmailChangeServiceInterface
+   * @var EmailChangeServiceInterface
    */
   protected $emailChangeService;

@@ @@
   /**
    * Symfony's event dispatcher.
    *
-   * @var \Drupal\Component\EventDispatcher\ContainerAwareEventDispatcher
+   * @var ContainerAwareEventDispatcher
    */
   protected $eventDispatcher;

@@ @@
   /**
    * EmailChangeController constructor.
    *
-   * @param \Drupal\email_change_verification\EmailChangeServiceInterface $emailChangeService
+   * @param EmailChangeServiceInterface $emailChangeService
    *   The Email change service.
-   * @param \Drupal\Component\EventDispatcher\ContainerAwareEventDispatcher $eventDispatcher
+   * @param ContainerAwareEventDispatcher $eventDispatcher
    *   Symfony's event dispatcher.
    */
   public function __construct(EmailChangeServiceInterface $emailChangeService, ContainerAwareEventDispatcher $eventDispatcher) {
@@ @@
    * In order to never disclose a mail change link via a referrer header this
    * controller must always return a redirect response.
    *
-   * @param \Drupal\user\UserInterface $user
+   * @param UserInterface $user
    *   The user account for which the email change was requested.
    * @param string $new_email
    *   The newly requested email address.
@@ @@
    * @param string $hash
    *   Unique hash.
    *
-   * @return \Symfony\Component\HttpFoundation\RedirectResponse
+   * @return RedirectResponse
    *   An HTTP response doing a redirect.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public function verify(UserInterface $user, $new_email, $timestamp, $hash) {
     // If the user is not logged in, redirect to the login page with
     // the correct destination.
-    /** @var \Drupal\Core\Session\AccountProxyInterface $current_user */
+    /** @var AccountProxyInterface $current_user */
     $current_user = $this->currentUser();
     if ($current_user->isAnonymous()) {
       $this->messenger()->addError($this->t('You must be logged in to verify your email address.'));
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/email_change_verification/email_change_verification.token.inc:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\user\UserInterface;
+use Drupal\email_change_verification\EmailChangeServiceInterface;
 /**
  * @file
  * This file is used to write hooks that used in the module.
@@ @@
   $replacements = [];

   if ($type == 'user' && !empty($data['user'])) {
-    /** @var \Drupal\user\UserInterface $account */
+    /** @var UserInterface $account */
     $account = $data['user'];
     foreach ($tokens as $name => $original) {
       switch ($name) {
         case 'email_change_verification_link':
-          /** @var \Drupal\email_change_verification\EmailChangeServiceInterface $service */
+          /** @var EmailChangeServiceInterface $service */
           $service = Drupal::service('email_change_verification.service');
           $url = $service->generateVerificationUrl($account);
           $replacements[$original] = !empty($url) ? $url->toString() : '';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


7) modules/contrib/email_change_verification/email_change_verification.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\EntityStorageException;
 include_once 'email_change_verification.token.inc';

 use Drupal\Core\Entity\EntityTypeInterface;
@@ @@
  * @param array $form
  * @param FormStateInterface $form_state
  *
- * @throws \Drupal\Core\Entity\EntityStorageException
+ * @throws EntityStorageException
  */
 function email_change_verification_user_form_submit(array &$form, FormStateInterface $form_state) {
   $build_info = $form_state->getBuildInfo();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


8) modules/contrib/email_change_verification/email_change_verification.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Config\Config;
 use Drupal\Core\Serialization\Yaml;

 /**
@@ @@
 function email_change_verification_install($is_syncing) {
   // Make sure our default config gets installed when this config doesn't exist yet,
   // even if this module is installed during config import.
-  /** @var \Drupal\Core\Config\Config $config */
+  /** @var Config $config */
   $config = Drupal::service('config.factory')->getEditable('email_change_verification.config');
   if (empty($config->getRawData())) {
     $configInstallFile = __DIR__ . '/config/install/email_change_verification.config.yml';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 8 files have been changed by Rector                                       

