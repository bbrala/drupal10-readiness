diff --git a/src/Plugin/Field/FieldFormatter/StyledImageFormatter.php b/src/Plugin/Field/FieldFormatter/StyledImageFormatter.php
index cb53577..2932e16 100644
--- a/src/Plugin/Field/FieldFormatter/StyledImageFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/StyledImageFormatter.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\styled_image\Plugin\Field\FieldFormatter;
 
+use Drupal\Core\Entity\EntityMalformedException;
 use Drupal\Core\Cache\Cache;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ -84,7 +85,7 @@ class StyledImageFormatter extends ImageFormatterBase {
   /**
    * Builds a renderable array for a field value.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $items
+   * @param FieldItemListInterface $items
    *   The field values to be rendered.
    * @param string $langcode
    *   The language that should be used to render the field.
@@ -93,7 +94,7 @@ class StyledImageFormatter extends ImageFormatterBase {
    *   A renderable array for $items, as an array of child elements keyed by
    *   consecutive numeric indexes starting from 0.
    *
-   * @throws \Drupal\Core\Entity\EntityMalformedException
+   * @throws EntityMalformedException
    */
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $elements = array();
@@ -140,7 +141,7 @@ class StyledImageFormatter extends ImageFormatterBase {
         // context to ensure different file URLs are generated for different
         // sites in a multisite setup, including HTTP and HTTPS versions of the
         // same site. Fix in https://www.drupal.org/node/2646744.
-        $url = Url::fromUri(file_create_url($image_uri));
+        $url = \Drupal::service('file_url_generator')->generate($image_uri);
         $cache_contexts[] = 'url.site';
       }
       $cache_tags = Cache::mergeTags($base_cache_tags, $file->getCacheTags());
diff --git a/src/Plugin/Field/FieldType/StyledImageItem.php b/src/Plugin/Field/FieldType/StyledImageItem.php
index d9031bd..096f327 100644
--- a/src/Plugin/Field/FieldType/StyledImageItem.php
+++ b/src/Plugin/Field/FieldType/StyledImageItem.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\styled_image\Plugin\Field\FieldType;
 
+use Drupal\Core\TypedData\ComplexDataDefinitionInterface;
 use Drupal\Core\Field\FieldStorageDefinitionInterface;
 use Drupal\Core\TypedData\DataDefinition;
 use Drupal\image\Plugin\Field\FieldType\ImageItem;
@@ -40,7 +41,7 @@ use Drupal\image\Plugin\Field\FieldType\ImageItem;
 class StyledImageItem extends ImageItem {
 
   /**
-   * @return \Drupal\Core\TypedData\ComplexDataDefinitionInterface
+   * @return ComplexDataDefinitionInterface
    */
   public static function propertyDefinitions(FieldStorageDefinitionInterface $field_definition) {
     $properties = parent::propertyDefinitions($field_definition);
diff --git a/styled_image.info.yml b/styled_image.info.yml
index 22e2726..fa7ed77 100644
--- a/styled_image.info.yml
+++ b/styled_image.info.yml
@@ -1,7 +1,7 @@
 name: Styled Image Field
 type: module
 description: Provides a new image field with image style selection in widget.
-core_version_requirement: ^8.9 || ^9
+core_version_requirement: ^9.3 || ^10
 package: Fields
 dependencies:
   - image
diff --git a/styled_image.module b/styled_image.module
index af29f59..3bd7831 100644
--- a/styled_image.module
+++ b/styled_image.module
@@ -1,5 +1,7 @@
 <?php
 
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\file\FileInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Field\FieldConfigInterface;
 use Drupal\Core\File\FileSystemInterface;
@@ -11,7 +13,7 @@ use Drupal\field\FieldStorageConfigInterface;
  *
  * Transforms default image of image field from array into single value at save.
  *
- * @throws \Drupal\Core\Entity\EntityStorageException
+ * @throws EntityStorageException
  */
 function styled_image_entity_presave(EntityInterface $entity) {
   // Get the default image settings, return if not saving an image field storage
@@ -51,7 +53,7 @@ function styled_image_entity_presave(EntityInterface $entity) {
 /**
  * Implements hook_ENTITY_TYPE_update() for 'field_storage_config'.
  *
- * @throws \Drupal\Core\Entity\EntityStorageException
+ * @throws EntityStorageException
  */
 function styled_image_field_storage_config_update(FieldStorageConfigInterface $field_storage) {
   if ($field_storage->getType() != 'styled_image') {
@@ -65,7 +67,7 @@ function styled_image_field_storage_config_update(FieldStorageConfigInterface $f
   $uuid_new = $field_storage->getSetting('default_image')['uuid'];
   $uuid_old = $prior_field_storage->getSetting('default_image')['uuid'];
 
-  /** @var \Drupal\file\FileInterface $file_new */
+  /** @var FileInterface $file_new */
   $file_new = $uuid_new ? $file = \Drupal::service('entity.repository')->loadEntityByUuid('file', $uuid_new) : FALSE;
 
   if ($uuid_new !== $uuid_old) {
@@ -78,7 +80,7 @@ function styled_image_field_storage_config_update(FieldStorageConfigInterface $f
     }
 
     // Is there an old file?
-    /** @var \Drupal\file\FileInterface $file_old */
+    /** @var FileInterface $file_old */
     if ($uuid_old && ($file_old = \Drupal::service('entity.repository')->loadEntityByUuid('file', $uuid_old))) {
       \Drupal::service('file.usage')->delete($file_old, 'styled_image', 'default_image', $field_storage->uuid());
     }
@@ -88,17 +90,17 @@ function styled_image_field_storage_config_update(FieldStorageConfigInterface $f
   if ($file_new && (StreamWrapperManager::getScheme(($file_new->getFileUri())) !== $field_storage->getSetting('uri_scheme'))) {
     $directory = $field_storage->getSetting('uri_scheme') . '://default_images/';
     \Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY);
-    file_move($file_new, $directory . $file_new->filename);
+    \Drupal::service('file.repository')->move($file_new, $directory . $file_new->filename);
   }
 }
 
 /**
  * Implements hook_ENTITY_TYPE_update() for 'field_config'.
  *
- * @param \Drupal\Core\Field\FieldConfigInterface $field
+ * @param FieldConfigInterface $field
  *   The field config interface.
  *
- * @throws \Drupal\Core\Entity\EntityStorageException
+ * @throws EntityStorageException
  */
 function styled_image_field_config_update(FieldConfigInterface $field) {
   $field_storage = $field->getFieldStorageDefinition();
@@ -113,7 +115,7 @@ function styled_image_field_config_update(FieldConfigInterface $field) {
   $uuid_old = $prior_instance->getSetting('default_image')['uuid'];
 
   // If the old and new files do not match, update the default accordingly.
-  /** @var \Drupal\file\FileInterface $file_new */
+  /** @var FileInterface $file_new */
   $file_new = $uuid_new ? \Drupal::service('entity.repository')->loadEntityByUuid('file', $uuid_new) : FALSE;
   if ($uuid_new != $uuid_old) {
     // Save the new file, if present.
@@ -123,7 +125,7 @@ function styled_image_field_config_update(FieldConfigInterface $field) {
       \Drupal::service('file.usage')->add($file_new, 'styled_image', 'default_image', $field->uuid());
     }
     // Delete the old file, if present.
-    /** @var \Drupal\file\FileInterface $file_old */
+    /** @var FileInterface $file_old */
     if ($uuid_old && ($file_old = \Drupal::service('entity.repository')->loadEntityByUuid('file', $uuid_old))) {
       \Drupal::service('file.usage')->delete($file_old, 'styled_image', 'default_image', $field->uuid());
     }
@@ -133,17 +135,17 @@ function styled_image_field_config_update(FieldConfigInterface $field) {
   if ($file_new && (StreamWrapperManager::getScheme($file_new->getFileUri()) !== $field_storage->getSetting('uri_scheme'))) {
     $directory = $field_storage->getSetting('uri_scheme') . '://default_images/';
     \Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY);
-    file_move($file_new, $directory . $file_new->filename);
+    \Drupal::service('file.repository')->move($file_new, $directory . $file_new->filename);
   }
 }
 
 /**
  * Implements hook_ENTITY_TYPE_delete() for 'field_storage_config'.
  *
- * @param \Drupal\field\FieldStorageConfigInterface $field
+ * @param FieldStorageConfigInterface $field
  *   The field config storage interface.
  *
- * @throws \Drupal\Core\Entity\EntityStorageException
+ * @throws EntityStorageException
  */
 function styled_image_field_storage_config_delete(FieldStorageConfigInterface $field) {
   if ($field->getType() !== 'styled_image') {
@@ -172,7 +174,7 @@ function styled_image_field_config_delete(FieldConfigInterface $field) {
   $uuid = $field->getSetting('default_image')['uuid'];
 
   // Remove the default image when the instance is deleted.
-  /** @var \Drupal\file\FileInterface $file */
+  /** @var FileInterface $file */
   if ($uuid && ($file = \Drupal::service('entity.repository')->loadEntityByUuid('file', $uuid))) {
     \Drupal::service('file.usage')->delete($file, 'styled_image', 'default_image', $field->uuid());
   }
