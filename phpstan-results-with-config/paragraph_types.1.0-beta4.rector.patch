diff --git a/paragraph_types.module b/paragraph_types.module
index 27c9a68..6edec4c 100644
--- a/paragraph_types.module
+++ b/paragraph_types.module
@@ -1,5 +1,8 @@
 <?php
 
+use Drupal\paragraphs\ParagraphInterface;
+use Drupal\node\NodeInterface;
+use Drupal\node\Entity\Node;
 /**
  * @file
  * Contains paragraph_types.module.
@@ -81,7 +84,7 @@ function paragraph_types_theme() {
  * @param $variables
  */
 function paragraph_types_preprocess_paragraph(&$variables) {
-  /** @var \Drupal\paragraphs\ParagraphInterface $paragraph */
+  /** @var ParagraphInterface $paragraph */
   $paragraph = $variables['paragraph'];
   $type = $paragraph->bundle();
   switch ($type) {
@@ -93,7 +96,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       else
         $image_uri = '';
 
-      $variables['image_url'] = file_create_url($image_uri);
+      $variables['image_url'] = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
       $variables['image_alt'] = $variables['paragraph']->get('field_image')->alt;
       $variables['image_title'] = $variables['paragraph']->get('field_image')->title;
       $variables['link_url'] = $variables['paragraph']->get('field_link')->uri;
@@ -110,7 +113,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       else
         $image_uri = '';
 
-      $variables['image_url'] = file_create_url($image_uri);
+      $variables['image_url'] = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
       $variables['image_alt'] = $variables['paragraph']->get('field_image')->alt;
       $variables['image_title'] = $variables['paragraph']->get('field_image')->title;
       $variables['link_url'] = $variables['paragraph']->get('field_link')->uri;
@@ -121,7 +124,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       $variables['subtitle'] = $paragraph->field_subtitle->value;
 
       $variables['chess_rows'] = [];
-      /** @var \Drupal\paragraphs\ParagraphInterface[] $chess_rows */
+      /** @var ParagraphInterface[] $chess_rows */
       $chess_rows = $paragraph->get('field_chess_rows')->referencedEntities();
       foreach ($chess_rows as $chess_row) {
 
@@ -137,7 +140,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           'text' => $chess_row->field_text->value,
           'image_position' => $chess_row->field_image_position->value,
           'linked_image' => [
-            'image_url' => file_create_url($image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
             'image_alt' => $chess_row->get('field_image')->alt,
             'image_title' => $chess_row->get('field_image')->title,
             'link_url' => $chess_row->get('field_link')->uri,
@@ -151,7 +154,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       $variables['text'] = $paragraph->field_text->value;
       // prepare grid items.
       $variables['mix_items'] = [];
-      /** @var \Drupal\paragraphs\ParagraphInterface[] $mix_items */
+      /** @var ParagraphInterface[] $mix_items */
       $mix_items = $paragraph->get('field_mix_items')->referencedEntities();
       foreach ($mix_items as $mix_item) {
 
@@ -162,7 +165,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           $files = $linked_images[0]->get('field_image')->referencedEntities();
           if (count($files)) $image_uri = $files[0]->uri[0]->value;
           $linked_image_data = [
-            'image_url' => file_create_url($image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
             'image_alt' => $linked_images[0]->get('field_image')->alt,
             'image_title' => $linked_images[0]->get('field_image')->title,
             'link_url' => $linked_images[0]->get('field_link')->uri,
@@ -183,7 +186,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       $variables['text'] = $paragraph->field_text->value;
       // prepare slide items.
       $variables['linked_images'] = [];
-      /** @var \Drupal\paragraphs\ParagraphInterface[] $linked_images */
+      /** @var ParagraphInterface[] $linked_images */
       $linked_images = $paragraph->get('field_linked_images')->referencedEntities();
       foreach ($linked_images as $linked_image) {
 
@@ -194,7 +197,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           $image_uri = '';
 
         $variables['linked_images'][] = [
-          'image_url' => file_create_url($image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
           'image_alt' => $linked_image->get('field_image')->alt,
           'image_title' => $linked_image->get('field_image')->title,
           'link_url' => $linked_image->get('field_link')->uri,
@@ -215,7 +218,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       }
 
       $variables['linked_images'] = [];
-      /** @var \Drupal\paragraphs\ParagraphInterface[] $linked_images */
+      /** @var ParagraphInterface[] $linked_images */
       $linked_images = $paragraph->get('field_linked_images')->referencedEntities();
       foreach ($linked_images as $linked_image) {
 
@@ -226,7 +229,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           $image_uri = '';
 
         $variables['linked_images'][] = [
-          'image_url' => file_create_url($image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
           'image_alt' => $linked_image->get('field_image')->alt,
           'image_title' => $linked_image->get('field_image')->title,
           'link_url' => $linked_image->get('field_link')->uri,
@@ -240,7 +243,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       break;
     case 'counter':
       $variables['counter_items'] = [];
-      /** @var \Drupal\paragraphs\ParagraphInterface[] $counter_items */
+      /** @var ParagraphInterface[] $counter_items */
       $counter_items = $paragraph->get('field_counter_items')->referencedEntities();
       foreach ($counter_items as $counter_item) {
         $linked_image = $counter_item->get('field_linked_image')->referencedEntities()[0];
@@ -255,7 +258,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           'headline' => $counter_item->field_headline->value,
           'number' => (int)$counter_item->field_number->value,
           'linked_image' => [
-            'image_url' => file_create_url($image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
             'image_alt' => $linked_image->get('field_image')->alt,
             'image_title' => $linked_image->get('field_image')->title,
             'link_url' => $linked_image->get('field_link')->uri,
@@ -277,7 +280,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
         'headline' => $counter_item->field_headline->value,
         'number' => (int)$counter_item->field_number->value,
         'linked_image' => [
-          'image_url' => file_create_url($image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
           'image_alt' => $counter_item->get('field_image')->alt,
           'image_title' => $counter_item->get('field_image')->title,
           'link_url' => $counter_item->get('field_link')->uri,
@@ -296,12 +299,12 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       else
         $image_uri = '';
 
-      $variables['image_url'] = file_create_url($image_uri);
+      $variables['image_url'] = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
       $variables['image_alt'] = $paragraph->get('field_image')->alt;
       $variables['image_title'] = $paragraph->get('field_image')->title;
 
       $variables['client_items'] = [];
-      /** @var \Drupal\paragraphs\ParagraphInterface[] $counter_items */
+      /** @var ParagraphInterface[] $counter_items */
       $client_items = $paragraph->get('field_client_items')->referencedEntities();
       foreach ($client_items as $client_item) {
 
@@ -323,12 +326,12 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           'position_title' => $client_item->field_position_title->value,
           'text' => $client_item->field_text->value,
           'avatar' => [
-            'image_url' => file_create_url($avatar_image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($avatar_image_uri),
             'image_alt' => $client_item->get('field_avatar')->alt,
             'image_title' => $client_item->get('field_avatar')->title,
           ],
           'organization' => [
-            'image_url' => file_create_url($image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
             'image_alt' => $linked_image ? $linked_image->get('field_image')->alt : '',
             'image_title' => $linked_image ? $linked_image->get('field_image')->title : '',
             'link_url' => $linked_image ? $linked_image->get('field_link')->uri : '',
@@ -357,12 +360,12 @@ function paragraph_types_preprocess_paragraph(&$variables) {
         'position_title' => $client_item->field_position_title->value,
         'text' => $client_item->field_text->value,
         'avatar' => [
-          'image_url' => file_create_url($avatar_image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($avatar_image_uri),
           'image_alt' => $client_item->get('field_avatar')->alt,
           'image_title' => $client_item->get('field_avatar')->title,
         ],
         'organization' => [
-          'image_url' => file_create_url($image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
           'image_alt' => $linked_image ? $linked_image->get('field_image')->alt : '',
           'image_title' => $linked_image ? $linked_image->get('field_image')->title : '',
           'link_url' => $linked_image ? $linked_image->get('field_link')->uri : '',
@@ -375,7 +378,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       $variables['subtitle'] = $paragraph->field_subtitle->value;
 
       $variables['members'] = [];
-      /** @var \Drupal\paragraphs\ParagraphInterface[] $counter_items */
+      /** @var ParagraphInterface[] $counter_items */
       $members = $paragraph->get('field_members')->referencedEntities();
       foreach ($members as $member) {
 
@@ -398,7 +401,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           'name' => $member->field_name->value,
           'position_title' => $member->field_position_title->value,
           'photo' => [
-            'image_url' => file_create_url($photo_image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($photo_image_uri),
             'image_alt' => $member->get('field_photo')->alt,
             'image_title' => $member->get('field_photo')->title,
           ],
@@ -427,7 +430,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
         'name' => $member->field_name->value,
         'position_title' => $member->field_position_title->value,
         'photo' => [
-          'image_url' => file_create_url($photo_image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($photo_image_uri),
           'image_alt' => $member->get('field_photo')->alt,
           'image_title' => $member->get('field_photo')->title,
         ],
@@ -445,8 +448,8 @@ function paragraph_types_preprocess_paragraph(&$variables) {
         ->sort('created', 'DESC')
         ->range(0, 3)
         ->execute();
-      /** @var \Drupal\node\NodeInterface[] $blog_posts */
-      $blog_posts = \Drupal\node\Entity\Node::loadMultiple($ids);
+      /** @var NodeInterface[] $blog_posts */
+      $blog_posts = Node::loadMultiple($ids);
       $view_builder = \Drupal::entityTypeManager()->getViewBuilder('node');
       foreach ($blog_posts as $blog_post) {
         $variables['articles'][] = [
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index c3f1055..0272541 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\paragraph_types\Functional;
 
+use Drupal\user\UserInterface;
 use Drupal\Core\Url;
 use Drupal\Tests\BrowserTestBase;
 
@@ -22,14 +23,14 @@ class LoadTest extends BrowserTestBase {
   /**
    * A user with permission to administer site configuration.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $user;
 
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
