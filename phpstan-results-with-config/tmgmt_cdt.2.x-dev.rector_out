modules/contrib/tmgmt_cdt/src/Entity/ListBuilder/TmgmtCdtJobItemListBuilder.php
modules/contrib/tmgmt_cdt/src/Entity/ListBuilder/TmgmtCdtJobListBuilder.php
modules/contrib/tmgmt_cdt/src/Entity/TmgmtCdtJob.php
modules/contrib/tmgmt_cdt/src/Entity/TmgmtCdtJobItem.php
modules/contrib/tmgmt_cdt/src/Form/TmgmtCdtCartForm.php
modules/contrib/tmgmt_cdt/src/Form/TmgmtCdtCartItemForm.php
modules/contrib/tmgmt_cdt/src/Plugin/tmgmt/Translator/TmgmtCdtTranslator.php
modules/contrib/tmgmt_cdt/src/Plugin/tmgmt_cdt/Format/TmgmtCdtXml.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtApi.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtCommands.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtFormatHelper.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtHelper.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtPartialHelper.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtTranslatorUi.php
modules/contrib/tmgmt_cdt/tmgmt_cdt.install
modules/contrib/tmgmt_cdt/tmgmt_cdt.module

7 files with changes
====================

1) modules/contrib/tmgmt_cdt/tmgmt_cdt.install:0

    ---------- begin diff ----------
@@ @@
 #Warning: Strings contain different line endings!
 <?php
 
+use Drupal\Core\Config\Entity\ConfigEntityStorage;
+use Drupal\views\Entity\View;
 /**
  * @file
  * Install.
@@ @@
     $serviceSchema->addIndex('tmgmt_job', 'tmgmt_job_field__cdt_correlation_id__index', ['cdt_correlation_id'], $spec);
     $serviceSchema->addIndex('tmgmt_job', 'tmgmt_job_field__cdt_request_identifier__index', ['cdt_request_identifier'], $spec);
 
-    /** @var \Drupal\Core\Config\Entity\ConfigEntityStorage $storage */
+    /** @var ConfigEntityStorage $storage */
     $storage = \Drupal::entityTypeManager()->getStorage('view');
 
     // Jobs.
@@ @@
     $fileStorage = new FileStorage($path);
 
     $config = $fileStorage->read('views.view.tmgmt_job_overview');
-    /** @var \Drupal\views\Entity\View $view */
+    /** @var View $view */
     $view = $storage->create($config);
     if ($view) {
         $view->enable();
@@ @@
 
     // Job items.
     $config = $fileStorage->read('views.view.tmgmt_job_items');
-    /** @var \Drupal\views\Entity\View $view */
+    /** @var View $view */
     $view = $storage->create($config);
     if ($view) {
         $view->enable();
@@ @@
 
     // All job items.
     $config = $fileStorage->read('views.view.tmgmt_translation_all_job_items');
-    /** @var \Drupal\views\Entity\View $view */
-
+    /** @var View $view */
     $view = $storage->create($config);
     if ($view) {
         $view->enable();
@@ @@
 
     \Drupal::state()->deleteMultiple(array_keys(TmgmtCdtHelper::defaultOptions()));
 
-    /** @var \Drupal\Core\Config\Entity\ConfigEntityStorage $storage */
+    /** @var ConfigEntityStorage $storage */
     $storage = \Drupal::entityTypeManager()->getStorage('view');
 
     // restore Views from TMGMT
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


2) modules/contrib/tmgmt_cdt/src/TmgmtCdtTranslatorUi.php:0

    ---------- begin diff ----------
@@ @@
 #Warning: Strings contain different line endings!
 <?php
 
 namespace Drupal\tmgmt_cdt;
 
+use Drupal\tmgmt\TranslatorInterface;
 use Drupal\Component\Serialization\Json;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Messenger\MessengerTrait;
@@ @@
     public function submitPullTranslations(array $form, FormStateInterface $form_state)
     {
         $this->messenger()->deleteAll();
-        /**
-         * @var \Drupal\tmgmt\TranslatorInterface $translator
-         */
+        /**
+         * @var TranslatorInterface $translator
+         */
         $job = $form_state->getFormObject()->getEntity();
         tmgmt_cdt_pull_translations($job);
 
@@ @@
     public function submitAcceptQuotation(array $form, FormStateInterface $form_state)
     {
         $this->messenger()->deleteAll();
-        /**
-         * @var \Drupal\tmgmt\TranslatorInterface $translator
-         */
+        /**
+         * @var TranslatorInterface $translator
+         */
         $job = $form_state->getFormObject()->getEntity();
 
         if (!(bool) $form_state->getValues()['consent']) {
@@ @@
     public function submitCancelQuotation(array $form, FormStateInterface $form_state)
     {
         $this->messenger()->deleteAll();
-        /**
-         * @var \Drupal\tmgmt\TranslatorInterface $translator
-         */
+        /**
+         * @var TranslatorInterface $translator
+         */
         $job = $form_state->getFormObject()->getEntity();
 
         if (!(bool) $form_state->getValues()['consent']) {
@@ @@
 
         parent::validateConfigurationForm($form, $form_state);
 
-        /**
-         * @var \Drupal\tmgmt\TranslatorInterface $translator
-         */
+        /**
+         * @var TranslatorInterface $translator
+         */
         $translator = $form_state->getFormObject()->getEntity();
 
         $this->messenger()->deleteAll();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/tmgmt_cdt/src/TmgmtCdtCommands.php:127

    ---------- begin diff ----------
@@ @@
         $file_name = 'tmgmt_cdt_report_' . time() . '_' . rand(0, 99999) . '.json';
         $directory = 'public://tmgmt_file';
         \Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
-        $file = file_save_data(Json::encode($report), "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
+        $file = \Drupal::service('file.repository')->writeData(Json::encode($report), "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
         if (!$file) {
             throw new \Exception('Cannot create file');
         }
@@ @@
        // \Drupal::service('file.usage')->delete($file, 'tmgmt_cdt', 'tmgmt_translator', 'tmgmt_cdt');
 
         \Drupal::messenger()->addStatus(t('Report file created, can be downloaded <a href="@link" download>here</a>.',
-            ['@link' => file_create_url("public://tmgmt_file/$file_name")]));
+            ['@link' => \Drupal::service('file_url_generator')->generateAbsoluteString("public://tmgmt_file/$file_name")]));
 
     }
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


4) modules/contrib/tmgmt_cdt/src/Plugin/tmgmt_cdt/Format/TmgmtCdtXml.php:0

    ---------- begin diff ----------
@@ @@
 #Warning: Strings contain different line endings!
 <?php
 
 namespace Drupal\tmgmt_cdt\Plugin\tmgmt_cdt\Format;
@@ @@
 
     /**
      * Contains a reference to the currently being exported job.
-     *
-     * @var \Drupal\tmgmt\Entity\Job
-     */
+     *
+     * @var Job
+     */
     protected $job;
 
     /**
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/tmgmt_cdt/src/Plugin/tmgmt/Translator/TmgmtCdtTranslator.php:138

    ---------- begin diff ----------
@@ @@
 
             $directory = 'public://tmgmt_file';
             \Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
-            $file = file_save_data($file_content, "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
+            $file = \Drupal::service('file.repository')->writeData($file_content, "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
             if (!$file) {
                 throw new \Exception('Cannot create Xml file');
             }
             \Drupal::service('file.usage')->add($file, 'tmgmt_file', 'tmgmt_job', $job->id());
-            $job->addMessage('XML file created, can be downloaded <a href="@link" download>here</a>.', ['@link' => file_create_url("public://tmgmt_file/$file_name")]);
+            $job->addMessage('XML file created, can be downloaded <a href="@link" download>here</a>.', ['@link' => \Drupal::service('file_url_generator')->generateAbsoluteString("public://tmgmt_file/$file_name")]);
 
             $request_params = $this->generateRequest($job, $file_content);
             $file_content = null;
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/tmgmt_cdt/src/Form/TmgmtCdtCartItemForm.php:0

    ---------- begin diff ----------
@@ @@
 #Warning: Strings contain different line endings!
 <?php
 
 namespace Drupal\tmgmt_cdt\Form;
@@ @@
      *
      * @todo Mention in the api documentation that the char '|' is not allowed in
      * field names.
-     *
-     * @param \Drupal\Core\Form\FormStateInterface $form_state
+     *
+     * @param FormStateInterface $form_state
      *   The current state of the form.
      * @param array $data
      *   Flattened array of translation data items.
@@ @@
      *
      * @return array|NULL
      *   Render array with the form element, or NULL if the text is not set.
-     */
+     */
     public function selectableFormElement(FormStateInterface &$form_state, $data, $parent_key)
     {
         $element = null;
@@ @@
      * @param array $data_item
      *   The data item.
      * @param int $rows
-     *   The number of rows that should be displayed.
-     * @param \Drupal\Core\Form\FormStateInterface $form_state
+     *   The number of rows that should be displayed.
+     * @param FormStateInterface $form_state
      *   The form state.
      *
      * @return array
      *   The form element for the data item.
-     */
+     */
     protected function buildSource($item_element, $source_text, $data_item, $rows, FormStateInterface $form_state)
     {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/tmgmt_cdt/src/Form/TmgmtCdtCartForm.php:0

    ---------- begin diff ----------
@@ @@
 #Warning: Strings contain different line endings!
 <?php
 
 namespace Drupal\tmgmt_cdt\Form;
 
+use Drupal\tmgmt\JobItemInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Link;
 use Drupal\Core\Url;
@@ @@
         $job = tmgmt_job_create(\Drupal::languageManager()->getDefaultLanguage()->getId(), 'multiple', $this->currentUser()->id());
         $job_empty = true;
 
-        /** @var \Drupal\tmgmt\JobItemInterface $job_item */
+        /** @var JobItemInterface $job_item */
         foreach (TmgmtCdtJobItem::loadMultiple(array_filter($form_state->getValue('items'))) as $job_item) {
             try {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 7 files have been changed by Rector                                       

