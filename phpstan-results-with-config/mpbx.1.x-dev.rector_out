modules/contrib/mpbx/mpbx.module
modules/contrib/mpbx/src/Form/MpbxSettingsForm.php
modules/contrib/mpbx/src/Plugin/Block/MpbxBlock.php
modules/contrib/mpbx/tests/src/Functional/MpbxTest.php

3 files with changes
====================

1) modules/contrib/mpbx/tests/src/Functional/MpbxTest.php:27

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->drupalLogin($this->rootUser);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/mpbx/src/Form/MpbxSettingsForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\mpbx\Form;

+use Drupal\Core\Cache\CacheBackendInterface;
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\media\Entity\Media;
@@ @@
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {

-    /** @var \Drupal\Core\Cache\CacheBackendInterface $cacheRender */
+    /** @var CacheBackendInterface $cacheRender */
     $cacheRender = \Drupal::service('cache.render');

     if ($form_state->getValue('marker')) {
       $marker = Media::load($form_state->getValue('marker'));
-      $marker_url = file_create_url($marker->field_media_image->entity->getFileUri());
+      $marker_url = \Drupal::service('file_url_generator')->generateAbsoluteString($marker->field_media_image->entity->getFileUri());

       $this->configFactory->getEditable(static::SETTINGS)
         ->set('marker.id', $form_state->getValue('marker'))
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/mpbx/mpbx.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Block\BlockManager;
+use Drupal\Core\Render\Renderer;
 /**
  * @file
  * This module allows you to add a map to your site.
@@ @@
     foreach ($tokens as $name => $original) {
       switch ($name) {
         case 'map':
-          /** @var \Drupal\Core\Block\BlockManager $block_manager */
+          /** @var BlockManager $block_manager */
           $block_manager = \Drupal::service('plugin.manager.block');
-          /** @var \Drupal\Core\Render\Renderer $renderer */
+          /** @var Renderer $renderer */
           $renderer = \Drupal::service('renderer');
           $plugin_block = $block_manager->createInstance('mpbx_block', []);
           $block = $plugin_block->build();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

