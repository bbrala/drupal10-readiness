modules/contrib/social_post_twitter/social_post_twitter.module
modules/contrib/social_post_twitter/src/Controller/TwitterPostController.php
modules/contrib/social_post_twitter/src/Form/TwitterPostSettingsForm.php
modules/contrib/social_post_twitter/src/Plugin/Network/TwitterPost.php
modules/contrib/social_post_twitter/src/Plugin/Network/TwitterPostInterface.php
modules/contrib/social_post_twitter/src/Plugin/RulesAction/Tweet.php
modules/contrib/social_post_twitter/src/Settings/TwitterPostSettings.php
modules/contrib/social_post_twitter/src/Settings/TwitterPostSettingsInterface.php
modules/contrib/social_post_twitter/src/TwitterPostManager.php
modules/contrib/social_post_twitter/src/TwitterPostManagerInterface.php
modules/contrib/social_post_twitter/tests/src/Functional/SocialPostTwitterSettingsFormTest.php

6 files with changes
====================

1) modules/contrib/social_post_twitter/tests/src/Functional/SocialPostTwitterSettingsFormTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\social_post_twitter\Functional;

+use Behat\Mink\Exception\ElementNotFoundException;
+use Behat\Mink\Exception\ExpectationException;
 use Drupal\Tests\social_post\Functional\SocialPostTestBase;

 /**
@@ @@
   /**
    * Test if permissions are set correctly for settings page.
    *
-   * @throws \Behat\Mink\Exception\ElementNotFoundException
-   * @throws \Behat\Mink\Exception\ExpectationException
+   * @throws ElementNotFoundException
+   * @throws ExpectationException
    */
   public function testPermissionForSettingsPage() {
     $this->checkPermissionForSettingsPage();
@@ @@

   /**
    * Test settings form submission.
+   * @doesNotPerformAssertions
    */
   public function testSettingsFormSubmission() {
     $this->edit = [
    ----------- end diff -----------

Applied rules:
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/social_post_twitter/src/TwitterPostManagerInterface.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * Sets the Twitter client.
    *
-   * @param \Abraham\TwitterOAuth\TwitterOAuth $client
+   * @param TwitterOAuth $client
    *   The API client.
    */
   public function setClient(TwitterOAuth $client);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/social_post_twitter/src/TwitterPostManager.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The Twitter client.
    *
-   * @var \Abraham\TwitterOAuth\TwitterOAuth
+   * @var TwitterOAuth
    */
   protected $client;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


4) modules/contrib/social_post_twitter/src/Plugin/Network/TwitterPost.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\social_post_twitter\Plugin\Network;

+use Drupal\social_post_twitter\Settings\TwitterPostSettings;
 use Abraham\TwitterOAuth\TwitterOAuth;
 use Drupal\Core\Url;
 use Drupal\social_api\SocialApiException;
@@ @@
       throw new SocialApiException(sprintf('The PHP SDK for Twitter could not be found. Class: %s.', $class_name));
     }

-    /** @var \Drupal\social_post_twitter\Settings\TwitterPostSettings $settings */
+    /** @var TwitterPostSettings $settings */
     $settings = $this->settings;

     return new TwitterOAuth($settings->getConsumerKey(), $settings->getConsumerSecret());
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/social_post_twitter/src/Controller/TwitterPostController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\social_post_twitter\Controller;

+use Symfony\Component\HttpFoundation\Request;
+use Drupal\social_post_twitter\Plugin\Network\TwitterPost;
+use Abraham\TwitterOAuth\TwitterOAuth;
 use Drupal\Core\Logger\LoggerChannelFactoryInterface;
 use Drupal\Core\Routing\TrustedRedirectResponse;
 use Drupal\Core\Messenger\MessengerInterface;
@@ @@
   /**
    * The network plugin manager.
    *
-   * @var \Drupal\social_api\Plugin\NetworkManager
+   * @var NetworkManager
    */
   private $networkManager;

@@ @@
   /**
    * The Social Auth Data Handler.
    *
-   * @var \Drupal\social_post\DataHandler
+   * @var DataHandler
    */
   private $dataHandler;

@@ @@
   /**
    * Used to access GET parameters.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   private $request;

@@ @@
   /**
    * The logger channel.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   protected $loggerFactory;

@@ @@
   /**
    * The social post manager.
    *
-   * @var \Drupal\social_post\User\UserManager
+   * @var UserManager
    */
   protected $userManager;

@@ @@
   /**
    * The Messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * TwitterAuthController constructor.
    *
-   * @param \Drupal\social_api\Plugin\NetworkManager $network_manager
+   * @param NetworkManager $network_manager
    *   Used to get an instance of social_post_twitter network plugin.
-   * @param \Drupal\social_post\User\UserManager $user_manager
+   * @param UserManager $user_manager
    *   Manages user login/registration.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   Used to access GET parameters.
-   * @param \Drupal\social_post\DataHandler $data_handler
+   * @param DataHandler $data_handler
    *   The Social Post data handler.
-   * @param \Drupal\social_post\Entity\Controller\SocialPostListBuilder $list_builder
+   * @param SocialPostListBuilder $list_builder
    *   The Social Post entity list builder.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger_factory
+   * @param LoggerChannelFactoryInterface $logger_factory
    *   Used for logging errors.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger service.
    */
   public function __construct(NetworkManager $network_manager,
@@ @@
    */
   public function redirectToProvider() {
     try {
-      /** @var \Drupal\social_post_twitter\Plugin\Network\TwitterPost $network_plugin */
+      /** @var TwitterPost $network_plugin */
       $network_plugin = $this->networkManager->createInstance('social_post_twitter');

-      /** @var \Abraham\TwitterOAuth\TwitterOAuth $client */
+      /** @var TwitterOAuth $client */
       $client = $network_plugin->getSdk();

       $request_token = $client->oauth('oauth/request_token', ['oauth_callback' => $network_plugin->getOauthCallback()]);
@@ @@
       $oauth_token = $this->dataHandler->get('oauth_token');
       $oauth_token_secret = $this->dataHandler->get('oauth_token_secret');

-      /** @var \Abraham\TwitterOAuth\TwitterOAuth $client */
+      /** @var TwitterOAuth $client */
       $client = $this->networkManager->createInstance('social_post_twitter')->getSdk();
       $client->setOauthToken($oauth_token, $oauth_token_secret);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/social_post_twitter/social_post_twitter.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\social_post\Entity\SocialPost;
+use Drupal\Core\Entity\EntityInterface;
 /**
  * @file
  * Contains social_post_twitter.module.
@@ @@
 /**
  * Check if the user is allowed to grant permission for autoposting.
  *
- * @param \Drupal\Core\Session\AccountInterface $current_user
+ * @param AccountInterface $current_user
  *   The current user.
  *
  * @return bool
@@ @@
 /**
  * Creates elements to the user edit form.
  *
- * @param \Drupal\Core\Session\AccountInterface $current_user
+ * @param AccountInterface $current_user
  *   The current user.
  *
  * @return array
  *   The elements to add to the user edit form.
  *
- * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
- * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+ * @throws InvalidPluginDefinitionException
+ * @throws PluginNotFoundException
  */
 function _social_post_twitter_user_edit_form(AccountInterface $current_user): array {
-  /** @var \Drupal\social_post\Entity\SocialPost[] $accounts */
+  /** @var SocialPost[] $accounts */
   $accounts = _social_post_twitter_get_accounts_by_uid($current_user->id());

   $form['social_post_twitter'] = [
@@ @@
  * @param int $user_id
  *   The user id.
  *
- * @return \Drupal\Core\Entity\EntityInterface[]
+ * @return EntityInterface[]
  *   Accounts associated to the user id.
  *
- * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
- * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+ * @throws InvalidPluginDefinitionException
+ * @throws PluginNotFoundException
  */
 function _social_post_twitter_get_accounts_by_uid(int $user_id): array {
   return Drupal::entityTypeManager()->getStorage('social_post')->loadByProperties([
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [ERROR] Could not process                                                      
         "modules/contrib/social_post_twitter/src/Plugin/RulesAction/Tweet.php" 
         file, due to:                                                          
         "Analyze error: "Class Drupal\rules\Core\RulesActionBase not found.".  
         Include your files in "$rectorConfig->autoloadPaths([...]);" or        
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

