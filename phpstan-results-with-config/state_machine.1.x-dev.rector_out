modules/contrib/state_machine/src/Access/StateTransitionAccessCheck.php
modules/contrib/state_machine/src/DependencyInjection/Compiler/GuardsPass.php
modules/contrib/state_machine/src/Event/WorkflowTransitionEvent.php
modules/contrib/state_machine/src/Form/StateTransitionConfirmForm.php
modules/contrib/state_machine/src/Form/StateTransitionForm.php
modules/contrib/state_machine/src/Form/StateTransitionFormInterface.php
modules/contrib/state_machine/src/Guard/GuardFactory.php
modules/contrib/state_machine/src/Guard/GuardFactoryInterface.php
modules/contrib/state_machine/src/Guard/GuardInterface.php
modules/contrib/state_machine/src/Plugin/Field/FieldFormatter/StateTransitionFormFormatter.php
modules/contrib/state_machine/src/Plugin/Field/FieldType/StateItem.php
modules/contrib/state_machine/src/Plugin/Field/FieldType/StateItemInterface.php
modules/contrib/state_machine/src/Plugin/Validation/Constraint/StateConstraint.php
modules/contrib/state_machine/src/Plugin/Validation/Constraint/StateConstraintValidator.php
modules/contrib/state_machine/src/Plugin/Workflow/Workflow.php
modules/contrib/state_machine/src/Plugin/Workflow/WorkflowInterface.php
modules/contrib/state_machine/src/Plugin/Workflow/WorkflowState.php
modules/contrib/state_machine/src/Plugin/Workflow/WorkflowTransition.php
modules/contrib/state_machine/src/Plugin/WorkflowGroup/WorkflowGroup.php
modules/contrib/state_machine/src/Plugin/WorkflowGroup/WorkflowGroupInterface.php
modules/contrib/state_machine/src/Plugin/views/filter/State.php
modules/contrib/state_machine/src/Routing/RouteSubscriber.php
modules/contrib/state_machine/src/StateMachineServiceProvider.php
modules/contrib/state_machine/src/WorkflowGroupManager.php
modules/contrib/state_machine/src/WorkflowGroupManagerInterface.php
modules/contrib/state_machine/src/WorkflowManager.php
modules/contrib/state_machine/src/WorkflowManagerInterface.php
modules/contrib/state_machine/state_machine.api.php
modules/contrib/state_machine/state_machine.module
modules/contrib/state_machine/state_machine.views.inc
modules/contrib/state_machine/tests/modules/state_machine_test/src/EventSubscriber/WorkflowTransitionEventSubscriber.php
modules/contrib/state_machine/tests/modules/state_machine_test/src/Guard/FulfillmentGuard.php
modules/contrib/state_machine/tests/modules/state_machine_test/src/Guard/GenericGuard.php
modules/contrib/state_machine/tests/modules/state_machine_test/state_machine_test.module
modules/contrib/state_machine/tests/src/Functional/StateFilterTest.php
modules/contrib/state_machine/tests/src/Functional/StateTransitionFormTest.php
modules/contrib/state_machine/tests/src/FunctionalJavascript/StateTransitionFormTest.php
modules/contrib/state_machine/tests/src/Kernel/StateItemTest.php
modules/contrib/state_machine/tests/src/Kernel/WorkflowTransitionEventTest.php
modules/contrib/state_machine/tests/src/Unit/Plugin/Workflow/WorkflowTest.php
modules/contrib/state_machine/tests/src/Unit/Plugin/WorkflowGroup/WorkflowGroupTest.php
modules/contrib/state_machine/tests/src/Unit/WorkflowManagerCacheTest.php

25 files with changes
=====================

1) modules/contrib/state_machine/tests/src/Unit/WorkflowManagerCacheTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\state_machine\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Prophecy\Prophecy\ObjectProphecy;
 use Drupal\Core\Cache\CacheBackendInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class WorkflowManagerCacheTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * An instance of the WorkflowManager. This is the system under test.
    *
-   * @var \Drupal\state_machine\WorkflowManager
+   * @var WorkflowManager
    */
   protected $workflowManager;

@@ @@
   /**
    * A mocked instance of the dependency injection container.
    *
-   * @var \Symfony\Component\DependencyInjection\ContainerInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var ContainerInterface|ObjectProphecy
    */
   protected $container;

@@ @@
   /**
    * A mocked instance of the module handler service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var ModuleHandlerInterface|ObjectProphecy
    */
   protected $moduleHandler;

@@ @@
   /**
    * A mocked instance of a cache backend.
    *
-   * @var \Drupal\Core\Cache\CacheBackendInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var CacheBackendInterface|ObjectProphecy
    */
   protected $cacheBackend;

@@ @@
   /**
    * A mocked instance of the workflow group manager.
    *
-   * @var \Drupal\state_machine\WorkflowGroupManagerInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var WorkflowGroupManagerInterface|ObjectProphecy
    */
   protected $workflowGroupManager;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/state_machine/tests/src/Unit/Plugin/WorkflowGroup/WorkflowGroupTest.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The workflow group.
    *
-   * @var \Drupal\state_machine\Plugin\WorkflowGroup\WorkflowGroup
+   * @var WorkflowGroup
    */
   protected $workflowGroup;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/state_machine/tests/src/Unit/Plugin/Workflow/WorkflowTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\state_machine\Unit\Plugin\Workflow;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\StringTranslation\TranslatableMarkup;
 use Drupal\Core\StringTranslation\TranslationInterface;
@@ @@
  */
 class WorkflowTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::getId
    */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/state_machine/tests/src/Kernel/StateItemTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\state_machine\Kernel;

+use Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface;
 use Drupal\entity_test\Entity\EntityTestWithBundle;
 use Drupal\Tests\field\Kernel\FieldKernelTestBase;

@@ @@
    */
   public function testInvalidTransitionApply() {
     $entity = EntityTestWithBundle::create(['type' => 'first']);
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $entity->get('field_state')->first();
     $this->expectException(\InvalidArgumentException::class);
     $state_item->applyTransitionById('INVALID');
@@ @@
     ]);
     $this->assertEquals($initial_state, $entity->get('field_state')->value);

-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $entity->get('field_state')->first();
     // Confirm that the transitions are correct.
     $transitions = $state_item->getTransitions();
@@ @@
       'type' => 'first',
     ]);
     $entity->field_state->generateSampleItems();
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $entity->get('field_state')->first();
     $this->assertEquals('default', $state_item->getWorkflow()->getId());
     $this->assertNotEmpty($state_item->getId());
@@ @@
       'type' => 'second',
     ]);
     $entity->field_state->generateSampleItems();
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $entity->get('field_state')->first();
     $this->assertNotEmpty($state_item->getId());
     $this->assertTrue(in_array($state_item->getId(), array_keys($state_item->getWorkflow()->getStates())));
@@ @@
       'type' => 'third',
     ]);
     $entity->field_state->generateSampleItems();
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $entity->get('field_state')->first();
     $this->assertEquals('two_transitions', $state_item->getWorkflow()->getId());
     $this->assertNotEmpty($state_item->getId());
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/state_machine/tests/modules/state_machine_test/src/Guard/GenericGuard.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * Constructs a new GenericGuard object.
    *
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
    */
   public function __construct(AccountInterface $current_user) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


6) modules/contrib/state_machine/tests/modules/state_machine_test/src/EventSubscriber/WorkflowTransitionEventSubscriber.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * The messenger.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * Constructs a new WorkflowTransitionEventSubscriber object.
    *
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger.
    */
   public function __construct(MessengerInterface $messenger) {
@@ @@
   /**
    * Reacts to the 'entity_test_with_bundle.create.pre_transition' event.
    *
-   * @param \Drupal\state_machine\Event\WorkflowTransitionEvent $event
+   * @param WorkflowTransitionEvent $event
    *   The transition event.
    */
   public function onPreTransition(WorkflowTransitionEvent $event) {
@@ @@
   /**
    * Reacts to the 'entity_test_with_bundle.create.post_transition' event.
    *
-   * @param \Drupal\state_machine\Event\WorkflowTransitionEvent $event
+   * @param WorkflowTransitionEvent $event
    *   The transition event.
    */
   public function onPostTransition(WorkflowTransitionEvent $event) {
@@ @@
   /**
    * Reacts to the 'entity_test_with_bundle.pre_transition' event.
    *
-   * @param \Drupal\state_machine\Event\WorkflowTransitionEvent $event
+   * @param WorkflowTransitionEvent $event
    *   The transition event.
    */
   public function onGroupPreTransition(WorkflowTransitionEvent $event) {
@@ @@
   /**
    * Reacts to the 'entity_test_with_bundle.post_transition' event.
    *
-   * @param \Drupal\state_machine\Event\WorkflowTransitionEvent $event
+   * @param WorkflowTransitionEvent $event
    *   The transition event.
    */
   public function onGroupPostTransition(WorkflowTransitionEvent $event) {
@@ @@
   /**
    * Reacts to the 'state_machine.pre_transition' event.
    *
-   * @param \Drupal\state_machine\Event\WorkflowTransitionEvent $event
+   * @param WorkflowTransitionEvent $event
    *   The transition event.
    */
   public function onGenericPreTransition(WorkflowTransitionEvent $event) {
@@ @@
   /**
    * Reacts to the 'state_machine.post_transition' event.
    *
-   * @param \Drupal\state_machine\Event\WorkflowTransitionEvent $event
+   * @param WorkflowTransitionEvent $event
    *   The transition event.
    */
   public function onGenericPostTransition(WorkflowTransitionEvent $event) {
@@ @@
   /**
    * Sets a message with event information for test purposes.
    *
-   * @param \Drupal\state_machine\Event\WorkflowTransitionEvent $event
+   * @param WorkflowTransitionEvent $event
    *   The transition event.
    * @param string $phase
    *   The phase during which the event occurred.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


7) modules/contrib/state_machine/state_machine.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\EntityTypeInterface;
 /**
  * @file
  * Provides workflow functionality.
@@ @@
  * Implements hook_entity_type_alter().
  */
 function state_machine_entity_type_alter(array &$entity_types) {
-  /** @var \Drupal\Core\Entity\EntityTypeInterface[] $entity_types */
+  /** @var EntityTypeInterface[] $entity_types */
   foreach ($entity_types as $entity_type) {
     // Sets a default state-transition-confirm form class for all entity types
     // defining a "state-transition-form" link template.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


8) modules/contrib/state_machine/src/WorkflowManager.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine;

+use Drupal\state_machine\Plugin\Workflow\WorkflowInterface;
 use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Core\Cache\CacheBackendInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
   /**
    * The workflow group manager.
    *
-   * @var \Drupal\state_machine\WorkflowGroupManagerInterface
+   * @var WorkflowGroupManagerInterface
    */
   protected $groupManager;

@@ @@
   /**
    * A cache of loaded workflows, keyed by workflow ID.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowInterface[]
+   * @var WorkflowInterface[]
    */
   protected $plugins;

@@ @@
   /**
    * Constructs a new WorkflowManager object.
    *
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   The cache backend.
-   * @param \Drupal\state_machine\WorkflowGroupManagerInterface $group_manager
+   * @param WorkflowGroupManagerInterface $group_manager
    *   The workflow group manager.
    */
   public function __construct(ModuleHandlerInterface $module_handler, CacheBackendInterface $cache_backend, WorkflowGroupManagerInterface $group_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/state_machine/src/WorkflowGroupManager.php:35

    ---------- begin diff ----------
@@ @@
   /**
    * Constructs a new WorkflowGroupManager object.
    *
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   The cache backend.
    */
   public function __construct(ModuleHandlerInterface $module_handler, CacheBackendInterface $cache_backend) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/state_machine/src/Routing/RouteSubscriber.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Constructs a new RouteSubscriber object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity type manager.
    */
   public function __construct(EntityTypeManagerInterface $entity_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/state_machine/src/Plugin/views/filter/State.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Plugin\views\filter;

+use Drupal\state_machine\Plugin\Workflow\WorkflowInterface;
+use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Component\Utility\SortArray;
 use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Entity\EntityTypeInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The entity field manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity field manager.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityTypeManagerInterface $entity_type_manager, EntityFieldManagerInterface $entity_field_manager) {
@@ @@
   /**
    * Gets the workflows used the current entity field.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The current entity type.
    * @param string $field_name
    *   The current field name.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowInterface[]
+   * @return WorkflowInterface[]
    *   The workflows.
    */
   protected function getWorkflows(EntityTypeInterface $entity_type, $field_name) {
@@ @@
       if ($bundle_key = $entity_type->getKey('bundle')) {
         $values[$bundle_key] = $bundle;
       }
-      /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+      /** @var ContentEntityInterface $entity */
       $entity = $storage->create($values);
       if ($entity->hasField($field_name)) {
         $workflow = $entity->get($field_name)->first()->getWorkflow();
@@ @@
    * If the view has a non-exposed bundle filter, the bundles are taken from
    * there. Otherwise, the field's bundles are used.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The current entity type.
    * @param string $field_name
    *   The current field name.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/state_machine/src/Plugin/Workflow/WorkflowTransition.php:27

    ---------- begin diff ----------
@@ @@
   /**
    * The "from" states.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowState[]
+   * @var WorkflowState[]
    */
   protected $fromStates;

@@ @@
   /**
    * The "to" state.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowState
+   * @var WorkflowState
    */
   protected $toState;

@@ @@
    *   The transition ID.
    * @param string $label
    *   The transition label.
-   * @param \Drupal\state_machine\Plugin\Workflow\WorkflowState[] $from_states
+   * @param WorkflowState[] $from_states
    *   The "from" states.
-   * @param \Drupal\state_machine\Plugin\Workflow\WorkflowState $to_state
+   * @param WorkflowState $to_state
    *   The "to" state.
    */
   public function __construct($id, $label, array $from_states, WorkflowState $to_state) {
@@ @@
   /**
    * Gets the "from" states.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowState[]
+   * @return WorkflowState[]
    *   The "from" states.
    */
   public function getFromStates() {
@@ @@
   /**
    * Gets the "to" state.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowState
+   * @return WorkflowState
    *   The "to" state.
    */
   public function getToState() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


13) modules/contrib/state_machine/src/Plugin/Workflow/WorkflowInterface.php:35

    ---------- begin diff ----------
@@ @@
   /**
    * Gets the workflow states.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowState[]
+   * @return WorkflowState[]
    *   The states, keyed by state ID.
    */
   public function getStates();
@@ @@
    * @param string $id
    *   The state ID.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowState|null
+   * @return WorkflowState|null
    *   The requested state, or NULL if not found.
    */
   public function getState($id);
@@ @@
   /**
    * Gets the workflow transitions.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowTransition[]
+   * @return WorkflowTransition[]
    *   The transitions, keyed by transition ID.
    */
   public function getTransitions();
@@ @@
    * @param string $id
    *   The transition ID.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowTransition|null
+   * @return WorkflowTransition|null
    *   The requested transition, or NULL if not found.
    */
   public function getTransition($id);
@@ @@
    * @param string $state_id
    *   The state ID.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowTransition[]
+   * @return WorkflowTransition[]
    *   The possible transitions, keyed by transition ID.
    */
   public function getPossibleTransitions($state_id);
@@ @@
    *
    * @param string $state_id
    *   The state ID.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The parent entity.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowTransition[]
+   * @return WorkflowTransition[]
    *   The allowed transitions, keyed by transition ID.
    */
   public function getAllowedTransitions($state_id, EntityInterface $entity);
@@ @@
    * @param string $to_state_id
    *   The ID of the "to" state.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowTransition|null
+   * @return WorkflowTransition|null
    *   The transition, or NULL if not found.
    */
   public function findTransition($from_state_id, $to_state_id);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


14) modules/contrib/state_machine/src/Plugin/Workflow/Workflow.php:15

    ---------- begin diff ----------
@@ @@
   /**
    * The guard factory.
    *
-   * @var \Drupal\state_machine\Guard\GuardFactoryInterface
+   * @var GuardFactoryInterface
    */
   protected $guardFactory;

@@ @@
   /**
    * The initialized states.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowState[]
+   * @var WorkflowState[]
    */
   protected $states = [];

@@ @@
   /**
    * The initialized transitions.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowTransition[]
+   * @var WorkflowTransition[]
    */
   protected $transitions = [];

@@ @@
    *   The workflow plugin_id.
    * @param mixed $plugin_definition
    *   The workflow plugin implementation definition.
-   * @param \Drupal\state_machine\Guard\GuardFactoryInterface $guard_factory
+   * @param GuardFactoryInterface $guard_factory
    *   The guard factory.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, GuardFactoryInterface $guard_factory) {
@@ @@
   /**
    * Gets whether the given transition is allowed.
    *
-   * @param \Drupal\state_machine\Plugin\Workflow\WorkflowTransition $transition
+   * @param WorkflowTransition $transition
    *   The transition.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The parent entity.
    *
    * @return bool
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/state_machine/src/Plugin/Field/FieldType/StateItemInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Plugin\Field\FieldType;

+use Drupal\state_machine\Plugin\Workflow\WorkflowInterface;
 use Drupal\Core\Field\FieldItemInterface;
 use Drupal\state_machine\Plugin\Workflow\WorkflowTransition;

@@ @@
   /**
    * Gets the workflow used by the field.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowInterface|false
+   * @return WorkflowInterface|false
    *   The workflow, or FALSE if unknown at this time.
    */
   public function getWorkflow();
@@ @@
   /**
    * Gets the allowed transitions for the current state.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowTransition[]
+   * @return WorkflowTransition[]
    *   The allowed transitions, keyed by transition ID.
    */
   public function getTransitions();
@@ @@
   /**
    * Applies the given transition, changing the current state.
    *
-   * @param \Drupal\state_machine\Plugin\Workflow\WorkflowTransition $transition
+   * @param WorkflowTransition $transition
    *   The transition to apply.
    *
    * @throws \InvalidArgumentException
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


16) modules/contrib/state_machine/src/Plugin/Field/FieldType/StateItem.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Plugin\Field\FieldType;

+use Drupal\state_machine\Plugin\Workflow\WorkflowInterface;
+use Drupal\state_machine\WorkflowManagerInterface;
 use Drupal\Core\Entity\ContentEntityStorageInterface;
 use Drupal\Core\Field\FieldDefinitionInterface;
 use Drupal\Core\Field\FieldItemBase;
@@ @@
   /**
    * The transition to apply.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowTransition
+   * @var WorkflowTransition
    */
   protected $transitionToApply;

@@ @@
    * @param string $value
    *   The field value, representing the state ID.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowState[]
+   * @return WorkflowState[]
    *   The allowed states.
    */
   protected function getAllowedStates($value) {
@@ @@
    *   The phase: pre_transition OR post_transition.
    */
   protected function dispatchTransitionEvent($phase) {
-    /** @var \Drupal\state_machine\Plugin\Workflow\WorkflowInterface $workflow */
+    /** @var WorkflowInterface $workflow */
     $workflow = $this->getWorkflow();
     $transition = $this->transitionToApply ?? $workflow->findTransition($this->originalValue, $this->value);
     if ($transition) {
@@ @@
       return [];
     }

-    /** @var \Drupal\state_machine\WorkflowManagerInterface $workflow_manager */
+    /** @var WorkflowManagerInterface $workflow_manager */
     $workflow_manager = \Drupal::service('plugin.manager.workflow');
-    /** @var \Drupal\state_machine\Plugin\Workflow\WorkflowInterface $workflow */
+    /** @var WorkflowInterface $workflow */
     $workflow = $workflow_manager->createInstance($workflow_id);

     // Select states that allow at least one transition.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/state_machine/src/Plugin/Field/FieldFormatter/StateTransitionFormFormatter.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Plugin\Field\FieldFormatter;

+use Drupal\Core\Entity\FieldableEntityInterface;
+use Drupal\state_machine\Form\StateTransitionFormInterface;
 use Drupal\Core\DependencyInjection\ClassResolverInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Field\FieldDefinitionInterface;
@@ @@
   /**
    * The class resolver.
    *
-   * @var \Drupal\Core\DependencyInjection\ClassResolverInterface
+   * @var ClassResolverInterface
    */
   protected $classResolver;

@@ @@
   /**
    * The form builder.
    *
-   * @var \Drupal\Core\Form\FormBuilderInterface
+   * @var FormBuilderInterface
    */
   protected $formBuilder;

@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
    *   The plugin_id for the formatter.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the formatter is associated.
    * @param array $settings
    *   The formatter settings.
@@ @@
    *   The view mode.
    * @param array $third_party_settings
    *   Any third party settings.
-   * @param \Drupal\Core\DependencyInjection\ClassResolverInterface $class_resolver
+   * @param ClassResolverInterface $class_resolver
    *   The class resolver.
-   * @param \Drupal\Core\Form\FormBuilderInterface $form_builder
+   * @param FormBuilderInterface $form_builder
    *   The form builder.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, $label, $view_mode, array $third_party_settings, ClassResolverInterface $class_resolver, FormBuilderInterface $form_builder, EntityTypeManagerInterface $entity_type_manager) {
@@ @@
    * {@inheritdoc}
    */
   public function viewElements(FieldItemListInterface $items, $langcode) {
-    /** @var \Drupal\Core\Entity\FieldableEntityInterface $entity */
+    /** @var FieldableEntityInterface $entity */
     $entity = $items->getEntity();
     // Do not show the form if the user isn't allowed to modify the entity.
     if (!$entity->access('update')) {
       return [];
     }
-    /** @var \Drupal\state_machine\Form\StateTransitionFormInterface $form_object */
+    /** @var StateTransitionFormInterface $form_object */
     $form_object = $this->classResolver->getInstanceFromDefinition(StateTransitionForm::class);
     $form_object->setEntity($entity);
     $form_object->setFieldName($items->getFieldDefinition()->getName());
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/state_machine/src/Guard/GuardInterface.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * Checks whether the given transition is allowed.
    *
-   * @param \Drupal\state_machine\Plugin\Workflow\WorkflowTransition $transition
+   * @param WorkflowTransition $transition
    *   The transition.
-   * @param \Drupal\state_machine\Plugin\Workflow\WorkflowInterface $workflow
+   * @param WorkflowInterface $workflow
    *   The workflow.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The parent entity.
    *
    * @return bool
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


19) modules/contrib/state_machine/src/Guard/GuardFactoryInterface.php:12

    ---------- begin diff ----------
@@ @@
    * @param string $group_id
    *   The group ID.
    *
-   * @return \Drupal\state_machine\Guard\GuardInterface[]
+   * @return GuardInterface[]
    *   The instantiated guards.
    */
   public function get($group_id);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


20) modules/contrib/state_machine/src/Guard/GuardFactory.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * The service container.
    *
-   * @var \Symfony\Component\DependencyInjection\ContainerInterface
+   * @var ContainerInterface
    */
   protected $container;

@@ @@
   /**
    * Constructs a new GuardFactory object.
    *
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   The service container.
    * @param string[] $guard_service_ids
    *   The guard service IDs, grouped by workflow group ID.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


21) modules/contrib/state_machine/src/Form/StateTransitionFormInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Form;

+use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Form\BaseFormIdInterface;

@@ @@
   /**
    * Gets the form entity.
    *
-   * @return \Drupal\Core\Entity\EntityInterface
+   * @return EntityInterface
    *   The form entity.
    */
   public function getEntity();
@@ @@
    * When the form is submitted, a transition will be applied to the entity,
    * and the entity will be saved.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The form entity.
    *
    * @return $this
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


22) modules/contrib/state_machine/src/Form/StateTransitionForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Form;

+use Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface;
+use Drupal\state_machine\Plugin\Workflow\WorkflowTransition;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * The entity.
    *
-   * @var \Drupal\Core\Entity\ContentEntityInterface
+   * @var ContentEntityInterface
    */
   protected $entity;

@@ @@
    * {@inheritdoc}
    */
   public function buildForm(array $form, FormStateInterface $form_state) {
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $this->entity->get($this->fieldName)->first();

     $form['actions'] = [
@@ @@
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
     $triggering_element = $form_state->getTriggeringElement();
-    /** @var \Drupal\state_machine\Plugin\Workflow\WorkflowTransition $transition */
+    /** @var WorkflowTransition $transition */
     $transition = $triggering_element['#transition'];
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $this->entity->get($this->fieldName)->first();

     // Ensure the transition is still allowed before applying it.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


23) modules/contrib/state_machine/src/Form/StateTransitionConfirmForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Form;

+use Drupal\Core\Render\RendererInterface;
+use Drupal\state_machine\Plugin\Workflow\WorkflowTransition;
+use Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface;
 use Drupal\Core\Entity\ContentEntityConfirmFormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ @@
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
   /**
    * The transition.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowTransition
+   * @var WorkflowTransition
    */
   protected $transition;

@@ @@
    * {@inheritdoc}
    */
   public function buildForm(array $form, FormStateInterface $form_state, $field_name = '', $transition_id = '') {
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $this->entity->get($field_name)->first();
     $transition = $state_item->getWorkflow()->getTransition($transition_id);
     $this->fieldName = $field_name;
@@ @@
    * {@inheritdoc}
    */
   public function getDescription() {
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $this->entity->get($this->fieldName)->first();
     $items = [
       $this->t('<b>Transition</b>: @transition_label', ['@transition_label' => $this->transition->getLabel()]),
@@ @@
    * {@inheritdoc}
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $this->entity->get($this->fieldName)->first();
     if ($state_item->isTransitionAllowed($this->transition->getId())) {
       $state_item->applyTransition($this->transition);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


24) modules/contrib/state_machine/src/Event/WorkflowTransitionEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Event;

+use Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface;
+use Drupal\state_machine\Plugin\Workflow\WorkflowState;
 use Drupal\Component\EventDispatcher\Event;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\state_machine\Plugin\Workflow\WorkflowInterface;
@@ @@
   /**
    * The transition.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowTransition
+   * @var WorkflowTransition
    */
   protected $transition;

@@ @@
   /**
    * The workflow.
    *
-   * @var \Drupal\state_machine\Plugin\Workflow\WorkflowInterface
+   * @var WorkflowInterface
    */
   protected $workflow;

@@ @@
   /**
    * The entity.
    *
-   * @var \Drupal\Core\Entity\ContentEntityInterface
+   * @var ContentEntityInterface
    */
   protected $entity;

@@ @@
   /**
    * Constructs a new WorkflowTransitionEvent object.
    *
-   * @param \Drupal\state_machine\Plugin\Workflow\WorkflowTransition $transition
+   * @param WorkflowTransition $transition
    *   The transition.
-   * @param \Drupal\state_machine\Plugin\Workflow\WorkflowInterface $workflow
+   * @param WorkflowInterface $workflow
    *   The workflow.
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The entity.
    * @param string $field_name
    *   The state field name.
@@ @@
   /**
    * Gets the transition.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowTransition
+   * @return WorkflowTransition
    *   The transition.
    */
   public function getTransition() {
@@ @@
   /**
    * Gets the workflow.
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowInterface
+   * @return WorkflowInterface
    *   The workflow.
    */
   public function getWorkflow() {
@@ @@
   /**
    * Gets the entity.
    *
-   * @return \Drupal\Core\Entity\ContentEntityInterface
+   * @return ContentEntityInterface
    *   The entity.
    */
   public function getEntity() {
@@ @@
   /**
    * Gets the state field.
    *
-   * @return \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface
+   * @return StateItemInterface
    *   The state field.
    */
   public function getField() {
-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $field */
+    /** @var StateItemInterface $field */
     $field = $this->entity->get($this->fieldName)->first();
     return $field;
   }
@@ @@
    *   Use $this->getField()->getOriginalId() instead.
    * @see https://www.drupal.org/node/2982709
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowState
+   * @return WorkflowState
    *   The "from" state.
    */
   public function getFromState() {
@@ @@
    *   Use $this->getTransition->getToState() instead.
    * @see https://www.drupal.org/node/2982709
    *
-   * @return \Drupal\state_machine\Plugin\Workflow\WorkflowState
+   * @return WorkflowState
    *   The "to" state.
    */
   public function getToState() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


25) modules/contrib/state_machine/src/Access/StateTransitionAccessCheck.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\state_machine\Access;

+use Drupal\Core\Access\AccessResultInterface;
+use Drupal\Core\Entity\ContentEntityInterface;
+use Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Routing\Access\AccessInterface;
 use Drupal\Core\Routing\RouteMatchInterface;
@@ @@
   /**
    * Checks access to the state transition confirmation form.
    *
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The route match.
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   The currently logged in account.
    *
-   * @return \Drupal\Core\Access\AccessResultInterface
+   * @return AccessResultInterface
    *   The access result.
    */
   public function access(RouteMatchInterface $route_match, AccountInterface $account) {
@@ @@
       }
     }

-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+    /** @var ContentEntityInterface $entity */
     $entity = $route_match->getParameter($entity_type);
     $field_name = $route_match->getParameter('field_name');
     // Ensures the passed entity has a state field matching the field name
@@ @@
       return AccessResult::forbidden();
     }

-    /** @var \Drupal\state_machine\Plugin\Field\FieldType\StateItemInterface $state_item */
+    /** @var StateItemInterface $state_item */
     $state_item = $entity->get($field_name)->first();
     $allowed_transitions = array_keys($state_item->getTransitions());
     // Now check if the requested transition is allowed.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 25 files have been changed by Rector                                      

