modules/contrib/drupal_chatbot/drupal_chatbot.module
modules/contrib/drupal_chatbot/src/Controller/DefaultController.php
modules/contrib/drupal_chatbot/src/Form/ChatbotSettingsForm.php
modules/contrib/drupal_chatbot/src/Plugin/Block/DrupalbotBlock.php

2 files with changes
====================

1) modules/contrib/drupal_chatbot/src/Form/ChatbotSettingsForm.php:100

    ---------- begin diff ----------
@@ @@
 	->execute();
 	$value = $data->fetchAssoc();
 	$filename_bot = $value['filename'];
-	$bot_url = file_create_url($bot_img_loc);
+	$bot_url = \Drupal::service('file_url_generator')->generateAbsoluteString($bot_img_loc);
 	$bot_url = parse_url($bot_url);
 	//dpm($bot_url['path'].'/'.$filename_bot);
 	
@@ @@
 	->execute();
 	$value = $data->fetchAssoc();
 	$filename_bot_user = $value['filename'];
-	$bot_user_url = file_create_url($bot_user_img_loc);
+	$bot_user_url = \Drupal::service('file_url_generator')->generateAbsoluteString($bot_user_img_loc);
 	$bot_user_url = parse_url($bot_user_url);
 	//dpm($bot_user_url['path'].'/'.$filename_bot_user);
 	
@@ @@
 	->execute();
 	$value = $data->fetchAssoc();
 	$filename_bot_header = $value['filename'];
-	$bot_header_url = file_create_url($bot_header_img_loc);
+	$bot_header_url = \Drupal::service('file_url_generator')->generateAbsoluteString($bot_header_img_loc);
 	$bot_header_url = parse_url($bot_header_url);
 	//dpm($bot_user_url['path'].'/'.$filename_bot_header);
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/drupal_chatbot/src/Controller/DefaultController.php:25

    ---------- begin diff ----------
@@ @@
 class DefaultController extends ControllerBase {

   /**
-   * Symfony\Component\HttpFoundation\RequestStack definition.
-   *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
-   */
-  protected $requestStack;
+		 * Symfony\Component\HttpFoundation\RequestStack definition.
+		 *
+		 * @var RequestStack
+		 */
+		protected $requestStack;

   /**
-   * The logger factory.
-   *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
-   */
-  protected $loggerFactory;
+		 * The logger factory.
+		 *
+		 * @var LoggerChannelFactoryInterface
+		 */
+		protected $loggerFactory;

   /**
    * Constructs a new DefaultController object.
@@ @@
       $json = json_decode($requestBody);

       $text = (!empty($json->result->resolvedQuery)) ? $json->result->resolvedQuery : '';
-        
+
       $intent = (!empty($json->result->metadata->intentName)) ? $json->result->metadata->intentName : '';
-		
+
 	  $param_email = (!empty($json->result->parameters->email)) ? $json->result->parameters->email : '';
 	  $param_name = (!empty($json->result->parameters->name)) ? $json->result->parameters->name : '';
-        
+
       $responseText = $this->prepareResponse($intent, $text, $param_email, $param_name);
-        
+
 	  $data = [
                 'speech' => $responseText,
 				'displayText' => $responseText,
@@ @@
 				'contextOut' => [],
 				'source' => 'LiquidHubDrupal',
 				];
-   
+
       return JsonResponse::create($data, 200);
       }
       else{	 
 	    echo "Method not allowed";
-		
+
       }

- 
+
     /**
 	 *  Dialogflow V2 API
         $data = [
@@ @@
                   'source' => 'LiquidHubDrupal',
                 ];
 	 */
-   
+
     /** 
 	 *  Dialogflow V1 API*
         $data = [
@@ @@
       $name = $node->getTitle();
 	  $path = '/drupal8/node/' .(int)$node;
 	  $langcode = \Drupal::languageManager()->getCurrentLanguage()->getId();
-	  $path_alias = \Drupal::service('path.alias_manager')->getAliasByPath($path, $langcode);
+	  $path_alias = \Drupal::service('path_alias.manager')->getAliasByPath($path, $langcode);
       $articles = $articles . ' '.'<a href='.$path_alias.'>'. $name .'</a>'. ',';
     }

@@ @@
       $name = $node->getTitle();
       $path = '/drupal8/node/' . (int)$nid;
 	  $langcode = \Drupal::languageManager()->getCurrentLanguage()->getId();
-      $path_alias = \Drupal::service('path.alias_manager')->getAliasByPath($path, $langcode);
+      $path_alias = \Drupal::service('path_alias.manager')->getAliasByPath($path, $langcode);
       $pages = $pages . ' '.'<a href='.$path_alias.'>'. $name .'</a>'. ',';
     }
     if($pages){
@@ @@
 		$name = $node->getTitle();
 		$path = '/node/' . (int)$pnid;
 		$langcode = \Drupal::languageManager()->getCurrentLanguage()->getId();
-		$path_alias = \Drupal::service('path.alias_manager')->getAliasByPath($path, $langcode);
+		$path_alias = \Drupal::service('path_alias.manager')->getAliasByPath($path, $langcode);
 		$pages = $pages . ' '.'<a href="'.$base_url.$path.'">'. $name .'</a>'. ',';
 		$pagehref = (int)$pnid;
 	  }
    ----------- end diff -----------

Applied rules:
 * PathAliasManagerServiceNameRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

