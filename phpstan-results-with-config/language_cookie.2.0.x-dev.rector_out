modules/contrib/language_cookie/language_cookie.api.php
modules/contrib/language_cookie/language_cookie.install
modules/contrib/language_cookie/language_cookie.module
modules/contrib/language_cookie/src/Annotation/LanguageCookieCondition.php
modules/contrib/language_cookie/src/Controller/LegacyDrupal7Redirect.php
modules/contrib/language_cookie/src/EventSubscriber/LanguageCookieSubscriber.php
modules/contrib/language_cookie/src/Form/NegotiationLanguageCookieForm.php
modules/contrib/language_cookie/src/LanguageCookieConditionBase.php
modules/contrib/language_cookie/src/LanguageCookieConditionInterface.php
modules/contrib/language_cookie/src/LanguageCookieConditionManager.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionBlacklistedPaths.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionHardcodedBlacklistedPaths.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionIndexPhp.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionLanguageAccess.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionMethodIsValid.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionPHPSapi.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionPathIsValid.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionServerAddr.php
modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionXMLHTTPRequest.php
modules/contrib/language_cookie/src/Plugin/LanguageNegotiation/LanguageNegotiationCookie.php
modules/contrib/language_cookie/tests/modules/language_cookie_test/language_cookie_test.install
modules/contrib/language_cookie/tests/modules/language_cookie_test/language_cookie_test.module
modules/contrib/language_cookie/tests/modules/language_cookie_test/src/Plugin/LanguageNegotiation/LanguageCookieFixedNegotiation.php
modules/contrib/language_cookie/tests/src/Functional/LanguageCookieConditionTest.php
modules/contrib/language_cookie/tests/src/Functional/LanguageCookieLanguageAccessTest.php
modules/contrib/language_cookie/tests/src/Functional/LanguageCookieLanguageSelectionPageTest.php
modules/contrib/language_cookie/tests/src/Functional/LanguageCookieNegotiationConfigTest.php
modules/contrib/language_cookie/tests/src/Functional/LanguageCookiePageCacheTest.php
modules/contrib/language_cookie/tests/src/Functional/LanguageCookieTestBase.php

15 files with changes
=====================

1) modules/contrib/language_cookie/tests/src/Functional/LanguageCookieNegotiationConfigTest.php:117

    ---------- begin diff ----------
@@ @@
     $node = $this->drupalCreateNode();
     $this->drupalGet('fr/node/' . $node->id());

-    $this->assertRegExp('/max-age=86/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains expires option.');
+    $this->assertMatchesRegularExpression('/max-age=86/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains expires option.');

     $config->set('time', 60 * 60 * 24 * 2);
     $config->save();
@@ @@
     $node = $this->drupalCreateNode();
     $this->drupalGet('en/node/' . $node->id());

-    $this->assertRegExp('/max-age=172/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains expires option.');
+    $this->assertMatchesRegularExpression('/max-age=172/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains expires option.');
   }

   /**
@@ @@

     $node = $this->drupalCreateNode();
     $this->drupalGet('fr/node/' . $node->id());
-    $this->assertRegExp('/path=\/drupal;/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains path option.');
+    $this->assertMatchesRegularExpression('/path=\/drupal;/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains path option.');
   }

   /**
@@ @@
     $node = $this->drupalCreateNode();
     $this->drupalGet('fr/node/' . $node->id());

-    $this->assertRegExp('/domain=example\.org;/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains domain option.');
+    $this->assertMatchesRegularExpression('/domain=example\.org;/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains domain option.');
   }

   /**
@@ @@
     $node = $this->drupalCreateNode();
     $this->drupalGet('fr/node/' . $node->id());

-    $this->assertRegExp('/secure/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains secure option.');
+    $this->assertMatchesRegularExpression('/secure/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie contains secure option.');
   }

   /**
@@ @@
     $node = $this->drupalCreateNode();
     $this->drupalGet('fr/node/' . $node->id());

-    $this->assertRegExp('/httponly/i', $this->getSession()->getResponseHeader('Set-Cookie'), 'Cookie contains httpOnly option.');
+    $this->assertMatchesRegularExpression('/httponly/i', $this->getSession()->getResponseHeader('Set-Cookie'), 'Cookie contains httpOnly option.');

     $config->set('http_only', FALSE);
     $config->save();

     $this->drupalGet('en/node/' . $node->id());
-    $this->assertNotRegExp('/httponly/i', $this->getSession()->getResponseHeader('Set-Cookie'), 'Cookie contains httpOnly option.');
+    $this->assertDoesNotMatchRegularExpression('/httponly/i', $this->getSession()->getResponseHeader('Set-Cookie'), 'Cookie contains httpOnly option.');
   }

   /**
@@ @@
   public function testLanguageCookieSetOnEveryPageLoadOption() {
     $node = $this->drupalCreateNode();
     $this->drupalGet('fr/node/' . $node->id());
-    $this->assertRegExp('/language=fr/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');
+    $this->assertMatchesRegularExpression('/language=fr/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');

     $this->drupalGet('fr/node/' . $node->id());
     $this->assertEmpty($this->drupalGetHeader('Set-Cookie'));

     $this->drupalGet('en/node/' . $node->id());
-    $this->assertRegExp('/language=en/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');
+    $this->assertMatchesRegularExpression('/language=en/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');

     $config = $this->config('language_cookie.negotiation');
     $config->set('set_on_every_pageload', TRUE);
@@ @@

     $node = $this->drupalCreateNode();
     $this->drupalGet('fr/node/' . $node->id());
-    $this->assertRegExp('/language=fr/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');
+    $this->assertMatchesRegularExpression('/language=fr/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');

     $this->drupalGet('fr/node/' . $node->id());
-    $this->assertRegExp('/language=fr/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');
+    $this->assertMatchesRegularExpression('/language=fr/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');

     $this->drupalGet('en/node/' . $node->id());
-    $this->assertRegExp('/language=en/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');
+    $this->assertMatchesRegularExpression('/language=en/i', $this->drupalGetHeader('Set-Cookie'), 'Cookie is set.');
   }

 }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/language_cookie/src/Plugin/LanguageNegotiation/LanguageNegotiationCookie.php:34

    ---------- begin diff ----------
@@ @@
   /**
    * The configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The page cache kill switch.
    *
-   * @var \Drupal\Core\PageCache\ResponsePolicy\KillSwitch
+   * @var KillSwitch
    */
   protected $pageCacheKillSwitch;

@@ @@
   /**
    * Constructs a new LanguageNegotiationCookie instance.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
-   * @param \Drupal\Core\PageCache\ResponsePolicy\KillSwitch $page_cache_kill_switch
+   * @param KillSwitch $page_cache_kill_switch
    *   The page cache kill switch.
    */
   public function __construct(ConfigFactoryInterface $config_factory, KillSwitch $page_cache_kill_switch) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionXMLHTTPRequest.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * Constructs a LanguageCookieConditionPath plugin.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    * @param array $configuration
    *   A configuration array containing information about the plugin instance.
    ----------- end diff -----------

Applied rules:
 * PassRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionPathIsValid.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * The current path.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPath;

@@ @@
   /**
    * The path validator.
    *
-   * @var \Drupal\Core\Path\PathValidatorInterface
+   * @var PathValidatorInterface
    */
   protected $pathValidator;

@@ @@
   /**
    * Constructs a LanguageCookieConditionPath plugin.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path
+   * @param CurrentPathStack $current_path
    *   The current path.
-   * @param \Drupal\Core\Path\PathValidatorInterface $path_validator
+   * @param PathValidatorInterface $path_validator
    *   The path validator.
    * @param array $configuration
    *   A configuration array containing information about the plugin instance.
    ----------- end diff -----------

Applied rules:
 * PassRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionMethodIsValid.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * The current path.
    *
-   * @var \Drupal\language\LanguageNegotiatorInterface
+   * @var LanguageNegotiatorInterface
    */
   protected $languageNegotiator;

@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * Constructs a LanguageCookieConditionPath plugin.
    *
-   * @param \Drupal\language\LanguageNegotiatorInterface $language_negotiator
+   * @param LanguageNegotiatorInterface $language_negotiator
    *   The language negotiator.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
    * @param array $configuration
    *   A configuration array containing information about the plugin instance.
    ----------- end diff -----------

Applied rules:
 * PassRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionLanguageAccess.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Constructs a LanguageCookieConditionPath plugin.
    *
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
    * @param array $configuration
    *   A configuration array containing information about the plugin instance.
    ----------- end diff -----------

Applied rules:
 * PassRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionHardcodedBlacklistedPaths.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * An alias manager to find the alias for the current system path.
    *
-   * @var \Drupal\path_alias\AliasManagerInterface
+   * @var AliasManagerInterface
    */
   protected $aliasManager;

@@ @@
   /**
    * The path matcher.
    *
-   * @var \Drupal\Core\Path\PathMatcherInterface
+   * @var PathMatcherInterface
    */
   protected $pathMatcher;

@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * The current path.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPath;

@@ @@
   /**
    * The configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * Constructs a RequestPath condition plugin.
    *
-   * @param \Drupal\path_alias\AliasManagerInterface $alias_manager
+   * @param AliasManagerInterface $alias_manager
    *   An alias manager to find the alias for the current system path.
-   * @param \Drupal\Core\Path\PathMatcherInterface $path_matcher
+   * @param PathMatcherInterface $path_matcher
    *   The path matcher service.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path
+   * @param CurrentPathStack $current_path
    *   The current path.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
    * @param array $configuration
    *   A configuration array containing information about the plugin instance.
    ----------- end diff -----------

Applied rules:
 * PassRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/language_cookie/src/Plugin/LanguageCookieCondition/LanguageCookieConditionBlacklistedPaths.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * An alias manager to find the alias for the current system path.
    *
-   * @var \Drupal\path_alias\AliasManagerInterface
+   * @var AliasManagerInterface
    */
   protected $aliasManager;

@@ @@
   /**
    * The path matcher.
    *
-   * @var \Drupal\Core\Path\PathMatcherInterface
+   * @var PathMatcherInterface
    */
   protected $pathMatcher;

@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * The current path.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPath;

@@ @@
   /**
    * Constructs a RequestPath condition plugin.
    *
-   * @param \Drupal\path_alias\AliasManagerInterface $alias_manager
+   * @param AliasManagerInterface $alias_manager
    *   An alias manager to find the alias for the current system path.
-   * @param \Drupal\Core\Path\PathMatcherInterface $path_matcher
+   * @param PathMatcherInterface $path_matcher
    *   The path matcher service.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path
+   * @param CurrentPathStack $current_path
    *   The current path.
    * @param array $configuration
    *   A configuration array containing information about the plugin instance.
    ----------- end diff -----------

Applied rules:
 * PassRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/language_cookie/src/LanguageCookieConditionManager.php:19

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   An object that implements CacheBackendInterface.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   An object that implements ModuleHandlerInterface.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/language_cookie/src/LanguageCookieConditionInterface.php:74

    ---------- begin diff ----------
@@ @@
    * Method that gets triggered when the configuration of the form
    * has been saved.
    *
-   * @param \Drupal\Core\Config\Config $config
+   * @param Config $config
    *   The config object.
    * @param array $form
    *   The form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The FormState object.
    */
   public function postConfigSave(Config $config, array &$form, FormStateInterface $form_state);
@@ @@
   /**
    * Set the current language.
    *
-   * @param \Drupal\Core\Language\LanguageInterface $language
+   * @param LanguageInterface $language
    *   The current language object.
    *
    * @return $this
@@ @@
   /**
    * Get the current language.
    *
-   * @return \Drupal\Core\Language\LanguageInterface|null
+   * @return LanguageInterface|null
    *   The current language when available, else NULL.
    */
   public function getCurrentLanguage();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


11) modules/contrib/language_cookie/src/LanguageCookieConditionBase.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * The current language.
    *
-   * @var \Drupal\Core\Language\LanguageInterface
+   * @var LanguageInterface
    */
   protected $currentLanguage;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/language_cookie/src/Form/NegotiationLanguageCookieForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\language_cookie\Form;

+use Drupal\Core\Config\Config;
+use Drupal\language_cookie\LanguageCookieConditionInterface;
 use Drupal\Core\Executable\ExecutableManagerInterface;
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * The configuration.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $config;

@@ @@
   /**
    * The Language Cookie condition plugin manager.
    *
-   * @var \Drupal\Core\Executable\ExecutableManagerInterface
+   * @var ExecutableManagerInterface
    */
   protected $languageCookieConditionManager;

@@ @@
   /**
    * NegotiationLanguageCookieForm constructor.
    *
-   * @param \Drupal\Core\Executable\ExecutableManagerInterface $plugin_manager
+   * @param ExecutableManagerInterface $plugin_manager
    *   The plugin manager.
    */
   public function __construct(ExecutableManagerInterface $plugin_manager) {
@@ @@
   public function validateForm(array &$form, FormStateInterface $form_state) {
     parent::validateForm($form, $form_state);

-    /** @var \Drupal\language_cookie\LanguageCookieConditionInterface $condition */
+    /** @var LanguageCookieConditionInterface $condition */
     foreach ($form_state->get(['conditions']) as $condition) {
       $condition->validateConfigurationForm($form, $form_state);
     }
@@ @@
       ->set('http_only', $form_state->getValue('http_only'))
       ->set('set_on_every_pageload', $form_state->getValue('set_on_every_pageload'));

-    /** @var \Drupal\language_cookie\LanguageCookieConditionInterface $condition */
+    /** @var LanguageCookieConditionInterface $condition */
     foreach ($form_state->get(['conditions']) as $condition) {
       $condition->postConfigSave($this->config, $form, $form_state);
     }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/language_cookie/src/EventSubscriber/LanguageCookieSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\language_cookie\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\ResponseEvent;
+use Drupal\language_cookie\LanguageCookieConditionInterface;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Executable\ExecutableManagerInterface;
@@ @@
 use Drupal\language_cookie\Plugin\LanguageNegotiation\LanguageNegotiationCookie;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\Cookie;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;

 /**
@@ @@
   /**
    * The event.
    *
-   * @var \Symfony\Component\HttpKernel\Event\FilterResponseEvent
+   * @var ResponseEvent
    */
   protected $event;

@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The language negotiator.
    *
-   * @var \Drupal\language\LanguageNegotiatorInterface
+   * @var LanguageNegotiatorInterface
    */
   protected $languageNegotiator;

@@ @@
   /**
    * The Language Cookie condition plugin manager.
    *
-   * @var \Drupal\Core\Executable\ExecutableManagerInterface
+   * @var ExecutableManagerInterface
    */
   protected $languageCookieConditionManager;

@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The time service.
    *
-   * @var \Drupal\Component\Datetime\TimeInterface
+   * @var TimeInterface
    */
   protected $time;

@@ @@
   /**
    * Constructs a new class object.
    *
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
-   * @param \Drupal\language\LanguageNegotiatorInterface $language_negotiator
+   * @param LanguageNegotiatorInterface $language_negotiator
    *   The language negotiator.
-   * @param \Drupal\Core\Executable\ExecutableManagerInterface $plugin_manager
+   * @param ExecutableManagerInterface $plugin_manager
    *   The language cookie condition plugin manager.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The time service.
    */
   public function __construct(LanguageManagerInterface $language_manager, ConfigFactoryInterface $config_factory, LanguageNegotiatorInterface $language_negotiator, ExecutableManagerInterface $plugin_manager, ModuleHandlerInterface $module_handler, TimeInterface $time) {
@@ @@
    *
    * @see \Drupal\language_cookie\LanguageCookieSubscriber::setLanguageCookie()
    *
-   * @return \Drupal\Core\Language\LanguageInterface|null
+   * @return LanguageInterface|null
    *   An string with the language code or FALSE.
    */
   protected function getLanguage() {
@@ @@
   /**
    * Event callback for setting the language cookie.
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param ResponseEvent $event
    *   The response event.
    *
    * @return bool
@@ @@
    *   - TRUE if all conditions pass. If a language is available, the cookie
    *     will have been set.
    */
-  public function setLanguageCookie(FilterResponseEvent $event) {
+  public function setLanguageCookie(ResponseEvent $event) {
     $this->event = $event;
     $config = $this->configFactory->get('language_cookie.negotiation');

@@ @@
     // Run through the condition plugins that may prevent a cookie from being
     // set.
     foreach ($manager->getDefinitions() as $def) {
-      /** @var \Drupal\language_cookie\LanguageCookieConditionInterface $condition_plugin */
+      /** @var LanguageCookieConditionInterface $condition_plugin */
       $condition_plugin = $manager->createInstance($def['id'], $config->get());
       $condition_plugin->setCurrentLanguage($language);
       if (!$manager->execute($condition_plugin)) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


14) modules/contrib/language_cookie/src/Annotation/LanguageCookieCondition.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\language_cookie\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Core\Condition\Annotation\Condition;

 /**
@@ @@
   /**
    * The human-readable name of the language cookie condition plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * The description of the language cookie condition plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


15) modules/contrib/language_cookie/language_cookie.api.php:29

    ---------- begin diff ----------
@@ @@
 /**
  * Modify the langage cookie that is set by this module.
  *
- * @param \Symfony\Component\HttpFoundation\Cookie &$cookie
+ * @param Cookie $cookie
  *   The actual cookie, passed by reference.
  *
  * @see \Drupal\language_cookie\EventSubscriber\LanguageCookieSubscriber::setLanguageCookie()
@@ @@
  */
 function hook_language_cookie_alter(Cookie &$cookie) {
   $default_langcode = \Drupal::languageManager()->getCurrentLanguage()->getId();
-  $cookie = new Cookie('my_altered_language_cookie', $default_langcode);
+  $cookie = Cookie::create('my_altered_language_cookie', $default_langcode);
 }

 /**
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * NewToStaticCallRector


 [OK] 15 files have been changed by Rector                                      

