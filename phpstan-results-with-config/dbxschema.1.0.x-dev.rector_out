modules/contrib/dbxschema/dbxschema.module
modules/contrib/dbxschema/modules/dbxschema_mysql/dbxschema_mysql.install
modules/contrib/dbxschema/modules/dbxschema_mysql/dbxschema_mysql.module
modules/contrib/dbxschema/modules/dbxschema_mysql/src/Database/Connection.php
modules/contrib/dbxschema/modules/dbxschema_mysql/src/Database/DatabaseTool.php
modules/contrib/dbxschema/modules/dbxschema_mysql/src/Database/Schema.php
modules/contrib/dbxschema/modules/dbxschema_mysql/src/Plugin/CrossSchema/MySql.php
modules/contrib/dbxschema/modules/dbxschema_pgsql/dbxschema_pgsql.install
modules/contrib/dbxschema/modules/dbxschema_pgsql/dbxschema_pgsql.module
modules/contrib/dbxschema/modules/dbxschema_pgsql/src/Database/Connection.php
modules/contrib/dbxschema/modules/dbxschema_pgsql/src/Database/DatabaseTool.php
modules/contrib/dbxschema/modules/dbxschema_pgsql/src/Database/Schema.php
modules/contrib/dbxschema/modules/dbxschema_pgsql/src/Plugin/CrossSchema/PostgreSql.php
modules/contrib/dbxschema/src/Annotation/CrossSchema.php
modules/contrib/dbxschema/src/CrossSchemaPluginManager.php
modules/contrib/dbxschema/src/Database/ConnectionInterface.php
modules/contrib/dbxschema/src/Database/CrossSchemaConnectionInterface.php
modules/contrib/dbxschema/src/Database/CrossSchemaConnectionTrait.php
modules/contrib/dbxschema/src/Database/CrossSchemaSchemaInterface.php
modules/contrib/dbxschema/src/Database/CrossSchemaSchemaTrait.php
modules/contrib/dbxschema/src/Database/DatabaseTool.php
modules/contrib/dbxschema/src/Database/ProprietarySchemaInterface.php
modules/contrib/dbxschema/src/Database/ProprietarySchemaTrait.php
modules/contrib/dbxschema/src/Database/SchemaInterface.php
modules/contrib/dbxschema/src/Exception/ConnectionException.php
modules/contrib/dbxschema/src/Exception/CrossSchemaException.php
modules/contrib/dbxschema/src/Exception/DatabaseToolException.php
modules/contrib/dbxschema/src/Exception/SchemaException.php
modules/contrib/dbxschema/src/Plugin/CrossSchemaBase.php
modules/contrib/dbxschema/src/Plugin/CrossSchemaInterface.php

13 files with changes
=====================

1) modules/contrib/dbxschema/src/Database/DatabaseTool.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema\Database;

+use Drupal\dbxschema\Plugin\CrossSchemaInterface;
+use Drupal\Core\Database\DatabaseExceptionWrapper;
 use Drupal\Core\Database\Connection;
 use Drupal\Core\Database\Database;
 use Drupal\dbxschema\Exception\DatabaseToolException;
@@ @@
   /**
    * Instance driver that should be set by the constructor.
    *
-   * @var \Drupal\dbxschema\Plugin\CrossSchemaInterface
+   * @var CrossSchemaInterface
    */
   protected $driver;

@@ @@
    * @param bool $reset_cache
    *   If TRUE, local driver cache is ignored and refreshed.
    *
-   * @return \Drupal\dbxschema\Plugin\CrossSchemaInterface
+   * @return CrossSchemaInterface
    *  A plugin implementation for the given driver.
    *
-   * @throws \Drupal\dbxschema\Exception\DatabaseToolException
+   * @throws DatabaseToolException
    *   If no implementation is available for the given driver.
    */
   public static function getDriverImplementation(
@@ @@
    * @return \Drupal\dbxschema\Database\DatabaseTool
    *  A database tool implementation for the given driver.
    *
-   * @throws \Drupal\dbxschema\Exception\DatabaseToolException
+   * @throws DatabaseToolException
    *   If no implementation is available for the given driver.
    */
   public static function getDatabaseTool(
@@ @@
    *   Default: '' (no schema). It will throw exceptions on methods needing a
    *   default schema but may work on others or when a schema can be passed
    *   as parameter.
-   * @param \Drupal\Core\Database\Connection|string $database
+   * @param Connection|string $database
    *   Either a \Drupal\Core\Database\Connection instance or a
    *   Drupal database key string (from current site's settings.php).
    *   Extra databases specified in settings.php do not need to specify a
@@ @@
    * @return \Drupal\dbxschema\Database\CrossSchemaConnection
    *  A cross-schema connection implementation for the given driver.
    *
-   * @throws \Drupal\dbxschema\Exception\DatabaseToolException
+   * @throws DatabaseToolException
    *   If no implementation is available for the given driver.
    */
   public static function getConnection(
@@ @@
    *   The description of the reservation that may be displayed to users when a
    *   schema name is denied.
    *
-   * @throws \Drupal\dbxschema\Exception\DatabaseToolException
+   * @throws DatabaseToolException
    *   if the pattern is empty or does not contain any valid schema name
    *   character.
    */
@@ @@
    *
    * @param string $schema_name
    *   Schema name.
-   * @param \Drupal\dbxschema\Database\CrossSchemaConnectionInterface $db
+   * @param CrossSchemaConnectionInterface $db
    *   A database connection object.
    *   If NULL, current Drupal database is used.
    *
@@ @@
    *
    * @param string $schema_name
    *   Name of schema to create.
-   * @param \Drupal\dbxschema\Database\CrossSchemaConnectionInterface $db
+   * @param CrossSchemaConnectionInterface $db
    *   A database connection object.
    *   If NULL, current Drupal database is used.
    *
-   * @throws \Drupal\Core\Database\DatabaseExceptionWrapper
+   * @throws DatabaseExceptionWrapper
    */
   abstract public function createSchema(
     string $schema_name,
@@ @@
    * @param string $target_schema
    *   Destination schema that will be created and filled with a copy of
    *   $source_schema.
-   * @param \Drupal\dbxschema\Database\CrossSchemaConnectionInterface $db
+   * @param CrossSchemaConnectionInterface $db
    *   A cross database connection object.
    *   If NULL, current Drupal database is used.
    *
-   * @throws \Drupal\Core\Database\DatabaseExceptionWrapper
+   * @throws DatabaseExceptionWrapper
    */
   abstract public function cloneSchema(
     string $source_schema,
@@ @@
    *   The old schema name to rename.
    * @param string $new_schema_name
    *   New name to use.
-   * @param \Drupal\dbxschema\Database\CrossSchemaConnectionInterface $db
+   * @param CrossSchemaConnectionInterface $db
    *   A cross database connection object.
    *   If NULL, current Drupal database is used.
    *
-   * @throws \Drupal\Core\Database\DatabaseExceptionWrapper
+   * @throws DatabaseExceptionWrapper
    */
   abstract public function renameSchema(
     string $old_schema_name,
@@ @@
    *   Name of schema to remove.
    * @param string $schema_name
    *   Schema name.
-   * @param \Drupal\dbxschema\Database\CrossSchemaConnectionInterface $db
+   * @param CrossSchemaConnectionInterface $db
    *   A cross database connection object.
    *   If NULL, current Drupal database is used.
    *
-   * @throws \Drupal\Core\Database\DatabaseExceptionWrapper
+   * @throws DatabaseExceptionWrapper
    */
   abstract public function dropSchema(
     string $schema_name,
@@ @@
    *
    * @param string $schema_name
    *   Schema name.
-   * @param \Drupal\dbxschema\Database\CrossSchemaConnectionInterface $db
+   * @param CrossSchemaConnectionInterface $db
    *   A cross database connection object.
    *   If NULL, current Drupal database is used.
    *
@@ @@
    * @return integer
    *   The size in bytes of the schema or 0 if the size is not available.
    *
-   * @throws \Drupal\dbxschema\Exception\DatabaseToolException
+   * @throws DatabaseToolException
    */
   abstract public function getSchemaSize(
     string $schema_name,
@@ @@
    *   $db_size = $db_tool->getDatabaseSize();
    * @endcode
    *
-   * @param \Drupal\dbxschema\Database\CrossSchemaConnectionInterface $db
+   * @param CrossSchemaConnectionInterface $db
    *   A cross database connection object.
    *
    * @return int
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/dbxschema/src/Database/CrossSchemaSchemaTrait.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * Database tool.
    *
-   * @var \Drupal\dbxschema\Database\DatabaseTool
+   * @var DatabaseTool
    */
   protected $dbTool = NULL;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/dbxschema/src/Database/CrossSchemaSchemaInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema\Database;

+use Drupal\Core\Database\DatabaseExceptionWrapper;
+use Drupal\dbxschema\Exception\CrossSchemaException;
 use Drupal\dbxschema\Plugin\CrossSchemaInterface;

 /**
@@ @@
    * The schema to create must not exist. If an error occurs, an exception
    * is thrown.
    *
-   * @throws \Drupal\Core\Database\DatabaseExceptionWrapper
+   * @throws DatabaseExceptionWrapper
    */
   public function createSchema() :void;

@@ @@
    * @param string $new_schema_name
    *   New name to use.
    *
-   * @throws \Drupal\Core\Database\DatabaseExceptionWrapper
-   * @throws \Drupal\dbxschema\Exception\CrossSchemaException
+   * @throws DatabaseExceptionWrapper
+   * @throws CrossSchemaException
    *   if there is no current schema name.
    */
   public function renameSchema(
@@ @@
    * The schema to remove must exist. If an error occurs, an exception is
    * thrown.
    *
-   * @throws \Drupal\Core\Database\DatabaseExceptionWrapper
+   * @throws DatabaseExceptionWrapper
    */
   public function dropSchema() :void;

@@ @@
    *   An array with details for the current schema version as defined by
    *   $parameters values.
    *
-   * @throws \Drupal\dbxschema\Exception\CrossSchemaException
+   * @throws CrossSchemaException
    */
   public function getSchemaDef(array $parameters) :array;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


4) modules/contrib/dbxschema/src/Database/CrossSchemaConnectionTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema\Database;

+use Drupal\Core\Database\Connection;
+use Psr\Log\LoggerInterface;
 use Drupal\dbxschema\Plugin\CrossSchemaInterface;
 use Drupal\dbxschema\Exception\ConnectionException;
 use Drupal\dbxschema\Database\DatabaseTool;
@@ @@
   /**
    * Instance driver that should be set by the constructor.
    *
-   * @var \Drupal\dbxschema\Plugin\CrossSchemaInterface
+   * @var CrossSchemaInterface
    */
   protected $driver;

@@ @@
    * @var array
    */
   protected $self_classes = [
-    \Drupal\Core\Database\Connection::class => TRUE,
+    Connection::class => TRUE,
   ];

   /**
    * Database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $database = NULL;

@@ @@
   public static function create(
     string $schema_name = '',
     $database = 'default',
-    ?\Psr\Log\LoggerInterface $logger = NULL,
+    ?LoggerInterface $logger = NULL,
     ?CrossSchemaInterface $driver = NULL
   ) {
     return new static($schema_name, $database, $logger, $driver);
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function getMessageLogger() :\Psr\Log\LoggerInterface {
+  public function getMessageLogger() :LoggerInterface {
     return $this->messageLogger;
   }

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setMessageLogger(\Psr\Log\LoggerInterface $logger) :void {
+  public function setMessageLogger(LoggerInterface $logger) :void {
     $this->messageLogger = $logger;
   }

@@ @@
    * @return string
    *   $schema_name if set and valid, or the current schema name.
    *
-   * @throws \Drupal\dbxschema\Exception\ConnectionException
+   * @throws ConnectionException
    *  If the given schema name is invalid (ignoring schema name reservations)
    *  or none of $schema_name and $this->schemaName are set.
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


5) modules/contrib/dbxschema/src/Database/CrossSchemaConnectionInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema\Database;

+use Drupal\Core\Database\Driver\pgsql\Connection;
+use Psr\Log\LoggerInterface;
+use Drupal\dbxschema\Exception\ConnectionException;
+use Drupal\Core\Database\ConnectionNotDefinedException;
+use Drupal\Core\Database\Schema;
 use Drupal\dbxschema\Plugin\CrossSchemaInterface;
 use Drupal\dbxschema\Database\DatabaseTool;

@@ @@
    *   Default: '' (no schema). It will throw exceptions on methods needing a
    *   default schema but may work on others or when a schema is not needed or
    *   it can be passed as a parameter.
-   * @param \Drupal\Core\Database\Driver\pgsql\Connection|string $database
+   * @param Connection|string $database
    *   Either a \Drupal\Core\Database\Connection instance or a
    *   Drupal database key string (from current site's settings.php).
    *   Extra databases specified in settings.php do not need to specify a
@@ @@
    *   this connection class instance.
    *   To be more precise, this parameter is here just to provide the database
    *   credentials to use.
-   * @param ?\Psr\Log\LoggerInterface $logger
+   * @param ?LoggerInterface $logger
    *   A logger in case of events to log.
-   * @param ?\Drupal\dbxschema\Plugin\CrossSchemaInterface $driver
+   * @param ?CrossSchemaInterface $driver
    *   The driver to use.
    *
-   * @throws \Drupal\dbxschema\Exception\ConnectionException
-   * @throws \Drupal\Core\Database\ConnectionNotDefinedException
+   * @throws ConnectionException
+   * @throws ConnectionNotDefinedException
    *
    * @see https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Database!Database.php/function/Database%3A%3AgetConnection/9.0.x
    * @see https://api.drupal.org/api/drupal/sites%21default%21default.settings.php/9.0.x
@@ @@
   public static function create(
     string $schema_name = '',
     $database = 'default',
-    ?\Psr\Log\LoggerInterface $logger = NULL,
+    ?LoggerInterface $logger = NULL,
     ?CrossSchemaInterface $driver = NULL
   );

@@ @@
   /**
    * Returns database tool member.
    *
-   * @return \Drupal\dbxschema\Database\DatabaseTool
+   * @return DatabaseTool
    *   Database tool member.
    */
   public function getDatabaseTool() :DatabaseTool;
@@ @@
   /**
    * Returns current message logger.
    *
-   * @return \Psr\Log\LoggerInterface
+   * @return LoggerInterface
    *   A message logger.
    */
-  public function getMessageLogger() :\Psr\Log\LoggerInterface;
+  public function getMessageLogger() :LoggerInterface;

   /**
    * Sets current message logger.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   A message logger.
    */
-  public function setMessageLogger(\Psr\Log\LoggerInterface $logger) :void;
+  public function setMessageLogger(LoggerInterface $logger) :void;

   /**
    * (override) Returns a Schema object for manipulating the schema.
@@ @@
    * schema changes for this connection. The Schema object is automatically
    * updated on changes.
    *
-   * @return \Drupal\Core\Database\Schema
+   * @return Schema
    *   The database Schema object for this connection.
    */
   public function schema();
@@ @@
    * @param string $schema_name
    *   The schema name to use.
    *
-   * @throws \Drupal\dbxschema\Exception\ConnectionException
+   * @throws ConnectionException
    */
   public function setSchemaName(string $schema_name) :void;

@@ @@
    *   replaced by the returned integer and table_name should be an actual table
    *   name).
    *
-   * @throws \Drupal\dbxschema\Exception\ConnectionException
+   * @throws ConnectionException
    *   If the given schema name is invalid or does not exist in current
    *   database or there is no current schema.
    */
@@ @@
    *   associated schema set already.
    *   Default: 2.
    *
-   * @throws \Drupal\dbxschema\Exception\ConnectionException
+   * @throws ConnectionException
    *   If the given schema name is invalid or does not exist in current
    *   database or there is no current schema or a lower index has not
    *   associated schema or the index is invalid.
@@ @@
   /**
    * Sets the driver for this connection object.
    *
-   * @param \Drupal\dbxschema\Plugin\CrossSchemaInterface $driver
+   * @param CrossSchemaInterface $driver
    *   A cross-schema query driver.
    */
   public function setDriver(CrossSchemaInterface $driver);
@@ @@
   /**
    * Returns the driver used by this connection object.
    *
-   * @return \Drupal\dbxschema\Plugin\CrossSchemaInterface
+   * @return CrossSchemaInterface
    *   Current driver.
    */
   public function getDriver() :CrossSchemaInterface;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


6) modules/contrib/dbxschema/src/CrossSchemaPluginManager.php:18

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/dbxschema/src/Annotation/CrossSchema.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
    * This describes how the driver implementation handles different aspects of
    * the corss-schema query system.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


8) modules/contrib/dbxschema/modules/dbxschema_pgsql/src/Database/Schema.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema_pgsql\Database;

+use Drupal\dbxschema\Database\CrossSchemaSchemaTrait;
 use Drupal\Core\Database\Driver\pgsql\Schema as PgSchema;
 use Drupal\dbxschema\Database\CrossSchemaSchemaInterface;
 use Drupal\dbxschema\Exception\SchemaException;
@@ @@
  * @see https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Database%21Schema.php/class/Schema/9.0.x
  */
 class Schema extends PgSchema implements CrossSchemaSchemaInterface {
-  use \Drupal\dbxschema\Database\CrossSchemaSchemaTrait;
+  use CrossSchemaSchemaTrait;

   /**
    * (override) Default schema name.
@@ @@
    * @throws \Drupal\dbxschema_pgsql\Exception\SchemaException
    */
   public function __construct(
-    \Drupal\dbxschema_pgsql\Database\Connection $connection
+    Connection $connection
   ) {
     $schema_name = $connection->getSchemaName();
     // Get a DatabaseTool object.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/dbxschema/modules/dbxschema_pgsql/src/Database/Connection.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema_pgsql\Database;

+use Drupal\dbxschema\Database\CrossSchemaConnectionTrait;
+use Drupal\Core\Database\Database;
+use Psr\Log\LoggerInterface;
+use Drupal\Core\Database\ConnectionNotDefinedException;
+use Drupal\Core\Database\Schema;
 use Drupal\Core\Database\Driver\pgsql\Connection as PgConnection;
 use Drupal\dbxschema\Database\CrossSchemaConnectionInterface;
 use Drupal\dbxschema\Exception\ConnectionException;
@@ @@
  * @see https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Database%21Connection.php/class/Connection/9.0.x
  */
 class Connection extends PgConnection implements CrossSchemaConnectionInterface {
-  use \Drupal\dbxschema\Database\CrossSchemaConnectionTrait {
+  use CrossSchemaConnectionTrait {
     setSchemaName as private setSchemaNameTrait;
   }

@@ @@
   ) {
     // We call this method in a context of an existing connection already
     // used by Drupal so we can avoid a couple of tests and assume it works.
-    $database_info = \Drupal\Core\Database\Database::getAllConnectionInfo();
+    $database_info = Database::getAllConnectionInfo();
     $target = $database->target;
     $key = $database->key;

@@ @@
    *   Extra databases specified in settings.php do not need to specify a
    *   schema name as a database prefix parameter. The prefix will be managed by
    *   this connection class instance.
-   * @param ?\Psr\Log\LoggerInterface $logger
+   * @param ?LoggerInterface $logger
    *   A logger in case of operations to log.
    * @param ?\Drupal\dbxschema\Plugin\CrossSchemaInterface $driver
    *   The driver to use.
    *
-   * @throws \Drupal\dbxschema\Exception\ConnectionException
-   * @throws \Drupal\Core\Database\ConnectionNotDefinedException
+   * @throws ConnectionException
+   * @throws ConnectionNotDefinedException
    *
    * @see https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Database!Database.php/function/Database%3A%3AgetConnection/9.0.x
    * @see https://api.drupal.org/api/drupal/sites%21default%21default.settings.php/9.0.x
@@ @@
   public function __construct(
     string $schema_name = '',
     $database = 'default',
-    ?\Psr\Log\LoggerInterface $logger = NULL,
+    ?LoggerInterface $logger = NULL,
     ?CrossSchemaInterface $driver = NULL
   ) {
     // Check a key was provided instead of a connection object.
@@ @@
       }
       // Get the corresponding connection object.
       $this->dbKey = $database;
-      $database = \Drupal\Core\Database\Database::getConnection(
+      $database = Database::getConnection(
         'default',
         $database
       );
@@ @@
     $this->setSchemaName($schema_name);

     // Register default classes to use this instance's schema as default.
-    $this->useCrossSchemaFor(\Drupal\Core\Database\Schema::class);
+    $this->useCrossSchemaFor(Schema::class);
     $this->useCrossSchemaFor(\Drupal\Core\Database\Driver\pgsql\Schema::class);
     $this->useCrossSchemaFor(\Drupal\dbxschema_pgsql\Database\Schema::class);
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/dbxschema/modules/dbxschema_pgsql/dbxschema_pgsql.install:0

    ---------- begin diff ----------
@@ @@
 <?php
+use Drupal\dbxschema_pgsql\Database\DatabaseTool;
 /**
  * @file
  * Contains functions used to install/uninstall dbxschema_pgsql.
@@ @@
     $config = \Drupal::service('config.factory')
       ->getEditable('dbxschema.settings')
     ;
-    $db_tool = new \Drupal\dbxschema_pgsql\Database\DatabaseTool();
+    $db_tool = new DatabaseTool();
     $drupal_schema = $db_tool->getDrupalSchemaName();
     $reserved_schema_patterns = $config->get('reserved_schema_patterns') ?? [];
     $reserved_schema_patterns[$drupal_schema] = 'Drupal installation';
@@ @@
   $logger = \Drupal::service('dbxschema.logger');
   
   $sql_cloner_path =
-    drupal_get_path('module', 'dbxschema_pgsql')
+    \Drupal::service('extension.list.module')->getPath('dbxschema_pgsql')
     . '/pg-clone-schema/clone_schema.sql'
   ;

@@ @@
 function dbxschema_pgsql_uninstall_cloner() {
   $logger = \Drupal::service('dbxschema.logger');
   $sql_uninstall_cloner_path =
-    drupal_get_path('module', 'dbxschema_pgsql')
+    \Drupal::service('extension.list.module')->getPath('dbxschema_pgsql')
     . '/pg-clone-schema/clone_schema_uninstall.sql'
   ;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


11) modules/contrib/dbxschema/modules/dbxschema_mysql/src/Database/Schema.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema_mysql\Database;

+use Drupal\dbxschema\Database\CrossSchemaSchemaTrait;
 use Drupal\Core\Database\Driver\mysql\Schema as MySchema;
 use Drupal\dbxschema\Database\CrossSchemaSchemaInterface;
 use Drupal\dbxschema\Exception\SchemaException;
@@ @@
  * @see https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Database%21Schema.php/class/Schema/9.0.x
  */
 class Schema extends MySchema implements CrossSchemaSchemaInterface {
-  use \Drupal\dbxschema\Database\CrossSchemaSchemaTrait;
+  use CrossSchemaSchemaTrait;

   /**
    * (override) Default schema name.
@@ @@
    * @throws \Drupal\dbxschema_mysql\Exception\SchemaException
    */
   public function __construct(
-    \Drupal\dbxschema_mysql\Database\Connection $connection
+    Connection $connection
   ) {
     $schema_name = $connection->getSchemaName();
     // Get a DatabaseTool object.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/dbxschema/modules/dbxschema_mysql/src/Database/Connection.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\dbxschema_mysql\Database;

+use Drupal\dbxschema\Database\CrossSchemaConnectionTrait;
+use Psr\Log\LoggerInterface;
+use Drupal\Core\Database\ConnectionNotDefinedException;
+use Drupal\Core\Database\Database;
+use Drupal\Core\Database\Schema;
 use Drupal\Core\Database\Driver\mysql\Connection as MyConnection;
 use Drupal\dbxschema\Database\CrossSchemaConnectionInterface;
 use Drupal\dbxschema\Exception\ConnectionException;
@@ @@
  * @see https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Database%21Connection.php/class/Connection/9.0.x
  */
 class Connection extends MyConnection implements CrossSchemaConnectionInterface {
-  use \Drupal\dbxschema\Database\CrossSchemaConnectionTrait {
+  use CrossSchemaConnectionTrait {
     setSchemaName as private setSchemaNameTrait;
   }

@@ @@
    *   Extra databases specified in settings.php do not need to specify a
    *   schema name as a database prefix parameter. The prefix will be managed by
    *   this connection class instance.
-   * @param ?\Psr\Log\LoggerInterface $logger
+   * @param ?LoggerInterface $logger
    *   A logger in case of operations to log.
    * @param ?\Drupal\dbxschema\Plugin\CrossSchemaInterface $driver
    *   The driver to use.
    *
-   * @throws \Drupal\dbxschema\Exception\ConnectionException
-   * @throws \Drupal\Core\Database\ConnectionNotDefinedException
+   * @throws ConnectionException
+   * @throws ConnectionNotDefinedException
    *
    * @see https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Database!Database.php/function/Database%3A%3AgetConnection/9.0.x
    * @see https://api.drupal.org/api/drupal/sites%21default%21default.settings.php/9.0.x
@@ @@
   public function __construct(
     string $schema_name = '',
     $database = 'default',
-    ?\Psr\Log\LoggerInterface $logger = NULL,
+    ?LoggerInterface $logger = NULL,
     ?CrossSchemaInterface $driver = NULL
   ) {
     // Check a key was provided instead of a connection object.
@@ @@
       }
       // Get the corresponding connection object.
       $this->dbKey = $database;
-      $database = \Drupal\Core\Database\Database::getConnection(
+      $database = Database::getConnection(
         'default',
         $database
       );
@@ @@
     $this->setSchemaName($schema_name);

     // Register default classes to use this instance's schema as default.
-    $this->useCrossSchemaFor(\Drupal\Core\Database\Schema::class);
+    $this->useCrossSchemaFor(Schema::class);
     $this->useCrossSchemaFor(\Drupal\mysql\Driver\Database\mysql\Schema::class);
     $this->useCrossSchemaFor(\Drupal\Core\Database\Driver\mysql\Schema::class);
     $this->useCrossSchemaFor(\Drupal\dbxschema_mysql\Database\Schema::class);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/dbxschema/modules/dbxschema_mysql/dbxschema_mysql.install:0

    ---------- begin diff ----------
@@ @@
 <?php
+
+use Drupal\dbxschema_mysql\Database\DatabaseTool;
 /**
  * @file
  * Contains functions used to install/uninstall dbxschema_mysql.
  */
-
 /**
  * Implements hook_install().
  */
@@ @@
     $config = \Drupal::service('config.factory')
       ->getEditable('dbxschema.settings')
     ;
-    $db_tool = new \Drupal\dbxschema_mysql\Database\DatabaseTool();
+    $db_tool = new DatabaseTool();
     $drupal_schema = $db_tool->getDrupalSchemaName();
     $reserved_schema_patterns = $config->get('reserved_schema_patterns') ?? [];
     $reserved_schema_patterns[$drupal_schema] = 'Drupal installation';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 13 files have been changed by Rector                                      

