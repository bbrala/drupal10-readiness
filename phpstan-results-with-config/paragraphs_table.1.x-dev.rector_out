modules/contrib/paragraphs_table/paragraphs_table.module
modules/contrib/paragraphs_table/src/Controller/AjaxController.php
modules/contrib/paragraphs_table/src/Controller/ParagraphsItemController.php
modules/contrib/paragraphs_table/src/Form/ParagraphAddForm.php
modules/contrib/paragraphs_table/src/Form/ParagraphCloneForm.php
modules/contrib/paragraphs_table/src/Form/ParagraphDeleteForm.php
modules/contrib/paragraphs_table/src/Form/ParagraphEditForm.php
modules/contrib/paragraphs_table/src/Plugin/Field/FieldFormatter/ParagraphsTableFormatter.php
modules/contrib/paragraphs_table/src/Plugin/Field/FieldWidget/ParagraphsTableWidget.php

8 files with changes
====================

1) modules/contrib/paragraphs_table/src/Plugin/Field/FieldWidget/ParagraphsTableWidget.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\paragraphs_table\Plugin\Field\FieldWidget;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\paragraphs\ParagraphInterface;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\field\FieldConfigInterface;
@@ @@
   /**
    * For multiple elements.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function formMultipleElements(FieldItemListInterface $items, array &$form, FormStateInterface $form_state) {
     $elements = parent::formMultipleElements($items, $form, $form_state);
@@ @@
     $components = $formDisplay->getComponents();
     uasort($components, 'Drupal\Component\Utility\SortArray::sortByWeightElement');

-    /** @var \Drupal\paragraphs\ParagraphInterface $paragraphs_entity */
+    /** @var ParagraphInterface $paragraphs_entity */
     $paragraphs_entity = \Drupal::entityTypeManager()->getStorage($target_type)
       ->create(['type' => $default_type]);
     $field_definitions = $paragraphs_entity->getFieldDefinitions();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/paragraphs_table/src/Plugin/Field/FieldFormatter/ParagraphsTableFormatter.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\paragraphs_table\Plugin\Field\FieldFormatter;

+use Drupal\paragraphs\ParagraphInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Component\Serialization\Json;
 use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\Core\Field\FieldDefinitionInterface;
@@ @@
   /**
    * The entity display repository.
    *
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   protected $entityDisplayRepository;

@@ @@
    *   The plugin_id for the formatter.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the formatter is associated.
    * @param array $settings
    *   The formatter settings.
@@ @@
    *   The view mode.
    * @param array $third_party_settings
    *   Any third party settings.
-   * @param \Drupal\Core\Entity\EntityDisplayRepositoryInterface $entity_display_repository
+   * @param EntityDisplayRepositoryInterface $entity_display_repository
    *   The entity display repository.
    */
   public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, $label, $view_mode, array $third_party_settings, EntityDisplayRepositoryInterface $entity_display_repository) {
@@ @@
     }
     foreach ($handler["target_bundles"] as $targetBundle) {
       $table = $table_header = $fields = [];
-      /** @var \Drupal\paragraphs\ParagraphInterface $paragraphs_entity */
+      /** @var ParagraphInterface $paragraphs_entity */
       $paragraphs_entity = \Drupal::entityTypeManager()->getStorage($targetType)
         ->create(['type' => $targetBundle]);
       $field_definitions = $paragraphs_entity->getFieldDefinitions();
@@ @@
   /**
    * Generate the output appropriate for one field item.
    *
-   * @param \Drupal\Core\Field\FieldItemInterface $item
+   * @param FieldItemInterface $item
    *   One field item.
    *
    * @return string
@@ @@
   /**
    * Get the entities which will make up the table.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $items
+   * @param FieldItemListInterface $items
    *   The field items.
    *
    * @return array
    *   An array of loaded entities.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   protected function getEntities(FieldItemListInterface $items) {
     $entity_type = $this->fieldDefinition->getFieldStorageDefinition()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/paragraphs_table/src/Form/ParagraphEditForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\paragraphs_table\Form;

+use Drupal\Core\Entity\EntityStorageException;
 use Drupal\Core\Entity\ContentEntityForm;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Language\LanguageInterface;
@@ @@
   /**
    * {@inheritdoc}
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public function save(array $form, FormStateInterface $form_state) {
     return $this->entity->save();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/paragraphs_table/src/Form/ParagraphDeleteForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\paragraphs_table\Form;

+use Drupal\entity_reference_revisions\Plugin\Field\FieldType\EntityReferenceRevisionsItem;
 use Drupal\Core\Entity\ContentEntityDeleteForm;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Entity\EntityInterface;
@@ @@
   /**
    * Gets the field the paragraph is referenced from.
    *
-   * @param \Drupal\paragraphs\ParagraphInterface $paragraph
+   * @param ParagraphInterface $paragraph
    *   Paragraph data.
    *
-   * @return \Drupal\entity_reference_revisions\EntityReferenceRevisionsFieldItemList|null
+   * @return EntityReferenceRevisionsFieldItemList|null
    *   Parent field.
    */
   public function getParentField(ParagraphInterface $paragraph) {
@@ @@
   /**
    * Finds the field item the paragraph is referenced from.
    *
-   * @param \Drupal\paragraphs\ParagraphInterface $paragraph
+   * @param ParagraphInterface $paragraph
    *   Paragraph data.
-   * @param \Drupal\entity_reference_revisions\EntityReferenceRevisionsFieldItemList $field
+   * @param EntityReferenceRevisionsFieldItemList $field
    *   Field item.
    *
-   * @return \Drupal\entity_reference_revisions\Plugin\Field\FieldType\EntityReferenceRevisionsItem|null
+   * @return EntityReferenceRevisionsItem|null
    *   Referenced field item.
    */
   protected function findParentFieldItem(ParagraphInterface $paragraph, EntityReferenceRevisionsFieldItemList $field) {
@@ @@
   /**
    * Checks if a given entity should be saved as a new revision by default.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity to check for default new revision.
    *
    * @return bool
@@ @@
   /**
    * Saves all of given entity's lineage as new revisions.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The entity whose lineage to save as new revisions.
    *
    * @return int
@@ @@
   /**
    * Saves an entity as a new revision.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   The entity to save.
    *
    * @return int
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/paragraphs_table/src/Form/ParagraphCloneForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\paragraphs_table\Form;

+use Drupal\paragraphs\ParagraphInterface;
+use Drupal\Core\Entity\FieldableEntityInterface;
 use Drupal\Core\Entity\ContentEntityForm;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Url;
@@ @@
   /**
    * The entity being cloned by this form.
    *
-   * @var \Drupal\paragraphs\ParagraphInterface
+   * @var ParagraphInterface
    */
   protected $originalEntity;

@@ @@
     $destination_entity_id = $form_state->getValue(['parent']);
     $destination_field = $form_state->getValue(['field']);
     if ($destination_entity_id && $destination_field) {
-      /** @var \Drupal\Core\Entity\FieldableEntityInterface $destination_entity */
+      /** @var FieldableEntityInterface $destination_entity */
       $destination_entity = $this->entityTypeManager->getStorage($destination_entity_type)->load($destination_entity_id);
       if ($destination_entity) {
         if (!$destination_entity->access('update')) {
@@ @@
     $destination_entity_type = $form_state->getValue(['entity_type']);
     $destination_entity_id = $form_state->getValue(['parent']);
     $destination_field = $form_state->getValue(['field']);
-    /** @var \Drupal\Core\Entity\FieldableEntityInterface $destination_entity */
+    /** @var FieldableEntityInterface $destination_entity */
     $destination_entity = $this->entityTypeManager->getStorage($destination_entity_type)->load($destination_entity_id);
     $destination_entity->get($destination_field)->appendItem($this->entity);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/paragraphs_table/src/Form/ParagraphAddForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\paragraphs_table\Form;

+use Drupal\paragraphs\ParagraphInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Core\StringTranslation\TranslatableMarkup;
+use Symfony\Component\Validator\ConstraintViolationInterface;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Entity\ContentEntityForm;
@@ @@
   /**
    * The paragraph.
    *
-   * @var \Drupal\paragraphs\Entity\Paragraph
+   * @var Paragraph
    */
   protected $entity;

@@ @@
   /**
    * The entity being cloned by this form.
    *
-   * @var \Drupal\paragraphs\ParagraphInterface
+   * @var ParagraphInterface
    */
   protected $originalEntity;

@@ @@
    *
    * @param array $form
    *   The form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The layout paragraphs layout object.
-   * @param \Drupal\paragraphs\Entity\Paragraph $paragraph
+   * @param Paragraph $paragraph
    *   The paragraph entity.
    * @param string $host_type
    *   The entity type.
@@ @@
    * @return array
    *   Return form.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function buildForm(
     array $form,
@@ @@
   /**
    * Create the form title.
    *
-   * @return \Drupal\Core\StringTranslation\TranslatableMarkup
+   * @return TranslatableMarkup
    *   The form title.
    */
   protected function formTitle() {
@@ @@
    *
    * @param array $form
    *   The form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state object.
    * @param bool $formatTable
    *   Display form with table format.
@@ @@
    *
    * @param array $form
    *   The form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state object.
    */
   public function validateForm(array &$form, FormStateInterface $form_state) {
@@ @@
     $paragraph->setValidationRequired(FALSE);
     // Flag entity level violations.
     foreach ($violations->getEntityViolations() as $violation) {
-      /** @var \Symfony\Component\Validator\ConstraintViolationInterface $violation */
+      /** @var ConstraintViolationInterface $violation */
       $form_state->setErrorByName('', $violation->getMessage());
     }
     $form['#display']->flagWidgetsErrorsFromViolations($violations, $form, $form_state);
@@ @@
    *
    * @param array $form
    *   The form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state object.
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   The form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state object.
    *
-   * @return \Drupal\paragraphs\Entity\Paragraph
+   * @return Paragraph
    *   The paragraph entity.
    */
   public function buildParagraphComponent(array $form, FormStateInterface $form_state) {
-    /** @var Drupal\Core\Entity\Entity\EntityFormDisplay $display */
+    /** @var EntityFormDisplay $display */
     $display = $form['#display'];

     $paragraph = clone $this->entity;
@@ @@
   /**
    * Creates a new, empty paragraph empty of the provided type.
    *
-   * @param \Drupal\paragraphs\ParagraphsTypeInterface $paragraph_type
+   * @param ParagraphsTypeInterface $paragraph_type
    *   The paragraph type.
    *
-   * @return \Drupal\paragraphs\ParagraphInterface
+   * @return ParagraphInterface
    *   The new paragraph.
    */
   protected function newParagraph(ParagraphsTypeInterface $paragraph_type) {
@@ @@
     $entityTypeManager = \Drupal::entityTypeManager();
     $entity_type = $entityTypeManager->getDefinition('paragraph');
     $bundle_key = $entity_type->getKey('bundle');
-    /** @var \Drupal\paragraphs\ParagraphInterface $paragraph_entity */
+    /** @var ParagraphInterface $paragraph_entity */
     $paragraph = $entityTypeManager->getStorage('paragraph')
       ->create([$bundle_key => $paragraph_type->id()]);
     return $paragraph;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/paragraphs_table/src/Controller/ParagraphsItemController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\paragraphs_table\Controller;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\paragraphs\ParagraphInterface;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Ajax\AjaxHelperTrait;
 use Drupal\Core\Ajax\AjaxResponse;
@@ @@
   /**
    * Provides the paragraphs item submission form.
    *
-   * @param \Drupal\paragraphs\Entity\ParagraphsType $paragraph_type
+   * @param ParagraphsType $paragraph_type
    *   The paragraphs entity for the paragraph item.
    * @param string $entity_type
    *   The type of the entity hosting the paragraph item.
@@ @@
    * @return array
    *   A paragraph item submission form.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function add(ParagraphsType $paragraph_type, $entity_type, $entity_field, $entity_id) {
     $paragraph = $this->newParagraph($paragraph_type);
@@ @@
   /**
    * Creates a new, empty paragraph empty of the provided type.
    *
-   * @param \Drupal\paragraphs\ParagraphsTypeInterface $paragraph_type
+   * @param ParagraphsTypeInterface $paragraph_type
    *   The paragraph type.
    *
-   * @return \Drupal\paragraphs\ParagraphInterface
+   * @return ParagraphInterface
    *   The new paragraph.
    */
   protected function newParagraph(ParagraphsTypeInterface $paragraph_type) {
@@ @@
     $entityTypeManager = \Drupal::entityTypeManager();
     $entity_type = $entityTypeManager->getDefinition('paragraph');
     $bundle_key = $entity_type->getKey('bundle');
-    /** @var \Drupal\paragraphs\ParagraphInterface $paragraph_entity */
+    /** @var ParagraphInterface $paragraph_entity */
     $paragraph = $entityTypeManager->getStorage('paragraph')
       ->create([$bundle_key => $paragraph_type->id()]);
     return $paragraph;
@@ @@
   /**
    * The _title_callback for the paragraphs_item.add route.
    *
-   * @param \Drupal\paragraphs\Entity\ParagraphsType $paragraph_type
+   * @param ParagraphsType $paragraph_type
    *   The current paragraphs_type.
    *
    * @return string
@@ @@
   /**
    * Displays a paragraphs item.
    *
-   * @param \Drupal\paragraphs\Entity\Paragraph $paragraph
+   * @param Paragraph $paragraph
    *   The Paragraph item we are displaying.
    *
    * @return array
@@ @@
   /**
    * The _title_callback for the paragraphs_item.view route.
    *
-   * @param \Drupal\paragraphs\Entity\Paragraph $paragraph
+   * @param Paragraph $paragraph
    *   The current paragraphs_item.
    *
    * @return string
@@ @@
   /**
    * Builds a paragraph item page render array.
    *
-   * @param \Drupal\paragraphs\Entity\Paragraph $paragraph
+   * @param Paragraph $paragraph
    *   The field paragraph item we are displaying.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/paragraphs_table/src/Controller/AjaxController.php:146

    ---------- begin diff ----------
@@ @@
       $objectData = new \stdClass();
       foreach ($components as $field_name => $field) {
         $table_entity[$field_name]['#label_display'] = 'hidden';
-        $value = trim(strip_tags(render($table_entity[$field_name])));
+        $value = trim(strip_tags(\Drupal::service('renderer')->render($table_entity[$field_name])));
         if (in_array($this->fieldsDefinition[$field_name]->getType(), [
           'integer',
           'list_integer',
@@ @@
       $table_entity = $this->renderBuild->build($entity);
       foreach ($components as $field_name => $field) {
         $table_entity[$field_name]['#label_display'] = 'hidden';
-        $value = trim(render($table_entity[$field_name]));
+        $value = trim(\Drupal::service('renderer')->render($table_entity[$field_name]));
         if (!is_numeric($value) && empty($value) && !empty($setting["empty_cell_value"])) {
           $value = $setting["empty_cell_value"];
         }
@@ @@

       foreach ($components as $field_name => $field) {
         $table_entity[$field_name]['#label_display'] = 'hidden';
-        $value = trim(strip_tags(render($table_entity[$field_name])));
+        $value = trim(strip_tags(\Drupal::service('renderer')->render($table_entity[$field_name])));
         if (in_array($this->fieldsDefinition[$field_name]->getType(), [
           'integer',
           'list_integer',
@@ @@
     // Alter row operation.
     \Drupal::moduleHandler()
       ->alter('paragraphs_table_operations', $operation, $paragraphsId);
-    return render($operation);
+    return \Drupal::service('renderer')->render($operation);
   }

 }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 8 files have been changed by Rector                                       

