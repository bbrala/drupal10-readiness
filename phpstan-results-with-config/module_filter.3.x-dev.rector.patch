diff --git a/module_filter.module b/module_filter.module
index 981e558..1177e55 100644
--- a/module_filter.module
+++ b/module_filter.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\Core\Url;
 /**
  * @file
  * Provides a filtering mechanism to various admin pages.
@@ -171,7 +172,7 @@ function module_filter_form_user_admin_permissions_alter(&$form, FormStateInterf
 function module_filter_theme_registry_alter(&$theme_registry) {
   // We need to alter the system-modules-details template so we can add
   // applicable requires and required-by classes.
-  $theme_registry['system_modules_details']['path'] = drupal_get_path('module', 'module_filter') . '/templates';
+  $theme_registry['system_modules_details']['path'] = \Drupal::service('extension.list.module')->getPath('module_filter') . '/templates';
 }
 
 /**
@@ -184,7 +185,7 @@ function module_filter_preprocess_system_modules_details(&$variables) {
       // Get the module id from parents.
       // Because core does not provide it in template_preprocess_system_modules_details.
       $id = $module['name']['#parents'][1];
-      $path = drupal_get_path('module', $id);
+      $path = \Drupal::service('extension.list.module')->getPath($id);
       if (!empty($path)) {
         $module['path'] = $path;
       }
@@ -228,7 +229,7 @@ function module_filter_system_modules_recent_enabled_submit($form, FormStateInte
  */
 function module_filter_system_modules_redirect_submit($form, FormStateInterface $form_state) {
   if ($text = $form_state->getValue('text')) {
-    /** @var \Drupal\Core\Url $redirect */
+    /** @var Url $redirect */
     $route_name = ($redirect = $form_state->getRedirect()) ? $redirect->getRouteName() : 'system.modules_list';
     $form_state->setRedirect($route_name, ['filter' => $text]);
   }
