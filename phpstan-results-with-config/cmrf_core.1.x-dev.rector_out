modules/contrib/cmrf_core/cmrf_call_report/cmrf_call_report.module
modules/contrib/cmrf_core/cmrf_call_report/cmrf_call_report.views.inc
modules/contrib/cmrf_core/cmrf_call_report/src/Controller/CMRFCallreportController.php
modules/contrib/cmrf_core/cmrf_call_report/src/Form/CMRFCallreportPurgeForm.php
modules/contrib/cmrf_core/cmrf_call_report/src/Plugin/views/filter/CMRFApiCallStatusTypes.php
modules/contrib/cmrf_core/cmrf_call_report/src/Plugin/views/filter/CMRFConnectors.php
modules/contrib/cmrf_core/cmrf_call_report/src/Plugin/views/wizard/CMRFApiCall.php
modules/contrib/cmrf_core/cmrf_core.install
modules/contrib/cmrf_core/cmrf_core.module
modules/contrib/cmrf_core/cmrf_example/cmrf_example.install
modules/contrib/cmrf_core/cmrf_example/src/CiviClient.php
modules/contrib/cmrf_core/cmrf_example/tests/src/Functional/LoadTest.php
modules/contrib/cmrf_core/cmrf_views/cmrf_views.install
modules/contrib/cmrf_core/cmrf_views/cmrf_views.module
modules/contrib/cmrf_core/cmrf_views/src/CMRFDatasetHtmlRouteProvider.php
modules/contrib/cmrf_core/cmrf_views/src/CMRFDatasetListBuilder.php
modules/contrib/cmrf_core/cmrf_views/src/CMRFDatasetRelationshipListBuilder.php
modules/contrib/cmrf_core/cmrf_views/src/CMRFEntityViewsData.php
modules/contrib/cmrf_core/cmrf_views/src/CMRFViews.php
modules/contrib/cmrf_core/cmrf_views/src/CMRFViewsResultRow.php
modules/contrib/cmrf_core/cmrf_views/src/Controller/CMRFViewsController.php
modules/contrib/cmrf_core/cmrf_views/src/Entity/CMRFDataset.php
modules/contrib/cmrf_core/cmrf_views/src/Entity/CMRFDatasetInterface.php
modules/contrib/cmrf_core/cmrf_views/src/Entity/CMRFDatasetRelationship.php
modules/contrib/cmrf_core/cmrf_views/src/Entity/CMRFDatasetRelationshipInterface.php
modules/contrib/cmrf_core/cmrf_views/src/Form/CMRFDatasetDeleteForm.php
modules/contrib/cmrf_core/cmrf_views/src/Form/CMRFDatasetForm.php
modules/contrib/cmrf_core/cmrf_views/src/Form/CMRFDatasetRelationshipDeleteForm.php
modules/contrib/cmrf_core/cmrf_views/src/Form/CMRFDatasetRelationshipForm.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/argument/Standard.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/CPrerenderList.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/Date.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/File.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/JSON.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/Markup.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/OptionList.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/Standard.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/filter/Boolean.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/filter/Date.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/filter/Numeric.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/filter/OptionList.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/filter/Text.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/query/API.php
modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/relationship/DatasetRelationship.php
modules/contrib/cmrf_core/cmrf_webform/cmrf_webform.install
modules/contrib/cmrf_core/cmrf_webform/cmrf_webform.module
modules/contrib/cmrf_core/cmrf_webform/src/Controller/CMRFWebformListBuilder.php
modules/contrib/cmrf_core/cmrf_webform/src/DefaultValueInterface.php
modules/contrib/cmrf_core/cmrf_webform/src/Entity/DefaultValue.php
modules/contrib/cmrf_core/cmrf_webform/src/Entity/OptionSet.php
modules/contrib/cmrf_core/cmrf_webform/src/Entity/Submission.php
modules/contrib/cmrf_core/cmrf_webform/src/Exception/QueueException.php
modules/contrib/cmrf_core/cmrf_webform/src/Exception/SubmissionException.php
modules/contrib/cmrf_core/cmrf_webform/src/Form/CMRFWebformDeleteFormBase.php
modules/contrib/cmrf_core/cmrf_webform/src/Form/CMRFWebformFormBase.php
modules/contrib/cmrf_core/cmrf_webform/src/Form/DefaultValueDeleteForm.php
modules/contrib/cmrf_core/cmrf_webform/src/Form/DefaultValueForm.php
modules/contrib/cmrf_core/cmrf_webform/src/Form/OptionSetDeleteForm.php
modules/contrib/cmrf_core/cmrf_webform/src/Form/OptionSetForm.php
modules/contrib/cmrf_core/cmrf_webform/src/Form/SubmissionDeleteForm.php
modules/contrib/cmrf_core/cmrf_webform/src/Form/SubmissionForm.php
modules/contrib/cmrf_core/cmrf_webform/src/Manager/CMRFDefaultsManager.php
modules/contrib/cmrf_core/cmrf_webform/src/Manager/CMRFManagerBase.php
modules/contrib/cmrf_core/cmrf_webform/src/Manager/CMRFOptionsManager.php
modules/contrib/cmrf_core/cmrf_webform/src/Manager/CMRFSubmissionsManager.php
modules/contrib/cmrf_core/cmrf_webform/src/OptionSetInterface.php
modules/contrib/cmrf_core/cmrf_webform/src/SubmissionInterface.php
modules/contrib/cmrf_core/cmrf_webform/src/Traits/ConnectorAwareTrait.php
modules/contrib/cmrf_core/cmrf_webform/src/Traits/WebformAwareTrait.php
modules/contrib/cmrf_core/src/ApiCallEntityInterface.php
modules/contrib/cmrf_core/src/CMRFConnectorHtmlRouteProvider.php
modules/contrib/cmrf_core/src/CMRFConnectorListBuilder.php
modules/contrib/cmrf_core/src/CMRFProfileHtmlRouteProvider.php
modules/contrib/cmrf_core/src/CMRFProfileListBuilder.php
modules/contrib/cmrf_core/src/Call.php
modules/contrib/cmrf_core/src/CallFactory.php
modules/contrib/cmrf_core/src/Connection.php
modules/contrib/cmrf_core/src/Core.php
modules/contrib/cmrf_core/src/Entity/CMRFConnector.php
modules/contrib/cmrf_core/src/Entity/CMRFConnectorInterface.php
modules/contrib/cmrf_core/src/Entity/CMRFProfile.php
modules/contrib/cmrf_core/src/Entity/CMRFProfileInterface.php
modules/contrib/cmrf_core/src/Form/CMRFConnectorDeleteForm.php
modules/contrib/cmrf_core/src/Form/CMRFConnectorForm.php
modules/contrib/cmrf_core/src/Form/CMRFProfileDeleteForm.php
modules/contrib/cmrf_core/src/Form/CMRFProfileForm.php
modules/contrib/cmrf_core/tests/src/Functional/InstantiationTests.php

14 files with changes
=====================

1) modules/contrib/cmrf_core/tests/src/Functional/InstantiationTests.php:24

    ---------- begin diff ----------
@@ @@
   protected $profile = 'minimal';
   public static $modules = ['cmrf_core'];

-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig(['cmrf_core']);
   }
@@ @@
     $prop=new \ReflectionProperty('\Drupal\cmrf_core\Core','callfactory');
     $prop->setAccessible(true);
     $factory=$prop->getValue($core);
-    $this->assertNotEqual($factory,null);
+    $this->assertNotEquals($factory, null);
     $prop=new \ReflectionProperty('\CMRF\PersistenceLayer\SQLPersistingCallFactory','table_name');
     $prop->setAccessible(true);
     $table=$prop->getValue($factory);
    ----------- end diff -----------

Applied rules:
 * AssertNotEqualRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/cmrf_core/src/CallFactory.php:7

    ---------- begin diff ----------
@@ @@
 class CallFactory extends SQLPersistingCallFactory {

   /**
-   * @var \Drupal\cmrf_core\Core;
+   * @var Core ;
    */
   private $core;
   protected $table_name;
@@ @@
   }

   /**
-   * @return \Drupal\cmrf_core\Core
+   * @return Core
    */
   public function getCore(): Core {
     return $this->core;
@@ @@
   }

   /**
-   * @param \Drupal\cmrf_core\Core $core
+   * @param Core $core
    */
   public function setCore(Core $core): void {
     $this->core = $core;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/cmrf_core/cmrf_webform/src/Form/CMRFWebformFormBase.php:10

    ---------- begin diff ----------
@@ @@
   /**
    * Constructs a Option Set object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entityTypeManager
+   * @param EntityTypeManagerInterface $entityTypeManager
    *   The entityTypeManager.
    */
   public function __construct(EntityTypeManagerInterface $entityTypeManager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/cmrf_core/cmrf_webform/cmrf_webform.module:91

    ---------- begin diff ----------
@@ @@
 /**
  * Implements hook_form_alter.
  */
-function cmrf_webform_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
+function cmrf_webform_form_alter(&$form, FormStateInterface $form_state, $form_id) {
   $webform = $form_state->getFormObject();
   if ($webform instanceof EntityFormInterface) {
     $service = \Drupal::service('cmrf_webform.defaults_manager');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


5) modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/query/API.php:22

    ---------- begin diff ----------
@@ @@
 class API extends QueryPluginBase {

   /**
-   * @var \Drupal\cmrf_core\Core
+   * @var Core
    */
   protected $core;

   /**
-   * @var \Drupal\views\ViewsData
+   * @var ViewsData
    */
   protected $viewsData;

@@ @@
    * @param array                   $configuration
    * @param                         $plugin_id
    * @param                         $plugin_definition
-   * @param \Drupal\cmrf_core\Core  $core
-   * @param \Drupal\views\ViewsData $views_data
+   * @param Core $core
+   * @param ViewsData $views_data
    */
   public function __construct(
     array $configuration,
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/OptionList.php:0

    ---------- begin diff ----------
@@ @@
 <?php namespace Drupal\cmrf_views\Plugin\views\field;

+use Drupal\views\Plugin\views\field\Standard;
 use Drupal\views\ResultRow;

 /**
@@ @@
  *
  * @ViewsField("cmrf_views_optionlist")
  */
-class OptionList extends \Drupal\views\Plugin\views\field\Standard {
+class OptionList extends Standard {

   public function getValue(ResultRow $values, $field = NULL) {
     $alias = isset($field) ? $this->aliases[$field] : $this->field_alias;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/JSON.php:3

    ---------- begin diff ----------
@@ @@
 namespace Drupal\cmrf_views\Plugin\views\field;


+use Drupal\views\Plugin\views\field\Standard;
 use Drupal\Component\Utility\Xss;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\views\Plugin\views\display\DisplayPluginBase;
@@ @@
  *
  * @ViewsField("cmrf_views_json")
  */
-class JSON extends \Drupal\views\Plugin\views\field\Standard implements MultiItemsFieldHandlerInterface {
+class JSON extends Standard implements MultiItemsFieldHandlerInterface {

   /**
    * Does the field supports multiple field values.
@@ @@
       // Render an item list from the JSON structure as default markup.
       '#item_list' => $this->render_item_item_list($item),
     ];
-    return render($render);
+    return \Drupal::service('renderer')->render($render);
   }

   public function render_item_item_list($item) {
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/cmrf_core/cmrf_views/src/Plugin/views/field/File.php:0

    ---------- begin diff ----------
@@ @@
 <?php namespace Drupal\cmrf_views\Plugin\views\field;

+use Drupal\Core\Session\AccountProxyInterface;
+use Drupal\Core\File\FileSystemInterface;
 use Drupal\cmrf_core\Core;
 use Drupal\Component\Utility\Crypt;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
    * @param array                                      $configuration
    * @param string                                     $plugin_id
    * @param mixed                                      $plugin_definition
-   * @param \Drupal\Core\Session\AccountProxyInterface $account
+   * @param AccountProxyInterface $account
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, Core $core) {
     parent::__construct($configuration, $plugin_id, $plugin_definition);
@@ @@
   }

   /**
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    * @param array                                                     $configuration
    * @param string                                                    $plugin_id
    * @param mixed                                                     $plugin_definition
@@ @@
           $file_uri_path  = $uri_path . '/' . $attachment['id'] . '.' . $file['extension'];
           $file_real_path = $real_path . '/' . $attachment['id'] . '.' . $file['extension'];
           if (!file_exists($file_real_path)) {
-            system_retrieve_file($attachment['url'], $file_uri_path, FALSE, FILE_EXISTS_REPLACE);
+            system_retrieve_file($attachment['url'], $file_uri_path, FALSE, FileSystemInterface::EXISTS_REPLACE);
           }
           if (file_exists($file_real_path)) {
             // Load the image style.
    ----------- end diff -----------

Applied rules:
 * FileExistsReplaceRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/cmrf_core/cmrf_views/src/Entity/CMRFDatasetRelationship.php:42

    ---------- begin diff ----------
@@ @@
 class CMRFDatasetRelationship extends ConfigEntityBase implements CMRFDatasetRelationshipInterface {

   /**
-   * @var \Drupal\cmrf_views\Entity\CMRFDataset
+   * @var CMRFDataset
    */
   public $referencing_dataset;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/cmrf_core/cmrf_example/tests/src/Functional/LoadTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\cmrf_example\Functional;

+use Drupal\user\UserInterface;
+use Drupal\cmrf_example\CiviClient;
 use Drupal\cmrf_core\Entity\CMRFProfile;
 use Drupal\Core\Url;
 use Drupal\Tests\BrowserTestBase;
@@ @@
   /**
    * A user with permission to administer site configuration.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $user;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $entity=CMRFProfile::load('default');
     //this test will fail until you set up those properties correctly.
@@ @@

   public function testService() {

-    /** @var \Drupal\cmrf_example\CiviClient $client */
+    /** @var CiviClient $client */
     $client = \Drupal::service('cmrf_example.client');
     $this->assertTrue($client != NULL);
     $this->assertTrue($client->core != NULL);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/cmrf_core/cmrf_example/cmrf_example.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\cmrf_core\Core;
 function cmrf_example_install() {
   $config=\Drupal::configFactory()->getEditable('cmrf_example.settings');
-  /** @var \Drupal\cmrf_core\Core $core */
+  /** @var Core $core */
   $core=\Drupal::service('cmrf_core.core');
   $identifier=$core->registerConnector('cmrf_example','default');
   $config->set('connector',$identifier);
@@ @@

 function cmrf_example_uninstall() {
   $config=\Drupal::config('cmrf_example.settings');
-  /** @var \Drupal\cmrf_core\Core $core */
+  /** @var Core $core */
   $core=\Drupal::service('cmrf_core.core');
   $core->unregisterConnector($config->get('connector'));
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


12) modules/contrib/cmrf_core/cmrf_core.module:0

    ---------- begin diff ----------
@@ @@
 <?php
+use Drupal\cmrf_core\Core;
 if (!class_exists('\CMRF\PersistenceLayer\SQLPersistingCallFactory')) {
   require_once dirname(__FILE__) . '/vendor/autoload.php';
 }
@@ @@
  * Implements hook_cache_flush().
  */
 function cmrf_core_cache_flush() {
-  /** @var \Drupal\cmrf_core\Core $core */
+  /** @var Core $core */
   $core = Drupal::service('cmrf_core.core');
   $core->getFactory()->purgeCachedCalls();
 }

 function cmrf_core_cron() {
-  /** @var \Drupal\cmrf_core\Core $core */
+  /** @var Core $core */
   $core = Drupal::service('cmrf_core.core');
   $core->getFactory()->purgeCachedCalls();
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


13) modules/contrib/cmrf_core/cmrf_call_report/src/Form/CMRFCallreportPurgeForm.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;

@@ @@
   /**
    * Constructs a new DblogClearLogConfirmForm.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
    */
   public function __construct(Connection $connection) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/cmrf_core/cmrf_call_report/src/Controller/CMRFCallreportController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\cmrf_call_report\Controller;

+use Drupal\Core\Database\Driver\mysql\Connection;
 use Drupal\Core\Controller\ControllerBase;
 use Symfony\Component\DependencyInjection\ContainerInterface;

@@ @@
   /**
    * Drupal\Core\Database\Driver\mysql\Connection definition.
    *
-   * @var \Drupal\Core\Database\Driver\mysql\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
       $scheduled_date = '';
       if (!empty($call->scheduled_date)) {
         $scheduled_date = new \DateTime($call->scheduled_date);
-        $scheduled_date = format_date($scheduled_date->getTimestamp());
+        $scheduled_date = \Drupal::service('date.formatter')->format($scheduled_date->getTimestamp());
       }
       $caching_until = '';
       if (!empty($call->cached_until)) {
    ----------- end diff -----------

Applied rules:
 * FormatDateRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 14 files have been changed by Rector                                      

