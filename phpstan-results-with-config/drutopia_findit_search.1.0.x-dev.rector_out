modules/contrib/drutopia_findit_search/drutopia_findit_search.module
modules/contrib/drutopia_findit_search/src/Controller/SearchController.php
modules/contrib/drutopia_findit_search/src/Controller/UpcomingEventsController.php
modules/contrib/drutopia_findit_search/src/Form/FiltersForm.php
modules/contrib/drutopia_findit_search/src/Form/SearchbarSmallBlockForm.php
modules/contrib/drutopia_findit_search/src/MicroOccurrenceMarkupTrait.php
modules/contrib/drutopia_findit_search/src/Plugin/Block/FiltersBlock.php
modules/contrib/drutopia_findit_search/src/Plugin/Block/SearchbarSmallBlock.php
modules/contrib/drutopia_findit_search/src/Plugin/Block/TodaysEvents.php
modules/contrib/drutopia_findit_search/src/Plugin/search_api/processor/AddDerivedFields.php
modules/contrib/drutopia_findit_search/src/Plugin/search_api/processor/ManualBoost.php
modules/contrib/drutopia_findit_search/src/PreparedQuery.php
modules/contrib/drutopia_findit_search/src/TodaysEvents.php

10 files with changes
=====================

1) modules/contrib/drutopia_findit_search/src/TodaysEvents.php:3

    ---------- begin diff ----------
@@ @@
 namespace Drupal\drutopia_findit_search;


+use Drupal\search_api\Query\ResultSetInterface;
+use Drupal\search_api\SearchApiException;
 use DateTime;
 use DateTimeZone;
 use Drupal\node\NodeInterface;
@@ @@
    *
    * The entities found by this query are bulk loaded.
    *
-   * @return \Drupal\search_api\Query\ResultSetInterface
-   * @throws \Drupal\search_api\SearchApiException
+   * @return ResultSetInterface
+   * @throws SearchApiException
    */
   public function getResults() {
     if (!$this->query->hasExecuted()) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/drutopia_findit_search/src/PreparedQuery.php:3

    ---------- begin diff ----------
@@ @@
 namespace Drupal\drutopia_findit_search;


+use Drupal\search_api\Query\ResultSetInterface;
+use Drupal\search_api\SearchApiException;
 use Drupal\Core\Language\LanguageManager;
 use Drupal\node\NodeInterface;
 use Drupal\search_api\Entity\Index;
@@ @@
    *
    * The entities found by this query are bulk loaded.
    *
-   * @return \Drupal\search_api\Query\ResultSetInterface
-   * @throws \Drupal\search_api\SearchApiException
+   * @return ResultSetInterface
+   * @throws SearchApiException
    */
   public function getResults() {
     if (!$this->query->hasExecuted()) {
@@ @@
    *   The field name.
    *
    * @return array
-   * @throws \Drupal\search_api\SearchApiException
+   * @throws SearchApiException
    */
   public function getFacetMatchesByField($field) {
     $facet_fields = $this->getResults()->getExtraData('search_api_facets');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/drutopia_findit_search/src/Plugin/search_api/processor/ManualBoost.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\drutopia_findit_search\Plugin\search_api\processor;

+use Drupal\search_api\Item\ItemInterface;
 use Drupal\search_api\Processor\ProcessorPluginBase;

 /**
@@ @@
    */
   public function preprocessIndexItems(array $items) {

-    /** @var \Drupal\search_api\Item\ItemInterface $item */
+    /** @var ItemInterface $item */
     foreach ($items as $item) {
       $opportunity = $item->getOriginalObject()->getEntity();
       $manual_boost = $opportunity->field_findit_boost->value;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/drutopia_findit_search/src/Plugin/search_api/processor/AddDerivedFields.php:3

    ---------- begin diff ----------
@@ @@
 namespace Drupal\drutopia_findit_search\Plugin\search_api\processor;


+use Drupal\search_api\Item\Item;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\search_api\SearchApiException;
 use DateTime;
 use DateTimeZone;
 use Drupal\search_api\Datasource\DatasourceInterface;
@@ @@
    * - set places as not available online
    * - set events and programs not explicitly virtual as not available online.
    *
-   * @param \Drupal\search_api\Item\Item[] $items
+   * @param Item[] $items
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\search_api\SearchApiException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
+   * @throws SearchApiException
    */
   public function preprocessIndexItems(array $items) {
     foreach ($items as $item) {
@@ @@
   /**
    * Returns terms from programs and events of the given organization.
    *
-   * @param \Drupal\node\Entity\Node $node
+   * @param Node $node
    *   The organization.
    *
    * @param string $field_name
    *   The name of the taxonomy term reference field.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    *
    * @return array
    *   The names of terms from all the associated programs and events.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/drutopia_findit_search/src/Plugin/Block/FiltersBlock.php:39

    ---------- begin diff ----------
@@ @@
    * @param array $configuration
    * @param $plugin_id
    * @param $plugin_definition
-   * @param \Drupal\drutopia_findit_search\PreparedQuery $query
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param PreparedQuery $query
+   * @param RequestStack $request_stack
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, PreparedQuery $query, RequestStack $request_stack) {
     parent::__construct($configuration, $plugin_id, $plugin_definition);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/drutopia_findit_search/src/Form/SearchbarSmallBlockForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\drutopia_findit_search\Form;

+use Drupal\Core\Url;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Form\FormStateInterface;

@@ @@

     $form['#attributes']['class'] = ['findit-search-bar'];

-    $url = \Drupal\Core\Url::fromRoute('findit_search.search');
+    $url = Url::fromRoute('findit_search.search');
     $form['#action'] = $url->toString();
     $form['#method'] = 'get';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/drutopia_findit_search/src/Form/FiltersForm.php:178

    ---------- begin diff ----------
@@ @@
       '#title_display' => 'invisible',
       '#options' => $neighborhood_options,
       '#multiple' => TRUE,
-      '#svg' => drupal_get_path('module', 'drutopia_findit_search') . '/images/cambridge-simplified-map.svg',
+      '#svg' => \Drupal::service('extension.list.module')->getPath('drutopia_findit_search') . '/images/cambridge-simplified-map.svg',
       '#default_value' => $this->getRequest()->query->get('neighborhoods'),
       '#field_suffix' => $inline_submit,
     ];
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/drutopia_findit_search/src/Controller/UpcomingEventsController.php:2

    ---------- begin diff ----------
@@ @@

 namespace Drupal\drutopia_findit_search\Controller;

+use Drupal\search_api\SearchApiException;
 use DateTime;
 use DateTimeZone;
 use Drupal\node\NodeInterface;
@@ @@
    * Executes solr query using
    *
    * @return array
-   * @throws \Drupal\search_api\SearchApiException
+   * @throws SearchApiException
    */
   public function list() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


9) modules/contrib/drutopia_findit_search/src/Controller/SearchController.php:3

    ---------- begin diff ----------
@@ @@
 namespace Drupal\drutopia_findit_search\Controller;


+use Drupal\search_api\SearchApiException;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\search_api\Item\Item;

@@ @@
    * Executes solr query using
    *
    * @return array
-   * @throws \Drupal\search_api\SearchApiException
+   * @throws SearchApiException
    */
   public function search() {
     $result = \Drupal::service('drutopia_findit_search.prepared_query')->getResults();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


10) modules/contrib/drutopia_findit_search/drutopia_findit_search.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Solarium\QueryType\Select\Query\Query;
+use Drupal\search_api\Query\QueryInterface;
 function drutopia_findit_search_theme($existing, $type, $theme, $path) {
   return [
     'findit_search_tab' => [
@@ @@
  * And actually modifying the 'q' portion has to be done in hook_search_api_solr_converted_query_alter().
  *
  */
-function drutopia_findit_search_search_api_solr_query_alter(\Solarium\QueryType\Select\Query\Query $solarium_query, \Drupal\search_api\Query\QueryInterface $query) {
+function drutopia_findit_search_search_api_solr_query_alter(Query $solarium_query, QueryInterface $query) {
   $index = $query->getIndex();
   $fields = $index->getServerInstance()->getBackend()->getSolrFieldNames($index);

@@ @@
 /**
  * Implements hook_findit_search_api_solr_converted_query_alter().
  */
-function drutopia_findit_search_search_api_solr_converted_query_alter(\Solarium\QueryType\Select\Query\Query $solarium_query, \Drupal\search_api\Query\QueryInterface $query) {
+function drutopia_findit_search_search_api_solr_converted_query_alter(Query $solarium_query, QueryInterface $query) {
   $index = $query->getIndex();
   $fields = $index->getServerInstance()->getBackend()->getSolrFieldNames($index);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 10 files have been changed by Rector                                      

