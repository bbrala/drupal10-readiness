modules/contrib/colorbutton/colorbutton.install
modules/contrib/colorbutton/src/Plugin/CKEditorPlugin/ColorButton.php
modules/contrib/colorbutton/tests/src/FunctionalJavascript/ColorbuttonTest.php

3 files with changes
====================

1) modules/contrib/colorbutton/tests/src/FunctionalJavascript/ColorbuttonTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\colorbutton\FunctionalJavascript;

+use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\Component\Serialization\Json;
 use Drupal\field\Entity\FieldConfig;
 use Drupal\FunctionalJavascriptTests\WebDriverTestBase;
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     NodeType::create([
@@ @@
       'format' => 'full_html',
     ])->save();

-    /** @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface $display_repository */
+    /** @var EntityDisplayRepositoryInterface $display_repository */
     $display_repository = \Drupal::service('entity_display.repository');
     $display_repository->getViewDisplay('node', 'article')
       ->setComponent('body')
@@ @@
     $json_encode = function ($html) {
       return trim(Json::encode($html), '"');
     };
-    $markup = $json_encode(file_url_transform_relative(file_create_url('libraries/colorbutton/icons/textcolor.png')));
+    $markup = $json_encode(\Drupal::service('file_url_generator')->generateString('libraries/colorbutton/icons/textcolor.png'));
     $this->assertSession()->responseContains($markup);

     // Asserts color buttons is present in the toolbar.
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/colorbutton/src/Plugin/CKEditorPlugin/ColorButton.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\colorbutton\Plugin\CKEditorPlugin;

+use Drupal\Core\Asset\LibrariesDirectoryFileFinder;
 use Drupal\ckeditor\CKEditorPluginBase;
 use Drupal\ckeditor\CKEditorPluginConfigurableInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
     // @todo Remove backward compatibility conditions when we bump Drupal
     //   requirement to 8.9.0. See https://www.drupal.org/node/3099614
     if (\Drupal::hasService('library.libraries_directory_file_finder')) {
-      /** @var \Drupal\Core\Asset\LibrariesDirectoryFileFinder $library_file_finder */
+      /** @var LibrariesDirectoryFileFinder $library_file_finder */
       $path = \Drupal::service('library.libraries_directory_file_finder')->find('colorbutton');
     }
     elseif (\Drupal::moduleHandler()->moduleExists('libraries')) {
@@ @@
   /**
    * Ensure values entered for color hex values contain no unsafe characters.
    * @param $element
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    */
   public function validateInput(array $element, FormStateInterface $form_state) {
     $input = $form_state->getValue([
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/colorbutton/colorbutton.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Asset\LibrariesDirectoryFileFinder;
 /**
  * @file
  * Contains update functions for Color Button module.
  */
-
 /**
  * Implements hook_requirements().
  */
@@ @@
   // @todo Remove backward compatibility conditions when we bump Drupal
   //   requirement to 8.9.0. See https://www.drupal.org/node/3099614
   if (\Drupal::hasService('library.libraries_directory_file_finder')) {
-    /** @var \Drupal\Core\Asset\LibrariesDirectoryFileFinder $library_file_finder */
+    /** @var LibrariesDirectoryFileFinder $library_file_finder */
     $path = \Drupal::service('library.libraries_directory_file_finder')->find('colorbutton/plugin.js');
   }
   else {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

