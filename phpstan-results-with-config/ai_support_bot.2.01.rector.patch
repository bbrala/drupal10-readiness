diff --git a/src/Controller/AIClients.php b/src/Controller/AIClients.php
index a593a32..b7c06d6 100644
--- a/src/Controller/AIClients.php
+++ b/src/Controller/AIClients.php
@@ -37,7 +37,9 @@ class AIClients extends ControllerBase
     public function getNewQuestions()
     {
         $uid = $this->currentUser->id();
-        $query = db_select('ai_support_bot_analytics', 'v');
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+        $query = \Drupal::database()->select('ai_support_bot_analytics', 'v');
         $query->fields('v');
         $query->condition('v.uid', $uid);
         $results = $query->execute()->fetchAll();
@@ -59,7 +61,9 @@ class AIClients extends ControllerBase
           array('data' => $this->t('Website'), 'field' => 'website'),
         );
 
-        $query = db_select('ai_support_bot_analytics', 'v');
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+        $query = \Drupal::database()->select('ai_support_bot_analytics', 'v');
         $query->fields('v', $headers);
         $query->condition('v.uid', $uid);
         // The actual action of sorting the rows is here.
diff --git a/src/Controller/AIClientsAdmin.php b/src/Controller/AIClientsAdmin.php
index 9c61c95..86d4165 100644
--- a/src/Controller/AIClientsAdmin.php
+++ b/src/Controller/AIClientsAdmin.php
@@ -38,7 +38,9 @@ class AIClientsAdmin extends ControllerBase
      */
     public function getNewQuestions()
     {
-        $query = db_select('ai_support_bot_new_questions', 'v');
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+        $query = \Drupal::database()->select('ai_support_bot_new_questions', 'v');
         $query->fields('v');
         $results = $query->execute()->fetchAll();
         $final = json_decode(json_encode($results), true);
@@ -57,7 +59,9 @@ class AIClientsAdmin extends ControllerBase
           array('data' => $this->t('times_repeated'), 'field' => 'times_repeated', 'sort' => 'desc'),
         );
 
-        $query = db_select('ai_support_bot_new_questions', 'v');
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+        $query = \Drupal::database()->select('ai_support_bot_new_questions', 'v');
         $query->fields('v', $headers);
         // The actual action of sorting the rows is here.
         $table_sort = $query->extend('Drupal\Core\Database\Query\TableSortExtender')
diff --git a/src/Controller/AIQAnswers.php b/src/Controller/AIQAnswers.php
index dff7388..4b1afa1 100644
--- a/src/Controller/AIQAnswers.php
+++ b/src/Controller/AIQAnswers.php
@@ -74,7 +74,9 @@ class AIQAnswers extends ControllerBase
         $questions = '';
         $result = [];
         $answer = 'no-answer';
-        $query = db_select('ai_support_bot', 'v');
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+        $query = \Drupal::database()->select('ai_support_bot', 'v');
         $query->fields('v');
         $betterAnswer = [];
         $results = $query->execute()->fetchAll();
@@ -177,7 +179,9 @@ class AIQAnswers extends ControllerBase
         $answersResult = [];
         $questionContent = [];
         // If ($answer == 'no-answer') {.
-        $query = db_select('node_field_data', 'v');
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+        $query = \Drupal::database()->select('node_field_data', 'v');
         $query->fields('v');
         $results = $query->execute()->fetchAll();
         $rm1 = array_rand($randomAnswer1);
@@ -239,7 +243,9 @@ class AIQAnswers extends ControllerBase
             $user = \Drupal::currentUser();
             // Empty the table.
             $values = [];
-            $query = db_select('ai_support_bot_new_questions', 'v');
+            // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+            // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+            $query = \Drupal::database()->select('ai_support_bot_new_questions', 'v');
             $query->condition('v.question', $question);
             $query->condition('v.answer', $answer);
             $query->fields('v');
diff --git a/src/Controller/AItextToSpeech.php b/src/Controller/AItextToSpeech.php
index e74096c..f96a3ef 100644
--- a/src/Controller/AItextToSpeech.php
+++ b/src/Controller/AItextToSpeech.php
@@ -27,7 +27,7 @@ class AItextToSpeech extends ControllerBase {
       // if (!file_exists($file)) {.
       file_put_contents($file, $data);
     }
-    $path = file_create_url($file);
+    $path = \Drupal::service('file_url_generator')->generateAbsoluteString($file);
     $player = '<audio style="display:none;" autoplay src="' . $path . '" type="audio/mp3" ></audio>';
     return $player;
   }
diff --git a/src/Form/AIForm.php b/src/Form/AIForm.php
index ea16d17..7849f08 100644
--- a/src/Form/AIForm.php
+++ b/src/Form/AIForm.php
@@ -51,7 +51,7 @@ class AIForm extends FormBase
      *
      * @param array $form
      *   An associative array containing the structure of the form.
-     * @param \Drupal\Core\Form\FormStateInterface $form_state
+     * @param FormStateInterface $form_state
      *   The current state of the form.
      *
      * @return array
diff --git a/src/Form/AIFormAskRyan.php b/src/Form/AIFormAskRyan.php
index c280b9d..ae8a250 100644
--- a/src/Form/AIFormAskRyan.php
+++ b/src/Form/AIFormAskRyan.php
@@ -50,7 +50,7 @@ class AIFormAskRyan extends FormBase
      *
      * @param array $form
      *   An associative array containing the structure of the form.
-     * @param \Drupal\Core\Form\FormStateInterface $form_state
+     * @param FormStateInterface $form_state
      *   The current state of the form.
      *
      * @return array
diff --git a/src/Form/Questions.php b/src/Form/Questions.php
index 83b6626..1f58391 100755
--- a/src/Form/Questions.php
+++ b/src/Form/Questions.php
@@ -251,7 +251,9 @@ class Settings extends ConfigFormBase {
     $answers = '';
     $questions = '';
     $result = [];
-    $query = db_select('ai_support_bot', 'v');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+    $query = \Drupal::database()->select('ai_support_bot', 'v');
     $query->fields('v');
     $results = $query->execute()->fetchAll();
     foreach ($results as $key => $value) {
diff --git a/src/Form/Settings.php b/src/Form/Settings.php
index 199756e..49521a5 100755
--- a/src/Form/Settings.php
+++ b/src/Form/Settings.php
@@ -44,7 +44,9 @@ class Settings extends ConfigFormBase
     public function buildForm(array $form, FormStateInterface $form_state, $no_js_use = false)
     {
         $config = $this->config('ai_support_bot.settings');
-        $query = db_select('ai_support_bot', 'v');
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+        $query = \Drupal::database()->select('ai_support_bot', 'v');
         $query->fields('v');
         $results = $query->countQuery()->execute()->fetchField();
         $form['questions_fieldset'] = [
@@ -320,7 +322,9 @@ class Settings extends ConfigFormBase
         $questions = '';
         $result = [];
 
-        $query = db_select('ai_support_bot', 'v');
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+        $query = \Drupal::database()->select('ai_support_bot', 'v');
         $query->fields('v');
         $results = $query->execute()->fetchAll();
         foreach ($results as $key => $value) {
