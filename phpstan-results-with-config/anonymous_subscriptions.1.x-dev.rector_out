modules/contrib/anonymous_subscriptions/anonymous_subscriptions.install
modules/contrib/anonymous_subscriptions/anonymous_subscriptions.module
modules/contrib/anonymous_subscriptions/src/Controller/SubscriptionController.php
modules/contrib/anonymous_subscriptions/src/DefaultService.php
modules/contrib/anonymous_subscriptions/src/Entity/Subscription.php
modules/contrib/anonymous_subscriptions/src/EventSubscriber/SchedulerEventSubscriber.php
modules/contrib/anonymous_subscriptions/src/Form/SettingsForm.php
modules/contrib/anonymous_subscriptions/src/Form/SubscribeForm.php
modules/contrib/anonymous_subscriptions/src/Form/SubscribeFormBase.php
modules/contrib/anonymous_subscriptions/src/Form/SubscribeNodeForm.php
modules/contrib/anonymous_subscriptions/src/Form/SubscribeTaxonomyTermsForm.php
modules/contrib/anonymous_subscriptions/src/Form/SubscriptionCancelAllForm.php
modules/contrib/anonymous_subscriptions/src/Form/SubscriptionCancelForm.php
modules/contrib/anonymous_subscriptions/src/Form/SubscriptionsCleanupForm.php
modules/contrib/anonymous_subscriptions/src/Plugin/Block/SubscribeBlock.php
modules/contrib/anonymous_subscriptions/src/Plugin/Block/SubscribeBlockBase.php
modules/contrib/anonymous_subscriptions/src/Plugin/Block/SubscribeTaxonomyTermsBlock.php
modules/contrib/anonymous_subscriptions/src/Plugin/QueueWorker/AnonymousSubscriptionQueueWorker.php
modules/contrib/anonymous_subscriptions/src/SubscriptionAccessControlHandler.php

15 files with changes
=====================

1) modules/contrib/anonymous_subscriptions/src/SubscriptionAccessControlHandler.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\anonymous_subscriptions;

+use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Entity\EntityAccessControlHandler;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Session\AccountInterface;
@@ @@
    * {@inheritdoc}
    */
   protected function checkAccess(EntityInterface $entity, $operation, AccountInterface $account) {
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+    /** @var ContentEntityInterface $entity */
     switch ($operation) {
       case 'delete':
         return AccessResult::allowedIfHasPermission($account, 'delete anonymous_subscription entities');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/anonymous_subscriptions/src/Plugin/QueueWorker/AnonymousSubscriptionQueueWorker.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * Anonymous subscription service.
    *
-   * @var \Drupal\anonymous_subscriptions\DefaultService
+   * @var DefaultService
    */
   protected $subscriptionService;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\anonymous_subscriptions\DefaultService $subscriptionService
+   * @param DefaultService $subscriptionService
    *   Default subscription service.
    */
   public function __construct(array $configuration, string $plugin_id, $plugin_definition, DefaultService $subscriptionService) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/anonymous_subscriptions/src/Plugin/Block/SubscribeTaxonomyTermsBlock.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\anonymous_subscriptions\Plugin\Block;

+use Drupal\Core\Entity\EntityTypeManagerInterface;
+use Drupal\anonymous_subscriptions\DefaultService;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\taxonomy\Entity\Vocabulary;
@@ @@
   /**
    * The entity_type.manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Anonymous subscription service.
    *
-   * @var \Drupal\anonymous_subscriptions\DefaultService
+   * @var DefaultService
    */
   protected $subscriptionService;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/anonymous_subscriptions/src/Plugin/Block/SubscribeBlockBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\anonymous_subscriptions\Plugin\Block;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\anonymous_subscriptions\Form\SettingsForm;
 use Drupal\Core\Block\BlockBase;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
@@ @@
   /**
    * Anonymous subscription settings configuration object.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $settings;

@@ @@
   /**
    * The form builder service.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $formBuilder;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/anonymous_subscriptions/src/Form/SubscriptionCancelForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\anonymous_subscriptions\Form;

+use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\anonymous_subscriptions\DefaultService;
 use Drupal\anonymous_subscriptions\Entity\Subscription;
 use Drupal\Core\Entity\EntityTypeManager;
@@ @@
   /**
    * Anonymous subscription service.
    *
-   * @var \Drupal\anonymous_subscriptions\DefaultService
+   * @var DefaultService
    */
   protected $subscriptionService;

@@ @@
   /**
    * Subscription entity.
    *
-   * @var \Drupal\anonymous_subscriptions\Entity\Subscription
+   * @var Subscription
    */
   protected $subscription;

@@ @@
   /**
    * The entity_type.manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Constructs a SubscriptionCancelForm object.
    *
-   * @param \Drupal\anonymous_subscriptions\DefaultService $subscription_service
+   * @param DefaultService $subscription_service
    *   Subscription server.
-   * @param \Drupal\Core\Entity\EntityTypeManager $entityTypeManager
+   * @param EntityTypeManager $entityTypeManager
    *   The entity_type.manager service.
    */
   public function __construct(DefaultService $subscription_service, EntityTypeManager $entityTypeManager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/anonymous_subscriptions/src/Form/SubscribeTaxonomyTermsForm.php:146

    ---------- begin diff ----------
@@ @@

     $verification_required = $this->settings->get('anonymous_subscriptions_verify');
     foreach (Term::loadMultiple($tids) as $term) {
-      /** @var \Drupal\anonymous_subscriptions\Entity\Subscription $subscription */
+      /** @var Subscription $subscription */
       $subscription = Subscription::create([
         'email' => $email,
         'code' => Crypt::randomBytesBase64(20),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/anonymous_subscriptions/src/Form/SubscribeNodeForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\anonymous_subscriptions\Form;

+use Drupal\Core\Entity\EntityFieldManagerInterface;
+use Drupal\taxonomy\TermStorage;
 use Drupal\anonymous_subscriptions\DefaultService;
 use Drupal\anonymous_subscriptions\Entity\Subscription;
 use Drupal\Component\Utility\Crypt;
@@ @@
   /**
    * The entity_field.manager service.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * Constructs a \Drupal\system\ConfigFormBase object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\anonymous_subscriptions\DefaultService $subscription_service
+   * @param DefaultService $subscription_service
    *   The anonymous subscription service.
-   * @param \Drupal\Core\Entity\EntityTypeManager $entityTypeManager
+   * @param EntityTypeManager $entityTypeManager
    *   The entity_type.manager service.
-   * @param \Drupal\Core\Entity\EntityFieldManager $entityFieldManager
+   * @param EntityFieldManager $entityFieldManager
    *   The entity_field.manager service.
-   * @param \Drupal\Core\Flood\FloodInterface $flood
+   * @param FloodInterface $flood
    *   The flood instance.
    */
   public function __construct(ConfigFactoryInterface $config_factory, DefaultService $subscription_service, EntityTypeManager $entityTypeManager, EntityFieldManager $entityFieldManager, FloodInterface $flood) {
@@ @@
       return $form;
     }

-    /** @var \Drupal\taxonomy\TermStorage $termStorage */
+    /** @var TermStorage $termStorage */
     $termStorage = $this->entityTypeManager->getStorage('taxonomy_term');
     $depthClasses = [];
     $lookup_parent_terms = $this->settings->get('anonymous_subscriptions_lookup_parent_taxonomy_terms');
     foreach ($field_definitions as $field_definition) {
       $terms = $node->get($field_definition->getName())->referencedEntities();
-      /** @var \Drupal\taxonomy\Entity\Term $term */
+      /** @var Term $term */
       foreach ($terms as $term) {
         $termParents = $termStorage->loadAllParents($term->id());
         if ($lookup_parent_terms) {
@@ @@
     $email = $form_state->getValue('email');
     $node_type = $form_state->getValue('node_type');
     $page = $form_state->getValue('page');
-    /** @var \Drupal\node\NodeInterface $node */
+    /** @var NodeInterface $node */
     $node = Node::load($form_state->getValue('nid'));
     $verification_required = $this->settings->get('anonymous_subscriptions_verify');
     $new_subscriptions = FALSE;
@@ @@

     // Creating subscriptions for page.
     if ($page && $node) {
-      /** @var \Drupal\anonymous_subscriptions\Entity\Subscription $subscription */
+      /** @var Subscription $subscription */
       $subscription = Subscription::create([
         'email' => $email,
         'code' => Crypt::randomBytesBase64(20),
@@ @@

     // Creating subscriptions for content type.
     if ($node_type && $node) {
-      /** @var \Drupal\anonymous_subscriptions\Entity\Subscription $subscription */
+      /** @var Subscription $subscription */
       $subscription = Subscription::create([
         'email' => $email,
         'code' => Crypt::randomBytesBase64(20),
@@ @@
     }

     $verification_required = $this->settings->get('anonymous_subscriptions_verify');
-    /** @var \Drupal\taxonomy\Entity\Term $term */
+    /** @var Term $term */
     foreach (Term::loadMultiple($tids) as $term) {
-      /** @var \Drupal\anonymous_subscriptions\Entity\Subscription $subscription */
+      /** @var Subscription $subscription */
       $subscription = Subscription::create([
         'email' => $email,
         'code' => Crypt::randomBytesBase64(20),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/anonymous_subscriptions/src/Form/SubscribeFormBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\anonymous_subscriptions\Form;

+use Drupal\Core\Entity\EntityTypeManagerInterface;
+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\anonymous_subscriptions\DefaultService;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityTypeManager;
@@ @@
   /**
    * Anonymous subscription service.
    *
-   * @var \Drupal\anonymous_subscriptions\DefaultService
+   * @var DefaultService
    */
   protected $subscriptionService;

@@ @@
   /**
    * The entity_type.manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Anonymous subscription settings configuration object.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $settings;

@@ @@
   /**
    * The flood instance.
    *
-   * @var \Drupal\Core\Flood\FloodInterface
+   * @var FloodInterface
    */
   protected $flood;

@@ @@
   /**
    * Constructs a \Drupal\system\ConfigFormBase object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\anonymous_subscriptions\DefaultService $subscription_service
+   * @param DefaultService $subscription_service
    *   The anonymous subscription service.
-   * @param \Drupal\Core\Entity\EntityTypeManager $entityTypeManager
+   * @param EntityTypeManager $entityTypeManager
    *   The entity_type.manager service.
-   * @param \Drupal\Core\Flood\FloodInterface $flood
+   * @param FloodInterface $flood
    *   The flood instance.
    */
   public function __construct(ConfigFactoryInterface $config_factory, DefaultService $subscription_service, EntityTypeManager $entityTypeManager, FloodInterface $flood) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/anonymous_subscriptions/src/Form/SubscribeForm.php:120

    ---------- begin diff ----------
@@ @@
     $type = $form_state->getValue('type');
     $verification_required = $this->settings->get('anonymous_subscriptions_verify');

-    /** @var \Drupal\anonymous_subscriptions\Entity\Subscription $subscription */
+    /** @var Subscription $subscription */
     $subscription = Subscription::create([
       'email' => $email,
       'code' => Crypt::randomBytesBase64(20),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/anonymous_subscriptions/src/Form/SettingsForm.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Constructs a \Drupal\system\ConfigFormBase object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $moduleHandler
+   * @param ModuleHandlerInterface $moduleHandler
    *   The module handler.
    */
   public function __construct(ConfigFactoryInterface $config_factory, ModuleHandlerInterface $moduleHandler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/anonymous_subscriptions/src/EventSubscriber/SchedulerEventSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\anonymous_subscriptions\EventSubscriber;

+use Drupal\node\Entity\Node;
 use Drupal\anonymous_subscriptions\DefaultService;
 use Drupal\scheduler\SchedulerEvent;
 use Drupal\scheduler\SchedulerEvents;
@@ @@
   /**
    * Anonymous subscription service.
    *
-   * @var \Drupal\anonymous_subscriptions\DefaultService
+   * @var DefaultService
    */
   protected $subscriptionService;

@@ @@
   /**
    * Constructs a new SubscriptionController.
    *
-   * @param \Drupal\anonymous_subscriptions\DefaultService $subscriptionService
+   * @param DefaultService $subscriptionService
    *   Default subscription service.
    */
   public function __construct(DefaultService $subscriptionService) {
@@ @@
    *   The event being acted on.
    */
   public function publish(SchedulerEvent $event) {
-    /** @var \Drupal\node\Entity\Node $node */
+    /** @var Node $node */
     $node = $event->getNode();
     $this->subscriptionService->addPendingEmails($node);
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


12) modules/contrib/anonymous_subscriptions/src/DefaultService.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\anonymous_subscriptions;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Entity\EntityTypeManagerInterface;
+use Drupal\Core\Entity\EntityFieldManagerInterface;
+use Drupal\taxonomy\TermStorage;
+use Drupal\taxonomy\Entity\Term;
+use Drupal\Core\Theme\ThemeInitialization;
+use Drupal\Core\GeneratedUrl;
 use Drupal\anonymous_subscriptions\Entity\Subscription;
 use Drupal\anonymous_subscriptions\Form\SettingsForm;
 use Drupal\Core\Config\ConfigFactoryInterface;
@@ @@
    * directly. See \Drupal\Core\Form\ConfigFormBase::config() for an example of
    * this.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
   /**
    * Drupal\mailsystem\MailsystemManager definition.
    *
-   * @var \Drupal\Core\Mail\MailManagerInterface
+   * @var MailManagerInterface
    */
   protected $mailManager;

@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The logger service.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;

@@ @@
   /**
    * The token service.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $token;

@@ @@
   /**
    * PrivateTempStoreFactory service.
    *
-   * @var \Drupal\Core\TempStore\PrivateTempStoreFactory
+   * @var PrivateTempStoreFactory
    */
   protected $tempStore;

@@ @@
   /**
    * Anonymous subscription settings configuration object.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $settings;

@@ @@
   /**
    * Queue factory service.
    *
-   * @var \Drupal\Core\Queue\QueueFactory
+   * @var QueueFactory
    */
   protected $queueFactory;

@@ @@
   /**
    * The entity_type.manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The entity_field.manager service.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * Constructs a new DefaultService object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Core\Mail\MailManagerInterface $manager_mail
+   * @param MailManagerInterface $manager_mail
    *   The Mail manager objects.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $languageManager
+   * @param LanguageManagerInterface $languageManager
    *   The language manager object.
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   The logger service.
-   * @param \Drupal\Core\Utility\Token $token
+   * @param Token $token
    *   The token service.
-   * @param \Drupal\Core\TempStore\PrivateTempStoreFactory $tempStore
+   * @param PrivateTempStoreFactory $tempStore
    *   The logger service.
-   * @param \Drupal\Core\Queue\QueueFactory $queueFactory
+   * @param QueueFactory $queueFactory
    *   The Queue factory service.
-   * @param \Drupal\Core\Entity\EntityTypeManager $entityTypeManager
+   * @param EntityTypeManager $entityTypeManager
    *   The entity_type.manager service.
-   * @param \Drupal\Core\Entity\EntityFieldManager $entityFieldManager
+   * @param EntityFieldManager $entityFieldManager
    *   The entity_field.manager service.
    */
   public function __construct(ConfigFactoryInterface $config_factory, MailManagerInterface $manager_mail, LanguageManagerInterface $languageManager, LoggerInterface $logger, Token $token, PrivateTempStoreFactory $tempStore, QueueFactory $queueFactory, EntityTypeManager $entityTypeManager, EntityFieldManager $entityFieldManager) {
@@ @@
   /**
    * Sends confirmation mail to subscriber.
    *
-   * @param \Drupal\anonymous_subscriptions\Entity\Subscription $subscription
+   * @param Subscription $subscription
    *   Subscription entity.
    */
   public function sendConfirmationMail(Subscription $subscription) {
@@ @@
   /**
    * Sends verification mail to subscriber.
    *
-   * @param \Drupal\anonymous_subscriptions\Entity\Subscription $subscription
+   * @param Subscription $subscription
    *   Subscription entity.
    */
   public function sendVerificationMail(Subscription $subscription) {
@@ @@
    *
    * Sending email will be processed via cron at a later time.
    *
-   * @param \Drupal\node\NodeInterface $node
+   * @param NodeInterface $node
    *   The node object that specifies to the email.
    */
   public function addPendingEmails(NodeInterface $node) {
@@ @@
     $tids = [];
     // Getting all references terms.
     $lookup_parent_terms = $this->settings->get('anonymous_subscriptions_lookup_parent_taxonomy_terms');
-    /** @var \Drupal\taxonomy\TermStorage $termStorage */
+    /** @var TermStorage $termStorage */
     $termStorage = $this->entityTypeManager->getStorage('taxonomy_term');
     foreach ($field_definitions as $field_definition) {
       $terms = $node->get($field_definition->getName())->referencedEntities();
-      /** @var \Drupal\taxonomy\Entity\Term $term */
+      /** @var Term $term */
       foreach ($terms as $term) {
         if ($lookup_parent_terms) {
           // Getting all parents and adding them into lookup list.
@@ @@
     $body = $this->token->replace($original_body, ['node' => $node]);

     // Setting front-end theme.
-    /** @var \Drupal\Core\Theme\ThemeInitialization $theme_initialization */
+    /** @var ThemeInitialization $theme_initialization */
     $theme_initialization = \Drupal::service('theme.initialization');
     $active_theme = \Drupal::theme()->getActiveTheme();
     $config = \Drupal::config('system.theme');
@@ @@
     \Drupal::theme()->setActiveTheme($theme_initialization->getActiveThemeByName($defaultTheme));

     $count = 0;
-    /** @var \Drupal\anonymous_subscriptions\Entity\Subscription $subscription */
+    /** @var Subscription $subscription */
     foreach ($subscriptions as $subscription) {
       $email = $subscription->email->value;
       // Rendering content.
@@ @@
   /**
    * Get unsubscribe url for subscription.
    *
-   * @param \Drupal\anonymous_subscriptions\Entity\Subscription $subscription
+   * @param Subscription $subscription
    *   Subscription entity.
    * @param bool $all
    *   Flag to determine type of unsubscribe Url.
    *
-   * @return \Drupal\Core\GeneratedUrl|string
+   * @return GeneratedUrl|string
    *   Unsubscribe Url.
    */
   public function getUnsubscribeUrl(Subscription $subscription, bool $all = FALSE) {
@@ @@
   /**
    * Gets confirm Url for subscription.
    *
-   * @param \Drupal\anonymous_subscriptions\Entity\Subscription $subscription
+   * @param Subscription $subscription
    *   Subscription entity.
    *
-   * @return \Drupal\Core\GeneratedUrl|string
+   * @return GeneratedUrl|string
    *   Confirm Url.
    */
   public function getConfirmUrl(Subscription $subscription) {
@@ @@
   /**
    * Checks if enabled to get subscriptions.
    *
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   Field definition.
    *
    * @return bool
@@ @@
     switch ($subscription->entity_type->value) {
       case 'node':
         if ($subscription->entity_id->value) {
-          /** @var \Drupal\node\NodeInterface $node */
+          /** @var NodeInterface $node */
           $node = $this->entityTypeManager
             ->getStorage('node')
             ->load($subscription->entity_id->value);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


13) modules/contrib/anonymous_subscriptions/src/Controller/SubscriptionController.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * Anonymous subscription service.
    *
-   * @var \Drupal\anonymous_subscriptions\DefaultService
+   * @var DefaultService
    */
   protected $subscriptionService;

@@ @@
   /**
    * Constructs a new SubscriptionController.
    *
-   * @param \Drupal\anonymous_subscriptions\DefaultService $subscriptionService
+   * @param DefaultService $subscriptionService
    *   Default subscription service.
    */
   public function __construct(DefaultService $subscriptionService) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/anonymous_subscriptions/anonymous_subscriptions.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\node\NodeInterface;
+use Drupal\Core\Session\AccountInterface;
+use Drupal\field\FieldConfigInterface;
+use Drupal\taxonomy\TermInterface;
+use Drupal\anonymous_subscriptions\DefaultService;
 /**
  * @file
  * The Anonymous Subscriptions module.
@@ @@
  */
 function anonymous_subscriptions_form_node_form_alter(&$form, $form_state, $form_id) {
   $form_object = $form_state->getFormObject();
-  /** @var \Drupal\node\NodeInterface $node */
+  /** @var NodeInterface $node */
   $node = $form_object->getEntity();
   $config = \Drupal::config(SettingsForm::$configName);
   $valid_types = $config->get('anonymous_subscriptions_node_types') ?: [];
   if (!empty($valid_types[$node->getType()])) {
-    /** @var \Drupal\Core\Session\AccountInterface $current_user */
+    /** @var AccountInterface $current_user */
     $current_user = \Drupal::service('current_user');
     $form['options']['send_emails'] = [
       '#type' => 'checkbox',
@@ @@
  * Custom form submit callback.
  */
 function anonymous_subscriptions_form_node_form_alter_submit(&$form, &$form_state) {
-  /** @var \Drupal\node\NodeInterface $node */
+  /** @var NodeInterface $node */
   $node = $form_state->getFormObject()->getEntity();
   // Saving send email flag to temporary private storage.
   $tempStore = \Drupal::service('tempstore.private')->get('anonymous_subscriptions');
@@ @@
  * Implements hook_form_FORM_ID_alter().
  */
 function anonymous_subscriptions_form_field_config_edit_form_alter(array &$form, FormStateInterface $form_state) {
-  /** @var \Drupal\field\FieldConfigInterface $field */
+  /** @var FieldConfigInterface $field */
   $field = $form_state->getFormObject()->getEntity();
   if ($field->getTargetEntityTypeId() != 'node'
     || $field->getType() != 'entity_reference'
@@ @@
  *
  * @param array $form
  *   The form array.
- * @param \Drupal\Core\Form\FormStateInterface $form_state
+ * @param FormStateInterface $form_state
  *   The form state.
  */
 function anonymous_subscriptions_field_config_edit_form_submit(array $form, FormStateInterface $form_state) {
@@ @@
  */
 function anonymous_subscriptions_form_taxonomy_term_form_alter(&$form, $form_state, $form_id) {
   $form_object = $form_state->getFormObject();
-  /** @var Drupal\taxonomy\TermInterface $term */
+  /** @var TermInterface $term */
   $term = $form_object->getEntity();
-  /** @var Drupal\anonymous_subscriptions\DefaultService $service */
+  /** @var DefaultService $service */
   $service = \Drupal::service('anonymous_subscriptions.default');

   if (!$service->isVocabularyAllowed($term->bundle()) || empty($term->id())) {
@@ @@
 function anonymous_subscriptions_form_taxonomy_term_form_alter_submit(&$form, &$form_state) {
   $form_fields = &$form_state->getValues();

-  /** @var Drupal\taxonomy\TermInterface $term */
+  /** @var TermInterface $term */
   $term = $form_state->getFormObject()->getEntity();
   $config = \Drupal::configFactory()->getEditable(SettingsForm::$configName);
   $anonymous_subscription_disabled_terms = $config->get('anonymous_subscription_disabled_terms') ?: [];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


15) modules/contrib/anonymous_subscriptions/anonymous_subscriptions.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Database\Schema;
+use Drupal\Core\Config\Entity\ConfigEntityStorage;
+use Drupal\views\Entity\View;
 /**
  * @file
  * Install/update/uninstall functions for the anonymous subscription module.
@@ @@
   $table_name = 'anonymous_subscription';
   $database = \Drupal::database();

-  /** @var \Drupal\Core\Database\Schema $schema */
+  /** @var Schema $schema */
   $schema = $database->schema();
   $messenger = Drupal::messenger();

@@ @@
     return;
   }

-  $dir = drupal_get_path('module', 'anonymous_subscriptions');
+  $dir = \Drupal::service('extension.list.module')->getPath('anonymous_subscriptions');
   $fileStorage = new FileStorage($dir . '/config/install');
   $config = $fileStorage->read('views.view.anonymous_subscriptions');

-  /** @var \Drupal\Core\Config\Entity\ConfigEntityStorage $storage */
+  /** @var ConfigEntityStorage $storage */
   $storage = \Drupal::entityTypeManager()
     ->getStorage('view');

-  /** @var \Drupal\views\Entity\View $view */
+  /** @var View $view */
   $view = $storage->create($config);
   $view->save();
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 15 files have been changed by Rector                                      

