diff --git a/none_title.info.yml b/none_title.info.yml
index d5591c6..de19422 100644
--- a/none_title.info.yml
+++ b/none_title.info.yml
@@ -4,8 +4,7 @@ package: Node
 dependencies:
   - drupal:node
 type: module
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 
 # Information added by Drupal.org packaging script on 2020-07-28
 version: '8.x-2.0'
diff --git a/src/Plugin/views/field/EntityField.php b/src/Plugin/views/field/EntityField.php
index 79d5388..4ab9708 100644
--- a/src/Plugin/views/field/EntityField.php
+++ b/src/Plugin/views/field/EntityField.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\none_title\Plugin\views\field;
 
+use Drupal\Core\Field\Plugin\Field\FieldType\StringItem;
+use Drupal\Core\Field\BaseFieldDefinition;
 use Drupal\views\Plugin\views\field\EntityField as EntityFieldOrigin;
 use Drupal\views\ResultRow;
 
@@ -24,9 +26,9 @@ class EntityField extends EntityFieldOrigin {
     if (!empty($items)) {
       foreach ($items as $delta => $item) {
         if (!empty($item) && isset($item['raw'])) {
-          /** @var \Drupal\Core\Field\Plugin\Field\FieldType\StringItem $raw */
+          /** @var StringItem $raw */
           $raw = $item['raw'];
-          /** @var \Drupal\Core\Field\BaseFieldDefinition $field_definition */
+          /** @var BaseFieldDefinition $field_definition */
           $field_definition = $raw->getFieldDefinition();
           if ($field_definition->getName() == 'title') {
             if (trim($raw->get('value')->getValue()) == '<none>') {
diff --git a/tests/src/Functional/NoneTitleTest.php b/tests/src/Functional/NoneTitleTest.php
index dd45308..b3e50b1 100644
--- a/tests/src/Functional/NoneTitleTest.php
+++ b/tests/src/Functional/NoneTitleTest.php
@@ -30,7 +30,7 @@ class NoneTitleTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $user = $this->drupalCreateUser([
@@ -45,7 +45,8 @@ class NoneTitleTest extends BrowserTestBase {
     $edit = [
       'title[0][value]' => 'My node title',
     ];
-    $this->drupalPostForm('node/add/article', $edit, t('Save'));
+    $this->drupalGet('node/add/article');
+    $this->submitForm($edit, t('Save'));
   }
 
   /**
@@ -58,14 +59,16 @@ class NoneTitleTest extends BrowserTestBase {
     $edit = [
       'title[0][value]' => '<none>',
     ];
-    $this->drupalPostForm('node/1/edit', $edit, t('Save'));
+    $this->drupalGet('node/1/edit');
+    $this->submitForm($edit, t('Save'));
     $this->assertSession()
       ->elementTextContains('css', "h1.page-title .field--name-title", NULL);
     // Check that title <none> along with spaces is also hiding.
     $edit = [
       'title[0][value]' => ' <none> ',
     ];
-    $this->drupalPostForm('node/1/edit', $edit, t('Save'));
+    $this->drupalGet('node/1/edit');
+    $this->submitForm($edit, t('Save'));
     $this->assertSession()
       ->elementTextContains('css', "h1.page-title .field--name-title", NULL);
   }
@@ -80,7 +83,8 @@ class NoneTitleTest extends BrowserTestBase {
     $edit = [
       'title[0][value]' => '<none>',
     ];
-    $this->drupalPostForm('node/1/edit', $edit, t('Save'));
+    $this->drupalGet('node/1/edit');
+    $this->submitForm($edit, t('Save'));
     $this->drupalGet('admin/content');
     $this->assertSession()
       ->elementTextContains('css', "table > tbody > tr:nth-child(1) td.views-field-title", NULL);
@@ -88,7 +92,8 @@ class NoneTitleTest extends BrowserTestBase {
     $edit = [
       'title[0][value]' => ' <none> ',
     ];
-    $this->drupalPostForm('node/1/edit', $edit, t('Save'));
+    $this->drupalGet('node/1/edit');
+    $this->submitForm($edit, t('Save'));
     $this->drupalGet('admin/content');
     $this->assertSession()
       ->elementTextContains('css', "table > tbody > tr:nth-child(1) td.views-field-title", NULL);
