diff --git a/css_color_variables_dependants/css_color_variables_dependants.module b/css_color_variables_dependants/css_color_variables_dependants.module
index f50bc2a..24e2d59 100644
--- a/css_color_variables_dependants/css_color_variables_dependants.module
+++ b/css_color_variables_dependants/css_color_variables_dependants.module
@@ -18,7 +18,7 @@ use Drupal\Component\Utility\NestedArray;
  */
 function css_color_variables_dependants_css_color_variables_alter(array &$colors, string $theme) {
   // Look for yourtheme_css_variable_dependants.yml.
-  $path = DRUPAL_ROOT . '/' . drupal_get_path('theme', $theme) . '/color/css_color_variables_dependants.yml';
+  $path = DRUPAL_ROOT . '/' . \Drupal::service('extension.list.theme')->getPath($theme) . '/color/css_color_variables_dependants.yml';
   if (file_exists($path)) {
     try {
       $conf = Yaml::parseFile($path);
diff --git a/css_color_variables_ui/src/Controller/ColorVariablesUiController.php b/css_color_variables_ui/src/Controller/ColorVariablesUiController.php
index 955ed3b..668bc31 100644
--- a/css_color_variables_ui/src/Controller/ColorVariablesUiController.php
+++ b/css_color_variables_ui/src/Controller/ColorVariablesUiController.php
@@ -13,7 +13,7 @@ use Drupal\Component\Utility\Color;
 class ColorVariablesUiController extends ControllerBase {
 
   /**
-   * @return \Symfony\Component\HttpFoundation\JsonResponse
+   * @return JsonResponse
    */
   public function getColorInfo(): JsonResponse {
     $theme_name = \Drupal::config('system.theme')->get('default');
