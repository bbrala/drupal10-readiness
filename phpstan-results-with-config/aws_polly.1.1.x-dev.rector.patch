diff --git a/aws_polly.module b/aws_polly.module
index a1f6ac1..ec951bc 100644
--- a/aws_polly.module
+++ b/aws_polly.module
@@ -79,12 +79,12 @@ function aws_polly_node_presave(NodeInterface $node) {
         $entity_type = 'node';
         $builder = \Drupal::entityTypeManager()->getViewBuilder($entity_type);
         $build = $builder->view($node, $view_mode);
-        $output = render($build);
+        $output = \Drupal::service('renderer')->render($build);
         $output = strip_tags($output);
 
         if ($node->original) {
           $build = $builder->view($node->original, $view_mode);
-          $output_original = render($build);
+          $output_original = \Drupal::service('renderer')->render($build);
           $output_original = strip_tags($output_original);
         }
 
diff --git a/src/Service/TextToSpeech.php b/src/Service/TextToSpeech.php
index 7bcdaf5..96a7913 100644
--- a/src/Service/TextToSpeech.php
+++ b/src/Service/TextToSpeech.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\aws_polly\Service;
 
+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Session\AccountProxy;
 use Drupal\file\Entity\File;
@@ -17,30 +18,30 @@ class TextToSpeech {
   /**
    * The aws polly configuration object.
    *
-   * @var Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   public $config;
 
   /**
    * The aws polly client object.
    *
-   * @var Aws\Polly\PollyClient
+   * @var PollyClient
    */
   protected $client;
 
   /**
    * Drupal\Core\Session\AccountProxy definition.
    *
-   * @var \Drupal\Core\Session\AccountProxy
+   * @var AccountProxy
    */
   protected $currentUser;
 
   /**
    * Creates a config of aws_polly.settings.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Drupal\Core\Session\AccountProxy $current_user
+   * @param AccountProxy $current_user
    *   The current user object.
    */
   public function __construct(ConfigFactoryInterface $config_factory, AccountProxy $current_user) {
@@ -84,7 +85,7 @@ class TextToSpeech {
    * @param array $parameters
    *   Parameters pass to generate file.
    *
-   * @return Drupal\file\Entity\File
+   * @return File
    *   Returns drupal file object.
    */
   public function generateFile(array $parameters = []) {
@@ -102,11 +103,10 @@ class TextToSpeech {
    * @param string $uri_schema
    *   Uri scheme to get file.
    *
-   * @return Drupal\file\Entity\File
+   * @return File
    *   Return drupal file object.
    *
    * @TODO: give to filename more info about content (ie: node title)
-   *
    */
   public function getFile(array $parameters = [], $uri_schema = "public://") {
     $format = isset($parameters['format']) ? $parameters['format'] : 'mp3';
@@ -130,7 +130,7 @@ class TextToSpeech {
   /**
    * Function uploads the file from given content.
    *
-   * @param Drupal\file\Entity\File $file
+   * @param File $file
    *   The drupal File object.
    * @param string $content
    *   The audio file content from aws polly service.
