modules/contrib/access_records/access_records.api.php
modules/contrib/access_records/access_records.module
modules/contrib/access_records/access_records.tokens.inc
modules/contrib/access_records/access_records.views.inc
modules/contrib/access_records/src/Access/AccessRecordRevisionAccessCheck.php
modules/contrib/access_records/src/AccessRecordAccessControlHandler.php
modules/contrib/access_records/src/AccessRecordFieldBuilder.php
modules/contrib/access_records/src/AccessRecordInterface.php
modules/contrib/access_records/src/AccessRecordListBuilder.php
modules/contrib/access_records/src/AccessRecordPermissions.php
modules/contrib/access_records/src/AccessRecordQueryBuilder.php
modules/contrib/access_records/src/AccessRecordTypeInterface.php
modules/contrib/access_records/src/AccessRecordTypeListBuilder.php
modules/contrib/access_records/src/Controller/AccessRecordEmptyAdminController.php
modules/contrib/access_records/src/Controller/AccessRecordRevisionController.php
modules/contrib/access_records/src/Controller/AccessRecordTranslationController.php
modules/contrib/access_records/src/Entity/AccessRecord.php
modules/contrib/access_records/src/Entity/AccessRecordType.php
modules/contrib/access_records/src/EventSubscriber/AccessRecordsQueryAccessSubscriber.php
modules/contrib/access_records/src/Form/AccessRecordDeleteForm.php
modules/contrib/access_records/src/Form/AccessRecordForm.php
modules/contrib/access_records/src/Form/AccessRecordRevisionDeleteForm.php
modules/contrib/access_records/src/Form/AccessRecordRevisionRevertForm.php
modules/contrib/access_records/src/Form/AccessRecordRevisionRevertTranslationForm.php
modules/contrib/access_records/src/Form/AccessRecordTypeForm.php
modules/contrib/access_records/src/Plugin/views/field/AccessRecordSubjectId.php
modules/contrib/access_records/src/Plugin/views/field/AccessRecordTargetId.php
modules/contrib/access_records/src/Plugin/views/relationship/AccessRecordData.php
modules/contrib/access_records/src/Plugin/views/relationship/AccessRecordSubject.php
modules/contrib/access_records/src/Plugin/views/relationship/AccessRecordTarget.php
modules/contrib/access_records/src/QueryAccess/AccessRecordQueryAccessHandler.php
modules/contrib/access_records/src/Routing/AccessRecordTranslationRouteSubscriber.php
modules/contrib/access_records/tests/src/Kernel/AccessRecordsTest.php

27 files with changes
=====================

1) modules/contrib/access_records/tests/src/Kernel/AccessRecordsTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\access_records\Kernel;

+use Drupal\node\NodeTypeInterface;
+use Drupal\Core\Session\AccountSwitcherInterface;
 use Drupal\access_records\Entity\AccessRecord;
 use Drupal\access_records\Entity\AccessRecordType;
 use Drupal\Core\Session\AccountInterface;
@@ @@
     User::create(['uid' => 1, 'name' => 'admin'])->save();
     User::create(['uid' => 2, 'name' => 'authenticated'])->save();
     // Create the Article content type with revisioning and translation enabled.
-    /** @var \Drupal\node\NodeTypeInterface $node_type */
+    /** @var NodeTypeInterface $node_type */
     $node_type = NodeType::create([
       'type' => 'article',
       'name' => 'Article',
@@ @@
    * Tests view access using access records.
    */
   public function testViewAccess() {
-    /** @var \Drupal\Core\Session\AccountSwitcherInterface $account_switcher */
+    /** @var AccountSwitcherInterface $account_switcher */
     $account_switcher = \Drupal::service('account_switcher');

     $published_node = Node::create([
@@ @@
    * Tests update access using access records.
    */
   public function testUpdateAccess() {
-    /** @var \Drupal\Core\Session\AccountSwitcherInterface $account_switcher */
+    /** @var AccountSwitcherInterface $account_switcher */
     $account_switcher = \Drupal::service('account_switcher');

     $published_node = Node::create([
@@ @@
    * Tests delete access using access records.
    */
   public function testDeleteAccess() {
-    /** @var \Drupal\Core\Session\AccountSwitcherInterface $account_switcher */
+    /** @var AccountSwitcherInterface $account_switcher */
     $account_switcher = \Drupal::service('account_switcher');

     $published_node = Node::create([
@@ @@
    * Tests combined view, update & delete access using access records.
    */
   public function testCombinedAccess() {
-    /** @var \Drupal\Core\Session\AccountSwitcherInterface $account_switcher */
+    /** @var AccountSwitcherInterface $account_switcher */
     $account_switcher = \Drupal::service('account_switcher');

     $published_node = Node::create([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/access_records/src/Plugin/views/relationship/AccessRecordTarget.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Plugin\views\relationship;

+use Drupal\access_records\AccessRecordTypeInterface;
+use Drupal\Core\Database\Query\SelectInterface;
 use Drupal\access_records\AccessRecordQueryBuilder;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\views\Plugin\views\relationship\RelationshipPluginBase;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected EntityTypeManagerInterface $entityTypeManager;

@@ @@
   /**
    * The access record query builder.
    *
-   * @var \Drupal\access_records\AccessRecordQueryBuilder
+   * @var AccessRecordQueryBuilder
    */
   protected AccessRecordQueryBuilder $accessRecordQueryBuilder;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $etm
+   * @param EntityTypeManagerInterface $etm
    *   The entity type manager.
-   * @param \Drupal\access_records\AccessRecordQueryBuilder $arqb
+   * @param AccessRecordQueryBuilder $arqb
    *   The access record query builder.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityTypeManagerInterface $etm, AccessRecordQueryBuilder $arqb) {
@@ @@

     $query_options = ['join_subjects' => FALSE];
     $queries = [];
-    /** @var \Drupal\access_records\AccessRecordTypeInterface $ar_type */
+    /** @var AccessRecordTypeInterface $ar_type */
     foreach ($type_storage->loadMultiple($type_ids) as $ar_type) {
       if ($query = $this->accessRecordQueryBuilder->selectByType($ar_type, NULL, 'view', $query_options)) {
         $queries[$ar_type->id()] = $query;
@@ @@
     $def['adjusted'] = TRUE;

     $query = array_shift($queries);
-    /** @var \Drupal\Core\Database\Query\SelectInterface $union */
+    /** @var SelectInterface $union */
     foreach ($queries as $union) {
       $query->union($union);
     }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/access_records/src/Plugin/views/relationship/AccessRecordSubject.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Plugin\views\relationship;

+use Drupal\access_records\AccessRecordTypeInterface;
+use Drupal\Core\Database\Query\SelectInterface;
 use Drupal\access_records\AccessRecordQueryBuilder;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\views\Plugin\views\relationship\RelationshipPluginBase;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected EntityTypeManagerInterface $entityTypeManager;

@@ @@
   /**
    * The access record query builder.
    *
-   * @var \Drupal\access_records\AccessRecordQueryBuilder
+   * @var AccessRecordQueryBuilder
    */
   protected AccessRecordQueryBuilder $accessRecordQueryBuilder;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $etm
+   * @param EntityTypeManagerInterface $etm
    *   The entity type manager.
-   * @param \Drupal\access_records\AccessRecordQueryBuilder $arqb
+   * @param AccessRecordQueryBuilder $arqb
    *   The access record query builder.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityTypeManagerInterface $etm, AccessRecordQueryBuilder $arqb) {
@@ @@

     $query_options = ['join_targets' => FALSE];
     $queries = [];
-    /** @var \Drupal\access_records\AccessRecordTypeInterface $ar_type */
+    /** @var AccessRecordTypeInterface $ar_type */
     foreach ($type_storage->loadMultiple($type_ids) as $ar_type) {
       if ($query = $this->accessRecordQueryBuilder->selectByType($ar_type, NULL, 'view', $query_options)) {
         $queries[$ar_type->id()] = $query;
@@ @@
     $def['adjusted'] = TRUE;

     $query = array_shift($queries);
-    /** @var \Drupal\Core\Database\Query\SelectInterface $union */
+    /** @var SelectInterface $union */
     foreach ($queries as $union) {
       $query->union($union);
     }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/access_records/src/Plugin/views/relationship/AccessRecordData.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Plugin\views\relationship;

+use Drupal\access_records\AccessRecordTypeInterface;
+use Drupal\Core\Database\Query\SelectInterface;
 use Drupal\access_records\AccessRecordQueryBuilder;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected EntityTypeManagerInterface $entityTypeManager;

@@ @@
   /**
    * The access record query builder.
    *
-   * @var \Drupal\access_records\AccessRecordQueryBuilder
+   * @var AccessRecordQueryBuilder
    */
   protected AccessRecordQueryBuilder $accessRecordQueryBuilder;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $etm
+   * @param EntityTypeManagerInterface $etm
    *   The entity type manager.
-   * @param \Drupal\access_records\AccessRecordQueryBuilder $arqb
+   * @param AccessRecordQueryBuilder $arqb
    *   The access record query builder.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityTypeManagerInterface $etm, AccessRecordQueryBuilder $arqb) {
@@ @@
       $query_options['join_subjects'] = FALSE;
     }
     $queries = [];
-    /** @var \Drupal\access_records\AccessRecordTypeInterface $ar_type */
+    /** @var AccessRecordTypeInterface $ar_type */
     foreach ($type_storage->loadMultiple($type_ids) as $ar_type) {
       if ($query = $this->accessRecordQueryBuilder->selectByType($ar_type, NULL, 'view', $query_options)) {
         $queries[$ar_type->id()] = $query;
@@ @@
     }

     $query = array_shift($queries);
-    /** @var \Drupal\Core\Database\Query\SelectInterface $union */
+    /** @var SelectInterface $union */
     foreach ($queries as $union) {
       $query->union($union);
     }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/access_records/src/Plugin/views/field/AccessRecordTargetId.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Plugin\views\field;

+use Drupal\access_records\AccessRecordTypeInterface;
+use Drupal\Core\Database\Query\SelectInterface;
+use Drupal\views\Plugin\views\query\Sql;
 use Drupal\access_records\AccessRecordInterface;
 use Drupal\access_records\AccessRecordQueryBuilder;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected EntityTypeManagerInterface $entityTypeManager;

@@ @@
   /**
    * The access record query builder.
    *
-   * @var \Drupal\access_records\AccessRecordQueryBuilder
+   * @var AccessRecordQueryBuilder
    */
   protected AccessRecordQueryBuilder $accessRecordQueryBuilder;

@@ @@

     $query_options = ['join_subjects' => FALSE];
     $queries = [];
-    /** @var \Drupal\access_records\AccessRecordTypeInterface $ar_type */
+    /** @var AccessRecordTypeInterface $ar_type */
     foreach ($type_storage->loadMultiple() as $ar_type) {
       if ($query = $this->accessRecordQueryBuilder->selectByType($ar_type, NULL, 'view', $query_options)) {
         $queries[$ar_type->id()] = $query;
@@ @@
     }

     $query = array_shift($queries);
-    /** @var \Drupal\Core\Database\Query\SelectInterface $union */
+    /** @var SelectInterface $union */
     foreach ($queries as $union) {
       $query->union($union);
     }
@@ @@

     $alias = $def['left_table'] . '_targets';

-    /** @var \Drupal\views\Plugin\views\query\Sql $view_query */
+    /** @var Sql $view_query */
     $view_query = $this->query;
     $join = \Drupal::service('plugin.manager.views.join')->createInstance('standard', $def);
     $this->alias = $view_query->addRelationship($alias, $join, $ar_entity_type->getDataTable(), $this->relationship);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/access_records/src/Plugin/views/field/AccessRecordSubjectId.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Plugin\views\field;

+use Drupal\access_records\AccessRecordTypeInterface;
+use Drupal\Core\Database\Query\SelectInterface;
+use Drupal\views\Plugin\views\query\Sql;
 use Drupal\access_records\AccessRecordInterface;
 use Drupal\access_records\AccessRecordQueryBuilder;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected EntityTypeManagerInterface $entityTypeManager;

@@ @@
   /**
    * The access record query builder.
    *
-   * @var \Drupal\access_records\AccessRecordQueryBuilder
+   * @var AccessRecordQueryBuilder
    */
   protected AccessRecordQueryBuilder $accessRecordQueryBuilder;

@@ @@

     $query_options = ['join_targets' => FALSE];
     $queries = [];
-    /** @var \Drupal\access_records\AccessRecordTypeInterface $ar_type */
+    /** @var AccessRecordTypeInterface $ar_type */
     foreach ($type_storage->loadMultiple() as $ar_type) {
       if ($query = $this->accessRecordQueryBuilder->selectByType($ar_type, NULL, 'view', $query_options)) {
         $queries[$ar_type->id()] = $query;
@@ @@
     }

     $query = array_shift($queries);
-    /** @var \Drupal\Core\Database\Query\SelectInterface $union */
+    /** @var SelectInterface $union */
     foreach ($queries as $union) {
       $query->union($union);
     }
@@ @@

     $alias = $def['left_table'] . '_subjects';

-    /** @var \Drupal\views\Plugin\views\query\Sql $view_query */
+    /** @var Sql $view_query */
     $view_query = $this->query;
     $join = \Drupal::service('plugin.manager.views.join')->createInstance('standard', $def);
     $this->alias = $view_query->addRelationship($alias, $join, $ar_entity_type->getDataTable(), $this->relationship);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/access_records/src/Form/AccessRecordTypeForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Form;

+use Drupal\access_records\AccessRecordTypeInterface;
+use Drupal\access_records\AccessRecordInterface;
 use Drupal\access_records\Entity\AccessRecord;
 use Drupal\Core\Entity\BundleEntityFormBase;
 use Drupal\Core\Entity\EntityFieldManagerInterface;
@@ @@
   /**
    * The entity field manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * Constructs the AccessRecordTypeForm object.
    *
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity field manager.
    */
   public function __construct(EntityFieldManagerInterface $entity_field_manager) {
@@ @@
   public function form(array $form, FormStateInterface $form_state) {
     $form = parent::form($form, $form_state);

-    /** @var \Drupal\access_records\AccessRecordTypeInterface $access_record_type */
+    /** @var AccessRecordTypeInterface $access_record_type */
     $access_record_type = $this->entity;
     if ($this->operation == 'add') {
       $has_data = FALSE;
@@ @@
    * {@inheritdoc}
    */
   public function save(array $form, FormStateInterface $form_state) {
-    /** @var \Drupal\access_records\AccessRecordTypeInterface $access_record_type */
+    /** @var AccessRecordTypeInterface $access_record_type */
     $access_record_type = $this->entity;

     $access_record_type->set('id', trim($access_record_type->id()));
@@ @@
     $fields = $this->entityFieldManager->getFieldDefinitions('access_record', $access_record_type->id());
     // @todo Make it possible to get default values without an entity.
     //   https://www.drupal.org/node/2318187
-    /** @var \Drupal\access_records\AccessRecordInterface $access_record */
+    /** @var AccessRecordInterface $access_record */
     $access_record = $this->entityTypeManager->getStorage('access_record')->create(['ar_type' => $access_record_type->id()]);

     $value = (bool) $form_state->getValue(['options', 'status']);
@@ @@
    *   Array of options ready to be used in #options.
    */
   protected function getWorkflowOptions() {
-    /** @var \Drupal\access_records\AccessRecordTypeInterface $access_record_type */
+    /** @var AccessRecordTypeInterface $access_record_type */
     $access_record_type = $this->entity;
     $workflow_options = [
       'status' => $access_record_type->getStatus(),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/access_records/src/Form/AccessRecordRevisionRevertTranslationForm.php:26

    ---------- begin diff ----------
@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * Constructs a new AccessRecordRevisionRevertTranslationForm.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $access_record_storage
+   * @param EntityStorageInterface $access_record_storage
    *   The access record storage.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The time service.
    */
   public function __construct(EntityStorageInterface $access_record_storage, DateFormatterInterface $date_formatter, LanguageManagerInterface $language_manager, TimeInterface $time) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/access_records/src/Form/AccessRecordRevisionRevertForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Form;

+use Drupal\Core\Entity\ContentEntityStorageInterface;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Core\Datetime\DateFormatterInterface;
 use Drupal\Core\Entity\EntityStorageInterface;
@@ @@
   /**
    * The access record revision.
    *
-   * @var \Drupal\access_records\AccessRecordInterface
+   * @var AccessRecordInterface
    */
   protected $revision;

@@ @@
   /**
    * The access record storage.
    *
-   * @var \Drupal\Core\Entity\ContentEntityStorageInterface
+   * @var ContentEntityStorageInterface
    */
   protected $accessRecordStorage;

@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * The time service.
    *
-   * @var \Drupal\Component\Datetime\TimeInterface
+   * @var TimeInterface
    */
   protected $time;

@@ @@
   /**
    * Constructs a new AccessRecordRevisionRevertForm.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $access_record_storage
+   * @param EntityStorageInterface $access_record_storage
    *   The access record storage.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The time service.
    */
   public function __construct(EntityStorageInterface $access_record_storage, DateFormatterInterface $date_formatter, TimeInterface $time) {
@@ @@
   /**
    * Prepares a revision to be reverted.
    *
-   * @param \Drupal\access_records\AccessRecordInterface $revision
+   * @param AccessRecordInterface $revision
    *   The revision to be reverted.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
-   * @return \Drupal\access_records\AccessRecordInterface
+   * @return AccessRecordInterface
    *   The prepared revision ready to be stored.
    */
   protected function prepareRevertedRevision(AccessRecordInterface $revision, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/access_records/src/Form/AccessRecordRevisionDeleteForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Form;

+use Drupal\access_records\AccessRecordInterface;
+use Drupal\Core\Entity\ContentEntityStorageInterface;
 use Drupal\Core\Database\Connection;
 use Drupal\Core\Datetime\DateFormatterInterface;
 use Drupal\Core\Entity\EntityStorageInterface;
@@ @@
   /**
    * The access record revision.
    *
-   * @var \Drupal\access_records\AccessRecordInterface
+   * @var AccessRecordInterface
    */
   protected $revision;

@@ @@
   /**
    * The access record storage.
    *
-   * @var \Drupal\Core\Entity\ContentEntityStorageInterface
+   * @var ContentEntityStorageInterface
    */
   protected $accessRecordStorage;

@@ @@
   /**
    * The access record type storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $accessRecordTypeStorage;

@@ @@
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;

@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * Constructs a new AccessRecordRevisionDeleteForm.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $access_record_storage
+   * @param EntityStorageInterface $access_record_storage
    *   The access record storage.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $access_record_type_storage
+   * @param EntityStorageInterface $access_record_type_storage
    *   The access record type storage.
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
    */
   public function __construct(EntityStorageInterface $access_record_storage, EntityStorageInterface $access_record_type_storage, Connection $connection, DateFormatterInterface $date_formatter) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/access_records/src/Form/AccessRecordForm.php:51

    ---------- begin diff ----------
@@ @@
    *
    * @param string $entity_type_id
    *   The entity type identifier.
-   * @param \Drupal\access_records\AccessRecordInterface $entity
+   * @param AccessRecordInterface $entity
    *   The entity updated with the submitted values.
    * @param array $form
    *   The complete form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    */
   public static function applyLabelPattern($entity_type_id, AccessRecordInterface $entity, array $form, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/access_records/src/EventSubscriber/AccessRecordsQueryAccessSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\EventSubscriber;

+use Drupal\Core\Database\Query\SelectInterface;
 use Drupal\access_records\AccessRecordQueryBuilder;
 use Drupal\access_records\Entity\AccessRecordType;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected EntityTypeManagerInterface $entityTypeManager;

@@ @@
   /**
    * The access record query builder.
    *
-   * @var \Drupal\access_records\AccessRecordQueryBuilder
+   * @var AccessRecordQueryBuilder
    */
   protected AccessRecordQueryBuilder $accessRecordQueryBuilder;

@@ @@
   /**
    * The AccessRecordsQueryAccessSubscriber constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $etm
+   * @param EntityTypeManagerInterface $etm
    *   The entity type manager.
-   * @param \Drupal\access_records\AccessRecordQueryBuilder $aqb
+   * @param AccessRecordQueryBuilder $aqb
    *   The access record query builder.
    */
   public function __construct(EntityTypeManagerInterface $etm, AccessRecordQueryBuilder $aqb) {
@@ @@
   /**
    * Includes access records for query access.
    *
-   * @param \Drupal\entity\QueryAccess\QueryAccessEvent $event
+   * @param QueryAccessEvent $event
    *   The event.
    */
   public function onQueryAccess(QueryAccessEvent $event) {
@@ @@
     $target_type = $this->entityTypeManager->getDefinition($target_type_id);
     $operation = $event->getOperation();

-    /** @var \Drupal\Core\Database\Query\SelectInterface[] $queries */
+    /** @var SelectInterface[] $queries */
     $queries = [];
     foreach (AccessRecordType::loadForAccessCheck($subject, $target_type_id, $operation, $conditions) as $ar_type) {
       if ($query = $this->accessRecordQueryBuilder->selectByType($ar_type, $subject_id, $operation)) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


13) modules/contrib/access_records/src/Entity/AccessRecordType.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Entity;

+use Drupal\Core\Entity\EntityFieldManagerInterface;
+use Drupal\user\RoleInterface;
 use Drupal\access_records\AccessRecordTypeInterface;
 use Drupal\Core\Cache\CacheableMetadata;
 use Drupal\Core\Cache\RefinableCacheableDependencyInterface;
@@ @@
     }

     $field_names = [];
-    /** @var \Drupal\Core\Entity\EntityFieldManagerInterface $efm */
+    /** @var EntityFieldManagerInterface $efm */
     $efm = \Drupal::service('entity_field.manager');
     $fields = $efm->getFieldStorageDefinitions($entity_type_id);
     foreach ($efm->getFieldDefinitions('access_record', $this->id()) as $ar_field_name => $field_definition) {
@@ @@
    *
    * Additionally adds cacheability metadata to the given metadata object.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $subject
+   * @param EntityInterface $subject
    *   The subject, which is mostly a user entity.
    * @param string $target_type_id
    *   The entity type ID of the target.
    * @param string $operation
    *   The requested entity operation.
-   * @param \Drupal\Core\Cache\RefinableCacheableDependencyInterface|null $metadata
+   * @param RefinableCacheableDependencyInterface|null $metadata
    *   (optional) The object that holds collected cacheability metadata.
    * @param bool $quick_check
    *   (optional) By default, a quick check is performed to see whether it
    *   makes sense to even look for access record types.
    *
-   * @return \Drupal\access_records\AccessRecordTypeInterface[]
+   * @return AccessRecordTypeInterface[]
    *   The access record types. Can be empty.
    */
   public static function loadForAccessCheck(EntityInterface $subject, string $target_type_id, string $operation, ?RefinableCacheableDependencyInterface $metadata = NULL, bool $quick_check = TRUE): array {
@@ @@
       $metadata->addCacheContexts(['user.roles']);
       $role_storage = $etm->getStorage('user_role');
       foreach ($subject->getRoles(TRUE) as $role_id) {
-        /** @var \Drupal\user\RoleInterface $role */
+        /** @var RoleInterface $role */
         if ($role = $role_storage->load($role_id)) {
           if ($role->isAdmin()) {
             return [];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/access_records/src/Entity/AccessRecord.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Entity;

+use Drupal\Core\Entity\EntityFieldManagerInterface;
+use Drupal\Core\Field\EntityReferenceFieldItemListInterface;
+use Drupal\Core\Field\FieldItemInterface;
 use Drupal\Core\Entity\EditorialContentEntityBase;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Entity\EntityTypeInterface;
@@ @@
       // Disable the label pattern when a label is already there.
       $values['label_pattern'] = '';
     }
-    /** @var \Drupal\access_records\AccessRecordTypeInterface $access_record_type */
+    /** @var AccessRecordTypeInterface $access_record_type */
     $access_record_type = isset($values['ar_type']) ? \Drupal::entityTypeManager()->getStorage('access_record_type')->load($values['ar_type']) : NULL;
     if ($access_record_type) {
       if (!isset($values['ar_subject_type'])) {
@@ @@
       $label_pattern = $this->hasField('label_pattern') ? $this->get('label_pattern')->getString() : $this->label_pattern;
     }
     elseif ($type_id = $this->bundle()) {
-      /** @var \Drupal\access_records\AccessRecordTypeInterface $type */
+      /** @var AccessRecordTypeInterface $type */
       if ($type = \Drupal::entityTypeManager()->getStorage('access_record_type')->load($type_id)) {
         $label_pattern = $type->getLabelPattern();
       }
@@ @@

     $access_record_type = $this->getType();
     $etm = \Drupal::entityTypeManager();
-    /** @var \Drupal\Core\Entity\EntityFieldManagerInterface $efm */
+    /** @var EntityFieldManagerInterface $efm */
     $efm = \Drupal::service('entity_field.manager');

     $subject_type = $etm->getDefinition($this->ar_subject_type->value);
@@ @@
         foreach ($property_names as $property) {
           $values = [];
           if ($is_config_entity && $property === $main_property) {
-            /** @var \Drupal\Core\Field\EntityReferenceFieldItemListInterface $items */
+            /** @var EntityReferenceFieldItemListInterface $items */
             foreach ($items->referencedEntities() as $config) {
               $values[] = $config->label() ?: $config->id();
             }
           }
           else {
-            /** @var \Drupal\Core\Field\FieldItemInterface $item */
+            /** @var FieldItemInterface $item */
             foreach ($items as $item) {
               if ($item instanceof BooleanItem) {
                 $values[] = $item->getPossibleOptions()[$item->value];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/access_records/src/Controller/AccessRecordTranslationController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Controller;

+use Drupal\access_records\AccessRecordInterface;
 use Drupal\content_translation\Controller\ContentTranslationController;
 use Drupal\Core\Routing\RouteMatchInterface;

@@ @@
    */
   public function overview(RouteMatchInterface $route_match, $entity_type_id = NULL) {
     $build = parent::overview($route_match, $entity_type_id);
-    /** @var \Drupal\access_records\AccessRecordInterface $entity */
+    /** @var AccessRecordInterface $entity */
     $entity = $build['#entity'];
     $build['#title'] = $this->t('Translations of access record %label with ID %id', [
       '%label' => $entity->label(),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/access_records/src/Controller/AccessRecordRevisionController.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * The renderer service.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
   /**
    * The entity repository service.
    *
-   * @var \Drupal\Core\Entity\EntityRepositoryInterface
+   * @var EntityRepositoryInterface
    */
   protected $entityRepository;

@@ @@
   /**
    * Constructs a AccessRecordRevisionController object.
    *
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer service.
-   * @param \Drupal\Core\Entity\EntityRepositoryInterface $entity_repository
+   * @param EntityRepositoryInterface $entity_repository
    *   The entity repository.
    */
   public function __construct(DateFormatterInterface $date_formatter, RendererInterface $renderer, EntityRepositoryInterface $entity_repository) {
@@ @@
   /**
    * Generates an overview table of older revisions of a access record.
    *
-   * @param \Drupal\access_records\AccessRecordInterface $access_record
+   * @param AccessRecordInterface $access_record
    *   An access record.
    *
    * @return array
@@ @@
     $current_revision_displayed = FALSE;

     foreach ($this->getRevisionIds($access_record, $access_record_storage) as $vid) {
-      /** @var \Drupal\access_records\AccessRecordInterface $revision */
+      /** @var AccessRecordInterface $revision */
       $revision = $access_record_storage->loadRevision($vid);
       // Only show revisions that are affected by the language that is being
       // displayed.
@@ @@
   /**
    * Gets a list of access record revision IDs for a specific item.
    *
-   * @param \Drupal\access_records\AccessRecordInterface $access_record
+   * @param AccessRecordInterface $access_record
    *   The access record item.
-   * @param \Drupal\Core\Entity\ContentEntityStorageInterface $access_record_storage
+   * @param ContentEntityStorageInterface $access_record_storage
    *   The access record storage handler.
    *
    * @return int[]
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/access_records/src/AccessRecordTypeInterface.php:50

    ---------- begin diff ----------
@@ @@
   /**
    * Get the entity type of the subject.
    *
-   * @return \Drupal\Core\Entity\EntityTypeInterface
+   * @return EntityTypeInterface
    *   The subject entity type, or NULL if not defined.
    */
   public function getSubjectType(): ?EntityTypeInterface;
@@ @@
   /**
    * Get the entity type of the target.
    *
-   * @return \Drupal\Core\Entity\EntityTypeInterface
+   * @return EntityTypeInterface
    *   The target entity type, or NULL if not defined.
    */
   public function getTargetType(): ?EntityTypeInterface;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


18) modules/contrib/access_records/src/AccessRecordQueryBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records;

+use Drupal\Core\Entity\EntityTypeInterface;
+use Drupal\Core\Field\FieldStorageDefinitionInterface;
+use Drupal\Core\Entity\EntityStorageInterface;
+use Drupal\Core\Entity\Sql\DefaultTableMapping;
+use Drupal\Core\Entity\Query\ConditionInterface;
 use Drupal\Core\Database\Query\SelectInterface;
 use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected EntityTypeManagerInterface $entityTypeManager;

@@ @@
   /**
    * The entity field manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected EntityFieldManagerInterface $entityFieldManager;

@@ @@
   /**
    * The AccessRecordQueryBuilder constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $etm
+   * @param EntityTypeManagerInterface $etm
    *   The entity type manager.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $efm
+   * @param EntityFieldManagerInterface $efm
    *   The entity field manager.
    */
   public function __construct(EntityTypeManagerInterface $etm, EntityFieldManagerInterface $efm) {
@@ @@
    * take care on your own that the according user is only seeing what is
    * allowed to be seen.
    *
-   * @param \Drupal\access_records\AccessRecordTypeInterface $ar_type
+   * @param AccessRecordTypeInterface $ar_type
    *   The access record type.
    * @param int|null $subject_id
    *   (optional) The entity ID of the subject, so that the query is
@@ @@
    *     be performed. Default is TRUE. When set to FALSE, no 'target_id' is
    *     available in the list of SELECTed fields.
    *
-   * @return \Drupal\Core\Database\Query\SelectInterface|null
+   * @return SelectInterface|null
    *   The select query as object, or NULL when the type configuration is
    *   incomplete or invalid.
    */
@@ @@
     $all_fields = ['ar' => [], 'subject' => [], 'target' => []];

     $ar_entity_type_id = $ar_type->getEntityType()->getBundleOf();
-    /** @var \Drupal\Core\Entity\EntityTypeInterface[] $types */
+    /** @var EntityTypeInterface[] $types */
     $types = [
       'ar' => $this->entityTypeManager->getDefinition($ar_entity_type_id),
       'subject' => $ar_type->getSubjectType(),
@@ @@
       'join_targets' => TRUE,
     ];

-    /** @var \Drupal\Core\Field\FieldStorageDefinitionInterface[][] $field_storage_definitions */
+    /** @var FieldStorageDefinitionInterface[][] $field_storage_definitions */
     $field_storage_definitions = [
       'subject' => $this->entityFieldManager->getFieldStorageDefinitions($types['subject']->id()),
       'target' => $this->entityFieldManager->getFieldStorageDefinitions($types['target']->id()),
@@ @@
       $field_storage_definitions['ar'][$field_name] = $ar_field_defintion->getFieldStorageDefinition();
     }

-    /** @var \Drupal\Core\Entity\EntityStorageInterface[] $storages */
+    /** @var EntityStorageInterface[] $storages */
     $storages = [];
-    /** @var \Drupal\Core\Entity\Query\Sql\Query[] $queries */
+    /** @var Query[] $queries */
     $queries = [];
     // Get all table mapping instances, as we need to check whether a field
     // is stored in a shared table amongst other fields. If so, we won't use
@@ @@
     // the column definitions of the field as it would otherwise break, because
     // entity queries automatically join further tables once column names are
     // explicitly used.
-    /** @var \Drupal\Core\Entity\Sql\DefaultTableMapping[] $table_mappings */
+    /** @var DefaultTableMapping[] $table_mappings */
     $table_mappings = [];
-    /** @var \Drupal\Core\Entity\Query\ConditionInterface[] $ors */
+    /** @var ConditionInterface[] $ors */
     $ors = [];
     foreach ($types as $key => $type) {
       $storage = $this->entityTypeManager->getStorage($type->id());
@@ @@
     // queries, and need the underlying select query as an object, for being
     // able to pass it as an accepted subquery for the condition being built.
     // Therefore, a closure is created that returns the underlying query object.
-    /** @var \Drupal\Core\Database\Query\SelectInterface[] $queries */
+    /** @var SelectInterface[] $queries */
     $closure = \Closure::fromCallable(function () {
-      /** @var \Drupal\Core\Entity\Query\Sql\Query $this */
+      /** @var Query $this */
       $this->prepare()
         ->compile()
         ->addSort()
@@ @@
     }

     foreach ($selections as $scope => $scope_selections) {
-      /** @var \Drupal\Core\Database\Query\SelectInterface $query */
+      /** @var SelectInterface $query */
       $query = $queries[$scope];
       $q_fields = &$query->getFields();
       $q_fields = [];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


19) modules/contrib/access_records/src/AccessRecordPermissions.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * AccessRecordPermissions constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager) {
@@ @@
   /**
    * Returns a list of permissions for a given access record config.
    *
-   * @param \Drupal\access_records\AccessRecordTypeInterface $type
+   * @param AccessRecordTypeInterface $type
    *   The access record type.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


20) modules/contrib/access_records/src/AccessRecordListBuilder.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * The redirect destination service.
    *
-   * @var \Drupal\Core\Routing\RedirectDestinationInterface
+   * @var RedirectDestinationInterface
    */
   protected $redirectDestination;

@@ @@
   /**
    * Constructs a new AccessRecordListBuilder object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type definition.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $storage
+   * @param EntityStorageInterface $storage
    *   The entity storage class.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Routing\RedirectDestinationInterface $redirect_destination
+   * @param RedirectDestinationInterface $redirect_destination
    *   The redirect destination service.
    */
   public function __construct(EntityTypeInterface $entity_type, EntityStorageInterface $storage, DateFormatterInterface $date_formatter, RedirectDestinationInterface $redirect_destination) {
@@ @@
     $label = $entity->label();
     $rel = $entity->hasLinkTemplate('canonical') ? 'canonical' : 'edit-form';
     $op = $rel === 'canonical' ? 'view' : 'update';
-    /** @var \Drupal\access_records\AccessRecordInterface $entity */
+    /** @var AccessRecordInterface $entity */
     $row['ar_id'] = $entity->access($op) ? $entity->toLink($entity->id(), $rel) : $entity->id();
     $row['ar_label'] = $label !== '' && $entity->access($op) ? $entity->toLink($label, $rel) : $label;
     $row['ar_uid']['data'] = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


21) modules/contrib/access_records/src/AccessRecordInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records;

+use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\user\EntityOwnerInterface;
 use Drupal\Core\Entity\EntityChangedInterface;
@@ @@
   /**
    * Get the according access record type (i.e. the bundle as object).
    *
-   * @return \Drupal\access_records\AccessRecordTypeInterface
+   * @return AccessRecordTypeInterface
    *   The access record type as object.
    */
   public function getType(): AccessRecordTypeInterface;
@@ @@
   /**
    * Get all attached fields that refer to the subject.
    *
-   * @return \Drupal\Core\Field\FieldItemListInterface[]
+   * @return FieldItemListInterface[]
    *   An array of field item lists,
    *   keyed by field name as found within the subject.
    */
@@ @@
   /**
    * Get all attached fields that refer to the target.
    *
-   * @return \Drupal\Core\Field\FieldItemListInterface[]
+   * @return FieldItemListInterface[]
    *   An array of field item lists,
    *   keyed by field name as found within the target.
    */
@@ @@
   /**
    * Get the user who last changed this access record.
    *
-   * @return \Drupal\user\UserInterface|null
+   * @return UserInterface|null
    *   The user who last changed this record, or NULL if not available.
    */
   public function getChangedBy(): ?UserInterface;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


22) modules/contrib/access_records/src/AccessRecordFieldBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records;

+use Drupal\Core\Field\BaseFieldDefinition;
+use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Field\FieldStorageDefinitionInterface;
 use Drupal\field\Entity\FieldConfig;
@@ @@
   /**
    * Adds a set of default fields to all access records of the given type.
    *
-   * @param \Drupal\access_records\AccessRecordTypeInterface $ar_type
+   * @param AccessRecordTypeInterface $ar_type
    *   The type of all access records the fields should be attached to.
    */
   public function addDefaultFields(AccessRecordTypeInterface $ar_type): void {
@@ @@
       if ($target_type->hasKey('published')) {
         $published_key = $target_type->getKey('published');
         if (isset($base_fields[$published_key])) {
-          /** @var \Drupal\Core\Field\BaseFieldDefinition $base_field */
+          /** @var BaseFieldDefinition $base_field */
           $base_field = $base_fields[$published_key];
           $label = $base_field->getLabel() . ' targets';
           $this->addBooleanField($ar_type, 'target_' . $published_key, $label);
@@ @@
         // Add a field that matches subject ID to target's owner ID.
         $owner_key = $target_type->getKey('owner');
         if (isset($base_fields[$owner_key])) {
-          /** @var \Drupal\Core\Field\BaseFieldDefinition $base_field */
+          /** @var BaseFieldDefinition $base_field */
           $base_field = $base_fields[$owner_key];
           $label = 'Targets ' . strtolower($base_field->getLabel());
           $this->addEntityReferenceField($ar_type, $subject_type->id(), 'subject_' . $subject_type->getKey('id') . '__target_' . $owner_key, $label);
@@ @@
   /**
    * Adds a field holding a reference to subjects (mostly users).
    *
-   * @param \Drupal\access_records\AccessRecordTypeInterface $ar_type
+   * @param AccessRecordTypeInterface $ar_type
    *   The type of access records the field should be attached to.
    * @param string|null $label
    *   (optional) The label for the reference field.
    *
-   * @return \Drupal\field\Entity\FieldConfig|null
+   * @return FieldConfig|null
    *   An entity reference field object or NULL if not available.
    */
   public function addSubjectReferenceField(AccessRecordTypeInterface $ar_type, ?string $label = NULL): ?FieldConfig {
@@ @@
   /**
    * Adds a field holding a reference to targets.
    *
-   * @param \Drupal\access_records\AccessRecordTypeInterface $ar_type
+   * @param AccessRecordTypeInterface $ar_type
    *   The type of access records the field should be attached to.
    * @param string|null $label
    *   (optional) The label for the reference field.
    *
-   * @return \Drupal\field\Entity\FieldConfig|null
+   * @return FieldConfig|null
    *   An entity reference field object or NULL if not available.
    */
   public function addTargetReferenceField(AccessRecordTypeInterface $ar_type, ?string $label = NULL): ?FieldConfig {
@@ @@
   /**
    * Adds an entity reference field to all records of the given type.
    *
-   * @param \Drupal\access_records\AccessRecordTypeInterface $ar_type
+   * @param AccessRecordTypeInterface $ar_type
    *   The type of access records the field should be attached to.
    * @param string $entity_type_id
    *   (optional) The entity type ID.
@@ @@
    * @param string $label
    *   (optional) The human-readable label for the reference field.
    *
-   * @return \Drupal\field\Entity\FieldConfig|null
+   * @return FieldConfig|null
    *   An entity reference field object or NULL if not available.
    */
   public function addEntityReferenceField(AccessRecordTypeInterface $ar_type, string $entity_type_id, string $field_name, string $label): ?FieldConfig {
@@ @@
       ]);
       $field->save();

-      /** @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface $display_repository */
+      /** @var EntityDisplayRepositoryInterface $display_repository */
       $display_repository = \Drupal::service('entity_display.repository');

       // Assign widget settings for the default form mode.
@@ @@
   /**
    * Adds an boolean field to all records of the given type.
    *
-   * @param \Drupal\access_records\AccessRecordTypeInterface $ar_type
+   * @param AccessRecordTypeInterface $ar_type
    *   The type of access records the field should be attached to.
    * @param string $field_name
    *   (optional) The machine name of the field.
@@ @@
    * @param string $label
    *   (optional) The human-readable label for the field.
    *
-   * @return \Drupal\field\Entity\FieldConfig|null
+   * @return FieldConfig|null
    *   A field config object or NULL if not available.
    */
   public function addBooleanField(AccessRecordTypeInterface $ar_type, string $field_name, string $label): ?FieldConfig {
@@ @@
       ]);
       $field->save();

-      /** @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface $display_repository */
+      /** @var EntityDisplayRepositoryInterface $display_repository */
       $display_repository = \Drupal::service('entity_display.repository');

       // Assign widget settings for the default form mode.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


23) modules/contrib/access_records/src/AccessRecordAccessControlHandler.php:22

    ---------- begin diff ----------
@@ @@
       return AccessResult::allowed()->cachePerPermissions();
     }

-    /** @var \Drupal\access_records\AccessRecordInterface $access_record */
+    /** @var AccessRecordInterface $access_record */
     $access_record = $entity;
     $config_id = $access_record->bundle();
     $is_owner = ($account->id() && $account->id() === $access_record->getOwnerId());
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


24) modules/contrib/access_records/src/Access/AccessRecordRevisionAccessCheck.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\access_records\Access;

+use Drupal\Core\Entity\ContentEntityStorageInterface;
+use Drupal\Core\Entity\EntityAccessControlHandlerInterface;
+use Drupal\Core\Access\AccessResultInterface;
+use Drupal\access_records\AccessRecordTypeInterface;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Routing\Access\AccessInterface;
@@ @@
   /**
    * The access record storage.
    *
-   * @var \Drupal\Core\Entity\ContentEntityStorageInterface
+   * @var ContentEntityStorageInterface
    */
   protected $accessRecordStorage;

@@ @@
   /**
    * The access record access control handler.
    *
-   * @var \Drupal\Core\Entity\EntityAccessControlHandlerInterface
+   * @var EntityAccessControlHandlerInterface
    */
   protected $accessRecordAccess;

@@ @@
   /**
    * Constructs a new AccessRecordRevisionAccessCheck.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager) {
@@ @@
   /**
    * Checks routing access for the access record item revision.
    *
-   * @param \Symfony\Component\Routing\Route $route
+   * @param Route $route
    *   The route to check against.
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   The currently logged in account.
    * @param int $access_record_revision
    *   (Optional) The item revision ID. If not specified, but $access_record is,
    *   access is checked for that object's revision.
-   * @param \Drupal\access_records\AccessRecordInterface $access_record
+   * @param AccessRecordInterface $access_record
    *   (Optional) An access record item. Used for checking access to an item's
    *   default revision when $access_record_revision is unspecified. Ignored
    *   when $access_record_revision is specified. If neither
@@ @@
    *   $access_record_revision nor $access_record are specified, then access is
    *   denied.
    *
-   * @return \Drupal\Core\Access\AccessResultInterface
+   * @return AccessResultInterface
    *   The access result.
    */
   public function access(Route $route, AccountInterface $account, $access_record_revision = NULL, AccessRecordInterface $access_record = NULL) {
@@ @@
   /**
    * Checks access record item revision access.
    *
-   * @param \Drupal\access_records\AccessRecordInterface $access_record
+   * @param AccessRecordInterface $access_record
    *   The access record item to check.
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   A user object representing the user for whom the operation is to be
    *   performed.
    * @param string $op
@@ @@
       }
       // If the revisions checkbox is selected for the access record config,
       // display the revisions tab.
-      /** @var \Drupal\access_records\AccessRecordTypeInterface $access_record_type */
+      /** @var AccessRecordTypeInterface $access_record_type */
       $access_record_type = \Drupal::entityTypeManager()->getStorage('access_record_type')->load($type_id);
       if ($access_record_type->shouldCreateNewRevision() && $op === 'view') {
         $this->access[$cid] = TRUE;
@@ @@
   /**
    * Counts the number of revisions in the default language.
    *
-   * @param \Drupal\access_records\AccessRecordInterface $access_record
+   * @param AccessRecordInterface $access_record
    *   The access record item for which to count the revisions.
    *
    * @return int
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


25) modules/contrib/access_records/access_records.views.inc:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\access_records\AccessRecordTypeInterface;
 /**
  * @file
  * Provides views data for access records.
  */
-
 /**
  * Implements hook_views_data_alter().
  */
@@ @@
   ];

   $entity_types_included = [];
-  /** @var \Drupal\access_records\AccessRecordTypeInterface $type */
+  /** @var AccessRecordTypeInterface $type */
   foreach ($type_storage->loadMultiple() as $type) {
     if (!$type->status()) {
       continue;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


26) modules/contrib/access_records/access_records.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\access_records\AccessRecordInterface;
+use Drupal\Core\Entity\EntityTypeInterface;
+use Drupal\user\UserInterface;
+use Drupal\Core\Session\AccountSwitcherInterface;
 /**
  * @file
  * The Access Records module file.
@@ @@
  */
 function access_records_theme_suggestions_access_record(array $variables) {
   $suggestions = [];
-  /** @var \Drupal\access_records\AccessRecordInterface $access_record */
+  /** @var AccessRecordInterface $access_record */
   $access_record = $variables['elements']['#access_record'];
   $sanitized_view_mode = strtr($variables['elements']['#view_mode'], '.', '_');

@@ @@
  */
 function access_records_inline_entity_form_entity_form_alter(array &$entity_form, FormStateInterface &$form_state) {
   if (isset($entity_form['#entity_type']) && $entity_form['#entity_type'] === 'access_record') {
-    /** @var \Drupal\access_records\AccessRecordInterface $access_record */
+    /** @var AccessRecordInterface $access_record */
     $access_record = $entity_form['#entity'];
     $form_class = $access_record->getEntityType()->getFormClass('default');
     $entity_form['#entity_builders']['apply_label_pattern'] = [
@@ @@
   if (!isset($entity_types['access_record'])) {
     return;
   }
-  /** @var \Drupal\Core\Entity\EntityTypeInterface $entity_type */
+  /** @var EntityTypeInterface $entity_type */
   $entity_type = $entity_types['access_record'];
   $module_handler = \Drupal::moduleHandler();

@@ @@
   $target_type = $target->getEntityType();
   $cacheability = new CacheableMetadata();

-  /** @var \Drupal\user\UserInterface $subject */
+  /** @var UserInterface $subject */
   if (!($subject = $etm->getStorage('user')->load($account->id()))) {
     // When the subject has no stored entity, one is created on runtime here,
     // and then lookup whether an access record type exists for the target type.
@@ @@
     $count = 0;
     $account_switched = FALSE;
     if ((string) \Drupal::currentUser()->id() !== (string) $subject->id()) {
-      /** @var \Drupal\Core\Session\AccountSwitcherInterface $account_switcher */
+      /** @var AccountSwitcherInterface $account_switcher */
       $account_switcher = \Drupal::service('account_switcher');
       $account_switcher->switchTo($subject);
       $account_switched = TRUE;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


27) modules/contrib/access_records/access_records.api.php:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\access_records\AccessRecordInterface;
 /**
  * @file
  * Hooks specific to the Access Records module.
@@ @@
  * In case the hook implementation returns an empty string, a fallback value
  * will be generated, or another module might generate the value.
  *
- * @param \Drupal\access_records\AccessRecordInterface $access_record
+ * @param AccessRecordInterface $access_record
  *   The access record.
  * @param string $string
  *   The current value of the string representation.
@@ @@
  *
  * @see \Drupal\access_records\AccessRecordInterface::getStringRepresentation()
  */
-function hook_access_record_get_string_representation(\Drupal\access_records\AccessRecordInterface $access_record, $string) {
+function hook_access_record_get_string_representation(AccessRecordInterface $access_record, $string) {
   if ($access_record->isNew()) {
     return 'NEW - ' . $access_record->get('my_custom_field')->value;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 27 files have been changed by Rector                                      

