diff --git a/src/Controller/DefaultController.php b/src/Controller/DefaultController.php
index 2aa2c8b..7b2774f 100644
--- a/src/Controller/DefaultController.php
+++ b/src/Controller/DefaultController.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\styleswitcher\Controller;
 
+use Symfony\Component\HttpFoundation\RedirectResponse;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\Extension\ThemeHandlerInterface;
@@ -17,23 +18,23 @@ class DefaultController extends ControllerBase {
   /**
    * The Datetime service.
    *
-   * @var \Drupal\Component\Datetime\TimeInterface
+   * @var TimeInterface
    */
   protected $time;
 
   /**
    * The theme handler service.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;
 
   /**
    * Constructs a new DefaultController.
    *
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The DateTime service.
    */
   public function __construct(ThemeHandlerInterface $theme_handler, TimeInterface $time) {
@@ -58,7 +59,7 @@ class DefaultController extends ControllerBase {
    *   New active style. The structure of an array is the same as returned from
    *   styleswitcher_style_load().
    *
-   * @return \Symfony\Component\HttpFoundation\RedirectResponse
+   * @return RedirectResponse
    *   Response object.
    *
    * @see styleswitcher_style_load()
@@ -78,7 +79,7 @@ class DefaultController extends ControllerBase {
    *   Name of the theme to find the active style for. This argument is needed
    *   to know what the page user came from and what theme was used there.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   Response object.
    */
   public function styleswitcherCss($theme) {
diff --git a/src/Form/StyleswitcherConfigTheme.php b/src/Form/StyleswitcherConfigTheme.php
index 1ed8781..b68dd37 100644
--- a/src/Form/StyleswitcherConfigTheme.php
+++ b/src/Form/StyleswitcherConfigTheme.php
@@ -16,14 +16,14 @@ class StyleswitcherConfigTheme extends FormBase {
   /**
    * The theme handler.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;
 
   /**
    * Constructs the StyleswitcherConfigTheme.
    *
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler.
    */
   public function __construct(ThemeHandlerInterface $theme_handler) {
@@ -49,7 +49,7 @@ class StyleswitcherConfigTheme extends FormBase {
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    * @param string $theme
    *   Name of the theme to configure styles for.
diff --git a/src/Form/StyleswitcherStyleDeleteForm.php b/src/Form/StyleswitcherStyleDeleteForm.php
index 5093419..a2d9c1d 100644
--- a/src/Form/StyleswitcherStyleDeleteForm.php
+++ b/src/Form/StyleswitcherStyleDeleteForm.php
@@ -53,7 +53,7 @@ class StyleswitcherStyleDeleteForm extends ConfirmFormBase {
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    * @param array $style
    *   Style to delete. The structure of an array is the same as returned from
diff --git a/src/Form/StyleswitcherStyleForm.php b/src/Form/StyleswitcherStyleForm.php
index adf43c4..f8727eb 100644
--- a/src/Form/StyleswitcherStyleForm.php
+++ b/src/Form/StyleswitcherStyleForm.php
@@ -17,14 +17,14 @@ class StyleswitcherStyleForm extends FormBase {
   /**
    * The theme manager.
    *
-   * @var \Drupal\Core\Theme\ThemeManagerInterface
+   * @var ThemeManagerInterface
    */
   protected $themeManager;
 
   /**
    * Constructs the StyleswitcherStyleForm.
    *
-   * @param \Drupal\Core\Theme\ThemeManagerInterface $theme_manager
+   * @param ThemeManagerInterface $theme_manager
    *   The theme manager.
    */
   public function __construct(ThemeManagerInterface $theme_manager) {
@@ -50,7 +50,7 @@ class StyleswitcherStyleForm extends FormBase {
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    * @param array|null $style
    *   (optional) Style to edit. The structure of an array is the same as
diff --git a/src/Plugin/Block/Styleswitcher.php b/src/Plugin/Block/Styleswitcher.php
index 25a59e4..fa5f3db 100644
--- a/src/Plugin/Block/Styleswitcher.php
+++ b/src/Plugin/Block/Styleswitcher.php
@@ -24,21 +24,21 @@ class Styleswitcher extends BlockBase implements ContainerFactoryPluginInterface
   /**
    * The theme manager.
    *
-   * @var \Drupal\Core\Theme\ThemeManagerInterface
+   * @var ThemeManagerInterface
    */
   protected $themeManager;
 
   /**
    * The Redirect Destination service.
    *
-   * @var \Drupal\Core\Routing\RedirectDestinationInterface
+   * @var RedirectDestinationInterface
    */
   protected $redirectDestination;
 
   /**
    * Configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
@@ -51,11 +51,11 @@ class Styleswitcher extends BlockBase implements ContainerFactoryPluginInterface
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Theme\ThemeManagerInterface $theme_manager
+   * @param ThemeManagerInterface $theme_manager
    *   The theme manager.
-   * @param \Drupal\Core\Routing\RedirectDestinationInterface $redirect_destination
+   * @param RedirectDestinationInterface $redirect_destination
    *   The Redirect Destination service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Configuration factory.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ThemeManagerInterface $theme_manager, RedirectDestinationInterface $redirect_destination, ConfigFactoryInterface $config_factory) {
@@ -122,7 +122,7 @@ class Styleswitcher extends BlockBase implements ContainerFactoryPluginInterface
 
         // Make paths absolute for JS.
         if (isset($style['path'])) {
-          $styles[$name]['path'] = file_create_url($style['path']);
+          $styles[$name]['path'] = \Drupal::service('file_url_generator')->generateAbsoluteString($style['path']);
         }
         else {
           $styles[$name]['path'] = Url::fromRoute('styleswitcher.css', ['theme' => $theme], ['absolute' => TRUE])->toString();
diff --git a/src/Plugin/Derivative/ThemeLocalTask.php b/src/Plugin/Derivative/ThemeLocalTask.php
index 6bbf23b..cd99635 100644
--- a/src/Plugin/Derivative/ThemeLocalTask.php
+++ b/src/Plugin/Derivative/ThemeLocalTask.php
@@ -15,14 +15,14 @@ class ThemeLocalTask extends DeriverBase implements ContainerDeriverInterface {
   /**
    * The theme handler.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;
 
   /**
    * Constructs a new ThemeLocalTask.
    *
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler.
    */
   public function __construct(ThemeHandlerInterface $theme_handler) {
diff --git a/styleswitcher.module b/styleswitcher.module
index 186bdee..1c3fe33 100644
--- a/styleswitcher.module
+++ b/styleswitcher.module
@@ -32,7 +32,7 @@ function styleswitcher_page_attachments(array &$attachments) {
  * Implements hook_css_alter().
  */
 function styleswitcher_css_alter(&$css, AttachedAssetsInterface $assets) {
-  $path = drupal_get_path('module', 'styleswitcher') . '/styleswitcher.active.css';
+  $path = \Drupal::service('extension.list.module')->getPath('styleswitcher') . '/styleswitcher.active.css';
 
   // The dynamic-css library is not always attached. For example, maintenance
   // pages don't have it. So check for its presence.
@@ -276,7 +276,7 @@ function styleswitcher_theme_styles($theme, $original_theme = NULL) {
   }
 
   $theme_styles = [];
-  $theme_path = drupal_get_path('theme', $theme);
+  $theme_path = \Drupal::service('extension.list.theme')->getPath($theme);
   $themes = Drupal::service('theme_handler')->listInfo();
   $theme_info = isset($themes[$theme]) ? $themes[$theme]->info : [];
 
diff --git a/tests/modules/styleswitcher_test_legacy_cookies/src/Controller/Controller.php b/tests/modules/styleswitcher_test_legacy_cookies/src/Controller/Controller.php
index fbe1bbe..25d9ec3 100644
--- a/tests/modules/styleswitcher_test_legacy_cookies/src/Controller/Controller.php
+++ b/tests/modules/styleswitcher_test_legacy_cookies/src/Controller/Controller.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\styleswitcher_test_legacy_cookies\Controller;
 
+use Symfony\Component\HttpFoundation\RedirectResponse;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\Extension\ThemeHandlerInterface;
@@ -15,23 +16,23 @@ class Controller extends ControllerBase {
   /**
    * The Datetime service.
    *
-   * @var \Drupal\Component\Datetime\TimeInterface
+   * @var TimeInterface
    */
   protected $time;
 
   /**
    * The theme handler service.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;
 
   /**
    * Constructs a new Controller.
    *
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The DateTime service.
    */
   public function __construct(ThemeHandlerInterface $theme_handler, TimeInterface $time) {
@@ -55,7 +56,7 @@ class Controller extends ControllerBase {
    * @param int $version
    *   Version of a Style Switcher cookie to set.
    *
-   * @return \Symfony\Component\HttpFoundation\RedirectResponse
+   * @return RedirectResponse
    *   Response object.
    */
   public function cookieSetter($version) {
diff --git a/tests/src/Functional/ConfigTest.php b/tests/src/Functional/ConfigTest.php
index 6a76628..5334848 100644
--- a/tests/src/Functional/ConfigTest.php
+++ b/tests/src/Functional/ConfigTest.php
@@ -34,7 +34,7 @@ class ConfigTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->enablePageCaching();
 
diff --git a/tests/src/Functional/CookieTest.php b/tests/src/Functional/CookieTest.php
index f02eda3..89e9f56 100644
--- a/tests/src/Functional/CookieTest.php
+++ b/tests/src/Functional/CookieTest.php
@@ -35,7 +35,7 @@ class CookieTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->enablePageCaching();
diff --git a/tests/src/Functional/CookieUpdateTest.php b/tests/src/Functional/CookieUpdateTest.php
index 86e1166..ba14de5 100644
--- a/tests/src/Functional/CookieUpdateTest.php
+++ b/tests/src/Functional/CookieUpdateTest.php
@@ -34,7 +34,7 @@ class CookieUpdateTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->enablePageCaching();
   }
diff --git a/tests/src/Functional/FormTest.php b/tests/src/Functional/FormTest.php
index 30f9574..e026b72 100644
--- a/tests/src/Functional/FormTest.php
+++ b/tests/src/Functional/FormTest.php
@@ -33,7 +33,7 @@ class FormTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $user = $this->drupalCreateUser(['administer styleswitcher']);
diff --git a/tests/src/Functional/InitialStateTest.php b/tests/src/Functional/InitialStateTest.php
index 883e4fb..b398e2d 100644
--- a/tests/src/Functional/InitialStateTest.php
+++ b/tests/src/Functional/InitialStateTest.php
@@ -39,7 +39,7 @@ class InitialStateTest extends BrowserTestBase {
       $this->assertStringContainsString("/styleswitcher/css/{$this->defaultTheme}", $link->getAttribute('href'));
     }
     else {
-      $this->assertContains("/styleswitcher/css/{$this->defaultTheme}", $link->getAttribute('href'));
+      $this->assertStringContainsString("/styleswitcher/css/{$this->defaultTheme}", $link->getAttribute('href'));
     }
   }
 
diff --git a/tests/src/Functional/MultiThemeTest.php b/tests/src/Functional/MultiThemeTest.php
index 9aab845..6810ee5 100644
--- a/tests/src/Functional/MultiThemeTest.php
+++ b/tests/src/Functional/MultiThemeTest.php
@@ -42,7 +42,7 @@ class MultiThemeTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->themeStyles = [
@@ -108,7 +108,7 @@ class MultiThemeTest extends BrowserTestBase {
           $this->assertStringContainsString($label, $label_cell->getText());
         }
         else {
-          $this->assertContains($label, $label_cell->getText());
+          $this->assertStringContainsString($label, $label_cell->getText());
         }
       }
     }
@@ -143,7 +143,7 @@ class MultiThemeTest extends BrowserTestBase {
         $this->assertStringContainsString('/styleswitcher/css/' . $theme, $link->getAttribute('href'));
       }
       else {
-        $this->assertContains('/styleswitcher/css/' . $theme, $link->getAttribute('href'));
+        $this->assertStringContainsString('/styleswitcher/css/' . $theme, $link->getAttribute('href'));
       }
     }
   }
diff --git a/tests/src/Functional/Update/UpdatePathTestInstallHelper.php b/tests/src/Functional/Update/UpdatePathTestInstallHelper.php
index a333d88..ba0d99c 100644
--- a/tests/src/Functional/Update/UpdatePathTestInstallHelper.php
+++ b/tests/src/Functional/Update/UpdatePathTestInstallHelper.php
@@ -14,14 +14,14 @@ class UpdatePathTestInstallHelper {
   /**
    * The DB connection object.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected static $connection;
 
   /**
    * Gets the DB connection object.
    *
-   * @return \Drupal\Core\Database\Connection
+   * @return Connection
    *   The DB connection object.
    */
   protected static function getConnection(): Connection {
diff --git a/tests/src/Kernel/ConfigTest.php b/tests/src/Kernel/ConfigTest.php
index 804791c..4fcf7bd 100644
--- a/tests/src/Kernel/ConfigTest.php
+++ b/tests/src/Kernel/ConfigTest.php
@@ -19,7 +19,7 @@ class ConfigTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig(static::$modules);
   }
diff --git a/tests/src/Kernel/Migrate/d7/MigrateBlockTest.php b/tests/src/Kernel/Migrate/d7/MigrateBlockTest.php
index 2f67a9f..c6ea263 100644
--- a/tests/src/Kernel/Migrate/d7/MigrateBlockTest.php
+++ b/tests/src/Kernel/Migrate/d7/MigrateBlockTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\styleswitcher\Kernel\Migrate\d7;
 
+use Drupal\block\BlockInterface;
 use Drupal\block\Entity\Block;
 use Drupal\Tests\migrate_drupal\Kernel\d7\MigrateDrupal7TestBase;
 
@@ -20,7 +21,7 @@ class MigrateBlockTest extends MigrateDrupal7TestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->loadFixture(__DIR__ . '/../../../../fixtures/migrate/drupal7.styleswitcher.php');
 
@@ -45,7 +46,7 @@ class MigrateBlockTest extends MigrateDrupal7TestBase {
   public function testBlockMigration() {
     $block = Block::load('bartik_styleswitcher_styleswitcher');
     $this->assertTrue($block instanceof Block);
-    /** @var \Drupal\block\BlockInterface $block */
+    /** @var BlockInterface $block */
     $this->assertSame('styleswitcher_styleswitcher', $block->getPluginId());
 
     $this->assertSame('sidebar_first', $block->getRegion());
diff --git a/tests/src/Kernel/Migrate/d7/MigrateVariablesTest.php b/tests/src/Kernel/Migrate/d7/MigrateVariablesTest.php
index ddd48ad..c4daef4 100644
--- a/tests/src/Kernel/Migrate/d7/MigrateVariablesTest.php
+++ b/tests/src/Kernel/Migrate/d7/MigrateVariablesTest.php
@@ -20,7 +20,7 @@ class MigrateVariablesTest extends MigrateDrupal7TestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->loadFixture(__DIR__ . '/../../../../fixtures/migrate/drupal7.styleswitcher.php');
 
