modules/contrib/modifiers/modifiers.api.php
modules/contrib/modifiers/modifiers.module
modules/contrib/modifiers/src/Annotation/Modifier.php
modules/contrib/modifiers/src/Modification.php
modules/contrib/modifiers/src/ModificationInterface.php
modules/contrib/modifiers/src/ModifierInterface.php
modules/contrib/modifiers/src/ModifierPluginBase.php
modules/contrib/modifiers/src/ModifierPluginManager.php
modules/contrib/modifiers/src/Modifiers.php
modules/contrib/modifiers/tests/src/Unit/ModifiersTest.php

6 files with changes
====================

1) modules/contrib/modifiers/tests/src/Unit/ModifiersTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\modifiers\Unit;

+use Drupal\Core\Extension\ModuleHandlerInterface;
+use PHPUnit\Framework\MockObject\MockObject;
+use Drupal\modifiers\ModifierPluginManager;
 use Drupal\modifiers\Modification;
 use Drupal\modifiers\Modifiers;
 use Drupal\Tests\UnitTestCase;
@@ @@
   /**
    * The tested modifiers service.
    *
-   * @var \Drupal\modifiers\Modifiers
+   * @var Modifiers
    */
   protected $modifiers;

@@ @@
   /**
    * The mocked module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @var ModuleHandlerInterface|MockObject
    */
   protected $moduleHandler;

@@ @@
   /**
    * The mocked modifier plugin manager.
    *
-   * @var \Drupal\modifiers\ModifierPluginManager|\PHPUnit_Framework_MockObject_MockObject
+   * @var ModifierPluginManager|MockObject
    */
   protected $modifierPluginManager;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->moduleHandler = $this->createMock('\Drupal\Core\Extension\ModuleHandlerInterface');
-    $this->modifierPluginManager = $this->getMockBuilder('Drupal\modifiers\ModifierPluginManager')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->modifierPluginManager = $this->createMock('Drupal\modifiers\ModifierPluginManager');
     $this->modifiers = new Modifiers($this->moduleHandler, $this->modifierPluginManager);
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/modifiers/src/Modifiers.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\modifiers;

+use Drupal\file\Entity\File;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\FieldableEntityInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The modifier plugin manager.
    *
-   * @var \Drupal\modifiers\ModifierPluginManager
+   * @var ModifierPluginManager
    */
   protected $modifierPluginManager;

@@ @@
   /**
    * Constructs a new Modifiers service.
    *
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\modifiers\ModifierPluginManager $modifier_plugin_manager
+   * @param ModifierPluginManager $modifier_plugin_manager
    *   The modifier plugin manager service.
    */
   public function __construct(ModuleHandlerInterface $module_handler, ModifierPluginManager $modifier_plugin_manager) {
@@ @@
    * The resulting array is suitable for consumption by modifiers and is much
    * simpler than the standard Drupal entity structure.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity containing configuration fields.
    * @param string $field_name
    *   The name of field referencing sets of fields.
@@ @@

       // Only if field is not already processed.
       if (!isset($config[$field_short])) {
-        /** @var \Drupal\Core\Field\FieldStorageDefinitionInterface $field_storage */
+        /** @var FieldStorageDefinitionInterface $field_storage */
         $field_storage = $field->getFieldDefinition()
           ->getFieldStorageDefinition();
         $config[$field_short] = $this->getSimpleValue($field, $field_storage);
@@ @@
     $referenced_entities = $field->referencedEntities();

     // Process all referenced entities.
-    /** @var \Drupal\Core\Entity\FieldableEntityInterface $referenced_entity */
+    /** @var FieldableEntityInterface $referenced_entity */
     foreach ($referenced_entities as $referenced_entity) {
       $referenced_entity_bundle = $referenced_entity->bundle();

@@ @@
   /**
    * Extracts configuration from provided entity field.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $field
+   * @param FieldItemListInterface $field
    *   The field object containing values.
    * @param array $config
    *   The array where configuration is added.
@@ @@
   /**
    * Gets value from complex field with referenced entities.
    *
-   * @param \Drupal\Core\Field\EntityReferenceFieldItemListInterface $field
+   * @param EntityReferenceFieldItemListInterface $field
    *   The field object referencing other entities.
-   * @param \Drupal\Core\Field\FieldStorageDefinitionInterface $field_storage
+   * @param FieldStorageDefinitionInterface $field_storage
    *   The field storage definition object.
    *
    * @return array|mixed|null
@@ @@
             if ($entity->hasField($field_name)) {
               // Only if some value exists.
               if (!$entity->get($field_name)->isEmpty()) {
-                /** @var \Drupal\Core\Field\EntityReferenceFieldItemListInterface $entity_field */
+                /** @var EntityReferenceFieldItemListInterface $entity_field */
                 $entity_field = $entity->get($field_name);
                 break;
               }
@@ @@

               case 'file':
               case 'image':
-                /** @var \Drupal\file\Entity\File $file */
+                /** @var File $file */
                 foreach ($entity_field->referencedEntities() as $file) {
                   $values[] = $file->createFileUrl();
                 }
@@ @@
   /**
    * Gets value from simple field.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $field
+   * @param FieldItemListInterface $field
    *   The field object containing values.
-   * @param \Drupal\Core\Field\FieldStorageDefinitionInterface $field_storage
+   * @param FieldStorageDefinitionInterface $field_storage
    *   The field storage definition object.
    *
    * @return array|mixed|null
@@ @@
   /**
    * Fills all modifications based on provided configuration.
    *
-   * @param array|\Drupal\modifiers\Modification[] $modifications
+   * @param array|Modification[] $modifications
    *   The existing modifications set.
    * @param array $modifiers
    *   The modifiers configuration.
@@ @@
     foreach ($modifiers as $type => $configs) {

       if ($this->modifierPluginManager->hasDefinition($type) && !empty($configs)) {
-        /** @var \Drupal\modifiers\ModifierInterface $plugin */
+        /** @var ModifierInterface $plugin */
         $plugin = $this->modifierPluginManager->createInstance($type);

         // Process all current plugin modifications.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/modifiers/src/ModifierPluginManager.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * The theme handler.
    *
-   * @var \Drupal\Core\Extension\ThemeHandlerInterface
+   * @var ThemeHandlerInterface
    */
   protected $themeHandler;

@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler
+   * @param ThemeHandlerInterface $theme_handler
    *   The theme handler.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler, ThemeHandlerInterface $theme_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/modifiers/src/ModifierInterface.php:21

    ---------- begin diff ----------
@@ @@
    * @param array $config
    *   The modification configuration.
    *
-   * @return \Drupal\modifiers\Modification|null
+   * @return Modification|null
    *   The Modification object or null if empty.
    */
   public static function modification($selector, array $config);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


5) modules/contrib/modifiers/src/Annotation/Modifier.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\modifiers\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The human-readable name of the plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * The description of the plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


6) modules/contrib/modifiers/modifiers.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\block_content\Entity\BlockContent;
 /**
  * @file
  * Modifiers module.
@@ @@
   $build['#attributes']['class'][] = Html::getClass('modifiers-display-' . $display_mode);

   // Initialize modifiers service.
-  /** @var \Drupal\modifiers\Modifiers $modifiers */
+  /** @var Modifiers $modifiers */
   $modifiers = \Drupal::service('modifiers');

   $config = $modifiers->extractEntityConfig($entity, Modifiers::FIELD, ['modifiers' => []]);
@@ @@

       // Only if block contains a custom block entity.
       if (isset($region_block['content']['#block_content'])) {
-        /** @var \Drupal\block_content\Entity\BlockContent $entity */
+        /** @var BlockContent $entity */
         $entity = $region_block['content']['#block_content'];

         // Check if this block is of a modifier block type.
@@ @@
  *
  * @param array $build
  *   The build array for rendering.
- * @param array|\Drupal\block_content\Entity\BlockContent[] $entities
+ * @param array|BlockContent[] $entities
  *   The set of modifier blocks.
  * @param string $entity_id
  *   The block entity ID.
@@ @@
 function _modifiers_layout_apply(array &$build, $entities, $entity_id, $region = NULL) {

   // Initialize modifiers service.
-  /** @var \Drupal\modifiers\Modifiers $modifiers */
+  /** @var Modifiers $modifiers */
   $modifiers = \Drupal::service('modifiers');

   // Compose selector and config to field mapping.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 6 files have been changed by Rector                                       

