modules/contrib/brandfolderassets/brandfolderassets.module
modules/contrib/brandfolderassets/src/Controller/BrandFolderAssetsController.php
modules/contrib/brandfolderassets/src/Form/BrandFolderAssetsSettingsForm.php
modules/contrib/brandfolderassets/src/Plugin/Field/FieldFormatter/BrandUrlPlainFormatter.php
modules/contrib/brandfolderassets/src/Plugin/Field/FieldFormatter/BrandfolderassetsFormatter.php
modules/contrib/brandfolderassets/src/Plugin/Field/FieldFormatter/DescriptionFileFormatterBase.php
modules/contrib/brandfolderassets/src/Plugin/Field/FieldFormatter/FormatterBase.php
modules/contrib/brandfolderassets/src/Plugin/Field/FieldType/BrandfolderassetsItem.php
modules/contrib/brandfolderassets/src/Plugin/Field/FieldType/FieldItemList.php
modules/contrib/brandfolderassets/src/Plugin/Field/FieldWidget/BrandfolderassetsWidget.php

5 files with changes
====================

1) modules/contrib/brandfolderassets/src/Plugin/Field/FieldWidget/BrandfolderassetsWidget.php:268

    ---------- begin diff ----------
@@ @@
         $assetsfield_name = str_replace('_', '-', $this->fieldDefinition->getName()).'-'.$delta;        
        
        
-        $boxhtml = '<div class="brand-grid-25 text-align-center brand-padding brand-image-item" file-mime="'.$file->getMimeType().'"><img class="brand-image-box" src="'.$file->createFileUrl() .'" ><div class="brand-image-checkbox-inner"><span data-mode="edit" data-fild-name="'.$this->fieldDefinition->getName().'" data-fild-name-delta="'.$delta.'"  data-id="'.$assetsfield_name.'" class="selected-image-remove"><img src="'.Url::fromRoute('<front>', [], ['absolute' => TRUE])->toString().drupal_get_path('module', 'brandfolderassets').'/images/remove.svg"></span></div></div>';
+        $boxhtml = '<div class="brand-grid-25 text-align-center brand-padding brand-image-item" file-mime="'.$file->getMimeType().'"><img class="brand-image-box" src="'.$file->createFileUrl() .'" ><div class="brand-image-checkbox-inner"><span data-mode="edit" data-fild-name="'.$this->fieldDefinition->getName().'" data-fild-name-delta="'.$delta.'"  data-id="'.$assetsfield_name.'" class="selected-image-remove"><img src="'.Url::fromRoute('<front>', [], ['absolute' => TRUE])->toString().\Drupal::service('extension.list.module')->getPath('brandfolderassets').'/images/remove.svg"></span></div></div>';
         $modalBtn = 'hidden'; 
       }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/brandfolderassets/src/Plugin/Field/FieldType/FieldItemList.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\brandfolderassets\Plugin\Field\FieldType;

+use Drupal\file\FileInterface;
 use Drupal\Core\Field\EntityReferenceFieldItemList;
 use Drupal\Core\Form\FormStateInterface;

@@ @@
       $files = $this->referencedEntities();
       $ids = [];

-      /** @var \Drupal\file\FileInterface $file */
+      /** @var FileInterface $file */
       foreach ($files as $file) {
         $ids[] = $file->id();
       }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/brandfolderassets/src/Plugin/Field/FieldType/BrandfolderassetsItem.php:238

    ---------- begin diff ----------
@@ @@
     // Generate a file entity.
     $destination = $dirname . '/' . $random->name(10, TRUE) . '.txt';
     $data = $random->paragraphs(3);
-    $file = file_save_data($data, $destination, FileSystemInterface::EXISTS_ERROR);
+    $file = \Drupal::service('file.repository')->writeData($data, $destination, FileSystemInterface::EXISTS_ERROR);
     $values = [
       'target_id' => $file->id(),
       'display' => (int) $settings['display_default'],
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/brandfolderassets/src/Controller/BrandFolderAssetsController.php:6

    ---------- begin diff ----------
@@ @@

 namespace Drupal\brandfolderassets\Controller;

+use Drupal\Core\File\FileSystemInterface;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\Core\Ajax\OpenModalDialogCommand;
 use Drupal\Core\Ajax\HtmlCommand;
@@ @@
     $data_thumbnail_url       = $request->request->get('data_thumbnail_url');
     $data_name       = $request->request->get('data_name');
     if($remoteFilePath){
-      $directory = file_build_uri('brandfolderassets');
-      if (!\Drupal::service('file_system')->prepareDirectory($directory, \Drupal\Core\File\FileSystemInterface::CREATE_DIRECTORY)) {
+      $directory = \Drupal::service('stream_wrapper_manager')->normalizeUri(\Drupal::config('system.file')->get('default_scheme') . ('://' . 'brandfolderassets'));
+      if (!\Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY)) {
         // If our directory doesn't exist and can't be created, use the default.
         $directory = NULL;
       }
    ----------- end diff -----------

Applied rules:
 * FileBuildUriRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/brandfolderassets/brandfolderassets.module:9

    ---------- begin diff ----------
@@ @@
 function brandfolderassets_preprocess_page(array &$variables) : void {
 	//Module name: 'brandfolderassets', library name: 'brandfolderassets'. 
 	$variables['#attached']['library'][] = 'brandfolderassets/brandfolderassets';
-	$variables['#attached']['drupalSettings']['brandfolderassets']['base_url'] = drupal_get_path('module', 'brandfolderassets');
+	$variables['#attached']['drupalSettings']['brandfolderassets']['base_url'] = \Drupal::service('extension.list.module')->getPath('brandfolderassets');
 	$variables['#attached']['drupalSettings']['brandfolderassets']['site_url'] =  Url::fromRoute('<front>', [], ['absolute' => TRUE])->toString();
-	$variables['#attached']['drupalSettings']['brandfolderassets']['module_url'] =  Url::fromRoute('<front>', [], ['absolute' => TRUE])->toString().drupal_get_path('module', 'brandfolderassets');
+	$variables['#attached']['drupalSettings']['brandfolderassets']['module_url'] =  Url::fromRoute('<front>', [], ['absolute' => TRUE])->toString().\Drupal::service('extension.list.module')->getPath('brandfolderassets');
 }

 /**
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 5 files have been changed by Rector                                       

