modules/contrib/learnosity/learnosity.install
modules/contrib/learnosity/learnosity.module
modules/contrib/learnosity/learnosity.page.inc
modules/contrib/learnosity/learnosity.views.inc
modules/contrib/learnosity/src/Ajax/LearnosityImageUpdateCommand.php
modules/contrib/learnosity/src/Annotation/LearnosityFeature.php
modules/contrib/learnosity/src/Annotation/LearnosityImageUpload.php
modules/contrib/learnosity/src/Commands/LearnosityCommands.php
modules/contrib/learnosity/src/Controller/LearnosityActivityController.php
modules/contrib/learnosity/src/Controller/LearnosityEventController.php
modules/contrib/learnosity/src/Controller/LearnosityImageUploadController.php
modules/contrib/learnosity/src/Element/LearnosityActivityEditor.php
modules/contrib/learnosity/src/Element/LearnosityAssessmentItem.php
modules/contrib/learnosity/src/Element/LearnosityReportsItem.php
modules/contrib/learnosity/src/Entity/LearnosityActivity.php
modules/contrib/learnosity/src/Entity/LearnosityActivityEditor.php
modules/contrib/learnosity/src/Entity/LearnosityActivityInterface.php
modules/contrib/learnosity/src/Entity/LearnosityActivityPlayer.php
modules/contrib/learnosity/src/Entity/LearnosityActivityPlayerInterface.php
modules/contrib/learnosity/src/Event/LearnosityAssessmentEvent.php
modules/contrib/learnosity/src/Event/LearnosityEvent.php
modules/contrib/learnosity/src/EventSubscriber/LearnositySessionExpireSubscriber.php
modules/contrib/learnosity/src/Form/LearnosityActivityDeleteForm.php
modules/contrib/learnosity/src/Form/LearnosityActivityEditorDeleteForm.php
modules/contrib/learnosity/src/Form/LearnosityActivityEditorForm.php
modules/contrib/learnosity/src/Form/LearnosityActivityForm.php
modules/contrib/learnosity/src/Form/LearnosityActivityPlayerDeleteForm.php
modules/contrib/learnosity/src/Form/LearnosityActivityPlayerForm.php
modules/contrib/learnosity/src/Form/LearnosityActivityRevisionDeleteForm.php
modules/contrib/learnosity/src/Form/LearnosityActivityRevisionRevertForm.php
modules/contrib/learnosity/src/Form/LearnosityActivityRevisionRevertTranslationForm.php
modules/contrib/learnosity/src/Form/LearnosityActivitySettingsForm.php
modules/contrib/learnosity/src/Form/LearnosityMappingsForm.php
modules/contrib/learnosity/src/Form/LearnositySettingsForm.php
modules/contrib/learnosity/src/LearnosityActivityAccessControlHandler.php
modules/contrib/learnosity/src/LearnosityActivityEditorAccessControlHandler.php
modules/contrib/learnosity/src/LearnosityActivityEditorListBuilder.php
modules/contrib/learnosity/src/LearnosityActivityEditorPermissions.php
modules/contrib/learnosity/src/LearnosityActivityHtmlRouteProvider.php
modules/contrib/learnosity/src/LearnosityActivityPlayerHtmlRouteProvider.php
modules/contrib/learnosity/src/LearnosityActivityPlayerListBuilder.php
modules/contrib/learnosity/src/LearnosityActivityStorage.php
modules/contrib/learnosity/src/LearnosityActivityStorageInterface.php
modules/contrib/learnosity/src/LearnosityActivityTranslationHandler.php
modules/contrib/learnosity/src/LearnosityApiEventHandler.php
modules/contrib/learnosity/src/LearnosityFeaturePluginManager.php
modules/contrib/learnosity/src/LearnosityImageUploadPluginManager.php
modules/contrib/learnosity/src/LearnosityMappingsHandler.php
modules/contrib/learnosity/src/LearnositySdk.php
modules/contrib/learnosity/src/LearnositySessionHandler.php
modules/contrib/learnosity/src/Plugin/EntityReferenceSelection/LearnosityActivitySelection.php
modules/contrib/learnosity/src/Plugin/Field/FieldFormatter/LearnosityActivityFormatterBase.php
modules/contrib/learnosity/src/Plugin/Field/FieldFormatter/LearnosityActivityReferenceFormatter.php
modules/contrib/learnosity/src/Plugin/Field/FieldFormatter/LearnosityAssessmentPlayerFormatter.php
modules/contrib/learnosity/src/Plugin/Field/FieldType/LearnosityActivity.php
modules/contrib/learnosity/src/Plugin/Field/FieldWidget/LearnosityActivityAuthoringWidget.php
modules/contrib/learnosity/src/Plugin/Field/FieldWidget/LearnosityActivityReferenceWidget.php
modules/contrib/learnosity/src/Plugin/LearnosityFeature/LearnosityFeatureBase.php
modules/contrib/learnosity/src/Plugin/LearnosityFeature/LearnosityFeatureInterface.php
modules/contrib/learnosity/src/Plugin/LearnosityImageUpload/LearnosityImageUploadBase.php
modules/contrib/learnosity/src/Plugin/LearnosityImageUpload/LearnosityImageUploadInterface.php
modules/contrib/learnosity/tests/modules/learnosity_test/src/Plugin/LearnosityFeature/TestFeature.php
modules/contrib/learnosity/tests/modules/learnosity_test/src/Plugin/LearnosityImageUpload/TestImageUpload.php
modules/contrib/learnosity/tests/src/Kernel/LearnosityActivityAuthoringWidgetTest.php
modules/contrib/learnosity/tests/src/Kernel/LearnosityActivityEditorElementFormTest.php
modules/contrib/learnosity/tests/src/Kernel/LearnosityAssessmentPlayerFormatterTest.php
modules/contrib/learnosity/tests/src/Kernel/LearnosityFeatureTest.php
modules/contrib/learnosity/tests/src/Kernel/LearnosityImageUploadTest.php
modules/contrib/learnosity/tests/src/Kernel/LearnosityKernelTestBase.php
modules/contrib/learnosity/tests/src/Kernel/LearnosityReportsItemElementRenderTest.php
modules/contrib/learnosity/tests/src/Unit/LearnosityAjaxCommandsTest.php
modules/contrib/learnosity/tests/src/Unit/LearnosityApiEventHandlerTest.php
modules/contrib/learnosity/tests/src/Unit/LearnosityEventControllerTest.php
modules/contrib/learnosity/tests/src/Unit/LearnositySdkTest.php

39 files with changes
=====================

1) modules/contrib/learnosity/tests/src/Unit/LearnositySdkTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Prophecy\Prophecy\ObjectProphecy;
 use Drupal\learnosity\LearnositySdk;
 use Drupal\Tests\UnitTestCase;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ @@
  */
 class LearnositySdkTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The service container.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $container;

@@ @@
   /**
    * Request stack.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $request;

@@ @@
   /**
    * Configuration factory.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $config;

@@ @@
   /**
    * Module handler service.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $moduleHandler;

@@ @@
   /**
    * The logger service.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $logger;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/learnosity/tests/src/Unit/LearnosityEventControllerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\learnosity\Controller\LearnosityEventController;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class LearnosityEventControllerTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Tests learnosity event controller.
    */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/learnosity/tests/src/Unit/LearnosityApiEventHandlerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\learnosity\Event\LearnosityAssessmentEvent;
 use Drupal\learnosity\LearnosityApiEventHandler;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class LearnosityApiEventHandlerTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Test getting subscribed events.
    */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/learnosity/tests/src/Kernel/LearnosityReportsItemElementRenderTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Kernel;

+use Drupal\Core\Render\Renderer;
 use Drupal\learnosity\Element\LearnosityReportsItem;
 use Drupal\Core\Render\Element;

@@ @@
       ],
     ];

-    /** @var \Drupal\Core\Render\Renderer $renderer */
+    /** @var Renderer $renderer */
     $renderer = \Drupal::service('renderer');
     $renderer->renderRoot($element);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/learnosity/tests/src/Kernel/LearnosityImageUploadTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Kernel;

+use Drupal\user\UserInterface;
+use Drupal\Core\Render\Renderer;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\learnosity\Controller\LearnosityImageUploadController;
 use Drupal\learnosity\Entity\LearnosityActivity;
 use Drupal\Tests\user\Traits\UserCreationTrait;
@@ @@
   /**
    * User for testing.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $testUser;

@@ @@
       ],
     ];

-    /** @var \Drupal\Core\Render\Renderer $renderer */
+    /** @var Renderer $renderer */
     $renderer = \Drupal::service('renderer');
     $renderer->renderRoot($element);

@@ @@
   /**
    * Tests the image upload ajax controller.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginException
+   * @throws PluginNotFoundException
    */
   public function testImageUploadControllerRequest() {
     $request_stack = new RequestStack();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/learnosity/tests/src/Kernel/LearnosityFeatureTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Kernel;

+use Drupal\user\UserInterface;
+use Drupal\Core\Render\Renderer;
 use Drupal\learnosity\Entity\LearnosityActivity;
 use Drupal\Tests\user\Traits\UserCreationTrait;
 use Drupal\learnosity\Entity\LearnosityActivityEditor;
@@ @@
   /**
    * User for testing.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $testUser;

@@ @@
       ],
     ];

-    /** @var \Drupal\Core\Render\Renderer $renderer */
+    /** @var Renderer $renderer */
     $renderer = \Drupal::service('renderer');
     $renderer->renderRoot($element);
     $request = json_decode($element['#attached']['drupalSettings']['learnosity']['signedRequest'], TRUE);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/learnosity/tests/src/Kernel/LearnosityAssessmentPlayerFormatterTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Kernel;

+use Drupal\Core\Entity\EntityStorageException;
 use Drupal\learnosity\Entity\LearnosityActivity;
 use Drupal\field\Entity\FieldConfig;
 use Drupal\field\Entity\FieldStorageConfig;
@@ @@
   /**
    * Test the Assessment Player field formatter.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public function testAssessmentPlayerFormatter() {
     // Create the test LearnosityActivity entity.
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/learnosity/tests/src/Kernel/LearnosityActivityEditorElementFormTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Kernel;

+use Drupal\user\UserInterface;
+use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Form\FormInterface;
 use Drupal\Core\Form\FormState;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * User for testing.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $testUser;

@@ @@
   /**
    * An array of entities to be referenced in this test.
    *
-   * @var \Drupal\Core\Entity\EntityInterface[]
+   * @var EntityInterface[]
    */
   protected $referencedEntities;

@@ @@
     // Test the 'activity' element.
     $value = $form_state->getValue('activity_blank');
     // The UUID should match the following pattern.
-    $this->assertRegExp('/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/', $value['entity']->getReference());
+    $this->assertMatchesRegularExpression('/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/', $value['entity']->getReference());
     $this->assertEquals('learnosity_activity', $value['entity']->bundle());
     $this->assertEquals($this->testUser->id(), $value['entity']->getOwnerId());
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/learnosity/tests/src/Kernel/LearnosityActivityAuthoringWidgetTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\learnosity\Kernel;

+use Drupal\Core\Form\EnforcedResponseException;
+use Drupal\Core\Form\FormAjaxException;
 use Drupal\Core\Entity\Entity\EntityFormDisplay;
 use Drupal\learnosity\Entity\LearnosityActivity;
 use Drupal\node\Entity\Node;
@@ @@
    *
    * @param string $field_name
    *   The name of the field.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The current entity.
    *
    * @return mixed
    *   The field widget element.
    *
-   * @throws \Drupal\Core\Form\EnforcedResponseException
-   * @throws \Drupal\Core\Form\FormAjaxException
+   * @throws EnforcedResponseException
+   * @throws FormAjaxException
    */
   protected function buildFieldWidgetElement($field_name, EntityInterface $entity) {
     $form_display = EntityFormDisplay::create([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/learnosity/src/Plugin/Field/FieldWidget/LearnosityActivityAuthoringWidget.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Plugin\Field\FieldWidget;

+use Drupal\user\Entity\User;
 use Drupal\Component\Utility\NestedArray;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Field\FieldDefinitionInterface;
@@ @@
   /**
    * Entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
    *   The plugin_id for the widget.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the widget is associated.
    * @param array $settings
    *   The widget settings.
    * @param array $third_party_settings
    *   Any third party settings.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager service.
    */
   public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, array $third_party_settings, EntityTypeManagerInterface $entity_type_manager) {
@@ @@
       'match_limit' => $this->getSetting('match_limit'),
     ];

-    /** @var \Drupal\user\Entity\User $user */
+    /** @var User $user */
     $current_user = \Drupal::service('entity_type.manager')->getStorage('user')->load(\Drupal::currentUser()->id());
     $element += [
       '#type' => 'learnosity_activity_editor',
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/learnosity/src/Plugin/Field/FieldFormatter/LearnosityActivityFormatterBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Plugin\Field\FieldFormatter;

+use Drupal\Core\Entity\EntityInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Field\FieldDefinitionInterface;
 use Drupal\Core\Field\FieldItemInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
    *   The plugin_id for the formatter.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the formatter is associated.
    * @param array $settings
    *   The formatter settings.
@@ @@
    *   The view mode.
    * @param array $third_party_settings
    *   Any third party settings.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, $label, $view_mode, array $third_party_settings, EntityTypeManagerInterface $entity_type_manager) {
@@ @@
   /**
    * Fetches the Learnosity Activity entity.
    *
-   * @param \Drupal\Core\Field\FieldItemInterface $item
+   * @param FieldItemInterface $item
    *   The field item.
    *
-   * @return \Drupal\Core\Entity\EntityInterface
+   * @return EntityInterface
    *   The Learnosity Activity entity.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function getActivityEntity(FieldItemInterface $item) {
     $value = $item->getValue();
@@ @@
   /**
    * Generate the output appropriate for one field item.
    *
-   * @param \Drupal\Core\Field\FieldItemInterface $item
+   * @param FieldItemInterface $item
    *   One field item.
    *
    * @return mixed
    *   The textual output generated.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function viewValue(FieldItemInterface $item) {
     $value = $item->getValue();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/learnosity/src/Plugin/EntityReferenceSelection/LearnosityActivitySelection.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Plugin\EntityReferenceSelection;

+use Drupal\Core\Entity\Query\QueryInterface;
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Entity\EntityFieldManagerInterface;
 use Drupal\Core\Entity\EntityReferenceSelection\SelectionPluginBase;
@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler service.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The current user.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity field manager.
-   * @param \Drupal\Core\Entity\EntityRepositoryInterface $entity_repository
+   * @param EntityRepositoryInterface $entity_repository
    *   The entity repository.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityTypeManagerInterface $entity_type_manager, ModuleHandlerInterface $module_handler, AccountInterface $current_user, EntityFieldManagerInterface $entity_field_manager = NULL, EntityRepositoryInterface $entity_repository = NULL) {
@@ @@
    *   (Optional) The operation the matching should be done with. Defaults
    *   to "CONTAINS".
    *
-   * @return \Drupal\Core\Entity\Query\QueryInterface
+   * @return QueryInterface
    *   The EntityQuery object with the basic conditions and sorting applied to
    *   it.
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/learnosity/src/LearnositySessionHandler.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * The learnosity Sdk service.
    *
-   * @var \Drupal\learnosity\LearnositySdk
+   * @var LearnositySdk
    */
   protected $learnosity;

@@ @@
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
   /**
    * LearnositySessionHandler constructor.
    *
-   * @param \Drupal\learnosity\LearnositySdk $learnosity
+   * @param LearnositySdk $learnosity
    *   The learnosity sdk service.
-   * @param \Drupal\Core\Database\Connection $database
+   * @param Connection $database
    *   The drupal core database.
    */
   public function __construct(LearnositySdk $learnosity, Connection $database) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


14) modules/contrib/learnosity/src/LearnositySdk.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity;

+use Symfony\Component\HttpFoundation\Request;
+use LearnositySdk\Request\Remote;
 use LearnositySdk\Request\DataApi;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 use Symfony\Component\HttpFoundation\RequestStack;
@@ @@
   /**
    * The service container.
    *
-   * @var \Symfony\Component\DependencyInjection\ContainerInterface
+   * @var ContainerInterface
    */
   protected $container;

@@ @@
   /**
    * Request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   protected $request;

@@ @@
   /**
    * Configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * Module handler service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The logger service.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   protected $logger;

@@ @@
   /**
    * LearnositySdk constructor.
    *
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   The container interface.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request
+   * @param RequestStack $request
    *   The request stack.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config factory service.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Module handler service.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger
+   * @param LoggerChannelFactoryInterface $logger
    *   The logger service.
    */
   public function __construct(ContainerInterface $container, RequestStack $request, ConfigFactoryInterface $config_factory, ModuleHandlerInterface $module_handler, LoggerChannelFactoryInterface $logger) {
@@ @@
    * @param mixed $callback
    *   Optional callback if you don't want to return all at once.
    *
-   * @return \LearnositySdk\Request\Remote
+   * @return Remote
    *   The request response.
    */
   public function dataApi($endpoint, array $request = [], $action = NULL, $recursive = FALSE, $callback = NULL, $security = []) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


15) modules/contrib/learnosity/src/LearnosityMappingsHandler.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity;

+use Drupal\Core\Config\Config;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityInterface;

@@ @@
   /**
    * The config object.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    *   A configuration object.
    */
   protected $config;
@@ @@
   /**
    * LearnosityMappingsHandler constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory service.
    */
   public function __construct(ConfigFactoryInterface $config_factory) {
@@ @@
   /**
    * Fetches an entity's mapping information.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity being mapped from.
    * @param string $key
    *   The mapping key.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


16) modules/contrib/learnosity/src/LearnosityImageUploadPluginManager.php:18

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/learnosity/src/LearnosityFeaturePluginManager.php:18

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/learnosity/src/LearnosityApiEventHandler.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * The event dispatcher service.
    *
-   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   * @var EventDispatcherInterface
    */
   protected $eventDispatcher;

@@ @@
   /**
    * LearnosityApiEventHandler constructor.
    *
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   * @param EventDispatcherInterface $event_dispatcher
    *   The event dispatcher service.
    */
   public function __construct(EventDispatcherInterface $event_dispatcher) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


19) modules/contrib/learnosity/src/LearnosityActivityStorageInterface.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * Gets a list of Activity revision IDs for a specific Activity.
    *
-   * @param \Drupal\learnosity\Entity\LearnosityActivityInterface $entity
+   * @param LearnosityActivityInterface $entity
    *   The Activity entity.
    *
    * @return int[]
@@ @@
   /**
    * Gets a list of revision IDs having a given user as Activity author.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   The user entity.
    *
    * @return int[]
@@ @@
   /**
    * Counts the number of revisions in the default language.
    *
-   * @param \Drupal\learnosity\Entity\LearnosityActivityInterface $entity
+   * @param LearnosityActivityInterface $entity
    *   The Activity entity.
    *
    * @return int
@@ @@
   /**
    * Unsets the language for all Activity with the given language.
    *
-   * @param \Drupal\Core\Language\LanguageInterface $language
+   * @param LanguageInterface $language
    *   The language object.
    */
   public function clearRevisionsLanguage(LanguageInterface $language);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


20) modules/contrib/learnosity/src/LearnosityActivityPlayerListBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity;

+use Drupal\field\FieldConfigInterface;
 use Drupal\Core\Config\Entity\ConfigEntityListBuilder;
 use Drupal\Core\Entity\EntityInterface;

@@ @@
    * {@inheritdoc}
    */
   public function getDefaultOperations(EntityInterface $entity) {
-    /** @var \Drupal\field\FieldConfigInterface $entity */
+    /** @var FieldConfigInterface $entity */
     $operations = parent::getDefaultOperations($entity);

     if (isset($operations['edit'])) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


21) modules/contrib/learnosity/src/LearnosityActivityHtmlRouteProvider.php:51

    ---------- begin diff ----------
@@ @@
   /**
    * Gets the version history route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getHistoryRoute(EntityTypeInterface $entity_type) {
@@ @@
   /**
    * Gets the revision route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getRevisionRoute(EntityTypeInterface $entity_type) {
@@ @@
   /**
    * Gets the revision revert route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getRevisionRevertRoute(EntityTypeInterface $entity_type) {
@@ @@
   /**
    * Gets the revision delete route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getRevisionDeleteRoute(EntityTypeInterface $entity_type) {
@@ @@
   /**
    * Gets the revision translation revert route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getRevisionTranslationRevertRoute(EntityTypeInterface $entity_type) {
@@ @@
   /**
    * Gets the settings form route.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type.
    *
-   * @return \Symfony\Component\Routing\Route|null
+   * @return Route|null
    *   The generated route, if available.
    */
   protected function getSettingsFormRoute(EntityTypeInterface $entity_type) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/learnosity/src/LearnosityActivityEditorPermissions.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Core\Entity\EntityMalformedException;
 use Drupal\Core\DependencyInjection\ContainerInjectionInterface;
 use Drupal\Core\DependencyInjection\DeprecatedServicePropertyTrait;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * LearnosityActivityEditorPermissions constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager) {
@@ @@
    * @return array
    *   The array of permissions.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\Entity\EntityMalformedException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
+   * @throws EntityMalformedException
    */
   public function permissions() {
     $permissions = [];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


23) modules/contrib/learnosity/src/LearnosityActivityEditorListBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity;

+use Drupal\field\FieldConfigInterface;
 use Drupal\Core\Config\Entity\DraggableListBuilder;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityTypeInterface;
@@ @@
   /**
    * The messenger.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * Constructs a new LearnosityActivityEditorListBuilder.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type definition.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $storage
+   * @param EntityStorageInterface $storage
    *   The entity storage class.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger.
    */
   public function __construct(EntityTypeInterface $entity_type, EntityStorageInterface $storage, MessengerInterface $messenger) {
@@ @@
    * {@inheritdoc}
    */
   public function getDefaultOperations(EntityInterface $entity) {
-    /** @var \Drupal\field\FieldConfigInterface $entity */
+    /** @var FieldConfigInterface $entity */
     $operations = parent::getDefaultOperations($entity);

     if (isset($operations['edit'])) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


24) modules/contrib/learnosity/src/LearnosityActivityAccessControlHandler.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity;

+use Drupal\Core\Condition\ConditionInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 use Drupal\Core\Cache\Cache;
 use Drupal\Core\Cache\CacheableDependencyInterface;
@@ @@
   /**
    * The condition manager.
    *
-   * @var \Drupal\Core\Condition\ConditionManager
+   * @var ConditionManager
    */
   protected $conditionManager;

@@ @@
   /**
    * The context handler.
    *
-   * @var \Drupal\Core\Plugin\Context\ContextHandler
+   * @var ContextHandler
    */
   protected $contextHandler;

@@ @@
   /**
    * The context repository.
    *
-   * @var \Drupal\Core\Plugin\Context\ContextRepositoryInterface
+   * @var ContextRepositoryInterface
    */
   protected $contextRepository;

@@ @@
   /**
    * LearnosityActivityAccessControlHandler constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type definition.
-   * @param \Drupal\Core\Condition\ConditionManager $condition_manager
+   * @param ConditionManager $condition_manager
    *   The condition plugin manager.
-   * @param \Drupal\Core\Plugin\Context\ContextHandler $context_handler
+   * @param ContextHandler $context_handler
    *   The context handler.
-   * @param \Drupal\Core\Plugin\Context\ContextRepositoryInterface $context_repository
+   * @param ContextRepositoryInterface $context_repository
    *   The context repository.
    */
   public function __construct(EntityTypeInterface $entity_type, ConditionManager $condition_manager, ContextHandler $context_handler, ContextRepositoryInterface $context_repository) {
@@ @@
   /**
    * Merges cacheable metadata from conditions onto the access result object.
    *
-   * @param \Drupal\Core\Access\AccessResult $access
+   * @param AccessResult $access
    *   The access result object.
-   * @param \Drupal\Core\Condition\ConditionInterface[] $conditions
+   * @param ConditionInterface[] $conditions
    *   List of conditions conditions.
    */
   protected function mergeCacheabilityFromConditions(AccessResult $access, array $conditions) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


25) modules/contrib/learnosity/src/Form/LearnosityMappingsForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Form;

+use Drupal\Core\Entity\EntityTypeBundleInfo;
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;

@@ @@
         '#open' => TRUE,
       ];

-      /** @var \Drupal\Core\Entity\EntityTypeBundleInfo $bundle_info */
+      /** @var EntityTypeBundleInfo $bundle_info */
       $bundle_service = \Drupal::service('entity_type.bundle.info');
       $bundle_info = $bundle_service->getBundleInfo($entity_type);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


26) modules/contrib/learnosity/src/Form/LearnosityActivitySettingsForm.php:28

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


27) modules/contrib/learnosity/src/Form/LearnosityActivityRevisionRevertTranslationForm.php:26

    ---------- begin diff ----------
@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * LearnosityActivityRevisionRevertTranslationForm constructor.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $entity_storage
+   * @param EntityStorageInterface $entity_storage
    *   The Activity storage.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
    */
   public function __construct(EntityStorageInterface $entity_storage, DateFormatterInterface $date_formatter, LanguageManagerInterface $language_manager) {
@@ @@
   protected function prepareRevertedRevision(LearnosityActivityInterface $revision, FormStateInterface $form_state) {
     $revert_untranslated_fields = $form_state->getValue('revert_untranslated_fields');

-    /** @var \Drupal\learnosity\Entity\LearnosityActivityInterface $default_revision */
+    /** @var LearnosityActivityInterface $default_revision */
     $latest_revision = $this->entityStorage->load($revision->id());
     $latest_revision_translation = $latest_revision->getTranslation($this->langcode);

@@ @@

     $latest_revision_translation->setNewRevision();
     $latest_revision_translation->isDefaultRevision(TRUE);
-    $revision->setRevisionCreationTime(REQUEST_TIME);
+    $revision->setRevisionCreationTime(\Drupal::time()->getRequestTime());

     return $latest_revision_translation;
   }
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


28) modules/contrib/learnosity/src/Form/LearnosityActivityRevisionRevertForm.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The Activity revision.
    *
-   * @var \Drupal\learnosity\Entity\LearnosityActivityInterface
+   * @var LearnosityActivityInterface
    */
   protected $revision;

@@ @@
   /**
    * The Activity storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $entityStorage;

@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * LearnosityActivityRevisionRevertForm constructor.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $entity_storage
+   * @param EntityStorageInterface $entity_storage
    *   The entity storage.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
    */
   public function __construct(EntityStorageInterface $entity_storage, DateFormatterInterface $date_formatter) {
@@ @@
   /**
    * Prepares a revision to be reverted.
    *
-   * @param \Drupal\learnosity\Entity\LearnosityActivityInterface $revision
+   * @param LearnosityActivityInterface $revision
    *   The revision to be reverted.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
-   * @return \Drupal\learnosity\Entity\LearnosityActivityInterface
+   * @return LearnosityActivityInterface
    *   The prepared revision ready to be stored.
    */
   protected function prepareRevertedRevision(LearnosityActivityInterface $revision, FormStateInterface $form_state) {
     $revision->setNewRevision();
     $revision->isDefaultRevision(TRUE);
-    $revision->setRevisionCreationTime(REQUEST_TIME);
+    $revision->setRevisionCreationTime(\Drupal::time()->getRequestTime());

     return $revision;
   }
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


29) modules/contrib/learnosity/src/Form/LearnosityActivityRevisionDeleteForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Form;

+use Drupal\learnosity\Entity\LearnosityActivityInterface;
 use Drupal\Core\Database\Connection;
 use Drupal\Core\Datetime\DateFormatterInterface;
 use Drupal\Core\Entity\EntityStorageInterface;
@@ @@
   /**
    * The Activity revision.
    *
-   * @var \Drupal\learnosity\Entity\LearnosityActivityInterface
+   * @var LearnosityActivityInterface
    */
   protected $revision;

@@ @@
   /**
    * The Entity storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $entityStorage;

@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;

@@ @@
   /**
    * LearnosityActivityRevisionDeleteForm constructor.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $entity_storage
+   * @param EntityStorageInterface $entity_storage
    *   The entity storage.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
    */
   public function __construct(EntityStorageInterface $entity_storage, DateFormatterInterface $date_formatter, Connection $connection) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


30) modules/contrib/learnosity/src/Form/LearnosityActivityEditorForm.php:155

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


31) modules/contrib/learnosity/src/EventSubscriber/LearnositySessionExpireSubscriber.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The Content Completion Settings service.
    *
-   * @var \Drupal\learnosity\LearnositySessionHandler
+   * @var LearnositySessionHandler
    */
   protected $sessionHandler;

@@ @@
   /**
    * LearnosityEventsSubscriber constructor.
    *
-   * @param \Drupal\learnosity\LearnositySessionHandler $session_handler
+   * @param LearnositySessionHandler $session_handler
    *   The learnosity session handler.
    */
   public function __construct(LearnositySessionHandler $session_handler) {
@@ @@
   /**
    * Test finished subscribed event callback.
    *
-   * @param \Drupal\learnosity\Event\LearnosityEvent $event
+   * @param LearnosityEvent $event
    *   The learnosity event.
    */
   public function expireSessions(LearnosityEvent $event) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


32) modules/contrib/learnosity/src/Event/LearnosityEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 use Symfony\Component\HttpFoundation\Response;

 /**
@@ @@
   /**
    * The return response object.
    *
-   * @var \Symfony\Component\HttpFoundation\Response
+   * @var Response
    */
   protected $response;

@@ @@
   /**
    * Sets the return response object.
    *
-   * @param \Symfony\Component\HttpFoundation\Response $response
+   * @param Response $response
    *   The return response.
    */
   public function setResponse(Response $response) {
@@ @@
   /**
    * Gets the return response object.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   The return response.
    */
   public function getResponse() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


33) modules/contrib/learnosity/src/Entity/LearnosityActivityInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Entity;

+use Drupal\user\UserInterface;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Entity\RevisionLogInterface;
 use Drupal\Core\Entity\EntityChangedInterface;
@@ @@
   /**
    * Gets the Activity revision author.
    *
-   * @return \Drupal\user\UserInterface
+   * @return UserInterface
    *   The user entity for the revision author.
    */
   public function getRevisionUser();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


34) modules/contrib/learnosity/src/Element/LearnosityActivityEditor.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Element;

+use Drupal\user\Entity\User;
+use Drupal\Core\Entity\EntityReferenceSelection\SelectionInterface;
 use Drupal\Core\Entity\EntityFormInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
    *
    * @param array $element
    *   The form element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state object.
    * @param array $complete_form
    *   The complete form.
@@ @@

     // Set current user id and email if none is provided.
     if (empty($element['#user'])) {
-      /** @var \Drupal\user\Entity\User $user */
+      /** @var User $user */
       $user = \Drupal::service('entity_type.manager')->getStorage('user')->load(\Drupal::currentUser()->id());
       $element['#user'] = [
         'id' => $user->id(),
@@ @@
         'handler' => $element['#selection_handler'],
       ];

-      /** @var \Drupal\Core\Entity\EntityReferenceSelection\SelectionInterface $handler */
+      /** @var SelectionInterface $handler */
       $handler = \Drupal::service('plugin.manager.entity_reference_selection')->getInstance($options);

       // Check to see if an entity exists.
@@ @@
       else {
         $input_values = [$element['#value']];
         foreach ($input_values as $input) {
-          /** @var \Drupal\Core\Entity\EntityReferenceSelection\SelectionInterface $handler */
+          /** @var SelectionInterface $handler */
           $entity = $handler->createNewEntity($element['#target_type'], 'learnosity_activity', $input['reference'], $element['#autocreate']['uid']);
           $entity->setData($data);
           $value[] = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


35) modules/contrib/learnosity/src/Controller/LearnosityImageUploadController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Controller;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\Core\Ajax\CloseDialogCommand;
 use Drupal\Core\Ajax\OpenDialogCommand;
@@ @@
   /**
    * The image upload plugin manager.
    *
-   * @var \Drupal\learnosity\LearnosityImageUploadPluginManager
+   * @var LearnosityImageUploadPluginManager
    */
   protected $imageUploadManager;

@@ @@
   /**
    * Constructs a LearnosityImageUploadController object.
    *
-   * @param \Drupal\learnosity\LearnosityImageUploadPluginManager $image_upload_manager
+   * @param LearnosityImageUploadPluginManager $image_upload_manager
    *   The Learnosity Image Upload Plugin Manager.
    */
   public function __construct(LearnosityImageUploadPluginManager $image_upload_manager) {
@@ @@
   /**
    * Open image upload dialog box.
    *
-   * @param \Symfony\Component\HttpFoundation\Request $request
+   * @param Request $request
    *   The request.
    * @param string $editor
    *   The activity editor.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The ajax response.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginException
+   * @throws PluginNotFoundException
    */
   public function uploadForm(Request $request, $editor) {
     // Load the creation form of a given entity type. The entity type is
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


36) modules/contrib/learnosity/src/Controller/LearnosityEventController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Controller;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\learnosity\Event\LearnosityEvent;
 use Symfony\Component\EventDispatcher\EventDispatcherInterface;
 use Drupal\Core\Ajax\AjaxResponse;
@@ @@
   /**
    * The request stack service.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $request;

@@ @@
   /**
    * The event dispatcher service.
    *
-   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   * @var EventDispatcherInterface
    */
   protected $eventDispatcher;

@@ @@
   /**
    * LearnosityEventController constructor.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request
+   * @param RequestStack $request
    *   The request stack service.
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   * @param EventDispatcherInterface $event_dispatcher
    *   The event dispatcher service.
    */
   public function __construct(RequestStack $request, EventDispatcherInterface $event_dispatcher) {
@@ @@
    * @return array
    *   The associative array of contextual values.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   protected function processContext() {
     // @todo: Make this more robust.
@@ @@
   /**
    * Dispatches an event from Learnosity.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   The ajax response.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function dispatchEvent($name) {

@@ @@
     $context = $this->processContext();

     $event = new LearnosityEvent($name, $context);
-    $dispatch = $this->eventDispatcher->dispatch('learnosity.' . $name, $event);
+    $dispatch = $this->eventDispatcher->dispatch($event, 'learnosity.' . $name);

     // Check to see if any subscribers return a response. If they do then use
     // that. Otherwise default to an empty ajax response.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


37) modules/contrib/learnosity/src/Controller/LearnosityActivityController.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatter
+   * @var DateFormatter
    */
   protected $dateFormatter;

@@ @@
   /**
    * The renderer service.
    *
-   * @var \Drupal\Core\Render\Renderer
+   * @var Renderer
    */
   protected $renderer;

@@ @@
   /**
    * Constructs a LearnosityActivityController object.
    *
-   * @param \Drupal\Core\Datetime\DateFormatter $date_formatter
+   * @param DateFormatter $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Render\Renderer $renderer
+   * @param Renderer $renderer
    *   The renderer service.
    */
   public function __construct(DateFormatter $date_formatter, Renderer $renderer) {
@@ @@
   /**
    * Generates an overview table of older revisions of an activity.
    *
-   * @param \Drupal\learnosity\Entity\LearnosityActivityInterface $entity
+   * @param LearnosityActivityInterface $entity
    *   A Learnosity Activity object.
    *
    * @return array
@@ @@
           ]));
         }
         else {
-          $link = $entity->link($date);
+          // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+          // Please confirm that `$entity` is an instance of `\Drupal\Core\Entity\EntityInterface`. Only the method name and not the class name was checked for this replacement, so this may be a false positive.
+          $link = $entity->toLink($date)->toString();
         }

         $row = [];
    ----------- end diff -----------

Applied rules:
 * EntityInterfaceLinkRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


38) modules/contrib/learnosity/src/Commands/LearnosityCommands.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\learnosity\Commands;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Consolidation\OutputFormatters\StructuredData\RowsOfFields;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\learnosity\LearnositySdk;
@@ @@
   /**
    * Entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The learnosity Sdk service.
    *
-   * @var \Drupal\learnosity\LearnositySdk
+   * @var LearnositySdk
    */
   protected $learnosity;

@@ @@
   /**
    * LearnosityCommands constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager service.
-   * @param \Drupal\learnosity\LearnositySdk $learnosity
+   * @param LearnositySdk $learnosity
    *   The learnosity sdk service.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, LearnositySdk $learnosity) {
@@ @@
    * @aliases laudit
    * @filter-default-field reference
    *
-   * @return \Consolidation\OutputFormatters\StructuredData\RowsOfFields
+   * @return RowsOfFields
    *   Activity details formatted as table.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function auditActivities(array $options = ['entity-id' => self::REQ, 'format' => 'table']) {
     $rows = [];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


39) modules/contrib/learnosity/learnosity.views.inc:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\Sql\DefaultTableMapping;
 /**
  * @file
  * Provide views data for learnosity.module.
@@ @@
   $data = views_field_default_views_data($field_storage);
   $entity_type_manager = \Drupal::entityTypeManager();
   $entity_type_id = $field_storage->getTargetEntityTypeId();
-  /** @var \Drupal\Core\Entity\Sql\DefaultTableMapping $table_mapping */
+  /** @var DefaultTableMapping $table_mapping */
   $table_mapping = $entity_type_manager->getStorage($entity_type_id)->getTableMapping();

   foreach ($data as $table_name => $table_data) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [WARNING] 1 nodes were removed                                                 

 [OK] 39 files have been changed by Rector                                      

