diff --git a/languageicons.info.yml b/languageicons.info.yml
index f42ab60..191b280 100644
--- a/languageicons.info.yml
+++ b/languageicons.info.yml
@@ -3,8 +3,7 @@ description: 'Adds icons to language links.'
 dependencies:
   - drupal:locale
 package: Multilingual
-core: 8.x
-core_version_requirement: '^8 || ^9'
+core_version_requirement: ^9.3 || ^10
 type: module
 configure: languageicons.settings
 php: 7.1
diff --git a/languageicons.install b/languageicons.install
index 935522a..cb7ebe1 100644
--- a/languageicons.install
+++ b/languageicons.install
@@ -12,7 +12,7 @@ declare(strict_types = 1);
  */
 function languageicons_install() {
   // Use our supplied set of icons by default.
-  $path = drupal_get_path('module', 'languageicons') . '/flags/*.png';
+  $path = \Drupal::service('extension.list.module')->getPath('languageicons') . '/flags/*.png';
   \Drupal::configFactory()
     ->getEditable('languageicons.settings')
     ->set('path', $path)
diff --git a/languageicons.module b/languageicons.module
index ff81dc4..57a1d22 100644
--- a/languageicons.module
+++ b/languageicons.module
@@ -8,6 +8,7 @@
  */
 
 declare(strict_types = 1);
+use Drupal\language\Entity\ConfigurableLanguage;
 
 use Drupal\Component\Utility\Html;
 use Drupal\Core\Routing\RouteMatchInterface;
@@ -107,7 +108,7 @@ function languageicons_link_add(&$link, $title = NULL): void {
  *   Thrown when the path to the language icon images is not set.
  */
 function template_preprocess_languageicons_link_content(array &$variables): void {
-  /** @var \Drupal\language\Entity\ConfigurableLanguage $language */
+  /** @var ConfigurableLanguage $language */
   $language = $variables['language'];
   $title = $variables['title'] ? $variables['title'] : $language->getName();
   $size = \Drupal::config('languageicons.settings')->get('size');
