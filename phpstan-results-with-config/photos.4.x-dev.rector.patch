diff --git a/photos.module b/photos.module
index 5d51f87..d43605c 100644
--- a/photos.module
+++ b/photos.module
@@ -1,5 +1,7 @@
 <?php
 
+use Drupal\user\Entity\User;
+use Drupal\file\FileInterface;
 /**
  * @file
  * Implementation of photos.module.
@@ -32,7 +34,7 @@ use Symfony\Component\HttpKernel\Exception\NotFoundHttpException;
  *
  * @param string $op
  *   Operation to check access.
- * @param int|\Drupal\node\Entity\Node|\Drupal\user\Entity\User $value
+ * @param int|Node|User $value
  *   $node, $user, $file->id() OR $node->id().
  *
  * @return bool
@@ -604,7 +606,7 @@ function photos_image_edit_submit_crops(array &$form, FormStateInterface $form_s
   // Skip if image is being deleted.
   if (empty($form_state_values['del'])) {
     $fid = $form_state_values['fid'];
-    /** @var \Drupal\file\FileInterface $entity. */
+    /** @var FileInterface $entity . */
     $entity = \Drupal::entityTypeManager()->getStorage('file')->load($fid);
 
     /** @var \Drupal\image_widget_crop\ImageWidgetCropManager $image_widget_crop_manager. */
diff --git a/photos_access/photos_access.module b/photos_access/photos_access.module
index 5829395..d72815c 100644
--- a/photos_access/photos_access.module
+++ b/photos_access/photos_access.module
@@ -1,5 +1,7 @@
 <?php
 
+use Drupal\file\FileInterface;
+use Drupal\Core\File\FileSystemInterface;
 /**
  * @file
  * Implementation of photos_access.module.
@@ -251,7 +253,7 @@ function photos_access_move_files($node, $public = TRUE) {
   $clear_private_styles = [];
   foreach ($results as $result) {
     $fid = $result->fid;
-    /** @var \Drupal\file\FileInterface $file */
+    /** @var FileInterface $file */
     $file = File::load($fid);
     $uri = $file->GetFileUri();
     if (strstr($uri, $file_wrapper)) {
@@ -268,7 +270,7 @@ function photos_access_move_files($node, $public = TRUE) {
     $old_file_wrapper = \Drupal::service('stream_wrapper_manager')->getScheme($uri) . '://';
     if ($old_file_wrapper <> $file_wrapper) {
       $new_uri = str_replace($old_file_wrapper, $file_wrapper, $uri);
-      file_move($file, $new_uri);
+      \Drupal::service('file.repository')->move($file, $new_uri);
       if ($new_scheme == 'public') {
         $pathinfo = pathinfo($uri);
         $ext = strtolower($pathinfo['extension']);
@@ -283,7 +285,7 @@ function photos_access_move_files($node, $public = TRUE) {
   if (!empty($clear_private_styles) && $private_styles_setting == 'automatic') {
     // Delete private image styles.
     $private_image_styles_path = $private_scheme . '://photos/tmp_images';
-    /** @var \Drupal\Core\File\FileSystemInterface $file_system */
+    /** @var FileSystemInterface $file_system */
     $file_system = \Drupal::service('file_system');
     foreach ($clear_private_styles as $basename) {
       // Find all derivatives for this image.
diff --git a/photos_access/src/Controller/DefaultController.php b/photos_access/src/Controller/DefaultController.php
index 360d479..36b2dae 100644
--- a/photos_access/src/Controller/DefaultController.php
+++ b/photos_access/src/Controller/DefaultController.php
@@ -17,14 +17,14 @@ class DefaultController extends ControllerBase {
   /**
    * The form builder.
    *
-   * @var \Drupal\Core\Form\FormBuilderInterface
+   * @var FormBuilderInterface
    */
   protected $formBuilder;
 
   /**
    * The renderer service.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
@@ -49,7 +49,7 @@ class DefaultController extends ControllerBase {
   /**
    * Photos album password required page.
    *
-   * @param \Drupal\node\NodeInterface $node
+   * @param NodeInterface $node
    *   The album node that requires the password.
    */
   public function photosAccessPasswordPage(NodeInterface $node) {
diff --git a/photos_access/src/Form/PhotosAccessPasswordForm.php b/photos_access/src/Form/PhotosAccessPasswordForm.php
index 51fec22..b9d6c9e 100644
--- a/photos_access/src/Form/PhotosAccessPasswordForm.php
+++ b/photos_access/src/Form/PhotosAccessPasswordForm.php
@@ -17,14 +17,14 @@ class PhotosAccessPasswordForm extends FormBase {
   /**
    * The database connection used to check the password.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * Construct the PhotosAccessPasswordForm.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection which will be used to check the password.
    */
   public function __construct(Connection $connection) {
diff --git a/src/Controller/PhotosAlbumController.php b/src/Controller/PhotosAlbumController.php
index a748422..7949981 100644
--- a/src/Controller/PhotosAlbumController.php
+++ b/src/Controller/PhotosAlbumController.php
@@ -27,59 +27,59 @@ class PhotosAlbumController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;
 
   /**
    * The image factory.
    *
-   * @var \Drupal\Core\Image\ImageFactory
+   * @var ImageFactory
    */
   protected $imageFactory;
 
   /**
    * The library discovery service.
    *
-   * @var \Drupal\Core\Asset\LibraryDiscoveryInterface
+   * @var LibraryDiscoveryInterface
    */
   protected $libraryDiscovery;
 
   /**
    * The current request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   private $requestStack;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Image\ImageFactory $image_factory
+   * @param ImageFactory $image_factory
    *   The image factory.
-   * @param \Drupal\Core\Asset\LibraryDiscoveryInterface $library_discovery
+   * @param LibraryDiscoveryInterface $library_discovery
    *   The library discovery service.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The current request stack.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(Connection $connection, DateFormatterInterface $date_formatter, ImageFactory $image_factory, LibraryDiscoveryInterface $library_discovery, RequestStack $request_stack, RouteMatchInterface $route_match) {
@@ -119,7 +119,7 @@ class PhotosAlbumController extends ControllerBase {
   /**
    * A custom access check.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   Run access checks for this account.
    */
   public function access(AccountInterface $account) {
diff --git a/src/Controller/PhotosAlbumsRecentController.php b/src/Controller/PhotosAlbumsRecentController.php
index c215542..fd44b60 100644
--- a/src/Controller/PhotosAlbumsRecentController.php
+++ b/src/Controller/PhotosAlbumsRecentController.php
@@ -16,32 +16,32 @@ class PhotosAlbumsRecentController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
    */
   public function __construct(Connection $connection, EntityTypeManagerInterface $entity_manager, RendererInterface $renderer) {
diff --git a/src/Controller/PhotosController.php b/src/Controller/PhotosController.php
index 2d051c3..698fced 100644
--- a/src/Controller/PhotosController.php
+++ b/src/Controller/PhotosController.php
@@ -18,23 +18,23 @@ class PhotosController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
    */
   public function __construct(Connection $connection, RendererInterface $renderer) {
diff --git a/src/Controller/PhotosEditController.php b/src/Controller/PhotosEditController.php
index 3d71f58..45d10aa 100644
--- a/src/Controller/PhotosEditController.php
+++ b/src/Controller/PhotosEditController.php
@@ -29,68 +29,68 @@ class PhotosEditController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The current path.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPath;
 
   /**
    * The FormBuilder object.
    *
-   * @var \Drupal\Core\Form\FormBuilderInterface
+   * @var FormBuilderInterface
    */
   protected $formBuilder;
 
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * The current request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   private $requestStack;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path
+   * @param CurrentPathStack $current_path
    *   The current path.
-   * @param \Drupal\Core\Form\FormBuilderInterface $form_builder
+   * @param FormBuilderInterface $form_builder
    *   The form builder service.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The current request stack.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(Connection $connection, CurrentPathStack $current_path, FormBuilderInterface $form_builder, ModuleHandlerInterface $module_handler, RendererInterface $renderer, RequestStack $request_stack, RouteMatchInterface $route_match) {
@@ -121,7 +121,7 @@ class PhotosEditController extends ControllerBase {
   /**
    * A custom access check.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   Run access checks for this account.
    */
   public function access(AccountInterface $account) {
diff --git a/src/Controller/PhotosImageController.php b/src/Controller/PhotosImageController.php
index 62583c8..4ae46f0 100644
--- a/src/Controller/PhotosImageController.php
+++ b/src/Controller/PhotosImageController.php
@@ -24,41 +24,41 @@ class PhotosImageController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The library discovery service.
    *
-   * @var \Drupal\Core\Asset\LibraryDiscoveryInterface
+   * @var LibraryDiscoveryInterface
    */
   protected $libraryDiscovery;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Asset\LibraryDiscoveryInterface $library_discovery
+   * @param LibraryDiscoveryInterface $library_discovery
    *   The library discovery service.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(Connection $connection, EntityTypeManagerInterface $entity_manager, LibraryDiscoveryInterface $library_discovery, RouteMatchInterface $route_match) {
@@ -93,7 +93,7 @@ class PhotosImageController extends ControllerBase {
   /**
    * A custom access check.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   Run access checks for this account.
    */
   public function access(AccountInterface $account) {
diff --git a/src/Controller/PhotosImagesRecentController.php b/src/Controller/PhotosImagesRecentController.php
index 0b2b535..feb89ce 100644
--- a/src/Controller/PhotosImagesRecentController.php
+++ b/src/Controller/PhotosImagesRecentController.php
@@ -23,50 +23,50 @@ class PhotosImagesRecentController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * The current request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   private $requestStack;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The current request stack.
    */
   public function __construct(Connection $connection, DateFormatterInterface $date_formatter, EntityTypeManagerInterface $entity_manager, RendererInterface $renderer, RequestStack $request_stack) {
diff --git a/src/Controller/PhotosRearrangeController.php b/src/Controller/PhotosRearrangeController.php
index d6fe882..5c3ec02 100644
--- a/src/Controller/PhotosRearrangeController.php
+++ b/src/Controller/PhotosRearrangeController.php
@@ -26,50 +26,50 @@ class PhotosRearrangeController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * The current request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   private $requestStack;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The current request stack.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(Connection $connection, EntityTypeManagerInterface $entity_manager, RendererInterface $renderer, RequestStack $request_stack, RouteMatchInterface $route_match) {
@@ -106,7 +106,7 @@ class PhotosRearrangeController extends ControllerBase {
   /**
    * A custom access check.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   Run access checks for this account.
    */
   public function access(AccountInterface $account) {
diff --git a/src/Controller/PhotosUserAlbumsController.php b/src/Controller/PhotosUserAlbumsController.php
index 8d7e0a8..29992d5 100644
--- a/src/Controller/PhotosUserAlbumsController.php
+++ b/src/Controller/PhotosUserAlbumsController.php
@@ -22,41 +22,41 @@ class PhotosUserAlbumsController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(Connection $connection, EntityTypeManagerInterface $entity_manager, RendererInterface $renderer, RouteMatchInterface $route_match) {
@@ -81,7 +81,7 @@ class PhotosUserAlbumsController extends ControllerBase {
   /**
    * A custom access check.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   Run access checks for this account.
    */
   public function access(AccountInterface $account) {
diff --git a/src/Controller/PhotosUserImagesController.php b/src/Controller/PhotosUserImagesController.php
index 20c507f..52077bd 100644
--- a/src/Controller/PhotosUserImagesController.php
+++ b/src/Controller/PhotosUserImagesController.php
@@ -28,68 +28,68 @@ class PhotosUserImagesController extends ControllerBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The current path.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPath;
 
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * The current request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   private $requestStack;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path
+   * @param CurrentPathStack $current_path
    *   The current path.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date formatter service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The current request stack.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(Connection $connection, CurrentPathStack $current_path, DateFormatterInterface $date_formatter, EntityTypeManagerInterface $entity_manager, RendererInterface $renderer, RequestStack $request_stack, RouteMatchInterface $route_match) {
@@ -120,7 +120,7 @@ class PhotosUserImagesController extends ControllerBase {
   /**
    * A custom access check.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   Run access checks for this account.
    */
   public function access(AccountInterface $account) {
diff --git a/src/Form/PhotosAdminSettingsForm.php b/src/Form/PhotosAdminSettingsForm.php
index 339244a..707613f 100644
--- a/src/Form/PhotosAdminSettingsForm.php
+++ b/src/Form/PhotosAdminSettingsForm.php
@@ -20,7 +20,7 @@ class PhotosAdminSettingsForm extends ConfigFormBase {
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
diff --git a/src/Form/PhotosDirectoryImportForm.php b/src/Form/PhotosDirectoryImportForm.php
index 9a6cf3e..2428103 100644
--- a/src/Form/PhotosDirectoryImportForm.php
+++ b/src/Form/PhotosDirectoryImportForm.php
@@ -21,41 +21,41 @@ class PhotosDirectoryImportForm extends FormBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystem
+   * @var FileSystem
    */
   protected $fileSystem;
 
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
-   * @param \Drupal\Core\File\FileSystem $file_system
+   * @param FileSystem $file_system
    *   The file system service.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
    */
   public function __construct(Connection $connection, EntityTypeManagerInterface $entity_manager, FileSystem $file_system, ModuleHandlerInterface $module_handler) {
diff --git a/src/Form/PhotosImageDeleteForm.php b/src/Form/PhotosImageDeleteForm.php
index 7e1616b..4d6fea1 100644
--- a/src/Form/PhotosImageDeleteForm.php
+++ b/src/Form/PhotosImageDeleteForm.php
@@ -19,7 +19,7 @@ class PhotosImageDeleteForm extends ConfirmFormBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
@@ -33,7 +33,7 @@ class PhotosImageDeleteForm extends ConfirmFormBase {
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
    */
   public function __construct(Connection $connection) {
@@ -98,7 +98,7 @@ class PhotosImageDeleteForm extends ConfirmFormBase {
    *
    * @param array $form
    *   An associative array containing the structure of the form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    * @param int $file
    *   (optional) The ID of the item to be deleted.
diff --git a/src/Form/PhotosImageEditForm.php b/src/Form/PhotosImageEditForm.php
index e8fe507..f7465f3 100644
--- a/src/Form/PhotosImageEditForm.php
+++ b/src/Form/PhotosImageEditForm.php
@@ -24,35 +24,35 @@ class PhotosImageEditForm extends FormBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
diff --git a/src/Form/PhotosUploadForm.php b/src/Form/PhotosUploadForm.php
index fc05e95..85d0dba 100644
--- a/src/Form/PhotosUploadForm.php
+++ b/src/Form/PhotosUploadForm.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\photos\Form;
 
+use Psr\Log\LoggerInterface;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Cache\Cache;
 use Drupal\Core\Database\Connection;
@@ -25,57 +26,57 @@ class PhotosUploadForm extends FormBase {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The image factory.
    *
-   * @var \Drupal\Core\Image\ImageFactory
+   * @var ImageFactory
    */
   protected $imageFactory;
 
   /**
    * A logger instance.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;
 
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * Constructor.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
-   * @param \Drupal\Core\Image\ImageFactory $image_factory
+   * @param ImageFactory $image_factory
    *   The image factory.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(Connection $connection, EntityTypeManagerInterface $entity_manager, ImageFactory $image_factory, ModuleHandlerInterface $module_handler, RouteMatchInterface $route_match) {
@@ -110,10 +111,10 @@ class PhotosUploadForm extends FormBase {
   /**
    * A custom access check.
    *
-   * @param \Drupal\node\NodeInterface $node
+   * @param NodeInterface $node
    *   The album node entity.
    *
-   * @return \Drupal\Core\Access\AccessResult
+   * @return AccessResult
    *   The access result.
    */
   public function access(NodeInterface $node) {
diff --git a/src/PhotosBreadcrumbBuilder.php b/src/PhotosBreadcrumbBuilder.php
index d721214..8975fd2 100644
--- a/src/PhotosBreadcrumbBuilder.php
+++ b/src/PhotosBreadcrumbBuilder.php
@@ -20,32 +20,32 @@ class PhotosBreadcrumbBuilder implements BreadcrumbBuilderInterface {
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The router request context.
    *
-   * @var \Drupal\Core\Routing\RequestContext
+   * @var RequestContext
    */
   protected $context;
 
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * Constructs the PathBasedBreadcrumbBuilder.
    *
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Routing\RequestContext $context
+   * @param RequestContext $context
    *   The router request context.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
    */
   public function __construct(Connection $connection, RequestContext $context, EntityTypeManagerInterface $entity_manager) {
diff --git a/src/PhotosImage.php b/src/PhotosImage.php
index 57746fd..ee9a82b 100644
--- a/src/PhotosImage.php
+++ b/src/PhotosImage.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\photos;
 
+use Drupal\Core\File\FileSystemInterface;
 use Drupal\comment\CommentInterface;
 use Drupal\comment\CommentManagerInterface;
 use Drupal\Core\Cache\Cache;
@@ -136,7 +137,7 @@ class PhotosImage {
     $style->createDerivative($uri, $destination);
 
     // Return URL.
-    $url = file_create_url($destination);
+    $url = \Drupal::service('file_url_generator')->generateAbsoluteString($destination);
     return $url;
   }
 
@@ -153,7 +154,7 @@ class PhotosImage {
         $image_url = ImageStyle::load($style_name)->buildUrl($uri);
       }
       else {
-        $image_url = file_create_url($uri);
+        $image_url = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
       }
     }
     else {
@@ -203,7 +204,7 @@ class PhotosImage {
       }
       // If photos_access is enabled.
       if (\Drupal::config('photos.settings')->get('photos_access_photos')) {
-        /** @var \Drupal\Core\File\FileSystemInterface $file_system */
+        /** @var FileSystemInterface $file_system */
         $file_system = \Drupal::service('file_system');
         $file_scheme = \Drupal::service('stream_wrapper_manager')->getScheme($filepath);
         if ($file_scheme == 'private') {
diff --git a/src/PhotosUpload.php b/src/PhotosUpload.php
index a0bb207..284e6a4 100644
--- a/src/PhotosUpload.php
+++ b/src/PhotosUpload.php
@@ -193,7 +193,7 @@ class PhotosUpload {
           $ext = end($filename_parts);
           if (in_array($ext, $type)) {
             $path = \Drupal::service('file_system')->createFilename(PhotosUpload::rename($image['name'], $ext), PhotosUpload::path($scheme, '', $account));
-            if ($temp_file = file_save_data($zip->getFromIndex($x), $path)) {
+            if ($temp_file = \Drupal::service('file.repository')->writeData($zip->getFromIndex($x), $path)) {
               // Update file values.
               $temp_file->pid = $value->pid;
               $temp_file->nid = $value->nid;
diff --git a/src/Plugin/Block/PhotosInformation.php b/src/Plugin/Block/PhotosInformation.php
index 580b8ae..ce9929e 100644
--- a/src/Plugin/Block/PhotosInformation.php
+++ b/src/Plugin/Block/PhotosInformation.php
@@ -26,21 +26,21 @@ class PhotosInformation extends BlockBase implements ContainerFactoryPluginInter
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The current request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   private $requestStack;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
@@ -53,11 +53,11 @@ class PhotosInformation extends BlockBase implements ContainerFactoryPluginInter
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The current request stack.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, Connection $connection, RequestStack $request_stack, RouteMatchInterface $route_match) {
diff --git a/src/Plugin/Block/PhotosUserImages.php b/src/Plugin/Block/PhotosUserImages.php
index 31dbc44..694e01e 100644
--- a/src/Plugin/Block/PhotosUserImages.php
+++ b/src/Plugin/Block/PhotosUserImages.php
@@ -26,21 +26,21 @@ class PhotosUserImages extends BlockBase implements ContainerFactoryPluginInterf
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $account;
 
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
@@ -53,11 +53,11 @@ class PhotosUserImages extends BlockBase implements ContainerFactoryPluginInterf
    *   The plugin ID for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   The account for which view access should be checked.
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The database connection.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The current route match.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, AccountInterface $account, Connection $connection, RouteMatchInterface $route_match) {
