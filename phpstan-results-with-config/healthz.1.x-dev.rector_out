modules/contrib/healthz/healthz.install
modules/contrib/healthz/modules/healthz_token_access/src/EventSubscriber/RouteAlterSubscriber.php
modules/contrib/healthz/modules/healthz_token_access/src/TokenHealthzAccessCheck.php
modules/contrib/healthz/modules/healthz_token_access/tests/src/Unit/TokenHealthzAccessCheckTest.php
modules/contrib/healthz/src/Annotation/HealthzCheck.php
modules/contrib/healthz/src/Controller/HealthzController.php
modules/contrib/healthz/src/Form/HealthzAdminForm.php
modules/contrib/healthz/src/HealthzCheckPluginCollection.php
modules/contrib/healthz/src/HealthzPluginManager.php
modules/contrib/healthz/src/Plugin/HealthzCheck/FileSystem.php
modules/contrib/healthz/src/Plugin/HealthzCheck/LastCronRun.php
modules/contrib/healthz/src/Plugin/HealthzCheck/MemcacheStorage.php
modules/contrib/healthz/src/Plugin/HealthzCheck/SearchApiSolr.php
modules/contrib/healthz/src/Plugin/HealthzCheckBase.php
modules/contrib/healthz/src/Plugin/HealthzCheckInterface.php
modules/contrib/healthz/src/Routing/Routes.php
modules/contrib/healthz/tests/modules/healthz_test_plugin/src/Plugin/HealthzCheck/DoesNotApplyCheck.php
modules/contrib/healthz/tests/modules/healthz_test_plugin/src/Plugin/HealthzCheck/Failing200.php
modules/contrib/healthz/tests/modules/healthz_test_plugin/src/Plugin/HealthzCheck/FailingCheck.php
modules/contrib/healthz/tests/modules/healthz_test_plugin/src/Plugin/HealthzCheck/PassingCheck.php
modules/contrib/healthz/tests/src/Functional/FunctionalTestBase.php
modules/contrib/healthz/tests/src/Functional/HealthzAdminTest.php
modules/contrib/healthz/tests/src/Functional/HealthzFunctionalPluginTest.php
modules/contrib/healthz/tests/src/Kernel/PluginKernelTest.php
modules/contrib/healthz/tests/src/Unit/FileSystemCheckUnitTest.php
modules/contrib/healthz/tests/src/Unit/HealthzUnitTestBase.php
modules/contrib/healthz/tests/src/Unit/LastCronRunTest.php
modules/contrib/healthz/tests/src/Unit/SearchApiSolrCheckUnitTest.php

18 files with changes
=====================

1) modules/contrib/healthz/tests/src/Unit/SearchApiSolrCheckUnitTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\healthz\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Prophecy\Prophecy\ObjectProphecy;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ @@
  */
 class SearchApiSolrCheckUnitTest extends HealthzUnitTestBase {

+  use ProphecyTrait;
   /**
    * The mock module handler service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var ModuleHandlerInterface|ObjectProphecy
    */
   protected $moduleHandler;

@@ @@
   /**
    * The mock search api server entity storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var EntityStorageInterface|ObjectProphecy
    */
   protected $serverStorage;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->moduleHandler = $this->prophesize(ModuleHandlerInterface::class);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/healthz/tests/src/Unit/HealthzUnitTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\healthz\Unit;

+use Drupal\healthz\Plugin\HealthzCheckInterface;
 use Drupal\Core\DependencyInjection\ContainerBuilder;
 use Drupal\Tests\UnitTestCase;

@@ @@
   /**
    * The plugin to test.
    *
-   * @var \Drupal\healthz\Plugin\HealthzCheckInterface
+   * @var HealthzCheckInterface
    */
   protected $plugin;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     // Add a mock string translation service to the container.
     $container = new ContainerBuilder();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/healthz/tests/src/Unit/FileSystemCheckUnitTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\healthz\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Prophecy\Prophecy\ObjectProphecy;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\healthz\Plugin\HealthzCheck\FileSystem;
 use org\bovigo\vfs\vfsStream;
@@ @@
  */
 abstract class FileSystemCheckUnitTest extends HealthzUnitTestBase {

+  use ProphecyTrait;
   /**
    * The mock file system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface|\Prophecy\Prophecy\ObjectProphecy
+   * @var FileSystemInterface|ObjectProphecy
    */
   protected $fileSystem;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->fileSystem = $this->prophesize(FileSystemInterface::class);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/healthz/tests/src/Kernel/PluginKernelTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\healthz\Kernel;

+use Drupal\healthz\Plugin\HealthzCheckInterface;
 use Drupal\Core\Plugin\DefaultLazyPluginCollection;
 use Drupal\KernelTests\KernelTestBase;

@@ @@
       ],
     ];
     $collection = new DefaultLazyPluginCollection($this->container->get('plugin.manager.healthz'), $checks);
-    /** @var \Drupal\healthz\Plugin\HealthzCheckInterface $plugin */
+    /** @var HealthzCheckInterface $plugin */
     $plugin = $collection->get('passing_check');

     $expected = $checks['passing_check'];
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/healthz/tests/src/Functional/HealthzAdminTest.php:30

    ---------- begin diff ----------
@@ @@
       "checks[failing_check][status]" => FALSE,
       "checks[failing_check][weight]" => 0,
     ];
-    $this->drupalPostForm('admin/config/system/healthz', $edit, 'Save configuration');
+    $this->drupalGet('admin/config/system/healthz');
+    $this->submitForm($edit, 'Save configuration');

     $this->assertCheckboxChecked('checks[passing_check][status]');
     $this->assertCheckboxChecked('checks[passing_check][settings][test_setting]');
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/healthz/tests/src/Functional/FunctionalTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\healthz\Functional;

+use Drupal\user\UserInterface;
+use Drupal\Core\Config\Config;
 use Drupal\Tests\BrowserTestBase;

 /**
@@ @@
   /**
    * An user to view the healthz checks.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $checkUser;

@@ @@
   /**
    * An user to administer the healthz checks.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $adminUser;

@@ @@
   /**
    * Our config.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $config;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->checkUser = $this->drupalCreateUser($this->permissions);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/healthz/src/Routing/Routes.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The authentication collector.
    *
-   * @var \Drupal\Core\Authentication\AuthenticationCollectorInterface
+   * @var AuthenticationCollectorInterface
    */
   protected $authCollector;

@@ @@
   /**
    * Instantiates a Routes object.
    *
-   * @param \Drupal\Core\Authentication\AuthenticationCollectorInterface $auth_collector
+   * @param AuthenticationCollectorInterface $auth_collector
    *   The authentication provider collector.
    */
   public function __construct(AuthenticationCollectorInterface $auth_collector) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


8) modules/contrib/healthz/src/Plugin/HealthzCheckInterface.php:63

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   A minimally prepopulated form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The state of the (entire) configuration form.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


9) modules/contrib/healthz/src/Plugin/HealthzCheckBase.php:182

    ---------- begin diff ----------
@@ @@
   /**
    * Add an error for this check.
    *
-   * @param \Drupal\Core\StringTranslation\TranslatableMarkup $message
+   * @param TranslatableMarkup $message
    *   The translated error message.
    */
   public function addError(TranslatableMarkup $message) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/healthz/src/Plugin/HealthzCheck/SearchApiSolr.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * The module handler service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The search api server entity storage.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
    *   The plugin id.
    * @param mixed $plugin_definition
    *   The plugin definition.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ModuleHandlerInterface $module_handler, EntityTypeManagerInterface $entity_type_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/healthz/src/Plugin/HealthzCheck/MemcacheStorage.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * The module handler service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
    *   The plugin id.
    * @param mixed $plugin_definition
    *   The plugin definition.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler service.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/healthz/src/Plugin/HealthzCheck/FileSystem.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file system service.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, FileSystemInterface $file_system) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/healthz/src/HealthzPluginManager.php:17

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/healthz/src/Form/HealthzAdminForm.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The plugin collection.
    *
-   * @var \Drupal\healthz\HealthzCheckPluginCollection
+   * @var HealthzCheckPluginCollection
    */
   protected $healthzChecksCollection;

@@ @@
   /**
    * HealthzController constructor.
    *
-   * @param \Drupal\healthz\HealthzPluginManager $plugin_manager
+   * @param HealthzPluginManager $plugin_manager
    *   The plugin manager for healthz checks.
    */
   public function __construct(HealthzPluginManager $plugin_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/healthz/src/Controller/HealthzController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\healthz\Controller;

+use Drupal\healthz\Plugin\HealthzCheckInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\DependencyInjection\ContainerInjectionInterface;
 use Drupal\healthz\HealthzCheckPluginCollection;
@@ @@
   /**
    * The plugin collection.
    *
-   * @var \Drupal\healthz\HealthzCheckPluginCollection
+   * @var HealthzCheckPluginCollection
    */
   protected $healthzChecksCollection;

@@ @@
   /**
    * HealthzController constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory service.
-   * @param \Drupal\healthz\HealthzPluginManager $plugin_manager
+   * @param HealthzPluginManager $plugin_manager
    *   The plugin manager for healthz checks.
    */
   public function __construct(ConfigFactoryInterface $config_factory, HealthzPluginManager $plugin_manager) {
@@ @@
     $response = new JsonResponse();
     $data = [];
     foreach ($this->checks as $plugin_id => $check) {
-      /** @var \Drupal\healthz\Plugin\HealthzCheckInterface $plugin */
+      /** @var HealthzCheckInterface $plugin */
       $plugin = $this->healthzChecksCollection->get($plugin_id);

       // Ignore if the plugin is disabled, or doesn't apply.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


16) modules/contrib/healthz/src/Annotation/HealthzCheck.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\healthz\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The human-readable name of the check.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * Additional administrative information about the check's behavior.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


17) modules/contrib/healthz/modules/healthz_token_access/tests/src/Unit/TokenHealthzAccessCheckTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\healthz_token_access\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Access\AccessResultAllowed;
 use Drupal\Core\Access\AccessResultNeutral;
 use Drupal\Core\Cache\Context\CacheContextsManager;
@@ @@
 class TokenHealthzAccessCheckTest extends UnitTestCase {


+  use ProphecyTrait;
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Initialize Drupal container since the cache context manager is needed.
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/healthz/modules/healthz_token_access/src/TokenHealthzAccessCheck.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 18 files have been changed by Rector                                      

