modules/contrib/critical_css/critical_css.api.php
modules/contrib/critical_css/critical_css.module
modules/contrib/critical_css/src/Asset/CriticalCssProvider.php
modules/contrib/critical_css/src/Asset/CriticalCssProviderInterface.php
modules/contrib/critical_css/src/Asset/CssCollectionRenderer.php
modules/contrib/critical_css/src/Form/SettingsForm.php
modules/contrib/critical_css/tests/src/Functional/CriticalCssHeadTest.php
modules/contrib/critical_css/tests/src/Unit/CriticalCssProviderTest.php

5 files with changes
====================

1) modules/contrib/critical_css/tests/src/Unit/CriticalCssProviderTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * The class under test.
    *
-   * @var \Drupal\critical_css\Asset\CriticalCssProvider
+   * @var CriticalCssProvider
    */
   protected $criticalCssProvider;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/critical_css/src/Form/SettingsForm.php:67

    ---------- begin diff ----------
@@ @@

     $form['critical_css_dir_path'] = [
       '#type' => 'textfield',
-      '#title' => $this->t('Critical CSS base directory (relative to @theme_path)', ['@theme_path' => drupal_get_path('theme', $this->config('system.theme')->get('default'))]),
+      '#title' => $this->t('Critical CSS base directory (relative to @theme_path)', ['@theme_path' => \Drupal::service('extension.list.theme')->getPath($this->config('system.theme')->get('default'))]),
       '#required' => TRUE,
       '#description' => $this->t('It must start with a leading slash. Enter a directory path relative to current theme, where critical CSS files are located (e.g., /css/critical). Inside that directory, "Critical CSS" will try to find, among others, any file named "{entity_id}.css", "{bundle_type}.css",  or "{url}.css" (e.g., 1234.css, article.css, my-page-url.css, etc). If none of the previous filenames can be found, it will search for a file named "default-critical.css". Please refer to the debugging section in the README file for a complete list of filenames.'),
       '#default_value' => $config->get('dir_path'),
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/critical_css/src/Asset/CssCollectionRenderer.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * The decorated CSS collection renderer.
    *
-   * @var \Drupal\Core\Asset\AssetCollectionRendererInterface
+   * @var AssetCollectionRendererInterface
    */
   protected $cssCollectionRenderer;

@@ @@
   /**
    * Config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The Twig service.
    *
-   * @var \Drupal\Core\Template\TwigEnvironment
+   * @var TwigEnvironment
    */
   protected $twig;

@@ @@
   /**
    * Critical CSS provider.
    *
-   * @var \Drupal\critical_css\Asset\CriticalCssProviderInterface
+   * @var CriticalCssProviderInterface
    */
   protected $criticalCssProvider;

@@ @@
   /**
    * Constructs a CssCollectionRenderer.
    *
-   * @param \Drupal\Core\Asset\AssetCollectionRendererInterface $css_collection_renderer
+   * @param AssetCollectionRendererInterface $css_collection_renderer
    *   The decorated CSS collection renderer.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config Factory.
-   * @param \Drupal\Core\Template\TwigEnvironment $twig
+   * @param TwigEnvironment $twig
    *   The Twig service.
-   * @param \Drupal\critical_css\Asset\CriticalCssProviderInterface $critical_css_provider
+   * @param CriticalCssProviderInterface $critical_css_provider
    *   The Critical CSS provider.
    */
   public function __construct(AssetCollectionRendererInterface $css_collection_renderer, ConfigFactoryInterface $config_factory, TwigEnvironment $twig, CriticalCssProviderInterface $critical_css_provider) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


4) modules/contrib/critical_css/src/Asset/CriticalCssProvider.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\critical_css\Asset;

+use Drupal\Core\Config\ImmutableConfig;
+use Symfony\Component\HttpFoundation\Request;
+use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
 use Drupal\Core\Routing\AdminContext;
@@ @@
   /**
    * Critical CSS config.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   protected $request;

@@ @@
   /**
    * Current Route Match.
    *
-   * @var \Drupal\Core\Routing\ResettableStackedRouteMatchInterface
+   * @var ResettableStackedRouteMatchInterface
    */
   protected $currentRouteMatch;

@@ @@
   /**
    * Current path stack.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPathStack;

@@ @@
   /**
    * Current user.
    *
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;

@@ @@
   /**
    * Theme Manager.
    *
-   * @var \Drupal\Core\Theme\ThemeManagerInterface
+   * @var ThemeManagerInterface
    */
   protected $themeManager;

@@ @@
   /**
    * The route admin context to determine whether a route is an admin one.
    *
-   * @var \Drupal\Core\Routing\AdminContext
+   * @var AdminContext
    */
   protected $adminContext;

@@ @@
   /**
    * CriticalCssProvider constructor.
    *
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   Request.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config Factory.
-   * @param \Drupal\Core\Routing\ResettableStackedRouteMatchInterface $current_route_match
+   * @param ResettableStackedRouteMatchInterface $current_route_match
    *   Current route.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path_stack
+   * @param CurrentPathStack $current_path_stack
    *   Current path.
-   * @param \Drupal\Core\Session\AccountProxyInterface $current_user
+   * @param AccountProxyInterface $current_user
    *   Current user.
-   * @param \Drupal\Core\Theme\ThemeManagerInterface $theme_manager
+   * @param ThemeManagerInterface $theme_manager
    *   The Theme Manager.
-   * @param \Drupal\Core\Routing\AdminContext $admin_context
+   * @param AdminContext $admin_context
    *   The route admin context service.
    */
   public function __construct(
@@ @@
    *
    * At this moment, it only works for nodes and taxonomy terms.
    *
-   * @return \Drupal\Core\Entity\ContentEntityInterface|null
+   * @return ContentEntityInterface|null
    *   Matched file path, or null if nothing found.
    */
   protected function getCurrentEntity() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


5) modules/contrib/critical_css/critical_css.api.php:11

    ---------- begin diff ----------
@@ @@
  *
  * @param array $file_paths
  *   The critical CSS files array.
- * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+ * @param ContentEntityInterface $entity
  *   The current entity used.
  */
 function hook_critical_css_file_paths_suggestion_alter(array &$file_paths, ContentEntityInterface $entity) {
    ----------- end diff -----------

 [OK] 5 files have been changed by Rector                                       

