diff --git a/domain_path_redirect.info.yml b/domain_path_redirect.info.yml
index ea77027..3802608 100644
--- a/domain_path_redirect.info.yml
+++ b/domain_path_redirect.info.yml
@@ -1,7 +1,7 @@
 name: 'Domain Path Redirect'
 type: module
 description: 'Allows users to create redirects per domain'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^8 || ^9 || ^10
 dependencies:
   - domain:domain
   - redirect:redirect
diff --git a/src/DomainPathRedirectRepository.php b/src/DomainPathRedirectRepository.php
index 510726e..e3299c7 100644
--- a/src/DomainPathRedirectRepository.php
+++ b/src/DomainPathRedirectRepository.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\domain_path_redirect;
 
+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Database\Connection;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ -18,28 +19,28 @@ class DomainPathRedirectRepository {
   /**
    * The entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;
 
   /**
    * The configuration factory.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;
 
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
 
@@ -53,13 +54,13 @@ class DomainPathRedirectRepository {
   /**
    * DomainPathRedirectRequestSubscriber constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   The default database connection.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   A request stack object.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, Connection $connection, ConfigFactoryInterface $config_factory, RequestStack $request_stack) {
@@ -81,10 +82,10 @@ class DomainPathRedirectRepository {
    * @param string $language
    *   The language for which is the redirect.
    *
-   * @return \Drupal\domain_path_redirect\Entity\DomainPathRedirect
+   * @return DomainPathRedirect
    *   The matched redirect entity.
    *
-   * @throws \Drupal\redirect\Exception\RedirectLoopException
+   * @throws RedirectLoopException
    */
   public function findMatchingRedirect($source_path, $domain_id, array $query = [], $language = Language::LANGCODE_NOT_SPECIFIED) {
     $hashes = [
@@ -130,14 +131,14 @@ class DomainPathRedirectRepository {
   /**
    * Helper function to find recursive redirects.
    *
-   * @param \Drupal\domain_path_redirect\Entity\DomainPathRedirect $redirect
+   * @param DomainPathRedirect $redirect
    *   The redirect object.
    * @param string $domain_id
    *   The ID of the domain.
    * @param string $language
    *   The language to use.
    *
-   * @return \Drupal\domain_path_redirect\Entity\DomainPathRedirect
+   * @return DomainPathRedirect
    *   The matched redirect entity.
    */
   protected function findByRedirect(DomainPathRedirect $redirect, $domain_id, $language) {
@@ -154,7 +155,7 @@ class DomainPathRedirectRepository {
    * @param string $source_path
    *   The redirect source path (without the query).
    *
-   * @return \Drupal\domain_path_redirect\Entity\DomainPathRedirect[]
+   * @return DomainPathRedirect[]
    *   Array of redirect entities.
    */
   public function findBySourcePath($source_path) {
@@ -170,7 +171,7 @@ class DomainPathRedirectRepository {
    * @param string[] $destination_uri
    *   List of destination URIs, for example ['internal:/node/123'].
    *
-   * @return \Drupal\domain_path_redirect\Entity\DomainPathRedirect[]
+   * @return DomainPathRedirect[]
    *   Array of redirect entities.
    */
   public function findByDestinationUri(array $destination_uri) {
@@ -187,7 +188,7 @@ class DomainPathRedirectRepository {
    * @param int $redirect_id
    *   The redirect id.
    *
-   * @return \Drupal\domain_path_redirect\Entity\DomainPathRedirect
+   * @return DomainPathRedirect
    *   The redirect entity.
    */
   public function load($redirect_id) {
@@ -200,7 +201,7 @@ class DomainPathRedirectRepository {
    * @param array $redirect_ids
    *   Redirect ids to load.
    *
-   * @return \Drupal\domain_path_redirect\Entity\DomainPathRedirect[]
+   * @return DomainPathRedirect[]
    *   List of redirect entities.
    */
   public function loadMultiple(array $redirect_ids = NULL) {
diff --git a/src/Entity/DomainPathRedirect.php b/src/Entity/DomainPathRedirect.php
index b7a9e72..0da2bcb 100644
--- a/src/Entity/DomainPathRedirect.php
+++ b/src/Entity/DomainPathRedirect.php
@@ -132,7 +132,7 @@ class DomainPathRedirect extends Redirect {
   /**
    * Sets the domain if of created redirect.
    *
-   * @param \Drupal\domain\DomainInterface $domain
+   * @param DomainInterface $domain
    *   The active domain request.
    */
   public function setDomain(DomainInterface $domain) {
diff --git a/src/EventSubscriber/DomainPathRedirectRequestSubscriber.php b/src/EventSubscriber/DomainPathRedirectRequestSubscriber.php
index c87f856..620bc53 100644
--- a/src/EventSubscriber/DomainPathRedirectRequestSubscriber.php
+++ b/src/EventSubscriber/DomainPathRedirectRequestSubscriber.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\domain_path_redirect\EventSubscriber;
 
+use Drupal\Core\Config\Config;
+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\Core\Cache\CacheableMetadata;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ -15,7 +17,6 @@ use Drupal\redirect\RedirectChecker;
 use Drupal\domain_path_redirect\DomainPathRedirectRepository;
 use Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\HttpKernel\KernelEvents;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\Routing\RequestContext;
 use Drupal\domain\DomainNegotiatorInterface;
@@ -36,131 +37,131 @@ class DomainPathRedirectRequestSubscriber implements EventSubscriberInterface {
   /**
    * The redirect entity repository.
    *
-   * @var \Drupal\domain_path_redirect\DomainPathRedirectRepository
+   * @var DomainPathRedirectRepository
    */
   protected $domainPathRedirectRepository;
 
   /**
    * The language manager service.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;
 
   /**
    * The config.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $config;
 
   /**
    * The alias manager service.
    *
-   * @var \Drupal\path_alias\AliasManagerInterface
+   * @var AliasManagerInterface
    */
   protected $aliasManager;
 
   /**
    * The module handler service.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * The entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * The redirect checker service.
    *
-   * @var \Drupal\redirect\RedirectChecker
+   * @var RedirectChecker
    */
   protected $checker;
 
   /**
    * Request context.
    *
-   * @var \Symfony\Component\Routing\RequestContext
+   * @var RequestContext
    */
   protected $context;
 
   /**
    * Path processor manager.
    *
-   * @var \Drupal\Core\PathProcessor\InboundPathProcessorInterface
+   * @var InboundPathProcessorInterface
    */
   protected $pathProcessor;
 
   /**
    * Domain negotiator.
    *
-   * @var \Drupal\domain\DomainNegotiatorInterface
+   * @var DomainNegotiatorInterface
    */
   protected $domainNegotiator;
 
   /**
    * The logger channel factory.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   protected $logger;
 
   /**
    * The URL generator service.
    *
-   * @var \Drupal\Core\Routing\UrlGeneratorInterface
+   * @var UrlGeneratorInterface
    */
   protected $urlGenerator;
 
   /**
    * Messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;
 
   /**
    * The route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * DomainPathRedirectRequestSubscriber constructor.
    *
-   * @param \Drupal\domain_path_redirect\DomainPathRedirectRepository $domain_path_redirect_repository
+   * @param DomainPathRedirectRepository $domain_path_redirect_repository
    *   The redirect entity repository.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config
+   * @param ConfigFactoryInterface $config
    *   The config factory service.
-   * @param \Drupal\path_alias\AliasManagerInterface $alias_manager
+   * @param AliasManagerInterface $alias_manager
    *   The path alias manager.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
-   * @param \Drupal\redirect\RedirectChecker $checker
+   * @param RedirectChecker $checker
    *   The redirect checker service.
-   * @param \Symfony\Component\Routing\RequestContext $context
+   * @param RequestContext $context
    *   The router request context.
-   * @param \Drupal\Core\PathProcessor\InboundPathProcessorInterface $path_processor
+   * @param InboundPathProcessorInterface $path_processor
    *   The inbound path processor.
-   * @param \Drupal\domain\DomainNegotiatorInterface $domain_negotiator
+   * @param DomainNegotiatorInterface $domain_negotiator
    *   The domain negotiator.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger
+   * @param LoggerChannelFactoryInterface $logger
    *   The logger service.
-   * @param \Drupal\Core\Routing\UrlGeneratorInterface $url_generator
+   * @param UrlGeneratorInterface $url_generator
    *   The URL generator service.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   Messenger service.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   The route match.
    */
   public function __construct(DomainPathRedirectRepository $domain_path_redirect_repository, LanguageManagerInterface $language_manager, ConfigFactoryInterface $config, AliasManagerInterface $alias_manager, ModuleHandlerInterface $module_handler, EntityTypeManagerInterface $entity_type_manager, RedirectChecker $checker, RequestContext $context, InboundPathProcessorInterface $path_processor, DomainNegotiatorInterface $domain_negotiator, LoggerChannelFactoryInterface $logger, UrlGeneratorInterface $url_generator, MessengerInterface $messenger, RouteMatchInterface $route_match) {
@@ -183,10 +184,10 @@ class DomainPathRedirectRequestSubscriber implements EventSubscriberInterface {
   /**
    * Handles the domain redirect if any found.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param RequestEvent $event
    *   The event to process.
    */
-  public function onKernelRequestCheckDomainPathRedirect(GetResponseEvent $event) {
+  public function onKernelRequestCheckDomainPathRedirect(RequestEvent $event) {
     // Get a clone of the request. During inbound processing the request
     // can be altered. Allowing this here can lead to unexpected behavior.
     // For example the path_processor.files inbound processor provided by
@@ -241,10 +242,10 @@ class DomainPathRedirectRequestSubscriber implements EventSubscriberInterface {
   /**
    * Redirect to domain redirects listing page if there is no active domain.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param RequestEvent $event
    *   The event to process.
    */
-  public function onKernelRequestCheckActiveDomain(GetResponseEvent $event) {
+  public function onKernelRequestCheckActiveDomain(RequestEvent $event) {
     $request = $event->getRequest();
     $this->context->fromRequest($request);
     $route_name = $this->routeMatch->getRouteName();
@@ -259,12 +260,12 @@ class DomainPathRedirectRequestSubscriber implements EventSubscriberInterface {
   /**
    * Prior to set the response it check if we can redirect.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param RequestEvent $event
    *   The event to process.
-   * @param \Drupal\Core\Url $url
+   * @param Url $url
    *   The Url where we want to redirect.
    */
-  protected function setResponse(GetResponseEvent $event, Url $url) {
+  protected function setResponse(RequestEvent $event, Url $url) {
     $request = $event->getRequest();
     $this->context->fromRequest($request);
 
diff --git a/src/Form/DomainPathRedirectForm.php b/src/Form/DomainPathRedirectForm.php
index edc359c..a12edde 100644
--- a/src/Form/DomainPathRedirectForm.php
+++ b/src/Form/DomainPathRedirectForm.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\domain_path_redirect\Form;
 
+use Drupal\Core\Language\LanguageManagerInterface;
+use Drupal\Core\Config\Config;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Language\Language;
 use Drupal\Core\Language\LanguageInterface;
@@ -20,14 +22,14 @@ class DomainPathRedirectForm extends ContentEntityForm {
   /**
    * The configurable language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;
 
   /**
    * Contains the redirect.settings configuration object.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $config;
 
@@ -45,7 +47,7 @@ class DomainPathRedirectForm extends ContentEntityForm {
    * {@inheritdoc}
    */
   protected function prepareEntity() {
-    /** @var \Drupal\domain_path_redirect\Entity\DomainPathRedirect $redirect */
+    /** @var DomainPathRedirect $redirect */
     $redirect = $this->entity;
 
     if ($redirect->isNew()) {
@@ -89,7 +91,7 @@ class DomainPathRedirectForm extends ContentEntityForm {
    */
   public function form(array $form, FormStateInterface $form_state) {
     $form = parent::form($form, $form_state);
-    /** @var \Drupal\domain_path_redirect\Entity\DomainPathRedirect $domain_path_redirect */
+    /** @var DomainPathRedirect $domain_path_redirect */
     $domain_path_redirect = $this->entity;
 
     // Add ajax callback to domain autocomplete field.
diff --git a/tests/src/Kernel/DomainPathRedirectAPITest.php b/tests/src/Kernel/DomainPathRedirectAPITest.php
index 00a54f4..b7e5094 100644
--- a/tests/src/Kernel/DomainPathRedirectAPITest.php
+++ b/tests/src/Kernel/DomainPathRedirectAPITest.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\Tests\domain_path_redirect\Kernel;
 
+use Drupal\Core\Entity\EntityStorageInterface;
+use Drupal\domain_path_redirect\DomainPathRedirectRepository;
 use Drupal\language\Entity\ConfigurableLanguage;
 use Drupal\domain_path_redirect\Entity\DomainPathRedirect;
 use Drupal\Core\Language\Language;
@@ -20,7 +22,7 @@ class DomainPathRedirectAPITest extends KernelTestBase {
   /**
    * The redirect entity storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $controller;
 
@@ -85,7 +87,7 @@ class DomainPathRedirectAPITest extends KernelTestBase {
     $domain1 = end($this->domains);
 
     // Create a redirect and test if hash has been generated correctly.
-    /** @var \Drupal\domain_path_redirect\Entity\DomainPathRedirect $redirect */
+    /** @var DomainPathRedirect $redirect */
     $redirect = $this->controller->create([
       'domain' => $domain->id(),
     ]);
@@ -128,7 +130,7 @@ class DomainPathRedirectAPITest extends KernelTestBase {
       $redirect->save();
     }
 
-    /** @var \Drupal\domain_path_redirect\DomainPathRedirectRepository $repository */
+    /** @var DomainPathRedirectRepository $repository */
     $repository = \Drupal::service('domain_path_redirect.repository');
     $redirect = $repository->findMatchingRedirect('another-url', $domain1->id(), ['key1' => 'val1'], 'de');
     if (!empty($redirect)) {
diff --git a/tests/src/Unit/DomainPathRedirectRequestSubscriberTest.php b/tests/src/Unit/DomainPathRedirectRequestSubscriberTest.php
index e61f86e..6008c6f 100644
--- a/tests/src/Unit/DomainPathRedirectRequestSubscriberTest.php
+++ b/tests/src/Unit/DomainPathRedirectRequestSubscriberTest.php
@@ -2,6 +2,10 @@
 
 namespace Drupal\Tests\domain_path_redirect\Unit;
 
+use PHPUnit\Framework\MockObject\MockObject;
+use Symfony\Component\HttpKernel\Event\RequestEvent;
+use Symfony\Component\HttpKernel\Event\TerminateEvent;
+use Drupal\language\ConfigurableLanguageManagerInterface;
 use Drupal\Core\Language\Language;
 use Drupal\domain\DomainInterface;
 use Drupal\domain_path_redirect\Entity\DomainPathRedirect;
@@ -10,8 +14,6 @@ use Drupal\Tests\UnitTestCase;
 use Symfony\Component\HttpFoundation\RedirectResponse;
 use Symfony\Component\HttpFoundation\Request;
 use Symfony\Component\HttpFoundation\Response;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
-use Symfony\Component\HttpKernel\Event\PostResponseEvent;
 
 /**
  * Tests the domain path redirect logic.
@@ -64,9 +66,7 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
     // by the redirect entity and values from the accessed url.
     $final_query = $redirect_query + $request_query;
 
-    $url = $this->getMockBuilder('Drupal\Core\Url')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $url = $this->createMock('Drupal\Core\Url');
 
     $url->expects($this->once())
       ->method('setAbsolute')
@@ -103,9 +103,7 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @dataProvider getDomainPathRedirectData
    */
   public function testDomainPathRedirectLogicWithoutQueryRetaining($request_uri, $request_query, $redirect_uri, $redirect_query, $hostname, $domain_id) {
-    $url = $this->getMockBuilder('Drupal\Core\Url')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $url = $this->createMock('Drupal\Core\Url');
 
     $url->expects($this->once())
       ->method('setAbsolute')
@@ -139,13 +137,11 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param string $hostname
    *   Url to be returned from getHostname.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    *   The mocked domain object.
    */
   protected function getDomainStub($hostname) {
-    $domain = $this->getMockBuilder('Drupal\domain\Entity\Domain')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $domain = $this->createMock('Drupal\domain\Entity\Domain');
 
     $domain->expects($this->any())
       ->method('getHostname')
@@ -165,13 +161,11 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param int $status_code
    *   The redirect status code.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    *   The mocked redirect object.
    */
   protected function getRedirectStub($url, $domain_id, $status_code = 301) {
-    $redirect = $this->getMockBuilder('Drupal\domain_path_redirect\Entity\DomainPathRedirect')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $redirect = $this->createMock('Drupal\domain_path_redirect\Entity\DomainPathRedirect');
 
     $redirect->expects($this->once())
       ->method('getRedirectUrl')
@@ -195,9 +189,9 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
   /**
    * Instantiates the subscriber and runs onKernelRequestCheckRedirect()
    *
-   * @param \Drupal\domain_path_redirect\Entity\DomainPathRedirect $redirect
+   * @param DomainPathRedirect $redirect
    *   The redirect entity.
-   * @param \Drupal\domain\DomainInterface $domain
+   * @param DomainInterface $domain
    *   A domain record object.
    * @param string $request_uri
    *   The URI of the request.
@@ -206,45 +200,33 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param bool $retain_query
    *   Flag if to retain the query through the redirect.
    *
-   * @return \Symfony\Component\HttpKernel\Event\GetResponseEvent
+   * @return RequestEvent
    *   The response event.
    */
   protected function callOnKernelRequestCheckDomainPathRedirect(DomainPathRedirect $redirect, DomainInterface $domain, $request_uri, array $request_query, $retain_query) {
     $event = $this->getGetResponseEventStub($request_uri, http_build_query($request_query));
     $request = $event->getRequest();
 
-    $checker = $this->getMockBuilder('Drupal\redirect\RedirectChecker')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $checker = $this->createMock('Drupal\redirect\RedirectChecker');
     $checker->expects($this->any())
       ->method('canRedirect')
       ->will($this->returnValue(TRUE));
 
-    $context = $this->getMockBuilder('Symfony\Component\Routing\RequestContext')->getMock();
+    $context = $this->createMock('Symfony\Component\Routing\RequestContext');
 
-    $inbound_path_processor = $this->getMockBuilder('Drupal\Core\PathProcessor\InboundPathProcessorInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $inbound_path_processor = $this->createMock('Drupal\Core\PathProcessor\InboundPathProcessorInterface');
     $inbound_path_processor->expects($this->any())
       ->method('processInbound')
       ->with($request->getPathInfo(), $request)
       ->will($this->returnValue($request->getPathInfo()));
 
-    $alias_manager = $this->getMockBuilder('Drupal\path_alias\AliasManagerInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
-    $module_handler = $this->getMockBuilder('Drupal\Core\Extension\ModuleHandlerInterface')
-      ->getMock();
-    $entity_manager = $this->getMockBuilder('Drupal\Core\Entity\EntityTypeManagerInterface')
-      ->getMock();
-    $logger = $this->getMockBuilder('Drupal\Core\Logger\LoggerChannelFactoryInterface')
-      ->getMock();
-    $url_generator = $this->getMockBuilder('Drupal\Core\Routing\UrlGeneratorInterface')
-      ->getMock();
-    $messenger = $this->getMockBuilder('Drupal\Core\Messenger\MessengerInterface')
-      ->getMock();
-    $route_match = $this->getMockBuilder('Drupal\Core\Routing\RouteMatchInterface')
-      ->getMock();
+    $alias_manager = $this->createMock('Drupal\path_alias\AliasManagerInterface');
+    $module_handler = $this->createMock('Drupal\Core\Extension\ModuleHandlerInterface');
+    $entity_manager = $this->createMock('Drupal\Core\Entity\EntityTypeManagerInterface');
+    $logger = $this->createMock('Drupal\Core\Logger\LoggerChannelFactoryInterface');
+    $url_generator = $this->createMock('Drupal\Core\Routing\UrlGeneratorInterface');
+    $messenger = $this->createMock('Drupal\Core\Messenger\MessengerInterface');
+    $route_match = $this->createMock('Drupal\Core\Routing\RouteMatchInterface');
 
     $subscriber = new DomainPathRedirectRequestSubscriber(
       $this->getDomainPathRedirectRepositoryStub('findMatchingRedirect', $redirect),
@@ -273,16 +255,14 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    *
    * @param string $method
    *   Method to mock - either load() or findMatchingRedirect().
-   * @param \Drupal\domain\DomainInterface $domain
+   * @param DomainInterface $domain
    *   The domain object to be returned.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    *   The domain negotiator.
    */
   protected function getDomainNegotiatorStub($method, DomainInterface $domain) {
-    $domain_negotiator = $this->getMockBuilder('Drupal\domain\DomainNegotiatorInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $domain_negotiator = $this->createMock('Drupal\domain\DomainNegotiatorInterface');
 
     $domain_negotiator->expects($this->any())
       ->method($method)
@@ -296,16 +276,14 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    *
    * @param string $method
    *   Method to mock - either load() or findMatchingRedirect().
-   * @param \Drupal\domain_path_redirect\Entity\DomainPathRedirect $redirect
+   * @param DomainPathRedirect $redirect
    *   The redirect entity to be returned.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return MockObject
    *   The redirect repository.
    */
   protected function getDomainPathRedirectRepositoryStub($method, DomainPathRedirect $redirect) {
-    $repository = $this->getMockBuilder('Drupal\domain_path_redirect\DomainPathRedirectRepository')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $repository = $this->createMock('Drupal\domain_path_redirect\DomainPathRedirectRepository');
 
     $repository->expects($this->any())
       ->method($method)
@@ -320,19 +298,16 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param array $headers
    *   Headers to be set into the response.
    *
-   * @return \Symfony\Component\HttpKernel\Event\PostResponseEvent
+   * @return TerminateEvent
    *   The post response event object.
    */
   protected function getPostResponseEvent(array $headers = []) {
-    $http_kernel = $this->getMockBuilder('Symfony\Component\HttpKernel\HttpKernelInterface')
-      ->getMock();
-    $request = $this->getMockBuilder('Symfony\Component\HttpFoundation\Request')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $http_kernel = $this->createMock('Symfony\Component\HttpKernel\HttpKernelInterface');
+    $request = $this->createMock('Symfony\Component\HttpFoundation\Request');
 
     $response = new Response('', 301, $headers);
 
-    return new PostResponseEvent($http_kernel, $request, $response);
+    return new TerminateEvent($http_kernel, $request, $response);
   }
 
   /**
@@ -343,26 +318,24 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param string $query_string
    *   The query string of the request.
    *
-   * @return \Symfony\Component\HttpKernel\Event\GetResponseEvent
+   * @return RequestEvent
    *   The response event.
    */
   protected function getGetResponseEventStub($path_info, $query_string) {
     $request = Request::create($path_info . '?' . $query_string, 'GET', [], [], [], ['SCRIPT_NAME' => 'index.php']);
 
-    $http_kernel = $this->getMockBuilder('Symfony\Component\HttpKernel\HttpKernelInterface')
-      ->getMock();
-    return new GetResponseEvent($http_kernel, $request, NULL);
+    $http_kernel = $this->createMock('Symfony\Component\HttpKernel\HttpKernelInterface');
+    return new RequestEvent($http_kernel, $request, NULL);
   }
 
   /**
    * Gets the language manager mock object.
    *
-   * @return \Drupal\language\ConfigurableLanguageManagerInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @return ConfigurableLanguageManagerInterface|MockObject
    *   The mocked language manager object.
    */
   protected function getLanguageManagerStub() {
-    $language_manager = $this->getMockBuilder('Drupal\language\ConfigurableLanguageManagerInterface')
-      ->getMock();
+    $language_manager = $this->createMock('Drupal\language\ConfigurableLanguageManagerInterface');
     $language_manager->expects($this->any())
       ->method('getCurrentLanguage')
       ->will($this->returnValue(new Language(['id' => 'en'])));
