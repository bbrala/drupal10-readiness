modules/contrib/bakery/bakery.drush.inc
modules/contrib/bakery/bakery.install
modules/contrib/bakery/bakery.module
modules/contrib/bakery/src/BakeryService.php
modules/contrib/bakery/src/BakeryUserHooks.php
modules/contrib/bakery/src/Controller/ChildController.php
modules/contrib/bakery/src/Controller/ChildDeprecatedController.php
modules/contrib/bakery/src/Controller/MainController.php
modules/contrib/bakery/src/Controller/MainDeprecatedController.php
modules/contrib/bakery/src/Cookies/BrowserCookieTrait.php
modules/contrib/bakery/src/Cookies/ChocolateChip.php
modules/contrib/bakery/src/Cookies/CookieInterface.php
modules/contrib/bakery/src/Cookies/Gingerbread.php
modules/contrib/bakery/src/Cookies/GingerbreadReturn.php
modules/contrib/bakery/src/Cookies/OatmealCookie.php
modules/contrib/bakery/src/Cookies/RemoteCookieInterface.php
modules/contrib/bakery/src/Cookies/Stroopwafel.php
modules/contrib/bakery/src/EventSubscriber/BootSubscriber.php
modules/contrib/bakery/src/EventSubscriber/CookieMonster.php
modules/contrib/bakery/src/Exception/MissingKeyException.php
modules/contrib/bakery/src/Forms/BakeryPullForm.php
modules/contrib/bakery/src/Forms/BakerySettingsForm.php
modules/contrib/bakery/src/Forms/BakeryUncrumbleForm.php
modules/contrib/bakery/src/Kitchen.php
modules/contrib/bakery/src/PageCache/BakeryRequestPolicy.php
modules/contrib/bakery/src/RedirectDestination.php
modules/contrib/bakery/src/Routing/BakeryRoutes.php
modules/contrib/bakery/tests/src/Functional/BakerySiteTestBase.php
modules/contrib/bakery/tests/src/Functional/ChildLoginTest.php
modules/contrib/bakery/tests/src/Functional/ChildSitePagesTest.php
modules/contrib/bakery/tests/src/Functional/ChildSiteTestBase.php
modules/contrib/bakery/tests/src/Functional/DynamicRoutingTest.php
modules/contrib/bakery/tests/src/Functional/MainSiteCookiesTest.php
modules/contrib/bakery/tests/src/Functional/MainSitePagesTest.php
modules/contrib/bakery/tests/src/Functional/MainSiteTestBase.php
modules/contrib/bakery/tests/src/Kernel/EventSubscriber/BootSubscriberTest.php
modules/contrib/bakery/tests/src/Traits/CookieTestTrait.php
modules/contrib/bakery/tests/src/Traits/RemoteCookieTestTrait.php
modules/contrib/bakery/tests/src/Unit/BakeryServiceTest.php
modules/contrib/bakery/tests/src/Unit/Cookies/BrowserCookieTraitTest.php
modules/contrib/bakery/tests/src/Unit/Cookies/ChocolateChipTest.php
modules/contrib/bakery/tests/src/Unit/Cookies/GingerbreadReturnTest.php
modules/contrib/bakery/tests/src/Unit/Cookies/GingerbreadTest.php
modules/contrib/bakery/tests/src/Unit/Cookies/OatmealCookieTest.php
modules/contrib/bakery/tests/src/Unit/Cookies/StroopwafelTest.php
modules/contrib/bakery/tests/src/Unit/EventSubscriber/CookieMonsterTest.php
modules/contrib/bakery/tests/src/Unit/KitchenTest.php

31 files with changes
=====================

1) modules/contrib/bakery/tests/src/Unit/KitchenTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\bakery\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\bakery\Cookies\ChocolateChip;
 use Drupal\bakery\Cookies\Gingerbread;
 use Drupal\bakery\Cookies\Stroopwafel;
@@ @@
  */
 class KitchenTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
-   * @var \Drupal\Core\Http\RequestStack
+   * @var RequestStack
    */
   protected $request;

   /**
-   * @var \GuzzleHttp\Handler\MockHandler
+   * @var MockHandler
    */
   protected $mockHandler;

   /**
-   * @var \Drupal\Core\Session\AccountProxy
+   * @var AccountProxy
    */
   protected $currentUser;

   /**
-   * @var \Symfony\Component\HttpFoundation\Session\Flash\FlashBag
+   * @var FlashBag
    */
   protected $messageBag;

@@ @@
   protected $requestHistory;

   /**
-   * @var \Psr\Log\Test\TestLogger
+   * @var TestLogger
    */
   protected $testLogger;

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   private $kitchen;

   /**
-   * @var \Drupal\Component\Datetime\Time
+   * @var Time
    */
   private $time;

   /**
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   private $config;

   /**
-   * @var \Symfony\Component\HttpFoundation\ParameterBag
+   * @var ParameterBag
    */
   private $cookieJar;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->request = new RequestStack();
     $this->request->push(new Request());
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/bakery/tests/src/Unit/EventSubscriber/CookieMonsterTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\bakery\Unit\EventSubscriber;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\bakery\EventSubscriber\CookieMonster;
 use Drupal\Component\Datetime\Time;
 use Drupal\Core\Config\Config;
@@ @@
  */
 class CookieMonsterTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
-   * @var \Drupal\bakery\EventSubscriber\CookieMonster
+   * @var CookieMonster
    */
   private $sot;

   /**
-   * @var \Symfony\Component\HttpFoundation\ParameterBag
+   * @var ParameterBag
    */
   private $cookieJar;

   /**
-   * @var \Drupal\Core\Http\RequestStack
+   * @var RequestStack
    */
   private $request;

   /**
-   * @var \Drupal\Component\Datetime\Time
+   * @var Time
    */
   private $time;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->request = new RequestStack();
     $this->request->push(new Request());
@@ @@
       Cookie::create('cookie1', 'foo', $expire, '/', '.example.com', $secure),
       Cookie::create('cookie2', 'bar', $expire, '/', '.example.com', $secure),
       // This might cause problems with Symfony 5?
-      new Cookie('cookie3', NULL, 1, '/', '.example.com', $secure, TRUE, FALSE, NULL),
-      new Cookie('cookie3', NULL, 1, '/', '', $secure, TRUE, FALSE, NULL),
+      Cookie::create('cookie3', NULL, 1, '/', '.example.com', $secure, TRUE, FALSE, NULL),
+      Cookie::create('cookie3', NULL, 1, '/', '', $secure, TRUE, FALSE, NULL),
     ], $response->headers->getCookies());
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * NewToStaticCallRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/bakery/tests/src/Unit/Cookies/StroopwafelTest.php:13

    ---------- begin diff ----------
@@ @@
 class StroopwafelTest extends UnitTestCase {
   use RemoteCookieTestTrait;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->cookie = Stroopwafel::class;
     $this->cookieName = 'stroopwafel';
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/bakery/tests/src/Unit/Cookies/OatmealCookieTest.php:15

    ---------- begin diff ----------
@@ @@
     testGetName as traitGetNameTest;
   }

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->cookie = OatmealCookie::class;
     $this->cookieName = 'OATMEALCOOKIE';
@@ @@
    * @covers ::toData
    * @covers ::fromData
    * @dataProvider provideTestData
+   * @doesNotPerformAssertions
    */
   public function testFromData($data) {
     // Mock reasonable function calls based on if cookie is from main site or child.
    ----------- end diff -----------

Applied rules:
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/bakery/tests/src/Unit/Cookies/GingerbreadTest.php:12

    ---------- begin diff ----------
@@ @@

   use RemoteCookieTestTrait;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->cookie = Gingerbread::class;
     $this->cookieName = 'gingerbread';
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/bakery/tests/src/Unit/Cookies/GingerbreadReturnTest.php:12

    ---------- begin diff ----------
@@ @@

   use CookieTestTrait;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->cookie = GingerbreadReturn::class;
     $this->cookieName = 'gingerbread';
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/bakery/tests/src/Unit/Cookies/ChocolateChipTest.php:16

    ---------- begin diff ----------
@@ @@
     testGetName as traitGetNameTest;
   }

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->cookie = ChocolateChip::class;
     $this->cookieName = 'CHOCOLATECHIP';
@@ @@
    * @covers ::toData
    * @covers ::fromData
    * @dataProvider provideTestData
+   * @doesNotPerformAssertions
    */
   public function testFromData($data) {
     // Mock reasonable function calls based on if cookie is from main site or child.
    ----------- end diff -----------

Applied rules:
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/bakery/tests/src/Unit/Cookies/BrowserCookieTraitTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\bakery\Unit\Cookies;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Prophecy\Prophecy\ObjectProphecy;
 use Drupal\bakery\BakeryService;
 use Drupal\bakery\Cookies\BrowserCookieTrait;
 use Drupal\bakery\Kitchen;
@@ @@
  */
 class BrowserCookieTraitTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
-   * @var \Drupal\bakery\Kitchen|\Prophecy\Prophecy\ObjectProphecy
+   * @var Kitchen|ObjectProphecy
    */
   protected $kitchenService;

   /**
-   * @var \Drupal\bakery\BakeryService|\Prophecy\Prophecy\ObjectProphecy
+   * @var BakeryService|ObjectProphecy
    */
   protected $bakeryService;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $container = new Container();
     $this->kitchenService = $this->prophesize(Kitchen::class);
@@ @@
     $this->assertTrue((new class {
       use BrowserCookieTrait;

+      /**
+       * @doesNotPerformAssertions
+       */
       public function test() {
         return $this->getIsMain();
       }
@@ @@
     $this->assertEquals('jibberish', (new class {
       use BrowserCookieTrait;

+      /**
+       * @doesNotPerformAssertions
+       */
       public function test() {
         return $this->cookieName('test');
       }
    ----------- end diff -----------

Applied rules:
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/bakery/tests/src/Unit/BakeryServiceTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\bakery\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Config\Config;
 use Drupal\Tests\UnitTestCase;

@@ @@
  */
 class BakeryServiceTest extends UnitTestCase {

-  public function setUp() {
+  use ProphecyTrait;
+  public function setUp(): void {
     parent::setUp();
     $this->config = $this->prophesize(Config::class);
     $this->getConfigFactoryStub();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/bakery/tests/src/Traits/CookieTestTrait.php:2

    ---------- begin diff ----------
@@ @@
 namespace Drupal\Tests\bakery\Traits;


+use Prophecy\Prophecy\ObjectProphecy;
 use Drupal\bakery\BakeryService;
 use Drupal\bakery\Kitchen;
 use Drupal\Core\DependencyInjection\Container;
@@ @@
   protected $dataExtra = [];

   /**
-   * @var \Drupal\bakery\Kitchen|\Prophecy\Prophecy\ObjectProphecy
+   * @var Kitchen|ObjectProphecy
    */
   protected $kitchenService;

   /**
-   * @var \Drupal\bakery\BakeryService|\Prophecy\Prophecy\ObjectProphecy
+   * @var BakeryService|ObjectProphecy
    */
   protected $bakeryService;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


11) modules/contrib/bakery/tests/src/Functional/MainSiteTestBase.php:3

    ---------- begin diff ----------
@@ @@

 class MainSiteTestBase extends BakerySiteTestBase {

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->config('bakery.settings')->set('bakery_is_master', 1)->save();
     $this->container->get('router.builder')->rebuild();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/bakery/tests/src/Functional/MainSitePagesTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\bakery\Functional;

+use Drupal\bakery\Kitchen;
 use Drupal\bakery\Cookies\Gingerbread;
 use Drupal\Core\Url;
 use Symfony\Component\HttpFoundation\Response;
@@ @@
   public function testCreate() {
     $account = $this->createUser();
     $client = $this->getHttpClient();
-    /** @var \Drupal\bakery\Kitchen $kitchen */
+    /** @var Kitchen $kitchen */
     $kitchen = $this->container->get('bakery.kitchen');
     $options = ['http_errors' => FALSE];
     $cookie = new Gingerbread($account->getAccountName(), 0, 'child.example.com', '123');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


13) modules/contrib/bakery/tests/src/Functional/MainSiteCookiesTest.php:50

    ---------- begin diff ----------
@@ @@
     ], 'Log in');
     $account->sessionId = $this->getSession()->getCookie(\Drupal::service('session_configuration')->getOptions(\Drupal::request())['name']);
     $this->assertFalse($this->drupalUserIsLoggedIn($account), new FormattableMarkup('User %name successfully logged in.', ['%name' => $account->getAccountName()]));
-    $assert_session->assert($this->getSession()->getCookie($cookie_name) === null, 'Cookie is set but should not be.');
+    $this->assertTrue($this->getSession()->getCookie($cookie_name) === null, 'Cookie is set but should not be.');

     $this->drupalLogin($account);
     $assert_session->cookieExists($cookie_name);
@@ @@
     ], 'Log in');
     $account->sessionId = $this->getSession()->getCookie(\Drupal::service('session_configuration')->getOptions(\Drupal::request())['name']);
     $this->assertFalse($this->drupalUserIsLoggedIn($account), new FormattableMarkup('User %name successfully logged in.', ['%name' => $account->getAccountName()]));
-    $assert_session->assert($this->getSession()->getCookie($cookie_name) === null, 'Cookie is set but should not be.');
+    $this->assertTrue($this->getSession()->getCookie($cookie_name) === null, 'Cookie is set but should not be.');

     $this->drupalGet(Url::fromRoute('user.login', [], ['query' => ['bd' => urlencode('https://www.google.org/')]]));
     $this->submitForm([
    ----------- end diff -----------

Applied rules:
 * AssertRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


14) modules/contrib/bakery/tests/src/Functional/DynamicRoutingTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\bakery\Functional;

+use Drupal\Core\Routing\RouteProvider;
 use Symfony\Component\Routing\Exception\RouteNotFoundException;
 use Symfony\Component\Routing\Route;

@@ @@
   protected $defaultTheme = 'stark';

   /**
-   * @var \Drupal\Core\Routing\RouteProvider|object|null
+   * @var RouteProvider|object|null
    */
   private $routeProvider;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->routeProvider = $this->container->get('router.route_provider');
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/bakery/tests/src/Functional/ChildSiteTestBase.php:6

    ---------- begin diff ----------
@@ @@

 class ChildSiteTestBase extends BakerySiteTestBase {

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->config('bakery.settings')
       ->set('bakery_is_master', 0)
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/bakery/tests/src/Functional/ChildLoginTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\bakery\Functional;

+use Drupal\user\UserStorageInterface;
 use Drupal\bakery\Cookies\ChocolateChip;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Url;
@@ @@
     $this->drupalGet('');
     $this->drupalGet('');
     $assert_session->responseContains('Tester');
-    /** @var \Drupal\user\UserStorageInterface $user_storage */
+    /** @var UserStorageInterface $user_storage */
     $user_storage = $this->container->get('entity_type.manager')->getStorage('user');
     $user = $user_storage->loadByProperties(['name' => 'tester']);
     $this->assertEquals('test@example.com', $user[0]->getEamil());
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


17) modules/contrib/bakery/tests/src/Functional/BakerySiteTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\bakery\Functional;

+use Symfony\Component\BrowserKit\AbstractBrowser;
 use Drupal\bakery\Cookies\CookieInterface;
 use Drupal\Tests\BrowserTestBase;
 use Symfony\Component\BrowserKit\Cookie;
@@ @@

   private $domain;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->domain = preg_replace('/^[^.]+/', '', rtrim($this->baseUrl, '/'));
     $this->config('bakery.settings')
@@ @@
   /**
    * Helper method to bake a cookie on to the "browser" session.
    *
-   * @param \Drupal\bakery\Cookies\CookieInterface $cookie
+   * @param CookieInterface $cookie
    */
   protected function bakeCookie(CookieInterface $cookie) {
     $this->setCookie($cookie::getName(), $this->container->get('bakery.kitchen')->bakeData($cookie));
@@ @@
   }

   /**
-   * @return \Symfony\Component\BrowserKit\AbstractBrowser
+   * @return AbstractBrowser
    */
   private function getClient() {
     return $this->getSession()->getDriver()->getClient();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/bakery/src/Routing/BakeryRoutes.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\bakery\Routing;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\DependencyInjection\ContainerInjectionInterface;
 use Drupal\Core\Routing\RouteCompiler;
@@ @@
 class BakeryRoutes implements ContainerInjectionInterface {

   /**
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


19) modules/contrib/bakery/src/RedirectDestination.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\bakery;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Routing\RedirectDestinationInterface;
@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * The URL generator.
    *
-   * @var \Drupal\Core\Routing\UrlGeneratorInterface
+   * @var UrlGeneratorInterface
    */
   protected $urlGenerator;

@@ @@
   /**
    * Bakery settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * Destination service.
    *
-   * @var \Drupal\Core\Routing\RedirectDestinationInterface
+   * @var RedirectDestinationInterface
    */
   protected $redirectDestination;

@@ @@
   /**
    * The destination used by the current request.
    *
-   * @var \Drupal\Core\Url|string
+   * @var Url|string
    */
   protected $destination;

@@ @@
   /**
    * Constructs a new RedirectDestination instance.
    *
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
-   * @param \Drupal\Core\Routing\UrlGeneratorInterface $url_generator
+   * @param UrlGeneratorInterface $url_generator
    *   The URL generator.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Configuration factory.
-   * @param \Drupal\Core\Routing\RedirectDestinationInterface|null $destination
+   * @param RedirectDestinationInterface|null $destination
    *   Core destination redirect destination service.
    */
   public function __construct(
@@ @@
   /**
    * Get link to destination on current site for parent.
    *
-   * @return \Drupal\Core\Url
+   * @return Url
    */
   private function getParentDestination() {
     $query = $this->requestStack->getCurrentRequest()->query;
@@ @@
   /**
    * Get link to destination on referring child.
    *
-   * @return \Drupal\Core\Url
+   * @return Url
    */
   private function getChildDestination() {
     $query = $this->requestStack->getCurrentRequest()->query;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


20) modules/contrib/bakery/src/Kitchen.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\bakery;

+use Drupal\Core\Config\ImmutableConfig;
+use Psr\Http\Message\ResponseInterface;
 use Drupal\bakery\Cookies\ChocolateChip;
 use Drupal\bakery\Cookies\CookieInterface;
 use Drupal\bakery\Cookies\RemoteCookieInterface;
@@ @@
   const OATMEAL = 'OATMEAL';

   /**
-   * @var \Drupal\Component\Datetime\TimeInterface
+   * @var TimeInterface
    */
   protected $time;

   /**
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

   /**
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;

   /**
-   * @var \Symfony\Component\HttpFoundation\ParameterBag
+   * @var ParameterBag
    */
   protected $cookieJar;

@@ @@
   /**
    * Set a cookie.
    *
-   * @param \Drupal\bakery\Cookies\CookieInterface $cookie
+   * @param CookieInterface $cookie
    *   The cookie data.
    *
-   * @throws \Drupal\bakery\Exception\MissingKeyException
+   * @throws MissingKeyException
    *   Thrown if the site key isn't configured yet.
    */
   public function bake(CookieInterface $cookie) {
@@ @@
   /**
    * Encrypt and sign data for Bakery transfer.
    *
-   * @param \Drupal\bakery\Cookies\CookieInterface $cookie
+   * @param CookieInterface $cookie
    *   The cookie data.
    *
    * @return string
@@ @@
   /**
    * Re-bake a chocolate chip cookie.
    *
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    */
   public function reBakeChocolateChipCookie(AccountInterface $account) {
     try {
@@ @@
    *
    * @param string $type
    *   Optional string defining the type of data this is.
-   * @param \Symfony\Component\HttpFoundation\ParameterBag|null $cookies
+   * @param ParameterBag|null $cookies
    *   Optional list of cookies from the request.
    *
    * @return array|bool
@@ @@
    * @return array|bool
    *   Unserialized data or FALSE if invalid.
    *
-   * @throws \Drupal\bakery\Exception\MissingKeyException
+   * @throws MissingKeyException
    *   Thrown if the site key isn't configured yet.
    */
   public function tasteData(string $data, string $type = NULL) {
@@ @@
   /**
    * Ship a cookie to child sites.
    *
-   * @param \Drupal\bakery\Cookies\RemoteCookieInterface $cookie
+   * @param RemoteCookieInterface $cookie
    *   The cookie data.
    *
-   * @return \Psr\Http\Message\ResponseInterface|bool
+   * @return ResponseInterface|bool
    */
   public function ship(RemoteCookieInterface $cookie) {
     $path = $cookie->getPath();
@@ @@
    * @param string $data
    *   The encrypted cookie data.
    *
-   * @return false|\Psr\Http\Message\ResponseInterface
+   * @return false|ResponseInterface
    */
   protected function shipItGood(string $uri, string $cookie_name, string $data) {
     // @phpstan-ignore-next-line
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


21) modules/contrib/bakery/src/Forms/BakeryUncrumbleForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\bakery\Forms;

+use Drupal\user\UserInterface;
 use Drupal\bakery\Kitchen;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Database\Connection;
@@ @@
   /**
    * For generating hashed password we check with database.
    *
-   * @var \Drupal\Core\Password\PasswordInterface
+   * @var PasswordInterface
    */
   private $passwordHasher;

   /**
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   private $database;

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   private $kitchen;

@@ @@
      * We are ignoring blocked status on purpose.
      * The user is being repaired, not logged in.
      */
-    /** @var \Drupal\user\UserInterface|false $account */
+    /** @var UserInterface|false $account */
     $account = user_load_by_name($form_state->getValue('name'));
     if (!($account && $account->id()) || $this->passwordHasher->check($form_state->getValue('pass'), $account->getPassword())) {
       $this->logger('bakery')
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/bakery/src/Forms/BakeryPullForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\bakery\Forms;

+use Drupal\user\UserInterface;
 use Drupal\bakery\BakeryService;
 use Drupal\Core\DependencyInjection\ContainerInjectionInterface;
 use Drupal\Core\Form\FormBase;
@@ @@
 class BakeryPullForm extends FormBase implements ContainerInjectionInterface {

   /**
-   * @var \Drupal\bakery\BakeryService
+   * @var BakeryService
    */
   private $service;

@@ @@
    * Make sure we are not trying to request an existing user.
    */
   public function validateForm(array &$form, FormStateInterface $form_state) {
-    /** @var \Drupal\user\UserInterface|false $existing_account */
+    /** @var UserInterface|false $existing_account */
     $existing_account = user_load_by_name($form_state->getValue('name'));
     if (!$existing_account && $form_state->getValue('or_email')) {
-      /** @var \Drupal\user\UserInterface|false $existing_account */
+      /** @var UserInterface|false $existing_account */
       $existing_account = user_load_by_mail($form_state->getValue('name'));
     }
     // Raise an error in case the account already exists locally.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


23) modules/contrib/bakery/src/EventSubscriber/CookieMonster.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\bakery\EventSubscriber;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
@@ @@
   /**
    * Time services.
    *
-   * @var \Drupal\Component\Datetime\TimeInterface
+   * @var TimeInterface
    */
   protected $time;

@@ @@
   /**
    * Bakery settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * Local storage for collecting cookie changes.
    *
-   * @var \Symfony\Component\HttpFoundation\ParameterBag
+   * @var ParameterBag
    */
   protected $cookieJar;

@@ @@
   /**
    * Adds a query parameter to check successful log in redirect URL.
    *
-   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
+   * @param ResponseEvent $event
    *   The Event to process.
    */
   public function meWantCookie(ResponseEvent $event) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


24) modules/contrib/bakery/src/EventSubscriber/BootSubscriber.php:5

    ---------- begin diff ----------
@@ @@
  * @file
  * For Boot event subscribe.
  */
-
+use Drupal\Core\Entity\EntityStorageInterface;
+use Symfony\Component\HttpKernel\Event\RequestEvent;
+use Drupal\user\UserInterface;
 use Drupal\bakery\BakeryService;
 use Drupal\bakery\Cookies\ChocolateChip;
 use Drupal\bakery\Exception\MissingKeyException;
@@ @@
 use Drupal\Core\Url;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\RedirectResponse;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;

 /**
@@ @@
   use StringTranslationTrait;

   /**
-   * @var \Drupal\bakery\BakeryService
+   * @var BakeryService
    */
   protected $bakeryService;

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   protected $kitchen;

   /**
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;

   /**
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $userStorage;

@@ @@
   /**
    * Initialize bakeryService.
    *
-   * @param \Drupal\bakery\BakeryService $bakeryService
+   * @param BakeryService $bakeryService
    *   Bakery service used.
-   * @param \Drupal\bakery\Kitchen $kitchen
+   * @param Kitchen $kitchen
    *   Bakery kitchen service.
-   * @param \Drupal\Core\Session\AccountProxyInterface $currentUser
+   * @param AccountProxyInterface $currentUser
    *   The current user.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entityTypeManager
+   * @param EntityTypeManagerInterface $entityTypeManager
    *   Type manager for retrieving user storage.
    */
   public function __construct(BakeryService $bakeryService, Kitchen $kitchen, AccountProxyInterface $currentUser, EntityTypeManagerInterface $entityTypeManager) {
@@ @@
   /**
    * On boot event we need to test the cookie.
    */
-  public function onEvent(GetResponseEvent $event) {
+  public function onEvent(RequestEvent $event) {
     try {
       $cookie = $this->kitchen->taste(Kitchen::CHOCOLATE_CHIP);
     }
@@ @@
     }
   }

-  private function somethingAnonymous(GetResponseEvent $event, array $cookie) {
+  private function somethingAnonymous(RequestEvent $event, array $cookie) {
     // User is anonymous. If they do not have an account we'll create one by
     // requesting their information from the master site. If they do have an
     // account we may need to correct some disparant information.
-    /** @var \Drupal\user\UserInterface[] $account */
+    /** @var UserInterface[] $account */
     $account = $this->userStorage->loadByProperties([
       'name' => $cookie['name'],
       'mail' => $cookie['mail'],
@@ @@
       );
     }
     if ($count == 1) {
-      /** @var \Drupal\user\UserInterface[] $account */
+      /** @var UserInterface[] $account */
       $account = $this->userStorage->loadByProperties(['init' => $cookie['init']]);
       if (is_array($account)) {
         $account = reset($account);
@@ @@
         $account->setUsername($cookie['name']);
         $account->save();
         // Reload.
-        /** @var \Drupal\user\UserInterface[] $account */
+        /** @var UserInterface[] $account */
         $account = $this->userStorage->loadByProperties(
           [
             'name' => $cookie['name'],
@@ @@
     return FALSE;
   }

-  private function bootstrapAccount(GetResponseEvent $event, array $cookie) {
+  private function bootstrapAccount(RequestEvent $event, array $cookie) {
     $checks = TRUE;
     /** @var int $mail_count */
     $mail_count = $this->userStorage->getQuery()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


25) modules/contrib/bakery/src/Controller/MainDeprecatedController.php:19

    ---------- begin diff ----------
@@ @@
 class MainDeprecatedController extends ControllerBase {

   /**
-   * @var \Drupal\bakery\BakeryService
+   * @var BakeryService
    */
   protected $bakeryService;

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   protected $kitchen;

@@ @@
   /**
    * Initialize bakery service.
    *
-   * @param \Drupal\bakery\BakeryService $bakery_service
+   * @param BakeryService $bakery_service
    *   For bakery service.
-   * @param \Drupal\bakery\Kitchen $kitchen
+   * @param Kitchen $kitchen
    *   For bakery service.
    */
   public function __construct(BakeryService $bakery_service, Kitchen $kitchen) {
@@ @@
   /**
    * When this controller is created, it will get the bakery.bakery_service.
    *
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   For getting Bakery service.
    *
    * @return static
@@ @@
         else {
           // Create user.
           if (!$cookie['data']['pass']) {
-            $pass = user_password();
+            $pass = \Drupal::service('password_generator')->generate();
           }
           else {
             $pass = $cookie['data']['pass'];
@@ @@

         if (empty($errors)) {
           // Check if account credentials are correct.
-          /** @var \Drupal\user\UserInterface|false $account */
+          /** @var UserInterface|false $account */
           $account = user_load_by_name($name);
           if ($account && $account->id()) {
             // Check if the mail is denied.
    ----------- end diff -----------

Applied rules:
 * UserPasswordRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


26) modules/contrib/bakery/src/Controller/MainController.php:5

    ---------- begin diff ----------
@@ @@
  * @file
  * Router call back functions for bakery SSO functions.
  */
-
+use Drupal\user\UserInterface;
 use Drupal\bakery\Cookies\Gingerbread;
 use Drupal\bakery\Cookies\GingerbreadReturn;
 use Drupal\bakery\Kitchen;
@@ @@
 class MainController extends ControllerBase {

   /**
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $connection;

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   protected $kitchen;

@@ @@
   /**
    * Initialize bakery service.
    *
-   * @param \Drupal\bakery\Kitchen $kitchen
+   * @param Kitchen $kitchen
    *   For bakery service.
-   * @param \Drupal\Core\Database\Connection $connection
+   * @param Connection $connection
    *   Database connection for saving mapping storage.
    */
   public function __construct(Kitchen $kitchen, Connection $connection) {
@@ @@
   /**
    * When this controller is created, it will get the bakery.bakery_service.
    *
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   For getting Bakery service.
    *
    * @return static
@@ @@
     if (!$account && $ginger_bread->getOrEmail()) {
       $account = user_load_by_mail($ginger_bread->getAccountName());
     }
-    /** @var \Drupal\user\UserInterface|false $account */
+    /** @var UserInterface|false $account */
     if ($account) {
       $this->saveChildUid($account, $ginger_bread->getChild(), $ginger_bread->getChildUid());
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


27) modules/contrib/bakery/src/Controller/ChildDeprecatedController.php:11

    ---------- begin diff ----------
@@ @@
 class ChildDeprecatedController extends ControllerBase {

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   protected $kitchen;

@@ @@
   /**
    * Initialize bakery service.
    *
-   * @param \Drupal\bakery\Kitchen $kitchen
+   * @param Kitchen $kitchen
    *   Kitchen service.
    */
   public function __construct(Kitchen $kitchen) {
@@ @@
   /**
    * When this controller is created, it will get the bakery.bakery_service.
    *
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   For getting Bakery service.
    *
    * @return static
@@ @@
           $language = $this->languageManager()->getCurrentLanguage()->getId();
           $account = User::create();
           // Mandatory settings.
-          $account->setPassword(user_password());
+          $account->setPassword(\Drupal::service('password_generator')->generate());
           $account->enforceIsNew();
           $account->setEmail($cookie['data']['mail']);
           // This username must be unique and accept only a-Z,0-9, - _ @ .
    ----------- end diff -----------

Applied rules:
 * UserPasswordRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


28) modules/contrib/bakery/src/Controller/ChildController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\bakery\Controller;

+use Drupal\user\UserInterface;
 use Drupal\bakery\BakeryService;
 use Drupal\bakery\Cookies\Stroopwafel;
 use Drupal\bakery\Kitchen;
@@ @@
 class ChildController extends ControllerBase {

   /**
-   * @var \Drupal\bakery\BakeryService
+   * @var BakeryService
    */
   protected $bakeryService;

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   protected $kitchen;

@@ @@
   /**
    * Initialize bakery service.
    *
-   * @param \Drupal\bakery\BakeryService $bakeryService
+   * @param BakeryService $bakeryService
    *   For bakery service.
-   * @param \Drupal\bakery\Kitchen $kitchen
+   * @param Kitchen $kitchen
    *   Kitchen service to work on all those cookies.
    */
   public function __construct(BakeryService $bakeryService, Kitchen $kitchen) {
@@ @@
   /**
    * When this controller is created, it will get the bakery.bakery_service.
    *
-   * @param \Symfony\Component\DependencyInjection\ContainerInterface $container
+   * @param ContainerInterface $container
    *   For getting Bakery service.
    *
    * @return static
@@ @@

     $response = new Response();
     // Check if the user exists.
-    /** @var \Drupal\user\UserInterface[] $account */
+    /** @var UserInterface[] $account */
     $account = $this->entityTypeManager()
       ->getStorage('user')
       ->loadByProperties(['init' => $this->kitchen->generateInitField($stroopwafel->getUid())]);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


29) modules/contrib/bakery/src/BakeryUserHooks.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\bakery;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Session\AccountProxyInterface;
 use Drupal\bakery\Cookies\Stroopwafel;
 use Drupal\bakery\Exception\MissingKeyException;
 use Drupal\Core\Config\ConfigFactoryInterface;
@@ @@
 class BakeryUserHooks {

   /**
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

   /**
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   protected $kitchen;

@@ @@
       // anything else until the changes are saved locally.

       foreach ($this->config->get('bakery_supported_fields') as $type => $enabled) {
-        /** @var \Drupal\user\UserInterface $original */
+        /** @var UserInterface $original */
         $original = $account->original;
         if ($enabled) {
           switch ($type) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


30) modules/contrib/bakery/src/BakeryService.php:28

    ---------- begin diff ----------
@@ @@
   protected $isMain;

   /**
-   * @var \Drupal\bakery\Kitchen
+   * @var Kitchen
    */
   protected $kitchen;

@@ @@
    * updates the login timestamp in the database, invokes hook_user('login'),
    * and regenerates the session.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   An authenticated user object to be set as the currently logged in user.
    *
    * @return bool
@@ @@
     $account = User::create([
       'name' => $name,
       // 'mail' => 'email',
-      'pass' => user_password(),
+      'pass' => \Drupal::service('password_generator')->generate(),
       // This username must be unique and accept only a-Z,0-9, - _ @ .
       'init' => 'bakery_temp/' . mt_rand(),
       'langcode', $language,
@@ @@
   /**
    * Update a user account with fields from a cookie.
    *
-   * @param \Drupal\user\UserInterface $account
+   * @param UserInterface $account
    *   The user account being updated.
    * @param array $cookie
    *   Cookie data. From either stroopwafel or gingerbread.
    ----------- end diff -----------

Applied rules:
 * UserPasswordRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


31) modules/contrib/bakery/bakery.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\bakery\BakeryService;
 /**
  * @file
  * For implementing different hooks for bakery SSO functionality.
@@ @@
     case 'user_profile_form':
     case 'user_form':
       $config = \Drupal::config('bakery.settings');
-      /** @var \Drupal\bakery\BakeryService $bakery */
+      /** @var BakeryService $bakery */
       $bakery = \Drupal::service('bakery.bakery_service');
       if (!\Drupal::currentUser()->hasPermission('administer users') && $bakery->isChild()) {
         $master_uri = $config->get('bakery_master');
@@ @@
  * Implements hook_form_FORM_ID_alter() for 'user_register_form'.
  */
 function bakery_form_user_register_form_alter(&$form, FormStateInterface $form_state) {
-  /** @var \Drupal\bakery\BakeryService $bakery */
+  /** @var BakeryService $bakery */
   $bakery = \Drupal::service('bakery.bakery_service');
   // Provide register ability on the slave sites.
   if ($bakery->isChild()) {
@@ @@
  * Implements hook_form_FORM_ID_alter() for 'user_pass'.
  */
 function bakery_form_user_pass_alter(&$form, FormStateInterface $form_state) {
-  /** @var \Drupal\bakery\BakeryService $bakery */
+  /** @var BakeryService $bakery */
   $bakery = \Drupal::service('bakery.bakery_service');
   // Child sites need to make sure the local account exists, if the master
   // account exists.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 31 files have been changed by Rector                                      

