modules/contrib/page_manager_search/page_manager_search.module
modules/contrib/page_manager_search/src/Entity/PageManagerSearch.php
modules/contrib/page_manager_search/src/Entity/PageManagerSearchAccessControlHandler.php
modules/contrib/page_manager_search/src/Entity/PageManagerSearchEntityViewsData.php
modules/contrib/page_manager_search/src/EventSubscriber/PageManagerSearchRedirect.php
modules/contrib/page_manager_search/src/Language/LanguageSwitcher.php
modules/contrib/page_manager_search/src/Language/LanguageSwitcherInterface.php
modules/contrib/page_manager_search/src/PageManagerSearchEntityListBuilder.php
modules/contrib/page_manager_search/src/Plugin/Search/PageManagerSearch.php

4 files with changes
====================

1) modules/contrib/page_manager_search/src/Plugin/Search/PageManagerSearch.php:37

    ---------- begin diff ----------
@@ @@
   /**
    * A database connection object.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
   /**
    * An entity manager object.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * A module handler object.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * A config object for 'search.settings'.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $searchSettings;

@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The Drupal account to use for checking for access to advanced search.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $account;

@@ @@
   /**
    * The Renderer service to format the username and entity.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Database\Connection $database
+   * @param Connection $database
    *   A database connection object.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   An entity manager object.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   A module handler object.
-   * @param \Drupal\Core\Config\Config $search_settings
+   * @param Config $search_settings
    *   A config object for 'search.settings'.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
-   * @param \Drupal\Core\Session\AccountInterface $account
+   * @param AccountInterface $account
    *   The $account object to use for checking for access to advanced search.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, Connection $database, EntityTypeManagerInterface $entity_manager, ModuleHandlerInterface $module_handler, Config $search_settings, LanguageManagerInterface $language_manager, RendererInterface $renderer, AccountInterface $account = NULL) {
@@ @@
    * This method can assume that $this->isSearchExecutable() has already been
    * checked and returned TRUE.
    *
-   * @return \Drupal\Core\Database\StatementInterface|null
+   * @return StatementInterface|null
    *   Results from search query execute() method, or NULL if the search
    *   failed.
    */
@@ @@
   /**
    * Prepares search results for rendering.
    *
-   * @param \Drupal\Core\Database\StatementInterface $found
+   * @param StatementInterface $found
    *   Results found from a successful search query execute() method.
    *
    * @return array
@@ @@
   /**
    * Indexes a single Page Manager Search.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    */
   protected function indexPageManagerSearch(ContentEntityInterface $entity) {
     $languages = $entity->getTranslationLanguages();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/page_manager_search/src/Language/LanguageSwitcher.php:26

    ---------- begin diff ----------
@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The default language.
    *
-   * @var \Drupal\Core\Language\LanguageDefault
+   * @var LanguageDefault
    */
   protected $languageDefault;

@@ @@
   /**
    * The write-safe session handler.
    *
-   * @var \Drupal\Core\Session\WriteSafeSessionHandlerInterface
+   * @var WriteSafeSessionHandlerInterface
    */
   protected $writeSafeHandler;

@@ @@
   /**
    * Constructs a new LanguageSwitcher.
    *
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
-   * @param \Drupal\Core\Language\LanguageDefault $language_default
+   * @param LanguageDefault $language_default
    *   The default language.
-   * @param \Drupal\Core\Session\WriteSafeSessionHandlerInterface $write_safe_handler
+   * @param WriteSafeSessionHandlerInterface $write_safe_handler
    *   The write-safe session handler.
    */
   public function __construct(LanguageManagerInterface $language_manager, LanguageDefault $language_default, WriteSafeSessionHandlerInterface $write_safe_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


3) modules/contrib/page_manager_search/src/EventSubscriber/PageManagerSearchRedirect.php:6

    ---------- begin diff ----------
@@ @@

 namespace Drupal\page_manager_search\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Symfony\Component\HttpFoundation\RedirectResponse;
 use Symfony\Component\HttpKernel\KernelEvents;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;


@@ @@
  */
 class PageManagerSearchRedirect implements EventSubscriberInterface {

-  public function checkForRedirection(GetResponseEvent $event) {
+  public function checkForRedirection(RequestEvent $event) {
     $baseUrl = $event->getRequest()->getBaseUrl();
     $attr = $event->getRequest()->attributes;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


4) modules/contrib/page_manager_search/page_manager_search.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\page_manager\Entity\Page;
+use Drupal\Core\Language\LanguageInterface;
+use Drupal\config_translation\ConfigEntityMapper;
 /**
  * @file
  * Main file of module.
@@ @@
   if (!_page_manager_entity_is_instanceof_page_variant($entity)) {
     return;
   }
-  /** @var \Drupal\page_manager\PageVariantInterface $entity */
+  /** @var PageVariantInterface $entity */
   if (!_page_manager_check_if_need_index_page_variant($entity)) {
     return;
   }

-  /** @var \Drupal\page_manager\Entity\Page $page */
+  /** @var Page $page */
   $page = $entity->getPage();

   foreach (_page_manager_search_get_selected_languages($entity) as $langcode) {
@@ @@
   if (!_page_manager_entity_is_instanceof_page_variant($entity)) {
     return;
   }
-  /** @var \Drupal\page_manager\PageVariantInterface $entity */
-
+  /** @var PageVariantInterface $entity */
   // Get index_page_variant value.
   $index_page_value = $entity->getThirdPartySetting('page_manager_search', 'index_page_variant');

@@ @@
   if (!_page_manager_entity_is_instanceof_page_variant($entity)) {
     return;
   }
-  /** @var \Drupal\page_manager\PageVariantInterface $entity */
+  /** @var PageVariantInterface $entity */
   if (!_page_manager_check_if_need_index_page_variant($entity)) {
     _page_manager_delete_page_manager_search_entities_by_id($entity->id());
     return;
   }

-  /** @var \Drupal\page_manager\Entity\Page $page */
+  /** @var Page $page */
   $page = $entity->getPage();

   foreach (_page_manager_search_get_selected_languages($entity) as $langcode) {
@@ @@
 /**
  * Get selected languages to index.
  *
- * @param \Drupal\page_manager\PageVariantInterface $entity
+ * @param PageVariantInterface $entity
  *   Page Variant entity.
  *
  * @return array
@@ @@
 /**
  * Get a rendered page variant.
  *
- * @param \Drupal\Core\Entity\EntityInterface $entity
+ * @param EntityInterface $entity
  *   The entity to render.
  * @param string $langcode
  *   (optional) For which language the entity should be rendered, defaults to
@@ @@
 /**
  * Get all available languages.
  *
- * @return \Drupal\Core\Language\LanguageInterface[]
+ * @return LanguageInterface[]
  *   An associative array of languages, keyed by the language code.
  */
 function _page_manager_search_get_available_languages() {
@@ @@
 /**
  * Get page variant translations.
  *
- * @param \Drupal\page_manager\PageVariantInterface $page_variant
+ * @param PageVariantInterface $page_variant
  *   Page variant.
  *
  * @return array
@@ @@
   $mapper_id = $page_variant->getEntityTypeId();
   $mapper_definition = $config_translation_mapper->getDefinition($mapper_id);

-  /** @var \Drupal\config_translation\ConfigEntityMapper $mapper */
+  /** @var ConfigEntityMapper $mapper */
   $mapper = $config_translation_mapper->createInstance($mapper_id, $mapper_definition);
   if (!$mapper) {
     throw new NotFoundHttpException();
@@ @@
   }

   $cached_values = $form_state->getTemporaryValue('wizard');
-  /** @var \Drupal\page_manager\Entity\PageVariant $page_variant */
+  /** @var PageVariant $page_variant */
   $page_variant = $cached_values['page_variant'];

   // Get index_page_variant value.
@@ @@
  *
  * @param array $form
  *   An associative array containing the structure of the form.
- * @param \Drupal\Core\Form\FormStateInterface $form_state
+ * @param FormStateInterface $form_state
  *   The current state of the form.
  */
 function page_manager_search_page_variant_submit(array $form, FormStateInterface $form_state) {
   $cached_values = $form_state->getTemporaryValue('wizard');

-  /** @var \Drupal\page_manager\Entity\PageVariant $page_variant */
+  /** @var PageVariant $page_variant */
   $page_variant = $cached_values['page_variant'];
   $index_page_variant = $form_state->getValue('variant_settings')['include_in_search_results'];
   $languages_selection_mode = $form_state->getValue('variant_settings')['languages']['selection_mode'];
@@ @@
 /**
  * Check if entity is instance of PageVariant.
  *
- * @param \Drupal\Core\Entity\EntityInterface $entity
+ * @param EntityInterface $entity
  *   The entity.
  *
  * @return bool
@@ @@
 /**
  * Check if need to index PageVariant.
  *
- * @param \Drupal\page_manager\PageVariantInterface $entity
+ * @param PageVariantInterface $entity
  *   The PageVariant entity.
  *
  * @return bool
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 4 files have been changed by Rector                                       

