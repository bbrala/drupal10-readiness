modules/contrib/applenews/applenews.install
modules/contrib/applenews/applenews.module
modules/contrib/applenews/src/Annotation/ApplenewsComponentType.php
modules/contrib/applenews/src/AppleNewsRequestDataTrait.php
modules/contrib/applenews/src/ApplenewsManager.php
modules/contrib/applenews/src/ApplenewsPreviewBuilder.php
modules/contrib/applenews/src/ApplenewsTemplateInterface.php
modules/contrib/applenews/src/ApplenewsTextStyleInterface.php
modules/contrib/applenews/src/ArticleListBuilder.php
modules/contrib/applenews/src/ChannelInterface.php
modules/contrib/applenews/src/ChannelListBuilder.php
modules/contrib/applenews/src/Commands/ApplenewsCommands.php
modules/contrib/applenews/src/Controller/ApplenewsChannelController.php
modules/contrib/applenews/src/Controller/ApplenewsPreviewController.php
modules/contrib/applenews/src/Controller/ApplenewsTemplateListBuilder.php
modules/contrib/applenews/src/Derivative/ApplenewsDefaultComponentImageTypeDeriver.php
modules/contrib/applenews/src/Derivative/ApplenewsDefaultComponentNestedDeriver.php
modules/contrib/applenews/src/Derivative/ApplenewsDefaultComponentTextTypeDeriver.php
modules/contrib/applenews/src/Derivative/ApplenewsDefaultDeriverInterface.php
modules/contrib/applenews/src/Entity/ApplenewsArticle.php
modules/contrib/applenews/src/Entity/ApplenewsChannel.php
modules/contrib/applenews/src/Entity/ApplenewsTemplate.php
modules/contrib/applenews/src/Entity/ApplenewsTextStyle.php
modules/contrib/applenews/src/Event/DocumentPostTransformEvent.php
modules/contrib/applenews/src/Exception/ApplenewsInvalidResponseException.php
modules/contrib/applenews/src/Form/AppleNewsArticleDeleteForm.php
modules/contrib/applenews/src/Form/ApplenewsTemplateDeleteForm.php
modules/contrib/applenews/src/Form/ApplenewsTemplateForm.php
modules/contrib/applenews/src/Form/ChannelDeleteForm.php
modules/contrib/applenews/src/Form/ChannelForm.php
modules/contrib/applenews/src/Form/SettingsForm.php
modules/contrib/applenews/src/Form/TextStyleDeleteForm.php
modules/contrib/applenews/src/Form/TextStyleForm.php
modules/contrib/applenews/src/Normalizer/ApplenewsComponentNormalizerBase.php
modules/contrib/applenews/src/Normalizer/ApplenewsContentEntityNormalizer.php
modules/contrib/applenews/src/Normalizer/ApplenewsFieldItemListNormalizer.php
modules/contrib/applenews/src/Normalizer/ApplenewsFieldItemNormalizer.php
modules/contrib/applenews/src/Normalizer/ApplenewsImageComponentNormalizer.php
modules/contrib/applenews/src/Normalizer/ApplenewsNestedComponentNormalizer.php
modules/contrib/applenews/src/Normalizer/ApplenewsNormalizerBase.php
modules/contrib/applenews/src/Normalizer/ApplenewsTextComponentNormalizer.php
modules/contrib/applenews/src/Plugin/ApplenewsComponentTypeBase.php
modules/contrib/applenews/src/Plugin/ApplenewsComponentTypeInterface.php
modules/contrib/applenews/src/Plugin/ApplenewsComponentTypeManager.php
modules/contrib/applenews/src/Plugin/Field/FieldType/Applenews.php
modules/contrib/applenews/src/Plugin/Field/FieldWidget/Applenews.php
modules/contrib/applenews/src/Plugin/applenews/ComponentType/ApplenewsDefaultDividerComponentType.php
modules/contrib/applenews/src/Plugin/applenews/ComponentType/ApplenewsDefaultImageComponentType.php
modules/contrib/applenews/src/Plugin/applenews/ComponentType/ApplenewsDefaultNestedComponentType.php
modules/contrib/applenews/src/Plugin/applenews/ComponentType/ApplenewsDefaultTextComponentType.php
modules/contrib/applenews/src/Plugin/migrate/process/FieldName.php
modules/contrib/applenews/src/Plugin/migrate/source/ApplenewsArticle.php
modules/contrib/applenews/src/Publisher.php
modules/contrib/applenews/src/PublisherInterface.php
modules/contrib/applenews/src/Repository/ApplenewsChannelRepository.php
modules/contrib/applenews/src/Repository/ApplenewsRepositoryBase.php
modules/contrib/applenews/src/Repository/ApplenewsTemplateRepository.php
modules/contrib/applenews/src/TextStyleListBuilder.php
modules/contrib/applenews/src/TextStyleStorage.php
modules/contrib/applenews/tests/modules/applenews_test/src/ApplenewsTestServiceProvider.php
modules/contrib/applenews/tests/modules/applenews_test/src/EventSubscriber/DocumentPostTransformEventSubscriber.php
modules/contrib/applenews/tests/modules/applenews_test/src/Publisher.php
modules/contrib/applenews/tests/src/Functional/AppleNewsWidgetTest.php
modules/contrib/applenews/tests/src/Functional/ApplenewsAdminTest.php
modules/contrib/applenews/tests/src/Functional/ApplenewsChannelAdminTest.php
modules/contrib/applenews/tests/src/Functional/ApplenewsTemplateAdminTest.php
modules/contrib/applenews/tests/src/Functional/ApplenewsTestBase.php
modules/contrib/applenews/tests/src/Kernel/ApplenewsManagerTest.php
modules/contrib/applenews/tests/src/Kernel/Normalizer/ApplenewsContentEntityNormalizerTest.php
modules/contrib/applenews/tests/src/Kernel/Normalizer/ApplenewsImageComponentNormalizerTest.php
modules/contrib/applenews/tests/src/Traits/AppleNewsTestTrait.php

40 files with changes
=====================

1) modules/contrib/applenews/tests/src/Traits/AppleNewsTestTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\applenews\Traits;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\applenews\Entity\ApplenewsArticle;
 use Drupal\applenews\Entity\ApplenewsChannel;
 use Drupal\applenews\Entity\ApplenewsTemplate;
@@ @@
   /**
    * Create an Apple News channel for testing.
    *
-   * @return \Drupal\applenews\Entity\ApplenewsChannel
+   * @return ApplenewsChannel
    *   The Apple News channel entity created.
    */
   protected function createApplenewsChannel(): ApplenewsChannel {
@@ @@
    * @param array $component_layout
    *   Array of component layout properties.
    *
-   * @return \Drupal\applenews\Entity\ApplenewsTemplate
+   * @return ApplenewsTemplate
    *   The Apple News template that was created.
    */
   protected function createApplenewsTemplate(string $bundle = 'article', array $components = [], array $component_layout = []): ApplenewsTemplate {
@@ @@
    *
    * Created node will be linked to the given channel and template.
    *
-   * @param \Drupal\applenews\Entity\ApplenewsChannel $channel
+   * @param ApplenewsChannel $channel
    *   Apple news channel entity.
-   * @param \Drupal\applenews\Entity\ApplenewsTemplate $template
+   * @param ApplenewsTemplate $template
    *   Apple news template entity.
-   * @param \Drupal\field\Entity\FieldStorageConfig $applenews_field
+   * @param FieldStorageConfig $applenews_field
    *   Apple news field name.
    *
-   * @return \Drupal\node\NodeInterface
+   * @return NodeInterface
    *   Returns the created node.
    */
   protected function createNodePublishedToAppleNews(ApplenewsChannel $channel, ApplenewsTemplate $template, FieldStorageConfig $applenews_field): NodeInterface {
@@ @@
   /**
    * Assert that an Apple News article entity exists for the given entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   An entity.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   protected function assertAppleNewsArticleExistsForEntity(EntityInterface $entity) {
     $storage = \Drupal::entityTypeManager()->getStorage('applenews_article');
@@ @@
   /**
    * Assert that Apple News article entity DOES NOT exist for the given entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   An entity.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   protected function assertAppleNewsArticleNotExistsForEntity(EntityInterface $entity) {
     $storage = \Drupal::entityTypeManager()->getStorage('applenews_article');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/applenews/tests/src/Kernel/Normalizer/ApplenewsImageComponentNormalizerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\applenews\Kernel\Normalizer;

+use PHPUnit\Framework\MockObject\MockObject;
+use Symfony\Component\Serializer\SerializerInterface;
 use ChapterThree\AppleNewsAPI\Document\Components\Photo;
 use Drupal\applenews\Normalizer\ApplenewsImageComponentNormalizer;
 use Drupal\Core\Entity\FieldableEntityInterface;
@@ @@
   /**
    * Applenews image component normalizer under test.
    *
-   * @var \PHPUnit\Framework\MockObject\MockObject|\Drupal\applenews\Normalizer\ApplenewsImageComponentNormalizer
+   * @var MockObject|ApplenewsImageComponentNormalizer
    */
   protected $applenewsImageComponentNormalizer;

@@ @@
   /**
    * Mock serializer object.
    *
-   * @var \PHPUnit\Framework\MockObject\MockObject|\Symfony\Component\Serializer\SerializerInterface
+   * @var MockObject|SerializerInterface
    */
   protected $serializer;

@@ @@
     $this->applenewsImageComponentNormalizer
       ->method('fileCreateUrl')
       ->willReturn('http://example.com/test/example.jpg');
-    $this->serializer = $this->getMockBuilder(Serializer::class)
-      ->getMock();
+    $this->serializer = $this->createMock(Serializer::class);
     $this->applenewsImageComponentNormalizer->setSerializer($this->serializer);
   }

@@ @@
     // Mock a normalized file field and empty caption return.
     $this->serializer->method('normalize')
       ->willReturnOnConsecutiveCalls($normalized_file_field, NULL);
-    /** @var \ChapterThree\AppleNewsAPI\Document\Components\Photo $component */
+    /** @var Photo $component */
     $component = $this->applenewsImageComponentNormalizer->normalize($data, 'applenews', $context);
     $this->assertInstanceOf(Photo::class, $component);
     $this->assertEquals('http://example.com/test/example.jpg', $component->getUrl());
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/applenews/tests/src/Kernel/Normalizer/ApplenewsContentEntityNormalizerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\applenews\Kernel\Normalizer;

+use Symfony\Component\Serializer\Serializer;
 use ChapterThree\AppleNewsAPI\Document\Components\Body;
 use ChapterThree\AppleNewsAPI\Document\Components\Title;
 use Drupal\field\Entity\FieldConfig;
@@ @@
   /**
    * Serializer service.
    *
-   * @var \Symfony\Component\Serializer\Serializer
+   * @var Serializer
    */
   protected $serializer;

@@ @@
   /**
    * User entity we are testing with.
    *
-   * @var \Drupal\user\Entity\User
+   * @var User
    */
   protected $account;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/applenews/tests/src/Kernel/ApplenewsManagerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\applenews\Kernel;

+use Drupal\field\Entity\FieldStorageConfig;
+use Drupal\applenews\Entity\ApplenewsChannel;
+use Drupal\applenews\Entity\ApplenewsTemplate;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\Core\Entity\EntityStorageException;
 use Drupal\applenews_test\Publisher;
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\node\Entity\NodeType;
@@ @@
   /**
    * User entity we are testing with.
    *
-   * @var \Drupal\user\Entity\User
+   * @var User
    */
   protected $account;

@@ @@
   /**
    * Apple news field storage.
    *
-   * @var \Drupal\field\Entity\FieldStorageConfig
+   * @var FieldStorageConfig
    */
   protected $applenewsFieldStorage;

@@ @@
   /**
    * Apple News channel for testing.
    *
-   * @var \Drupal\applenews\Entity\ApplenewsChannel
+   * @var ApplenewsChannel
    */
   protected $applenewsChannel;

@@ @@
   /**
    * Apple News template for testing.
    *
-   * @var \Drupal\applenews\Entity\ApplenewsTemplate
+   * @var ApplenewsTemplate
    */
   protected $applenewsTemplate;

@@ @@
    * corresponding Apple News article should be deleted when the article already
    * was deleted in the Apple News UI.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
+   * @throws EntityStorageException
    */
   public function testDeleteNotFound() {
     // Create the node.
@@ @@
    * using the status flag, that Apple News article should be removed even when
    * the article has already been removed upstream.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
+   * @throws EntityStorageException
    */
   public function testDeleteNotFoundUnpublish() {
     // Create the node.
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/applenews/tests/src/Functional/ApplenewsTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\applenews\Functional;

+use Drupal\user\UserInterface;
 use Drupal\Tests\BrowserTestBase;

 /**
@@ @@
   /**
    * A user with permission to bypass access content.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $adminUser;

@@ @@
   /**
    * A normal user with permission to bypass node access content.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $baseUser;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/applenews/tests/src/Functional/ApplenewsAdminTest.php:79

    ---------- begin diff ----------
@@ @@
     $edit['api_secret'] = '';
     $this->submitForm($edit, 'Save configuration');
     $assert_session->pageTextContains('The configuration options have been saved.');
-    $this->assertEqual(\Drupal::config('applenews.settings')->get('api_secret'), $api_secret);
+    $this->assertEquals(\Drupal::config('applenews.settings')->get('api_secret'), $api_secret);
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


7) modules/contrib/applenews/tests/src/Functional/AppleNewsWidgetTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\applenews\Functional;

+use Drupal\field\Entity\FieldStorageConfig;
+use Drupal\field\Entity\FieldConfig;
+use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\applenews_test\Publisher;
 use Drupal\node\Entity\Node;
 use Drupal\Tests\applenews\Traits\AppleNewsTestTrait;
@@ @@
   /**
    * Apple news field storage.
    *
-   * @var \Drupal\field\Entity\FieldStorageConfig
+   * @var FieldStorageConfig
    */
   protected $applenewsFieldStorage;

@@ @@
   /**
    * Apple news field config.
    *
-   * @var \Drupal\field\Entity\FieldConfig
+   * @var FieldConfig
    */
   protected $applenewsFieldConfig;

@@ @@
       $this->applenewsFieldConfig,
     ] = $this->createAppleNewsField('node', 'article');

-    /** @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface $entity_display_repository */
+    /** @var EntityDisplayRepositoryInterface $entity_display_repository */
     $entity_display_repository = \Drupal::service('entity_display.repository');
     $entity_display_repository
       ->getFormDisplay('node', 'article')
@@ @@
     $assert_session->pageTextContains('No channels available');
     $assert_session->pageTextContains('Download the Apple News generated document');
     $assert_session->pageTextContains($template->label());
-    $this->assertRaw(sprintf('admin/config/services/applenews/node/%s/%s/%s/download', $node->id(), $node->getLoadedRevisionId(), $template->id()));
+    $this->assertSession()->responseContains(sprintf('admin/config/services/applenews/node/%s/%s/%s/download', $node->id(), $node->getLoadedRevisionId(), $template->id()));
   }

   /**
    ----------- end diff -----------

Applied rules:
 * AssertRawRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/applenews/tests/modules/applenews_test/src/EventSubscriber/DocumentPostTransformEventSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews_test\EventSubscriber;

+use Drupal\Core\Entity\EntityMalformedException;
 use ChapterThree\AppleNewsAPI\Document\Metadata;
 use Drupal\applenews\Event\DocumentPostTransformEvent;
 use Drupal\Core\Entity\EntityChangedInterface;
@@ @@
   /**
    * After an entity has been transformed into an Apple News document, alter it.
    *
-   * @param \Drupal\applenews\Event\DocumentPostTransformEvent $event
+   * @param DocumentPostTransformEvent $event
    *   Document post transform event.
    *
-   * @throws \Drupal\Core\Entity\EntityMalformedException
+   * @throws EntityMalformedException
    */
   public function documentPostTransform(DocumentPostTransformEvent $event) {
     $document = $event->getDocument();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


9) modules/contrib/applenews/src/Repository/ApplenewsTemplateRepository.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Repository;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\applenews\Entity\ApplenewsTemplate;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\TypedData\Exception\MissingDataException;
@@ @@
   /**
    * Get all configured Apple News templates for the given entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   An entity.
    *
-   * @return \Drupal\applenews\Entity\ApplenewsTemplate[]
+   * @return ApplenewsTemplate[]
    *   An array of Apple News templates indexed by id.
    */
   public function getTemplatesForEntity(EntityInterface $entity): array {
@@ @@
    * @param string $template_id
    *   A template id.
    *
-   * @return \Drupal\applenews\Entity\ApplenewsTemplate
+   * @return ApplenewsTemplate
    *   The Apple News template for the given id.
    *
-   * @throws \Drupal\Core\TypedData\Exception\MissingDataException
+   * @throws MissingDataException
    *   When we could not find a template by the given id.
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function getTemplateByTemplateId(string $template_id): ApplenewsTemplate {
-    /** @var \Drupal\applenews\Entity\ApplenewsTemplate $template */
+    /** @var ApplenewsTemplate $template */
     $template = $this->entityTypeManager->getStorage('applenews_template')->load($template_id);
     if (empty($template)) {
       throw new MissingDataException(sprintf('Could not find a template by id %s.', $template_id));
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/applenews/src/Repository/ApplenewsRepositoryBase.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * Entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Apple news channel logger.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;

@@ @@
   /**
    * ApplenewsConfigRepository constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager.
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Apple news channel logger.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, LoggerInterface $logger) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


11) modules/contrib/applenews/src/Repository/ApplenewsChannelRepository.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Repository;

+use Drupal\applenews\Entity\ApplenewsChannel;
 /**
  * Apple news channel repository.
  *
@@ @@
   /**
    * Get all configured Apple News channels.
    *
-   * @return \Drupal\applenews\Entity\ApplenewsChannel[]
+   * @return ApplenewsChannel[]
    *   An array of Apple News channels indexed by id.
    */
   public function getChannels(): array {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


12) modules/contrib/applenews/src/PublisherInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews;

+use Drupal\applenews\Exception\ApplenewsInvalidResponseException;
 /**
  * Applenews publisher manager.
  *
@@ @@
    * @return mixed
    *   Channel details.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    *
    * @see vendor/chapter-three/apple-news-api/examples/PublisherAPI/GetChannel.php
    */
@@ @@
    * @return mixed
    *   An article object.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    *
    * @see vendor/chapter-three/apple-news-api/examples/PublisherAPI/GetArticle.php
    */
@@ @@
    * @return mixed
    *   Section details, if available. NULL otherwise.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    *
    * @see vendor/chapter-three/apple-news-api/examples/PublisherAPI/GetSection.php
    */
@@ @@
    * @return mixed
    *   Sections.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    *
    * @see vendor/chapter-three/apple-news-api/examples/PublisherAPI/GetSections.php
    */
@@ @@
    * @return object
    *   Response object if successful. NULL otherwise.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    *
    * @see vendor/chapter-three/apple-news-api/examples/PublisherAPI/PostArticle.php
    */
@@ @@
    * @return mixed
    *   Response object if update successful. NULL otherwise.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    *
    * @see vendor/chapter-three/apple-news-api/examples/PublisherAPI/UpdateArticle.php
    */
@@ @@
    * @return mixed
    *   Mixed deleted status.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    *
    * @see vendor/chapter-three/apple-news-api/examples/PublisherAPI/UeleteArticle.php
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


13) modules/contrib/applenews/src/Publisher.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews;

+use Drupal\Core\Config\Config;
 use ChapterThree\AppleNewsAPI\PublisherAPI;
 use Drupal\applenews\Exception\ApplenewsInvalidResponseException;
 use Drupal\Core\Config\ConfigFactoryInterface;
@@ @@
   /**
    * The applenews settings config object.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $config;

@@ @@
   /**
    * Construct the PublisherManager object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
    */
   public function __construct(ConfigFactoryInterface $config_factory) {
@@ @@
    * @return mixed
    *   Returns response.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    */
   protected function handleResponse($response) {
     if (isset($response->errors) && is_array($response->errors)) {
@@ @@
   /**
    * Provides publisher object.
    *
-   * @return \ChapterThree\AppleNewsAPI\PublisherAPI
+   * @return PublisherAPI
    *   Publisher object.
    */
   protected function getPublisher() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


14) modules/contrib/applenews/src/Plugin/migrate/process/FieldName.php:29

    ---------- begin diff ----------
@@ @@
   /**
    * The applenews manager service.
    *
-   * @var \Drupal\applenews\ApplenewsManager
+   * @var ApplenewsManager
    */
   protected $applenewsManager;

@@ @@
    *   The plugin ID.
    * @param mixed $plugin_definition
    *   The plugin definition.
-   * @param \Drupal\applenews\ApplenewsManager $applenews_manager
+   * @param ApplenewsManager $applenews_manager
    *   The applenews manager service.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ApplenewsManager $applenews_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/applenews/src/Plugin/Field/FieldWidget/Applenews.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Plugin\Field\FieldWidget;

+use Drupal\Core\Entity\ContentEntityInterface;
+use Drupal\applenews\Entity\ApplenewsArticle;
+use Drupal\applenews\Entity\ApplenewsTemplate;
 use Drupal\applenews\ApplenewsManager;
 use Drupal\applenews\Repository\ApplenewsChannelRepository;
 use Drupal\applenews\Repository\ApplenewsTemplateRepository;
@@ @@
   /**
    * Apple news channel repository.
    *
-   * @var \Drupal\applenews\Repository\ApplenewsChannelRepository
+   * @var ApplenewsChannelRepository
    */
   protected $channelRepository;

@@ @@
   /**
    * Apple news template repository.
    *
-   * @var \Drupal\applenews\Repository\ApplenewsTemplateRepository
+   * @var ApplenewsTemplateRepository
    */
   protected $templateRepository;

@@ @@
    *   The plugin_id for the widget.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the widget is associated.
    * @param array $settings
    *   The widget settings.
    * @param array $third_party_settings
    *   Any third party settings.
-   * @param \Drupal\applenews\Repository\ApplenewsChannelRepository $channel_repository
+   * @param ApplenewsChannelRepository $channel_repository
    *   Apple news channel repository.
-   * @param \Drupal\applenews\Repository\ApplenewsTemplateRepository $template_repository
+   * @param ApplenewsTemplateRepository $template_repository
    *   Apple news channel repository.
    */
   public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, array $third_party_settings, ApplenewsChannelRepository $channel_repository, ApplenewsTemplateRepository $template_repository) {
@@ @@
    */
   public function formElement(FieldItemListInterface $items, $delta, array $element, array &$form, FormStateInterface $form_state) {
     $channels = $this->channelRepository->getChannels();
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+    /** @var ContentEntityInterface $entity */
     $entity = $items->getEntity();
     $templates = $this->templateRepository->getTemplatesForEntity($entity);

@@ @@
    *
    * Renders a message prompting the user to configure Apple News templates.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $items
+   * @param FieldItemListInterface $items
    *   Array of default values for this field.
    * @param int $delta
    *   The order of this item in the array of sub-elements (0, 1, 2, etc.).
@@ @@
    * @param array $form
    *   The form structure where widgets are being attached to. This might be a
    *   full form structure, or a sub-element of a larger form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @return array
@@ @@
    *   Apple News widget element.
    */
   protected function formElementNoTemplates(FieldItemListInterface $items, $delta, array $element, array &$form, FormStateInterface $form_state): array {
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+    /** @var ContentEntityInterface $entity */
     $entity = $items->getEntity();
     $element['message'] = [
       '#type' => 'item',
@@ @@
    * renders a list of links to download the Apple News format article in the
    * various configured templates, if any.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $items
+   * @param FieldItemListInterface $items
    *   Array of default values for this field.
    * @param int $delta
    *   The order of this item in the array of sub-elements (0, 1, 2, etc.).
@@ @@
    * @param array $form
    *   The form structure where widgets are being attached to. This might be a
    *   full form structure, or a sub-element of a larger form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @return array
@@ @@
   /**
    * The Apple News widget when everything is fully configured.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $items
+   * @param FieldItemListInterface $items
    *   Array of default values for this field.
    * @param int $delta
    *   The order of this item in the array of sub-elements (0, 1, 2, etc.).
@@ @@
    * @param array $form
    *   The form structure where widgets are being attached to. This might be a
    *   full form structure, or a sub-element of a larger form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @return array
@@ @@
   protected function formElementFullyConfigured(FieldItemListInterface $items, $delta, array $element, array &$form, FormStateInterface $form_state): array {
     $field_name = $items->getName();
     $default_channels = unserialize($items[$delta]->channels);
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+    /** @var ContentEntityInterface $entity */
     $entity = $items->getEntity();
     $templates = $this->getOptionsFromTemplates($this->templateRepository->getTemplatesForEntity($entity));
     // @todo Dependency injection.
-    /** @var \Drupal\applenews\Entity\ApplenewsArticle $article */
+    /** @var ApplenewsArticle $article */
     $article = ApplenewsManager::getArticle($entity, $field_name);

     $element += [
@@ @@
   /**
    * If the form has an advanced tab-set, move the Apple News widget there.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $items
+   * @param FieldItemListInterface $items
    *   Array of default values for this field.
    * @param int $delta
    *   The order of this item in the array of sub-elements (0, 1, 2, etc.).
@@ @@
    * @param array $form
    *   The form structure where widgets are being attached to. This might be a
    *   full form structure, or a sub-element of a larger form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @return array
@@ @@
    *   Apple News widget element.
    */
   protected function moveToAdvancedSettings(FieldItemListInterface $items, $delta, array $element, array &$form, FormStateInterface $form_state): array {
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+    /** @var ContentEntityInterface $entity */
     $entity = $items->getEntity();

     // If the advanced settings tabs-set is available (normally rendered in the
@@ @@
    *
    * Download the entity in the generated Apple News format.
    *
-   * @param \Drupal\Core\Field\FieldItemListInterface $items
+   * @param FieldItemListInterface $items
    *   Array of default values for this field.
    * @param int $delta
    *   The order of this item in the array of sub-elements (0, 1, 2, etc.).
@@ @@
    * @param array $form
    *   The form structure where widgets are being attached to. This might be a
    *   full form structure, or a sub-element of a larger form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @return array
@@ @@
    */
   protected function addDownloadLinks(FieldItemListInterface $items, $delta, array $element, array &$form, FormStateInterface $form_state): array {
     $channels = $this->channelRepository->getChannels();
-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+    /** @var ContentEntityInterface $entity */
     $entity = $items->getEntity();
     $templates = $this->templateRepository->getTemplatesForEntity($entity);

@@ @@
    *
    * @param array $element
    *   The form element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    */
   public static function validateFormElement(array $element, FormStateInterface $form_state) {
@@ @@
   /**
    * Turn an array of Apple News templates into form options.
    *
-   * @param \Drupal\applenews\Entity\ApplenewsTemplate[] $templates
+   * @param ApplenewsTemplate[] $templates
    *   Array of Apple News template entities.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/applenews/src/Plugin/ApplenewsComponentTypeManager.php:16

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces,
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/applenews/src/Plugin/ApplenewsComponentTypeInterface.php:52

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   An array of form definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state object.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


18) modules/contrib/applenews/src/Plugin/ApplenewsComponentTypeBase.php:38

    ---------- begin diff ----------
@@ @@
   /**
    * Field manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $fieldManager;

@@ @@
    * Get a field selection element that will have all fields on the selected
    * content type as an option, and allow dynamic selection of their properties.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state object.
    * @param string $name
    *   String name.
@@ @@
   /**
    * Get all the properties of a field as a selection element.
    *
-   * @param \Drupal\field\FieldStorageConfigInterface $config
+   * @param FieldStorageConfigInterface $config
    *   Field storage config.
    *
    * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


19) modules/contrib/applenews/src/Normalizer/ApplenewsImageComponentNormalizer.php:48

    ---------- begin diff ----------
@@ @@
    * @return string
    *   String URL of the given normalized file field, otherwise NULL.
    *
-   * @throws \Drupal\Core\TypedData\Exception\MissingDataException
+   * @throws MissingDataException
    *   When we could not find a valid image URL from the given normalized file
    *   field.
    */
@@ @@
    *   Return value from file_create_url.
    */
   public function fileCreateUrl($uri) {
-    return file_create_url($uri);
+    return \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
   }

 }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


20) modules/contrib/applenews/src/Normalizer/ApplenewsContentEntityNormalizer.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Normalizer;

+use Drupal\applenews\Entity\ApplenewsTextStyle;
 use ChapterThree\AppleNewsAPI\Document\Layouts\Layout;
 use ChapterThree\AppleNewsAPI\Document;
 use Drupal\applenews\Entity\ApplenewsTemplate;
@@ @@
   /**
    * Entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * Apple news template repository.
    *
-   * @var \Drupal\applenews\Repository\ApplenewsTemplateRepository
+   * @var ApplenewsTemplateRepository
    */
   protected $templateRepository;

@@ @@
   /**
    * Event dispatcher service.
    *
-   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   * @var EventDispatcherInterface
    */
   protected $eventDispatcher;

@@ @@
   /**
    * Constructs an ApplenewsTemplateSelection object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   Language manager service.
-   * @param \Drupal\applenews\Repository\ApplenewsTemplateRepository $template_repository
+   * @param ApplenewsTemplateRepository $template_repository
    *   Apple news template repository.
-   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   * @param EventDispatcherInterface $event_dispatcher
    *   Event dispatcher service.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, LanguageManagerInterface $language_manager, ApplenewsTemplateRepository $template_repository, EventDispatcherInterface $event_dispatcher) {
@@ @@
     // @todo Load only default and used custom styles.
     $text_styles = $this->entityTypeManager->getStorage('applenews_text_style')->loadMultiple();
     foreach ($text_styles as $text_style) {
-      /** @var \Drupal\applenews\Entity\ApplenewsTextStyle $text_style */
+      /** @var ApplenewsTextStyle $text_style */
       $document->addTextStyle($text_style->id(), $text_style->toObject());
     }

     $event = new DocumentPostTransformEvent($object, $document, $template);
-    $this->eventDispatcher->dispatch(DocumentPostTransformEvent::DOCUMENT_POST_TRANSFORM_EVENT, $event);
+    $this->eventDispatcher->dispatch($event, DocumentPostTransformEvent::DOCUMENT_POST_TRANSFORM_EVENT);

     // @todo It's atypical for a normalizer service to end this way. Typically
     //   the normalizer would leave it completely in the normalized format, here
@@ @@
   /**
    * Helper to get the appropriate langcode for the given entity.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   A content entity.
    *
    * @return string
@@ @@
   /**
    * Get a Layout object from the configured properties in the template.
    *
-   * @param \Drupal\applenews\Entity\ApplenewsTemplate $template
+   * @param ApplenewsTemplate $template
    *   Apple news template entity.
    *
-   * @return \ChapterThree\AppleNewsAPI\Document\Layouts\Layout
+   * @return Layout
    *   Apple News document layout object.
    */
   protected function getLayoutFromTemplate(ApplenewsTemplate $template): Layout {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


21) modules/contrib/applenews/src/Normalizer/ApplenewsComponentNormalizerBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Normalizer;

+use Drupal\Component\Plugin\Exception\PluginException;
 use ChapterThree\AppleNewsAPI\Document\Layouts\ComponentLayout;
 use ChapterThree\AppleNewsAPI\Document\Margin;
 use Drupal\applenews\Plugin\ApplenewsComponentTypeManager;
@@ @@
   /**
    * Component type manager.
    *
-   * @var \Drupal\applenews\Plugin\ApplenewsComponentTypeManager
+   * @var ApplenewsComponentTypeManager
    */
   protected $applenewsComponentTypeManager;

@@ @@
   /**
    * Constructs a normalizer object.
    *
-   * @param \Drupal\applenews\Plugin\ApplenewsComponentTypeManager $component_type_manager
+   * @param ApplenewsComponentTypeManager $component_type_manager
    *   Component type manager.
    */
   public function __construct(ApplenewsComponentTypeManager $component_type_manager) {
@@ @@
    * @return string
    *   The fully-qualified name of the underlying Component class to use.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   protected function getComponentClass($plugin_id) {
     $component = $this->applenewsComponentTypeManager->createInstance($plugin_id);
@@ @@
    * @param array $component_layout
    *   An array of component layout.
    *
-   * @return \ChapterThree\AppleNewsAPI\Document\Layouts\ComponentLayout
+   * @return ComponentLayout
    *   Layout object.
    */
   protected function getComponentLayout(array $component_layout) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/applenews/src/Form/TextStyleForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Form;

+use Drupal\applenews\Entity\ApplenewsTextStyle;
 use Drupal\applenews\AppleNewsRequestDataTrait;
 use Drupal\Core\Entity\EntityForm;
 use Drupal\Core\Entity\EntityStorageInterface;
@@ @@
   /**
    * The entity being used by this form.
    *
-   * @var \Drupal\applenews\Entity\ApplenewsTextStyle
+   * @var ApplenewsTextStyle
    */
   protected $entity;

@@ @@
   /**
    * The text style entity storage.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $storage;

@@ @@
   /**
    * Constructs a class for apple news text style add and edit forms.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $storage
+   * @param EntityStorageInterface $storage
    *   The text style entity storage.
    */
   public function __construct(EntityStorageInterface $storage) {
@@ @@
    * {@inheritdoc}
    */
   public function form(array $form, FormStateInterface $form_state) {
-    /** @var \Drupal\applenews\Entity\ApplenewsTextStyle $entity */
+    /** @var ApplenewsTextStyle $entity */
     $entity = $this->entity;
     $form['label'] = [
       '#type' => 'textfield',
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


23) modules/contrib/applenews/src/Form/SettingsForm.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * Constructs a \Drupal\applenews\SettingsForm object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    *   The aggregator processor plugin manager.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $string_translation
+   * @param TranslationInterface $string_translation
    *   The string translation manager.
    */
   public function __construct(ConfigFactoryInterface $config_factory, TranslationInterface $string_translation) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


24) modules/contrib/applenews/src/Form/ChannelForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Form;

+use Drupal\contact\MessageInterface;
 use Drupal\applenews\PublisherInterface;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Core\Datetime\DateFormatterInterface;
@@ @@
   /**
    * The channel being used by this form.
    *
-   * @var \Drupal\contact\MessageInterface
+   * @var MessageInterface
    */
   protected $entity;

@@ @@
   /**
    * The language manager service.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\Core\Datetime\DateFormatterInterface
+   * @var DateFormatterInterface
    */
   protected $dateFormatter;

@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\applenews\PublisherInterface
+   * @var PublisherInterface
    */
   protected $publisher;

@@ @@
   /**
    * Constructs a MessageForm object.
    *
-   * @param \Drupal\Core\Entity\EntityRepositoryInterface $entity_repository
+   * @param EntityRepositoryInterface $entity_repository
    *   The entity repository.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager service.
-   * @param \Drupal\Core\Datetime\DateFormatterInterface $date_formatter
+   * @param DateFormatterInterface $date_formatter
    *   The date service.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle service.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The time service.
-   * @param \Drupal\applenews\PublisherInterface $publisher
+   * @param PublisherInterface $publisher
    *   The time service.
    */
   public function __construct(EntityRepositoryInterface $entity_repository, LanguageManagerInterface $language_manager, DateFormatterInterface $date_formatter, EntityTypeBundleInfoInterface $entity_type_bundle_info = NULL, TimeInterface $time = NULL, PublisherInterface $publisher = NULL) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


25) modules/contrib/applenews/src/Form/ApplenewsTemplateForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Form;

+use Drupal\Core\Entity\EntityTypeManager;
+use Drupal\applenews\Entity\ApplenewsTemplate;
+use Drupal\Core\Entity\EntityStorageException;
+use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\applenews\Plugin\ApplenewsComponentTypeManager;
 use Drupal\Component\Serialization\Json;
 use Drupal\Core\Entity\EntityForm;
@@ @@
   /**
    * Component type manager.
    *
-   * @var \Drupal\applenews\Plugin\ApplenewsComponentTypeManager
+   * @var ApplenewsComponentTypeManager
    */
   protected $applenewsComponentTypeManager;

@@ @@
   /**
    * Entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManager
+   * @var EntityTypeManager
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
   /**
    * Constructs an ApplenewsTemplateForm object.
    *
-   * @param \Drupal\applenews\Plugin\ApplenewsComponentTypeManager $component_type_manager
+   * @param ApplenewsComponentTypeManager $component_type_manager
    *   Component type manager.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
    */
   public function __construct(ApplenewsComponentTypeManager $component_type_manager, EntityTypeManagerInterface $entity_type_manager, RendererInterface $renderer) {
@@ @@
   public function form(array $form, FormStateInterface $form_state) {
     $form = parent::form($form, $form_state);

-    /** @var \Drupal\applenews\Entity\ApplenewsTemplate $template */
+    /** @var ApplenewsTemplate $template */
     $template = $this->entity;
     $node_types = $this->entityTypeManager->getStorage('node_type')->loadMultiple();

@@ @@
    *
    * @param array $form
    *   An array of from definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    */
   public function setComponentFormStep(array &$form, FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   An array of from definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    */
   public function resetTempFormValues(array &$form, FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   An array of from definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    *
    * @return mixed
@@ @@
    *
    * @param array $form
    *   An array of from definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    *
    * @return mixed
@@ @@
    *
    * @param array $form
    *   An array of from definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public function addComponent(array &$form, FormStateInterface $form_state) {
     $form_state->set('sub_form_component_type', NULL);
@@ @@
    *
    * @param array $form
    *   An array of from definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    *
    * @return array
@@ @@
    *
    * @param array $form
    *   An array of from definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    *
    * @return mixed
@@ @@
    *
    * @param array $form
    *   An array of from definition.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   public function setDeleteComponentForm(array &$form, FormStateInterface $form_state) {
     $this->saveComponentOrder($form_state);
@@ @@
    *
    * @todo Replace with a value object
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state object.
    *
    * @return array
@@ @@
   /**
    * Sorts the components based on their new weights from the draggable table.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state array.
    *
-   * @throws \Drupal\Core\Entity\EntityStorageException
+   * @throws EntityStorageException
    */
   protected function saveComponentOrder(FormStateInterface $form_state) {
     $component_table = $form_state->getValue('components_table');
@@ @@
    *
    * @param array $component
    *   Component object.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state.
    * @param null|string $parent_id
    *   Parent id, if available.
@@ @@
    *
    * @param array $component
    *   Component object.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state.
    * @param int $depth
    *   Depth.
@@ @@
    * @return array
    *   An array of row definition.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   protected function getChildComponentRows(array $component, FormStateInterface $form_state, $depth = 1) {
     $rows = [];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


26) modules/contrib/applenews/src/Form/AppleNewsArticleDeleteForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Form;

+use Drupal\applenews\ApplenewsManager;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Form\ConfirmFormBase;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * Entity associated with the Apple News article being deleted.
    *
-   * @var \Drupal\Core\Entity\ContentEntityInterface
+   * @var ContentEntityInterface
    */
   protected $entity;

@@ @@
    * {@inheritdoc}
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
-    /** @var \Drupal\applenews\ApplenewsManager $applenews_manager */
+    /** @var ApplenewsManager $applenews_manager */
     $applenews_manager = \Drupal::service('applenews.manager');
     $applenews_manager->delete($this->entity);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


27) modules/contrib/applenews/src/Event/DocumentPostTransformEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use ChapterThree\AppleNewsAPI\Document;
 use Drupal\applenews\Entity\ApplenewsTemplate;
 use Drupal\Core\Entity\ContentEntityInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Event fires after an entity has been transformed into a Apple News Document.
@@ @@
   /**
    * Some content entity, currently only nodes are supported.
    *
-   * @var \Drupal\Core\Entity\ContentEntityInterface
+   * @var ContentEntityInterface
    */
   protected $entity;

@@ @@
   /**
    * The transformed entity as an Apple News document.
    *
-   * @var \ChapterThree\AppleNewsAPI\Document
+   * @var Document
    */
   protected $document;

@@ @@
   /**
    * The Apple News template entity.
    *
-   * @var \Drupal\applenews\Entity\ApplenewsTemplate
+   * @var ApplenewsTemplate
    */
   protected $template;

@@ @@
   /**
    * DocumentPostTransformEvent constructor.
    *
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   Some content entity, currently only nodes are supported.
-   * @param \ChapterThree\AppleNewsAPI\Document $document
+   * @param Document $document
    *   The transformed entity as an Apple News document.
-   * @param \Drupal\applenews\Entity\ApplenewsTemplate $template
+   * @param ApplenewsTemplate $template
    *   The Apple News template entity.
    */
   public function __construct(ContentEntityInterface $entity, Document $document, ApplenewsTemplate $template) {
@@ @@
   /**
    * Return the content entity that was transformed.
    *
-   * @return \Drupal\Core\Entity\ContentEntityInterface
+   * @return ContentEntityInterface
    *   The content entity that was transformed.
    */
   public function getEntity(): ContentEntityInterface {
@@ @@
   /**
    * Return the Apple News formatted document.
    *
-   * @return \ChapterThree\AppleNewsAPI\Document
+   * @return Document
    *   The Apple News formatted document.
    */
   public function getDocument(): Document {
@@ @@
   /**
    * Return the Apple News template used to transform the entity.
    *
-   * @return \Drupal\applenews\Entity\ApplenewsTemplate
+   * @return ApplenewsTemplate
    *   The Apple News template used to transform the entity.
    */
   public function getTemplate(): ApplenewsTemplate {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


28) modules/contrib/applenews/src/Entity/ApplenewsChannel.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Entity;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
 use Drupal\applenews\ChannelInterface;
 use Drupal\Core\Entity\ContentEntityBase;
 use Drupal\Core\Entity\EntityTypeInterface;
@@ @@
    * @return \Drupal\applenews\Entity\ApplenewsChannel|null
    *   Apple News Channel entity if exist. NULL otherwise.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
+   * @throws InvalidPluginDefinitionException
    */
   public static function loadByChannelId($channel_id) {
     $query = \Drupal::entityQuery('applenews_channel');
@@ @@
    * {@inheritdoc}
    */
   public static function baseFieldDefinitions(EntityTypeInterface $entity_type) {
-    /** @var \Drupal\Core\Field\BaseFieldDefinition[] $fields */
+    /** @var BaseFieldDefinition[] $fields */
     $fields = parent::baseFieldDefinitions($entity_type);

     $fields['uuid']->setDescription(new TranslatableMarkup('The channel UUID.'));
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


29) modules/contrib/applenews/src/Entity/ApplenewsArticle.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Entity;

+use Drupal\Core\Datetime\DateFormatter;
 use Drupal\Core\Datetime\DrupalDateTime;
 use Drupal\Core\Entity\ContentEntityBase;
 use Drupal\Core\Entity\EntityTypeInterface;
@@ @@
     if (!$date) {
       return NULL;
     }
-    /** @var \Drupal\Core\Datetime\DateFormatter $date_formatter */
+    /** @var DateFormatter $date_formatter */
     $date_formatter = \Drupal::service('date.formatter');
     $created = DrupalDateTime::createFromFormat('Y-m-d\TH:i:s\Z', $date);
     return $date_formatter->format($created->getTimestamp(), $type, $format);
@@ @@
    * {@inheritdoc}
    */
   public static function baseFieldDefinitions(EntityTypeInterface $entity_type) {
-    /** @var \Drupal\Core\Field\BaseFieldDefinition[] $fields */
+    /** @var BaseFieldDefinition[] $fields */
     $fields = parent::baseFieldDefinitions($entity_type);

     $fields['uuid']->setDescription(new TranslatableMarkup('The article UUID.'));
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


30) modules/contrib/applenews/src/Controller/ApplenewsPreviewController.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * Logger.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;

@@ @@
   /**
    * Serializer.
    *
-   * @var \Symfony\Component\Serializer\Serializer
+   * @var Serializer
    */
   protected $serializer;

@@ @@
   /**
    * Preview builder.
    *
-   * @var \Drupal\applenews\ApplenewsPreviewBuilder
+   * @var ApplenewsPreviewBuilder
    */
   protected $previewBuilder;

@@ @@
   /**
    * Apple News Manager.
    *
-   * @var \Drupal\applenews\ApplenewsManager
+   * @var ApplenewsManager
    */
   protected $applenewsManager;

@@ @@
   /**
    * ApplenewsPreviewController constructor.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logger object.
-   * @param \Symfony\Component\Serializer\Serializer $serializer
+   * @param Serializer $serializer
    *   Serializer object.
-   * @param \Drupal\applenews\ApplenewsPreviewBuilder $preview_builder
+   * @param ApplenewsPreviewBuilder $preview_builder
    *   Preview builder object.
-   * @param \Drupal\applenews\ApplenewsManager $manager
+   * @param ApplenewsManager $manager
    *   Apple news manager.
    */
   public function __construct(LoggerInterface $logger, Serializer $serializer, ApplenewsPreviewBuilder $preview_builder, ApplenewsManager $manager) {
@@ @@
    *
    * @param string $entity_type
    *   String entity type.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity object.
    * @param int $revision_id
    *   revision ID.
@@ @@
    * @param string $template_id
    *   String template ID.
    *
-   * @return \Symfony\Component\HttpFoundation\BinaryFileResponse
+   * @return BinaryFileResponse
    *   Response object.
    */
   public function preview($entity_type, EntityInterface $entity, $revision_id, $template_id) {
@@ @@
   /**
    * Provides article data array.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity article attached to.
    * @param string $template_id
    *   String template ID.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


31) modules/contrib/applenews/src/Controller/ApplenewsChannelController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Controller;

+use Drupal\Core\Routing\LocalRedirectResponse;
 use Drupal\applenews\Entity\ApplenewsChannel;
 use Drupal\Core\Controller\ControllerBase;
 use Psr\Log\LoggerInterface;
@@ @@
   /**
    * Logger.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;

@@ @@
   /**
    * ApplenewsPreviewController constructor.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logger object.
    */
   public function __construct(LoggerInterface $logger) {
@@ @@
   /**
    * Refresh channel details from Apple News.
    *
-   * @param \Drupal\applenews\Entity\ApplenewsChannel $applenews_channel
+   * @param ApplenewsChannel $applenews_channel
    *   Apple News entity.
    *
-   * @return \Drupal\Core\Routing\LocalRedirectResponse
+   * @return LocalRedirectResponse
    *   Redirect response.
    */
   public function refresh(ApplenewsChannel $applenews_channel) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


32) modules/contrib/applenews/src/Commands/ApplenewsCommands.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * The settings instance.
    *
-   * @var \Drupal\Core\Site\Settings
+   * @var Settings
    */
   protected $settings;

@@ @@
   /**
    * ChannelImporter constructor.
    *
-   * @param \Drupal\Core\Site\Settings $settings
+   * @param Settings $settings
    *   The settings instance.
    */
   public function __construct(Settings $settings) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


33) modules/contrib/applenews/src/ChannelListBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews;

+use Drupal\applenews\Entity\ApplenewsChannel;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityListBuilder;

@@ @@
   public function buildRow(EntityInterface $entity) {
     $channel_id = $entity->getChannelId();
     $sections = $entity->getSections();
-    /** @var \Drupal\applenews\Entity\ApplenewsChannel $entity */
+    /** @var ApplenewsChannel $entity */
     $row['name'] = $entity->getName();
     $row['id'] = $channel_id;
     $row['sections']['data'] = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


34) modules/contrib/applenews/src/ArticleListBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews;

+use Drupal\applenews\Entity\ApplenewsArticle;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityListBuilder;

@@ @@
   public function buildRow(EntityInterface $entity) {
     $channel_id = $entity->getChannelId();
     $sections = $entity->getSections();
-    /** @var \Drupal\applenews\Entity\ApplenewsArticle $entity */
+    /** @var ApplenewsArticle $entity */
     $row['name'] = $entity->getName();
     $row['id'] = $channel_id;
     $row['sections']['data'] = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


35) modules/contrib/applenews/src/ApplenewsTextStyleInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews;

+use ChapterThree\AppleNewsAPI\Document\Styles\TextStyle;
 use Drupal\Core\Config\Entity\ConfigEntityInterface;

 /**
@@ @@
   /**
    * Generates the TextStyle object.
    *
-   * @return \ChapterThree\AppleNewsAPI\Document\Styles\TextStyle
+   * @return TextStyle
    *   Text style object with style data.
    */
   public function toObject();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


36) modules/contrib/applenews/src/ApplenewsPreviewBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\File\FileSystem;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\Core\StreamWrapper\StreamWrapperManagerInterface;
@@ @@
   /**
    * Config object.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * File system.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * Stream wrapper.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;

@@ @@
   /**
    * ApplenewsPreviewBuilder constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config factory.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   File system.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager
+   * @param StreamWrapperManagerInterface $stream_wrapper_manager
    *   Stream wrapper.
    */
   public function __construct(ConfigFactoryInterface $config_factory, FileSystemInterface $file_system, StreamWrapperManagerInterface $stream_wrapper_manager) {
@@ @@
    * @return $this
    */
   public function setEntity($entity_id, $filename, $entity_archive = FALSE, array $data = []) {
-    /** @var \Drupal\Core\File\FileSystem $filesystem */
+    /** @var FileSystem $filesystem */
     $filesystem = $this->fileSystem;
     $this->directory = 'applenews_preview/';
     $this->archive = !empty($filename) ? 'applenews-' . $filename . '.zip' : 'applenews.zip';
     $this->archiveRealPath = $filesystem->realpath($this->fileBuildUri($this->directory));
     $this->archiveFile = $filesystem->realpath($this->fileBuildUri($this->directory . $this->archive));
-    $this->archiveUrl = file_create_url($this->fileBuildUri($this->directory . $this->archive));
+    $this->archiveUrl = \Drupal::service('file_url_generator')->generateAbsoluteString($this->fileBuildUri($this->directory . $this->archive));

     if ($entity_id) {
       $drupal_entity_directory = $this->fileBuildUri($this->directory . $entity_id);
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


37) modules/contrib/applenews/src/ApplenewsManager.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews;

+use Drupal\Core\Config\Config;
+use Symfony\Component\Serializer\SerializerInterface;
+use Symfony\Component\HttpFoundation\Request;
+use Drupal\Core\Entity\ContentEntityInterface;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use ChapterThree\AppleNewsAPI\Document;
 use ChapterThree\AppleNewsAPI\Document\Components\Text;
 use Drupal\applenews\Entity\ApplenewsArticle;
 use Drupal\applenews\Exception\ApplenewsInvalidResponseException;
@@ @@
   /**
    * The entity manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The entity manager service.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * The applenews settings config object.
    *
-   * @var \Drupal\Core\Config\Config
+   * @var Config
    */
   protected $config;

@@ @@
   /**
    * The serializer.
    *
-   * @var \Symfony\Component\Serializer\SerializerInterface
+   * @var SerializerInterface
    */
   protected $serializer;

@@ @@
   /**
    * The date formatter service.
    *
-   * @var \Drupal\applenews\PublisherInterface
+   * @var PublisherInterface
    */
   protected $publisher;

@@ @@
   /**
    * Logger.
    *
-   * @var \Psr\Log\LoggerInterface
+   * @var LoggerInterface
    */
   protected $logger;

@@ @@
   /**
    * Messenger service for showing messages to the user.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * Current request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request|null
+   * @var Request|null
    */
   protected $request;

@@ @@
   /**
    * ApplenewsManager constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager service.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity field manager service.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $string_translation
+   * @param TranslationInterface $string_translation
    *   The string translation service.
-   * @param \Symfony\Component\Serializer\Serializer $serializer
+   * @param Serializer $serializer
    *   Serializer.
-   * @param \Drupal\applenews\PublisherInterface $publisher
+   * @param PublisherInterface $publisher
    *   Apple news publisher.
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logger.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   Messenger service for showing messages to the user.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   Request stack.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, EntityFieldManagerInterface $entity_field_manager, ConfigFactoryInterface $config_factory, TranslationInterface $string_translation, Serializer $serializer, PublisherInterface $publisher, LoggerInterface $logger, MessengerInterface $messenger, RequestStack $request_stack) {
@@ @@
   /**
    * Callback for hook_entity_insert and hook_entity_update.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity being inserted or updated.
    */
   public function entitySave(EntityInterface $entity) {
@@ @@
    * Enforce properties of the Apple News field(s) based on published status if
    * known.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity being saved.
    */
   public function entityPreSave(EntityInterface $entity) {
     $fields = $this->getFields($entity->getEntityTypeId(), $entity);

-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity $fields */
+    /** @var ContentEntityInterface $entity $fields */
     foreach (array_keys($fields) as $field_name) {
       $field = $entity->get($field_name);
       // Force set preview when we can determine that the entity is unpublished.
@@ @@
    *
    * @param string $entity_type_id
    *   Entity type id.
-   * @param \Drupal\Core\Entity\EntityInterface|null $entity
+   * @param EntityInterface|null $entity
    *   Entity which the Apple News fields should be present on.
    *
    * @return array
@@ @@
    *   - bundles: An associative array of the bundles in which the field
    *     appears, where the keys and values are both the bundle's machine name.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws PluginNotFoundException
    *   When the given entity type id does not exist.
    */
   public function getFields($entity_type_id, EntityInterface $entity = NULL) {
@@ @@
    * entity (e.g. node) UI to create an entity without publishing to Apple News
    * and decide to publish on entity update.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity associated with AppleNews.
    *
    * @return bool
@@ @@
   /**
    * Sync the entity to Apple News.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity to be sync'd.
    */
   protected function syncToAppleNews(EntityInterface $entity) {
     $fields = $this->getFields($entity->getEntityTypeId(), $entity);

-    /** @var \Drupal\Core\Entity\ContentEntityInterface $entity $fields */
+    /** @var ContentEntityInterface $entity $fields */
     foreach (array_keys($fields) as $field_name) {
       $field = $entity->get($field_name);
       $article = self::getArticle($entity, $field->getName());
@@ @@
   /**
    * Save the given entity for the given Apple News field to Apple News.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity to save to Apple News.
-   * @param \Drupal\Core\Field\FieldItemListInterface $field
+   * @param FieldItemListInterface $field
    *   Apple News field with the details for saving to Apple News.
    */
   protected function saveToAppleNews(EntityInterface $entity, FieldItemListInterface $field) {
@@ @@
   /**
    * Retrieve article.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity associated with AppleNews.
    * @param string $field_name
    *   String applenews field name.
    *
-   * @return \Drupal\Core\Entity\EntityInterface|null
+   * @return EntityInterface|null
    *   Apple News Article entity if exist, NULL otherwise.
    */
   public static function getArticle(EntityInterface $entity, $field_name) {
@@ @@
   /**
    * Delete an article from given entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity associated with AppleNews.
    */
   public function delete(EntityInterface $entity) {
@@ @@
   /**
    * Delete the article for the given entity and Apple News field pair.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity to delete the Apple News article for.
-   * @param \Drupal\Core\Field\FieldItemListInterface $field
+   * @param FieldItemListInterface $field
    *   The Apple News field to delete the article for.
    */
   public function deleteByField(EntityInterface $entity, FieldItemListInterface $field) {
@@ @@
   /**
    * Delete an article.
    *
-   * @param \Drupal\applenews\Entity\ApplenewsArticle $article
+   * @param ApplenewsArticle $article
    *   Apple news article entity.
    *
    * @return object
@@ @@
    * @return object
    *   Response object.
    *
-   * @throws \Drupal\applenews\Exception\ApplenewsInvalidResponseException
+   * @throws ApplenewsInvalidResponseException
    */
   protected function doUpdate($article_id, array $data) {
     return $this->publisher->updateArticle($article_id, $data);
@@ @@
   /**
    * Generates document from entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity associated with AppleNews.
    * @param string $template
    *   String template ID.
@@ @@
    */
   public function getDocumentDataFromEntity(EntityInterface $entity, $template) {
     $context['template_id'] = $template;
-    /** @var \ChapterThree\AppleNewsAPI\Document $document */
+    /** @var Document $document */
     $document = $this->serializer->normalize($entity, 'applenews', $context);

-    /** @var \ChapterThree\AppleNewsAPI\Document\Components\Text $component */
+    /** @var Text $component */
     if (!empty($document['components'])) {
       foreach ($document['components'] as $index => $component) {
         if (!$component instanceof Text) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


38) modules/contrib/applenews/src/Annotation/ApplenewsComponentType.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\applenews\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The human-readable name of the data source plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * The description of the data source.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


39) modules/contrib/applenews/applenews.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\applenews\ApplenewsManager;
 /**
  * @file
  * Apple News module file.
@@ @@
     return;
   }

-  /** @var \Drupal\applenews\ApplenewsManager $manager */
+  /** @var ApplenewsManager $manager */
   $manager = \Drupal::service('applenews.manager');
   $manager->entityPreSave($entity);
 }
@@ @@
     return;
   }

-  /** @var \Drupal\applenews\ApplenewsManager $manager */
+  /** @var ApplenewsManager $manager */
   $manager = \Drupal::service('applenews.manager');
   $manager->entitySave($entity);
 }
@@ @@
     return;
   }

-  /** @var \Drupal\applenews\ApplenewsManager $manager */
+  /** @var ApplenewsManager $manager */
   $manager = \Drupal::service('applenews.manager');
   $manager->entitySave($entity);
 }
@@ @@
   }

   try {
-    /** @var \Drupal\applenews\ApplenewsManager $manager */
+    /** @var ApplenewsManager $manager */
     $manager = \Drupal::service('applenews.manager');
     // On successful post, save response details on entity.
     $manager->delete($entity);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


40) modules/contrib/applenews/applenews.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\EntityFieldManagerInterface;
 /**
  * @file
  * Apple News module install file.
@@ @@
  * Fix the entity storage schema for any applenews_default field types.
  */
 function applenews_update_8001(&$sandbox) {
-  /** @var \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager */
+  /** @var EntityFieldManagerInterface $entity_field_manager */
   $entity_field_manager = \Drupal::service('entity_field.manager');
   $entity_storage_schema = \Drupal::keyValue('entity.storage_schema.sql');
   foreach ($entity_field_manager->getFieldMapByFieldType('applenews_default') as $entity_type_id => $info) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [WARNING] 1 nodes were removed                                                 

 [OK] 40 files have been changed by Rector                                      

