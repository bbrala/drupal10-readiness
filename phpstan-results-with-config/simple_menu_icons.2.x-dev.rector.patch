diff --git a/simple_menu_icons.info.yml b/simple_menu_icons.info.yml
index 3a19246..385c14f 100755
--- a/simple_menu_icons.info.yml
+++ b/simple_menu_icons.info.yml
@@ -1,8 +1,7 @@
 name: Simple Menu Icons
 type: module
 description: Associates icons with menu items
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 dependencies:
   - drupal:menu_ui
diff --git a/simple_menu_icons.module b/simple_menu_icons.module
index 4f87232..4b920eb 100755
--- a/simple_menu_icons.module
+++ b/simple_menu_icons.module
@@ -28,7 +28,7 @@ function simple_menu_icons_theme($existing, $type, $theme, $path) {
  * Implements hook_form_BASE_FORM_ID_alter()
  *
  * @param $form
- * @param \Drupal\Core\Form\FormStateInterface $form_state
+ * @param FormStateInterface $form_state
  * @param $form_id
  */
 function simple_menu_icons_form_menu_link_content_form_alter(&$form, FormStateInterface $form_state, $form_id) {
@@ -52,7 +52,7 @@ function simple_menu_icons_form_menu_link_content_form_alter(&$form, FormStateIn
  * Process the submitted form.
  *
  * @param $form
- * @param \Drupal\Core\Form\FormStateInterface $form_state
+ * @param FormStateInterface $form_state
  */
 function simple_menu_icons_menu_link_content_form_submit($form, FormStateInterface $form_state) {
   // First we just grab the file ID for the icon we uploaded, if any.
@@ -112,7 +112,7 @@ function simple_menu_icons_css_generate() {
 
     $menu_icons[] = [
       'mlid' => $item->id,
-      'path' => file_url_transform_relative(file_create_url($image_path)),
+      'path' => \Drupal::service('file_url_generator')->generateString($image_path),
       'width' => $image_width,
     ];
   }
@@ -177,7 +177,7 @@ function simple_menu_icons_rebuild() {
  * Implements hook_css_alter().
  *
  * @param $css
- * @param \Drupal\Core\Asset\AttachedAssetsInterface $assets
+ * @param AttachedAssetsInterface $assets
  */
 function simple_menu_icons_css_alter(&$css, AttachedAssetsInterface $assets) {
   $css_suffix = \Drupal::state()->get('simple_menu_icons_css_suffix') ?: NULL;
@@ -188,7 +188,7 @@ function simple_menu_icons_css_alter(&$css, AttachedAssetsInterface $assets) {
     $cssfile = SIMPLE_MENU_ICONS_CSS_PATH . '/menu_icons.css';
   }
   if (file_exists($cssfile) && $css) {
-    $css_path = file_create_url($cssfile);
+    $css_path = \Drupal::service('file_url_generator')->generateAbsoluteString($cssfile);
     if (!empty($css_path)) {
       $css[$css_path] = [
         'weight' => CSS_COMPONENT,
