diff --git a/butils.module b/butils.module
index 6b2849f..18ccc7f 100644
--- a/butils.module
+++ b/butils.module
@@ -42,10 +42,10 @@ function butils_node_update(EntityInterface $entity) {
 /**
  * Node save hook handler.
  *
- * @param \Drupal\Core\Entity\EntityInterface $entity
+ * @param EntityInterface $entity
  *   Node entity.
  *
- * @return \Drupal\Core\Entity\EntityInterface
+ * @return EntityInterface
  *   Node entity.
  */
 function butils_handle_node_save(EntityInterface $entity) {
@@ -57,7 +57,7 @@ function butils_handle_node_save(EntityInterface $entity) {
 /**
  * Gets the current page main entity.
  *
- * @return \Drupal\Core\Entity\EntityInterface
+ * @return EntityInterface
  *   Current page main entity.
  */
 function butils_page_entity() {
diff --git a/src/BUtils.php b/src/BUtils.php
index 7d85b31..d93ccdf 100644
--- a/src/BUtils.php
+++ b/src/BUtils.php
@@ -52,131 +52,131 @@ class BUtils {
   /**
    * Entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
    * Entity field manager.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;
 
   /**
    * Drupal\Core\Entity\EntityDisplayRepository definition.
    *
-   * @var \Drupal\Core\Entity\EntityDisplayRepository
+   * @var EntityDisplayRepository
    */
   protected $entityDisplayRepository;
 
   /**
    * State service.
    *
-   * @var \Drupal\Core\State\StateInterface
+   * @var StateInterface
    */
   protected $state;
 
   /**
    * The renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;
 
   /**
    * Database connection.
    *
-   * @var \Drupal\Core\Database\Driver\mysql\Connection
+   * @var Connection
    */
   protected $database;
 
   /**
    * FileSystem service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;
 
   /**
    * Language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;
 
   /**
    * Current route match.
    *
-   * @var \Drupal\Core\Routing\RouteMatchInterface
+   * @var RouteMatchInterface
    */
   protected $routeMatch;
 
   /**
    * Request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
 
   /**
    * Current user.
    *
-   * @var \Drupal\Core\Session\AccountProxyInterface
+   * @var AccountProxyInterface
    */
   protected $currentUser;
 
   /**
    * Path matcher.
    *
-   * @var \Drupal\Core\Path\PathMatcherInterface
+   * @var PathMatcherInterface
    */
   protected $pathMatcher;
 
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * Menu link tree service.
    *
-   * @var \Drupal\Core\Menu\MenuLinkTreeInterface
+   * @var MenuLinkTreeInterface
    */
   protected $menuTree;
 
   /**
    * Constructs a new BUtils object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   Entity field manager.
-   * @param \Drupal\Core\Entity\EntityDisplayRepository $entity_display_repository
+   * @param EntityDisplayRepository $entity_display_repository
    *   Entity display repository.
-   * @param \Drupal\Core\State\StateInterface $state
+   * @param StateInterface $state
    *   State manager.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   Renderer.
-   * @param \Drupal\Core\Database\Driver\mysql\Connection $database
+   * @param Connection $database
    *   Database connection.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   FileSystem service.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   Language manager.
-   * @param \Drupal\Core\Routing\RouteMatchInterface $route_match
+   * @param RouteMatchInterface $route_match
    *   Route matcher.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   Request stack.
-   * @param \Drupal\Core\Session\AccountProxyInterface $account_proxy
+   * @param AccountProxyInterface $account_proxy
    *   Current account.
-   * @param \Drupal\Core\Path\PathMatcherInterface $path_matcher
+   * @param PathMatcherInterface $path_matcher
    *   Path matcher.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Module handler.
-   * @param \Drupal\Core\Menu\MenuLinkTreeInterface $menu_link_tree
+   * @param MenuLinkTreeInterface $menu_link_tree
    *   Menu link treee service.
    */
   public function __construct(
diff --git a/src/CurrentTrait.php b/src/CurrentTrait.php
index fe6ee16..53c01dc 100644
--- a/src/CurrentTrait.php
+++ b/src/CurrentTrait.php
@@ -2,6 +2,9 @@
 
 namespace Drupal\butils;
 
+use Drupal\Core\Session\AccountProxyInterface;
+use Drupal\Core\Routing\RouteMatchInterface;
+use Symfony\Component\HttpFoundation\Request;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Language\LanguageInterface;
 
@@ -20,7 +23,7 @@ trait CurrentTrait {
    * @param string $type
    *   Expected entity type. NULL will result if not met.
    *
-   * @return \Drupal\Core\Entity\EntityInterface|null
+   * @return EntityInterface|null
    *   Current page entity.
    */
   public function currentEntity($type = '') {
@@ -81,7 +84,7 @@ trait CurrentTrait {
   /**
    * Get for the current language.
    *
-   * @return \Drupal\Core\Language\LanguageInterface
+   * @return LanguageInterface
    *   Current language.
    */
   public function currentLanguage() {
@@ -91,7 +94,7 @@ trait CurrentTrait {
   /**
    * Get the current user account (as proxy interface).
    *
-   * @return \Drupal\Core\Session\AccountProxyInterface
+   * @return AccountProxyInterface
    *   Current user account.
    */
   public function currentUser() {
@@ -101,7 +104,7 @@ trait CurrentTrait {
   /**
    * Get the current route.
    *
-   * @return \Drupal\Core\Routing\RouteMatchInterface
+   * @return RouteMatchInterface
    *   Current route.
    */
   public function currentRoute() {
@@ -111,7 +114,7 @@ trait CurrentTrait {
   /**
    * Get the current request.
    *
-   * @return \Symfony\Component\HttpFoundation\Request
+   * @return Request
    *   Current request.
    */
   public function currentRequest() {
diff --git a/src/EntityTrait.php b/src/EntityTrait.php
index 3e1f484..ce9cb04 100644
--- a/src/EntityTrait.php
+++ b/src/EntityTrait.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\butils;
 
+use Drupal\Core\Entity\Query\QueryInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\file\Entity\File;
 
@@ -20,7 +21,7 @@ trait EntityTrait {
    * @param array $values
    *   Entity values.
    *
-   * @return \Drupal\Core\Entity\EntityInterface
+   * @return EntityInterface
    *   Resulting entity.
    */
   public function toEntity($type, array $values) {
@@ -222,7 +223,7 @@ trait EntityTrait {
   /**
    * Counts words in an entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity to render and count words.
    * @param string $view_mode
    *   View mode to render in.
@@ -241,7 +242,7 @@ trait EntityTrait {
   /**
    * Builds a build array for an entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity to render and count words.
    * @param string $view_mode
    *   View mode to render in.
@@ -258,7 +259,7 @@ trait EntityTrait {
   /**
    * Renders an entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity to render and count words.
    * @param string $view_mode
    *   View mode to render in.
@@ -281,7 +282,7 @@ trait EntityTrait {
    * @param string|array $id
    *   Entity id.
    *
-   * @return \Drupal\Core\Entity\EntityInterface|array|null
+   * @return EntityInterface|array|null
    *   The loaded entity.
    */
   public function entityLoad($type, $id) {
@@ -299,7 +300,7 @@ trait EntityTrait {
    * @param string $type
    *   Entity type.
    *
-   * @return \Drupal\Core\Entity\Query\QueryInterface|null
+   * @return QueryInterface|null
    *   The entity query.
    */
   public function entityQuery($type) {
@@ -342,7 +343,7 @@ trait EntityTrait {
   /**
    * Map string value to entity field.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Destination entity.
    * @param string $field_name
    *   Name of the field.
@@ -379,7 +380,7 @@ trait EntityTrait {
   /**
    * Map some value to entity field.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Destination entity.
    * @param string $field_name
    *   Name of the field.
@@ -406,7 +407,7 @@ trait EntityTrait {
   /**
    * Map boolean value to an entity.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Node object.
    * @param string $field_name
    *   Name of the field.
@@ -434,7 +435,7 @@ trait EntityTrait {
   /**
    * Map term value to an entity field.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Node object.
    * @param string $field_name
    *   Name of the field.
@@ -486,7 +487,7 @@ trait EntityTrait {
   /**
    * Map number value to an entity field.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Node object.
    * @param string $field_name
    *   Name of the field.
diff --git a/src/EventSubscriber/DebugLog.php b/src/EventSubscriber/DebugLog.php
index 26b0502..9531361 100644
--- a/src/EventSubscriber/DebugLog.php
+++ b/src/EventSubscriber/DebugLog.php
@@ -2,10 +2,11 @@
 
 namespace Drupal\butils\EventSubscriber;
 
+use Drupal\Core\Logger\LoggerChannelFactory;
+use Symfony\Component\HttpKernel\Event\TerminateEvent;
 use Symfony\Component\HttpKernel\KernelEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Drupal\Core\Logger\LoggerChannelFactoryInterface;
-use Symfony\Component\HttpKernel\Event\PostResponseEvent;
 
 /**
  * Class DebugLog: write the cumulative log on core shutdown.
@@ -15,14 +16,14 @@ class DebugLog implements EventSubscriberInterface {
   /**
    * Debug logger..
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactory
+   * @var LoggerChannelFactory
    */
   protected $logger;
 
   /**
    * Constructs a new DebugLog object.
    *
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger_factory
+   * @param LoggerChannelFactoryInterface $logger_factory
    *   Logger channel factory.
    */
   public function __construct(LoggerChannelFactoryInterface $logger_factory) {
@@ -32,10 +33,10 @@ class DebugLog implements EventSubscriberInterface {
   /**
    * Writes the debug log if any.
    *
-   * @param \Symfony\Component\HttpKernel\Event\PostResponseEvent $event
+   * @param TerminateEvent $event
    *   The Event to process.
    */
-  public function onTerminate(PostResponseEvent $event) {
+  public function onTerminate(TerminateEvent $event) {
     $log =& drupal_static('butils_debug_log', []);
     if (!empty($log)) {
       $flat = '';
diff --git a/src/FieldTrait.php b/src/FieldTrait.php
index d7a2933..7bd8201 100644
--- a/src/FieldTrait.php
+++ b/src/FieldTrait.php
@@ -79,10 +79,10 @@ trait FieldTrait {
     ];
     $details += $extended_definition;
     if (is_object($details['description'])) {
-      $details['description'] = render($details['description']);
+      $details['description'] = \Drupal::service('renderer')->render($details['description']);
     }
     if (is_object($details['label'])) {
-      $details['description'] = render($details['label']);
+      $details['description'] = \Drupal::service('renderer')->render($details['label']);
     }
 
     // Additions for entity reference.
@@ -103,7 +103,7 @@ trait FieldTrait {
   /**
    * Empty an entity's field.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity posessing the field.
    * @param string $field_name
    *   Field name.
@@ -130,7 +130,7 @@ trait FieldTrait {
   /**
    * View field value without the wrappers and label.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity posessing the field.
    * @param string $field_name
    *   Field name.
@@ -176,7 +176,7 @@ trait FieldTrait {
   /**
    * Renders field value without the wrappers and label.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity posessing the field.
    * @param string $field_name
    *   Field name.
@@ -300,7 +300,7 @@ trait FieldTrait {
   /**
    * Removes reference to an entity from the reference field.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $parent
+   * @param EntityInterface $parent
    *   Parent entity.
    * @param string $field_name
    *   Reference entity field.
@@ -322,7 +322,7 @@ trait FieldTrait {
   /**
    * Removes reference to an entity from the reference revisions field.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $parent
+   * @param EntityInterface $parent
    *   Parent entity.
    * @param string $field_name
    *   Reference entity field.
diff --git a/src/FileTrait.php b/src/FileTrait.php
index 7843e28..81fe162 100644
--- a/src/FileTrait.php
+++ b/src/FileTrait.php
@@ -58,7 +58,7 @@ trait FileTrait {
   /**
    * Get relative URI for the file.
    *
-   * @param \Drupal\file\Entity\File $file
+   * @param File $file
    *   File object.
    *
    * @return string
@@ -78,7 +78,7 @@ trait FileTrait {
    *   Relative url.
    */
   public function uriToRelative($uri) {
-    return file_url_transform_relative(file_create_url($uri));
+    return \Drupal::service('file_url_generator')->generateString($uri);
   }
 
   /**
diff --git a/src/ImageStyleTrait.php b/src/ImageStyleTrait.php
index a628daf..0749419 100644
--- a/src/ImageStyleTrait.php
+++ b/src/ImageStyleTrait.php
@@ -73,7 +73,7 @@ trait ImageStyleTrait {
   /**
    * Flush all derivatives of a file's image style.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $file
+   * @param EntityInterface $file
    *   File entity.
    * @param string $id
    *   Style name.
@@ -93,7 +93,7 @@ trait ImageStyleTrait {
   /**
    * Flush all derivatives a file's all image styles.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $file
+   * @param EntityInterface $file
    *   File entity.
    *
    * @return bool
@@ -113,7 +113,7 @@ trait ImageStyleTrait {
    *
    * NOTE: Making sure the file is a valid image file is on you!
    *
-   * @param \Drupal\Core\Entity\EntityInterface $file
+   * @param EntityInterface $file
    *   File entity.
    * @param array $styles
    *   Image styles to rebuild. If empty, all will be rebuilt.
diff --git a/src/MediaTrait.php b/src/MediaTrait.php
index fd4194a..8071383 100644
--- a/src/MediaTrait.php
+++ b/src/MediaTrait.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\butils;
 
+use Drupal\media\MediaInterface;
+use Drupal\Core\Entity\EntityInterface;
 /**
  * Trait Media.
  *
@@ -29,10 +31,10 @@ trait MediaTrait {
   /**
    * Get the media's main file object.
    *
-   * @param \Drupal\media\MediaInterface|string $media
+   * @param MediaInterface|string $media
    *   Media object.
    *
-   * @return \Drupal\Core\Entity\EntityInterface|null
+   * @return EntityInterface|null
    *   File if any.
    */
   public function mediaFile($media) {
@@ -52,7 +54,7 @@ trait MediaTrait {
    *
    * (Is there an easier way?)
    *
-   * @param \Drupal\media\MediaInterface|string $media
+   * @param MediaInterface|string $media
    *   Media object.
    */
   public function mediaMetadata($media) {
diff --git a/src/ParagraphsTrait.php b/src/ParagraphsTrait.php
index 644bbc9..b303eaf 100644
--- a/src/ParagraphsTrait.php
+++ b/src/ParagraphsTrait.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\butils;
 
+use Drupal\Core\Entity\EntityInterface;
 use Drupal\paragraphs\Entity\Paragraph;
 use Drupal\node\NodeInterface;
 use Drupal\paragraphs\ParagraphInterface;
@@ -46,7 +47,7 @@ trait ParagraphsTrait {
    * @param object $entity
    *   Parent entity.
    *
-   * @return \Drupal\Core\Entity\EntityInterface
+   * @return EntityInterface
    *   Result.
    */
   public function paragraphParentNode($entity) {
diff --git a/src/RedirectsTrait.php b/src/RedirectsTrait.php
index 24469aa..d60f0d0 100644
--- a/src/RedirectsTrait.php
+++ b/src/RedirectsTrait.php
@@ -16,7 +16,7 @@ trait RedirectsTrait {
    *
    * @param string $path
    *   The path.
-   * @param \Drupal\Core\Entity\ContentEntityInterface $entity
+   * @param ContentEntityInterface $entity
    *   Entity that has a canonic url.
    */
   public function redirectToEntity($path, ContentEntityInterface $entity) {
diff --git a/src/TaxonomyTrait.php b/src/TaxonomyTrait.php
index 7552bae..98a1f33 100644
--- a/src/TaxonomyTrait.php
+++ b/src/TaxonomyTrait.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\butils;
 
+use Drupal\taxonomy\TermInterface;
+use Drupal\Core\Entity\EntityInterface;
 use Drupal\taxonomy\Entity\Term;
 use Drupal\taxonomy\Entity\Vocabulary;
 
@@ -172,7 +174,7 @@ trait TaxonomyTrait {
   /**
    * Get children of a taxonomy term.
    *
-   * @param string|int|\Drupal\taxonomy\TermInterface $term
+   * @param string|int|TermInterface $term
    *   Term is.
    * @param int $depth
    *   Deph of tree. NULL - whole depth.
@@ -220,7 +222,7 @@ trait TaxonomyTrait {
    * @param string $vid
    *   Taxonomy id.
    *
-   * @return \Drupal\Core\Entity\EntityInterface[]
+   * @return EntityInterface[]
    *   Terms is any.
    */
   public function termsByName($name, $vid = NULL) {
diff --git a/src/TwigExtension/ButilsTwigExtension.php b/src/TwigExtension/ButilsTwigExtension.php
index 44331a7..051642a 100644
--- a/src/TwigExtension/ButilsTwigExtension.php
+++ b/src/TwigExtension/ButilsTwigExtension.php
@@ -57,7 +57,7 @@ class ButilsTwigExtension extends AbstractExtension {
   /**
    * Returns entity's build array. Wraps Butils::entityBuild().
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   Entity to build.
    * @param string $view_mode
    *   Entity view mode.
diff --git a/src/UserTrait.php b/src/UserTrait.php
index 65211f3..536d47b 100644
--- a/src/UserTrait.php
+++ b/src/UserTrait.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\butils;
 
+use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Session\AccountInterface;
 
 /**
@@ -14,7 +15,7 @@ trait UserTrait {
   /**
    * Check if user access given specified roles.
    *
-   * @param int|\Drupal\Core\Session\AccountInterface $account
+   * @param int|AccountInterface $account
    *   User id or user account.
    * @param array $rids
    *   Role ids.
@@ -43,7 +44,7 @@ trait UserTrait {
   /**
    * Check whether user is an admin.
    *
-   * @param int|\Drupal\Core\Session\AccountInterface $account
+   * @param int|AccountInterface $account
    *   User id or user account.
    *
    * @return bool
@@ -64,7 +65,7 @@ trait UserTrait {
    * @param string $type
    *   Profile type.
    *
-   * @return \Drupal\Core\Entity\EntityInterface|null
+   * @return EntityInterface|null
    *   Profile if any.
    */
   public function getProfile($uid, $type) {
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index 3482953..6ba7660 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\butils\Functional;
 
+use Drupal\user\UserInterface;
 use Drupal\Core\Url;
 use Drupal\Tests\BrowserTestBase;
 
@@ -22,14 +23,14 @@ class LoadTest extends BrowserTestBase {
   /**
    * A user with permission to administer site configuration.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $user;
 
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
@@ -40,7 +41,7 @@ class LoadTest extends BrowserTestBase {
    */
   public function testLoad() {
     $this->drupalGet(Url::fromRoute('<front>'));
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
   }
 
 }
