diff --git a/composer.json b/composer.json
index b55b7ed..56575d7 100644
--- a/composer.json
+++ b/composer.json
@@ -5,7 +5,7 @@
   "description": "Allows your site to be tracked by Hotjar by adding a Javascript tracking code to every page",
   "require": {
     "ext-json": "*",
-    "drupal/core": "^8.8 || ^9"
+    "drupal/core": "^9.3 || ^10"
   },
   "minimum-stability": "stable"
 }
diff --git a/hotjar.api.php b/hotjar.api.php
index e06dd79..196453f 100644
--- a/hotjar.api.php
+++ b/hotjar.api.php
@@ -1,4 +1,5 @@
 <?php
+use Drupal\Core\Access\AccessResultInterface;
 /**
  * @file
  * Hooks provided by the Hotjar module.
@@ -10,14 +11,13 @@ use Drupal\Core\Access\AccessResult;
  * @addtogroup hooks
  * @{
  */
-
 /**
  * Control access to a Hotjar tracking code.
  *
  * Modules may implement this hook if they want to disable tracking for some
  * reasons.
  *
- * @return \Drupal\Core\Access\AccessResultInterface|bool|null
+ * @return AccessResultInterface|bool|null
  *   - HOTJAR_ACCESS_ALLOW: If tracking is allowed.
  *   - HOTJAR_ACCESS_DENY: If tracking is disabled.
  *   - HOTJAR_ACCESS_IGNORE: If tracking check is
diff --git a/hotjar.info.yml b/hotjar.info.yml
index a317713..2a1306b 100644
--- a/hotjar.info.yml
+++ b/hotjar.info.yml
@@ -1,7 +1,7 @@
 type: module
 name: 'Hotjar'
 description: 'Allows your site to be tracked by Hotjar by adding a Javascript tracking code to every page.'
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: 'Statistics'
 configure: hotjar.admin_settings_form
 dependencies:
diff --git a/hotjar.module b/hotjar.module
index e05260f..f5b0943 100644
--- a/hotjar.module
+++ b/hotjar.module
@@ -1,4 +1,6 @@
 <?php
+use Drupal\hotjar\SnippetBuilderInterface;
+use Drupal\hotjar\SnippetAccessInterface;
 /**
  * @file
  * Drupal Module: Hotjar.
@@ -23,7 +25,7 @@ function hotjar_help($route_name, RouteMatchInterface $route_match) {
  * Implements hook_rebuild().
  */
 function hotjar_rebuild() {
-  /** @var \Drupal\hotjar\SnippetBuilderInterface $snippet_builder */
+  /** @var SnippetBuilderInterface $snippet_builder */
   $snippet_builder = \Drupal::service('hotjar.snippet');
   $snippet_builder->createAssets();
 }
@@ -34,13 +36,13 @@ function hotjar_rebuild() {
  * Insert JavaScript to the <head> tag of the page.
  */
 function hotjar_page_attachments(array &$attachments) {
-  /** @var \Drupal\hotjar\SnippetAccessInterface $access */
+  /** @var SnippetAccessInterface $access */
   $access = \Drupal::service('hotjar.access');
   if (!$access->check()) {
     return;
   }
 
-  /** @var \Drupal\hotjar\SnippetBuilderInterface $snippet */
+  /** @var SnippetBuilderInterface $snippet */
   $snippet = \Drupal::service('hotjar.snippet');
   $snippet->pageAttachment($attachments);
 }
diff --git a/src/Form/HotjarAdminSettingsForm.php b/src/Form/HotjarAdminSettingsForm.php
index 160dac0..0fd25ff 100644
--- a/src/Form/HotjarAdminSettingsForm.php
+++ b/src/Form/HotjarAdminSettingsForm.php
@@ -19,14 +19,14 @@ class HotjarAdminSettingsForm extends ConfigFormBase {
   /**
    * Snippet builder.
    *
-   * @var \Drupal\hotjar\SnippetBuilderInterface
+   * @var SnippetBuilderInterface
    */
   protected $snippetBuilder;
 
   /**
    * Stream wrapper manager service.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;
 
diff --git a/src/HotjarSettings.php b/src/HotjarSettings.php
index 606e7f9..12a72c7 100644
--- a/src/HotjarSettings.php
+++ b/src/HotjarSettings.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\hotjar;
 
+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\DependencyInjection\ContainerInjectionInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
@@ -17,14 +18,14 @@ class HotjarSettings implements HotjarSettingsInterface, ContainerInjectionInter
   /**
    * Hotjar config.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;
 
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
@@ -38,9 +39,9 @@ class HotjarSettings implements HotjarSettingsInterface, ContainerInjectionInter
   /**
    * HotjarSettings constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config factory.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Module handler.
    */
   public function __construct(
diff --git a/src/SnippetAccess.php b/src/SnippetAccess.php
index 790bb0d..a7f19ff 100644
--- a/src/SnippetAccess.php
+++ b/src/SnippetAccess.php
@@ -27,56 +27,56 @@ class SnippetAccess implements SnippetAccessInterface, ContainerInjectionInterfa
   /**
    * Hotjar settings.
    *
-   * @var \Drupal\hotjar\HotjarSettingsInterface
+   * @var HotjarSettingsInterface
    */
   protected $settings;
 
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * Config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
   /**
    * Current path.
    *
-   * @var \Drupal\Core\Path\CurrentPathStack
+   * @var CurrentPathStack
    */
   protected $currentPath;
 
   /**
    * Alias manager.
    *
-   * @var \Drupal\path_alias\AliasManagerInterface
+   * @var AliasManagerInterface
    */
   protected $aliasManager;
 
   /**
    * Path matcher.
    *
-   * @var \Drupal\Core\Path\PathMatcherInterface
+   * @var PathMatcherInterface
    */
   protected $pathMatcher;
 
   /**
    * Request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
 
   /**
    * Current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;
 
@@ -90,21 +90,21 @@ class SnippetAccess implements SnippetAccessInterface, ContainerInjectionInterfa
   /**
    * SnippetAccess constructor.
    *
-   * @param \Drupal\hotjar\HotjarSettingsInterface $hotjar_settings
+   * @param HotjarSettingsInterface $hotjar_settings
    *   Hotjar settings.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Module handler.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config factory.
-   * @param \Drupal\Core\Path\CurrentPathStack $current_path
+   * @param CurrentPathStack $current_path
    *   Current path.
-   * @param \Drupal\path_alias\AliasManagerInterface $alias_manager
+   * @param AliasManagerInterface $alias_manager
    *   Alias manager.
-   * @param \Drupal\Core\Path\PathMatcherInterface $path_matcher
+   * @param PathMatcherInterface $path_matcher
    *   Path matcher.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   Current user.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   Request stack.
    */
   public function __construct(
@@ -185,7 +185,7 @@ class SnippetAccess implements SnippetAccessInterface, ContainerInjectionInterfa
   /**
    * Check HTTP status.
    *
-   * @return \Drupal\Core\Access\AccessResult
+   * @return AccessResult
    *   Result.
    */
   protected function statusCheckResult() {
@@ -205,7 +205,7 @@ class SnippetAccess implements SnippetAccessInterface, ContainerInjectionInterfa
   /**
    * Check path.
    *
-   * @return \Drupal\Core\Access\AccessResult
+   * @return AccessResult
    *   Path
    */
   protected function pathCheckResult() {
@@ -242,7 +242,7 @@ class SnippetAccess implements SnippetAccessInterface, ContainerInjectionInterfa
   /**
    * Check Hotjar code should be added for user.
    *
-   * @return \Drupal\Core\Access\AccessResult
+   * @return AccessResult
    *   Result.
    */
   protected function roleCheck() {
@@ -269,7 +269,7 @@ class SnippetAccess implements SnippetAccessInterface, ContainerInjectionInterfa
   /**
    * Check cookie constent settings.
    *
-   * @return \Drupal\Core\Access\AccessResult
+   * @return AccessResult
    *   Result.
    */
   protected function cookieConstentCheck() {
diff --git a/src/SnippetBuilder.php b/src/SnippetBuilder.php
index 44b6808..57edb9a 100644
--- a/src/SnippetBuilder.php
+++ b/src/SnippetBuilder.php
@@ -25,68 +25,68 @@ class SnippetBuilder implements SnippetBuilderInterface, ContainerInjectionInter
   /**
    * State storage.
    *
-   * @var \Drupal\Core\State\StateInterface
+   * @var StateInterface
    */
   protected $state;
 
   /**
    * Config factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
   /**
    * Hotjar settings.
    *
-   * @var \Drupal\hotjar\HotjarSettingsInterface
+   * @var HotjarSettingsInterface
    */
   protected $settings;
 
   /**
    * Module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;
 
   /**
    * JS collection optimizer.
    *
-   * @var \Drupal\Core\Asset\AssetCollectionOptimizerInterface
+   * @var AssetCollectionOptimizerInterface
    */
   protected $jsCollectionOptimizer;
 
   /**
    * Messenger.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;
 
   /**
    * The file handler under test.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;
 
   /**
    * SnippetBuilder constructor.
    *
-   * @param \Drupal\Core\State\StateInterface $state
+   * @param StateInterface $state
    *   Store storage.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   Config factory.
-   * @param \Drupal\hotjar\HotjarSettingsInterface $settings
+   * @param HotjarSettingsInterface $settings
    *   Hotjar settings.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   Module handler.
-   * @param \Drupal\Core\Asset\AssetCollectionOptimizerInterface $js_collection_optimizer
+   * @param AssetCollectionOptimizerInterface $js_collection_optimizer
    *   JS assets optimizer.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   Messenger service.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file handler.
    */
   public function __construct(
@@ -142,7 +142,7 @@ class SnippetBuilder implements SnippetBuilderInterface, ContainerInjectionInter
     $query_string = $this->state->get('system.css_js_query_string') ?: '0';
     $query_string_separator = (strpos($uri, '?') !== FALSE) ? '&' : '?';
 
-    $url = file_url_transform_relative(file_create_url($uri));
+    $url = \Drupal::service('file_url_generator')->generateString($uri);
     $attachments['#attached']['html_head'][] = [
       [
         '#type' => 'html_tag',
