modules/contrib/download_all_files/download_all_files.module
modules/contrib/download_all_files/src/Controller/DownloadController.php
modules/contrib/download_all_files/src/Plugin/Archiver/Zip.php
modules/contrib/download_all_files/src/Plugin/Field/FieldFormatter/DownloadAllFormatter.php

2 files with changes
====================

1) modules/contrib/download_all_files/src/Plugin/Field/FieldFormatter/DownloadAllFormatter.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\download_all_files\Plugin\Field\FieldFormatter;

+use Drupal\file\Entity\File;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Field\Plugin\Field\FieldFormatter\EntityReferenceFormatterBase;
@@ @@
   /**
    * The renderer service.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
    *   The view mode.
    * @param array $third_party_settings
    *   Any third party settings settings.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer service.
    */
   public function __construct($plugin_id, $plugin_definition, $field_definition, array $settings, $label, $view_mode, array $third_party_settings, RendererInterface $renderer) {
@@ @@
     if ($files = $this->getEntitiesToView($items, $langcode)) {
       $rows = [];
       $module_name = $this->getPluginDefinition()['provider'];
-      $path = drupal_get_path('module', $module_name);
+      $path = \Drupal::service('extension.list.module')->getPath($module_name);
       $link = [
         '#type' => 'link',
         '#attributes' => ['class' => ['download-file-icon']],
@@ @@
           '#uri' => '/' . $path . '/images/downloadIcon.svg',
         ],
       ];
-      /** @var \Drupal\file\Entity\File $file */
+      /** @var File $file */
       foreach ($files as $file) {
         if (!empty($settings['simple_theme'])) {
           $file_name = $file->getFilename();
           $table_link = $link;
-          $table_link['#url'] = Url::fromUri(file_create_url($file->getFileUri()));
+          $table_link['#url'] = \Drupal::service('file_url_generator')->generate($file->getFileUri());
           $table_link['#attributes']['download'] = $file_name;
           $rows[] = [
             [
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FromUriRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/download_all_files/src/Controller/DownloadController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\download_all_files\Controller;

+use Drupal\Core\Messenger\MessengerInterface;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\Core\Messenger\Messenger;
@@ @@
   /**
    * The file system.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * The messenger service.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    *   The entity type manager.
    */
   protected $entityTypeManager;
@@ @@
    * @param string $field_name
    *   Node file field name.
    *
-   * @return \Symfony\Component\HttpFoundation\BinaryFileResponse|\Symfony\Component\HttpFoundation\RedirectResponse
+   * @return BinaryFileResponse|RedirectResponse
    *   Downloads the file.
    */
   public function downloadAllFiles($node_id, $field_name) {
@@ @@
    * @param string $file_path
    *   File physical path.
    *
-   * @return \Symfony\Component\HttpFoundation\BinaryFileResponse
+   * @return BinaryFileResponse
    *   Downloads the file.
    */
   protected function streamZipFile($file_path) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

