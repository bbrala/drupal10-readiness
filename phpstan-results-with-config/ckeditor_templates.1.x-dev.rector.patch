diff --git a/ckeditor_templates.info.yml b/ckeditor_templates.info.yml
index 19bbf56..454133b 100644
--- a/ckeditor_templates.info.yml
+++ b/ckeditor_templates.info.yml
@@ -2,7 +2,6 @@ name: CKEditor Templates
 description: 'Integrates the CKEditor templates plugin.'
 package: CKEditor
 type: module
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
 - drupal:ckeditor
diff --git a/src/Plugin/CKEditorPlugin/CkeditorTemplates.php b/src/Plugin/CKEditorPlugin/CkeditorTemplates.php
index 79e1789..bb9e5cd 100644
--- a/src/Plugin/CKEditorPlugin/CkeditorTemplates.php
+++ b/src/Plugin/CKEditorPlugin/CkeditorTemplates.php
@@ -23,7 +23,7 @@ class CkeditorTemplates extends CKEditorPluginBase implements CKEditorPluginConf
   /**
    * Configuration Factory Service.
    *
-   * @var \Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   private $configFactoryService;
 
@@ -45,7 +45,7 @@ class CkeditorTemplates extends CKEditorPluginBase implements CKEditorPluginConf
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactory $configFactoryService
+   * @param ConfigFactory $configFactoryService
    *   Drupal Configuration Factory Service.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactory $configFactoryService) {
@@ -172,9 +172,9 @@ class CkeditorTemplates extends CKEditorPluginBase implements CKEditorPluginConf
     $defaultThemConfig = $this->configFactoryService->get('system.theme');
     $defaultThemeName = $defaultThemConfig->get('default');
 
-    $defaultThemeFileAbsolutePath = DRUPAL_ROOT . '/' . drupal_get_path('theme', $defaultThemeName) . '/templates/ckeditor_templates.js';
+    $defaultThemeFileAbsolutePath = DRUPAL_ROOT . '/' . \Drupal::service('extension.list.theme')->getPath($defaultThemeName) . '/templates/ckeditor_templates.js';
     if (file_exists($defaultThemeFileAbsolutePath)) {
-      $defaultPath = base_path() . drupal_get_path('theme', $defaultThemeName) . '/templates/ckeditor_templates.js';
+      $defaultPath = base_path() . \Drupal::service('extension.list.theme')->getPath($defaultThemeName) . '/templates/ckeditor_templates.js';
     }
 
     return [$defaultPath];
