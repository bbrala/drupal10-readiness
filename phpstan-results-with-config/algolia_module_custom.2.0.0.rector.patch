diff --git a/algolia_search_custom.info.yml b/algolia_search_custom.info.yml
index 7a51ffe..5ad42c6 100644
--- a/algolia_search_custom.info.yml
+++ b/algolia_search_custom.info.yml
@@ -1,7 +1,7 @@
 name: Algolia Search Custom
 type: module
 description: Algolia Search custom module
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: Algolia
 
 # Information added by Drupal.org packaging script on 2020-09-22
diff --git a/algolia_search_custom.module b/algolia_search_custom.module
index b017242..375fac2 100644
--- a/algolia_search_custom.module
+++ b/algolia_search_custom.module
@@ -34,7 +34,7 @@ function algolia_search_custom_theme($existing, $type, $theme, $path) {
     'algolia_block' => [
       'variables' => [
         'form' => NULL,
-        'path' => drupal_get_path('module', 'algolia_search_custom') . '/templates',
+        'path' => \Drupal::service('extension.list.module')->getPath('algolia_search_custom') . '/templates',
         'topSearches' => NULL,
         'bandeauUrl' => NULL,
       ],
diff --git a/src/Form/SearchSettingsForm.php b/src/Form/SearchSettingsForm.php
index e20d10b..d349e24 100755
--- a/src/Form/SearchSettingsForm.php
+++ b/src/Form/SearchSettingsForm.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\algolia_search_custom\Form;
 
+use Drupal\Core\State\State;
 use Drupal\Core\Form\FormBase;
 use  Drupal\Core\State\StateInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ -16,7 +17,7 @@ class SearchSettingsForm extends FormBase
   /**
    * Drupal\Core\State\State definition.
    *
-   * @var \Drupal\Core\State\State
+   * @var State
    */
   protected $state;
   /**
