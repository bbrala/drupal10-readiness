diff --git a/create_user_permission.info.yml b/create_user_permission.info.yml
index c409aa9..ef9a810 100644
--- a/create_user_permission.info.yml
+++ b/create_user_permission.info.yml
@@ -1,7 +1,6 @@
 name: Create User Permission
 description: Provides a permission to "create users", instead of having to "administer users".
-core: 8.x
-core_version_requirement: '^8 || ^9'
+core_version_requirement: ^9.1 || ^10
 type: module
 dependencies:
   - drupal:user
diff --git a/tests/src/Functional/UserNotBlockedTest.php b/tests/src/Functional/UserNotBlockedTest.php
index efbd307..2bca2fe 100644
--- a/tests/src/Functional/UserNotBlockedTest.php
+++ b/tests/src/Functional/UserNotBlockedTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\create_user_permission\Functional;
 
+use Drupal\user\Entity\User;
 use Drupal\Tests\BrowserTestBase;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 
@@ -44,13 +45,14 @@ class UserNotBlockedTest extends BrowserTestBase {
       $this->drupalGet('admin/people/create');
       $testmail = 'testuser1@example.com';
       $password = 'testpassword';
-      $this->drupalPostForm('admin/people/create', [
+      $this->drupalGet('admin/people/create');
+      $this->submitForm([
         'mail' => $testmail,
         'name' => $testmail,
         'pass[pass1]' => $password,
         'pass[pass2]' => $password,
       ], $this->t('Create new account'));
-      /** @var \Drupal\user\Entity\User $user */
+      /** @var User $user */
       $user = user_load_by_mail($testmail);
       $this->assertFalse($user->isBlocked());
     }
