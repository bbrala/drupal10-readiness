modules/contrib/site_audit/site_audit.module
modules/contrib/site_audit/src/Annotation/SiteAuditCheck.php
modules/contrib/site_audit/src/Annotation/SiteAuditReport.php
modules/contrib/site_audit/src/Checks/Extensions/Count.php
modules/contrib/site_audit/src/Commands/SiteAuditCommands.php
modules/contrib/site_audit/src/Controller/SiteAuditController.php
modules/contrib/site_audit/src/Form/SiteAuditConfigForm.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BestPracticesFast404.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BestPracticesFolderStructure.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BestPracticesMultisite.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BestPracticesServices.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BestPracticesSettings.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BestPracticesSites.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BestPracticesSitesDefault.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BestPracticesSitesSuperfluous.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/BlockEnabled.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CacheBinsAll.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CacheBinsDefault.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CacheBinsUsed.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CachePageExpire.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CachePreprocessCSS.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CachePreprocessJS.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CodebaseSizeAll.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentDuplicateTitles.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentEntityTypes.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentEntityTypesUnused.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentFieldCount.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentFieldEnabled.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentFieldInstances.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentFieldsUnused.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentTaxonomy.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentVocabularies.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentVocabulariesUnused.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CronEnabled.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/CronLast.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/DatabaseCollation.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/DatabaseEngine.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/DatabaseFragmentation.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/DatabaseRowCount.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/DatabaseSize.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ExtensionsCount.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ExtensionsDev.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ExtensionsDuplicate.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ExtensionsUnrecommended.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/SecurityMenuRouter.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/StatusSystem.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/UsersBlockedNumberOne.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/UsersCountAll.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/UsersCountBlocked.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/UsersRolesList.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/UsersWhoIsNumberOne.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ViewsCacheOutput.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ViewsCacheResults.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ViewsCount.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ViewsEnabled.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/Watchdog404.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/WatchdogAge.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/WatchdogCount.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/WatchdogEnabled.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/WatchdogPhp.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheck/WatchdogSyslog.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheckBase.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheckInterface.php
modules/contrib/site_audit/src/Plugin/SiteAuditCheckManager.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/BestPractices.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Block.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Cache.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Codebase.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Content.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Cron.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Database.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Extensions.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Security.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Status.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Users.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Views.php
modules/contrib/site_audit/src/Plugin/SiteAuditReport/Watchdog.php
modules/contrib/site_audit/src/Plugin/SiteAuditReportBase.php
modules/contrib/site_audit/src/Plugin/SiteAuditReportInterface.php
modules/contrib/site_audit/src/Plugin/SiteAuditReportManager.php
modules/contrib/site_audit/src/Renderer.php
modules/contrib/site_audit/src/Renderer/Console.php
modules/contrib/site_audit/src/Renderer/Html.php
modules/contrib/site_audit/src/Renderer/Json.php
modules/contrib/site_audit/src/Renderer/Markdown.php

9 files with changes
====================

1) modules/contrib/site_audit/src/Renderer/Html.php:353

    ---------- begin diff ----------
@@ @@
    * Render the results as a table.
    */
   public function table($element) {
-    return render($element);
+    return \Drupal::service('renderer')->render($element);
   }

   /**
@@ @@
    * Provide the bootstrap derived styles.
    */
   private function getStyles() {
-    $file = drupal_get_path('module', 'site_audit') . '/css/bootstrap-overrides.css';
+    $file = \Drupal::service('extension.list.module')->getPath('site_audit') . '/css/bootstrap-overrides.css';
     $styles = "/* $file */\n" . file_get_contents($file);
     return $styles;
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * RenderRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/site_audit/src/Plugin/SiteAuditReportManager.php:16

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/site_audit/src/Plugin/SiteAuditCheckManager.php:16

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/site_audit/src/Plugin/SiteAuditCheck/ContentFieldInstances.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\site_audit\Plugin\SiteAuditCheck;

+use Drupal\Core\Database\Database;
 use Drupal\site_audit\Plugin\SiteAuditCheckBase;

 /**
@@ @@
         foreach ($description['bundles'] as $bundle) {
           if ($description['type'] == 'address') {
             // Directly query tables for Address fields.
-            $database = \Drupal\Core\Database\Database::getConnection();
+            $database = Database::getConnection();
             $table = $entity . '__' . $field;
             $query = $database->select($table);
             // Address fields are configured by country code.
@@ @@
           }
           elseif ($description['type'] == 'geolocation') {
             // Directly query tables for Geolocation fields.
-            $database = \Drupal\Core\Database\Database::getConnection();
+            $database = Database::getConnection();
             $table = $entity . '__' . $field;
             $query = $database->select($table);
             // Geolocation fields are configured by latitude value.
@@ @@
           }
           elseif ($description['type'] == 'name') {
             // Directly query tables for Name fields.
-            $database = \Drupal\Core\Database\Database::getConnection();
+            $database = Database::getConnection();
             $table = $entity . '__' . $field;
             $query = $database->select($table);
             $query->condition('bundle', $bundle);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/site_audit/src/Form/SiteAuditConfigForm.php:16

    ---------- begin diff ----------
@@ @@


   /**
-   * @var \Drupal\site_audit\Plugin\SiteAuditReportManager
+   * @var SiteAuditReportManager
    */
   protected $report_plugin_manager;

@@ @@
   /**
    * SiteAuditConfigForm constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
-   * @param \Drupal\site_audit\Plugin\SiteAuditReportManager $site_audit_report_manager
+   * @param ConfigFactoryInterface $config_factory
+   * @param SiteAuditReportManager $site_audit_report_manager
    */
   public function __construct(ConfigFactoryInterface $config_factory, SiteAuditReportManager $site_audit_report_manager) {
     parent::__construct($config_factory);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/site_audit/src/Controller/SiteAuditController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\site_audit\Controller;

+use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\site_audit\Plugin\SiteAuditReportManager;
@@ @@
  */
 class SiteAuditController extends ControllerBase {
   /**
-  * The Site Audit Report manager.
-  *
-  * @var \Drupal\site_audit\Plugin\SiteAuditReportManager
-  */
+   * The Site Audit Report manager.
+   *
+   * @var SiteAuditReportManager
+   */
   private $auditReportManager;

   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   private $requestStack;

   /**
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $requestStack
+   * @param RequestStack $requestStack
    *   The request stack object.
-   * @param \Drupal\site_audit\Plugin\SiteAuditReportManager $auditReportManager
+   * @param SiteAuditReportManager $auditReportManager
    *   The Site Audit Report manager.
    */
   public function __construct(ConfigFactoryInterface $config_factory, RequestStack $requestStack, SiteAuditReportManager $auditReportManager) {
@@ @@
    * @return string
    *   Rendered report output.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   public function audit() {
     $reportDefinitions = $this->auditReportManager->getDefinitions();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/site_audit/src/Commands/SiteAuditCommands.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\site_audit\Commands;

+use Drush\Exceptions\UserAbortException;
 use Drupal\site_audit\Plugin\SiteAuditCheckManager;
 use Drupal\site_audit\Plugin\SiteAuditReportManager;
 use Drupal\site_audit\Renderer\Html;
@@ @@
   /**
    * The Site Audit Check manager.
    *
-   * @var \Drupal\site_audit\Plugin\SiteAuditCheckManager
+   * @var SiteAuditCheckManager
    */
   protected $auditCheckManager;

@@ @@
   /**
    * The Site Audit Report manager.
    *
-   * @var \Drupal\site_audit\Plugin\SiteAuditReportManager
+   * @var SiteAuditReportManager
    */
   protected $auditReportManager;

@@ @@
   /**
    * Constructs the SiteAuditCommands.
    *
-   * @param \Drupal\site_audit\Plugin\SiteAuditCheckManager $auditCheckManager
+   * @param SiteAuditCheckManager $auditCheckManager
    *   The Site Audit Check manager.
-   * @param \Drupal\site_audit\Plugin\SiteAuditReportManager $auditReportManager
+   * @param SiteAuditReportManager $auditReportManager
    *   The Site Audit Report manager.
    */
   public function __construct(SiteAuditCheckManager $auditCheckManager, SiteAuditReportManager $auditReportManager) {
@@ @@
    * @hook interact site_audit:audit
    * @param $input
    * @param $output
-   * @throws \Drush\Exceptions\UserAbortException
+   * @throws UserAbortException
    */
   public function interactSiteAudit($input, $output) {
     $boot_manager = Drush::bootstrapManager();
@@ @@
    * @command site_audit:list
    * @aliases audit-list
    *
-   * @return \Consolidation\OutputFormatters\StructuredData\RowsOfFields
+   * @return RowsOfFields
    */
   public function list() {
     $reportDefinitions = $this->auditReportManager->getDefinitions();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/site_audit/src/Annotation/SiteAuditReport.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\site_audit\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The label/name of the report.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * The description of the report.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


9) modules/contrib/site_audit/src/Annotation/SiteAuditCheck.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\site_audit\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The label/name of the check.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * The description of the check.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * The report for the check.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


 [ERROR] Could not process                                                      
         "modules/contrib/site_audit/src/Checks/Extensions/Count.php" file, due 
         to:                                                                    
         "Analyze error: "Class Drupal\site_audit\Check not found.". Include your
         files in "$rectorConfig->autoloadPaths([...]);" or                     
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

