diff --git a/colorbutton.info.yml b/colorbutton.info.yml
index 6234b3f..7d4c1d7 100644
--- a/colorbutton.info.yml
+++ b/colorbutton.info.yml
@@ -2,8 +2,7 @@ name: CKEditor Color Button
 type: module
 description: "Adds the Color Button plugin to CKEditor."
 package: CKEditor
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 dependencies:
   - drupal:ckeditor
diff --git a/colorbutton.install b/colorbutton.install
index 9fc634b..9dcc2b4 100644
--- a/colorbutton.install
+++ b/colorbutton.install
@@ -1,10 +1,10 @@
 <?php
 
+use Drupal\Core\Asset\LibrariesDirectoryFileFinder;
 /**
  * @file
  * Contains update functions for Color Button module.
  */
-
 /**
  * Implements hook_requirements().
  */
@@ -14,7 +14,7 @@ function colorbutton_requirements($phase) {
   // @todo Remove backward compatibility conditions when we bump Drupal
   //   requirement to 8.9.0. See https://www.drupal.org/node/3099614
   if (\Drupal::hasService('library.libraries_directory_file_finder')) {
-    /** @var \Drupal\Core\Asset\LibrariesDirectoryFileFinder $library_file_finder */
+    /** @var LibrariesDirectoryFileFinder $library_file_finder */
     $path = \Drupal::service('library.libraries_directory_file_finder')->find('colorbutton/plugin.js');
   }
   else {
diff --git a/src/Plugin/CKEditorPlugin/ColorButton.php b/src/Plugin/CKEditorPlugin/ColorButton.php
index d38aa3d..44cfd9d 100644
--- a/src/Plugin/CKEditorPlugin/ColorButton.php
+++ b/src/Plugin/CKEditorPlugin/ColorButton.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\colorbutton\Plugin\CKEditorPlugin;
 
+use Drupal\Core\Asset\LibrariesDirectoryFileFinder;
 use Drupal\ckeditor\CKEditorPluginBase;
 use Drupal\ckeditor\CKEditorPluginConfigurableInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ -24,7 +25,7 @@ class ColorButton extends CKEditorPluginBase implements CKEditorPluginConfigurab
     // @todo Remove backward compatibility conditions when we bump Drupal
     //   requirement to 8.9.0. See https://www.drupal.org/node/3099614
     if (\Drupal::hasService('library.libraries_directory_file_finder')) {
-      /** @var \Drupal\Core\Asset\LibrariesDirectoryFileFinder $library_file_finder */
+      /** @var LibrariesDirectoryFileFinder $library_file_finder */
       $path = \Drupal::service('library.libraries_directory_file_finder')->find('colorbutton');
     }
     elseif (\Drupal::moduleHandler()->moduleExists('libraries')) {
@@ -106,7 +107,7 @@ class ColorButton extends CKEditorPluginBase implements CKEditorPluginConfigurab
   /**
    * Ensure values entered for color hex values contain no unsafe characters.
    * @param $element
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    */
   public function validateInput(array $element, FormStateInterface $form_state) {
     $input = $form_state->getValue([
diff --git a/tests/src/FunctionalJavascript/ColorbuttonTest.php b/tests/src/FunctionalJavascript/ColorbuttonTest.php
index b7c6b3a..a0bdd62 100644
--- a/tests/src/FunctionalJavascript/ColorbuttonTest.php
+++ b/tests/src/FunctionalJavascript/ColorbuttonTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\colorbutton\FunctionalJavascript;
 
+use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\Component\Serialization\Json;
 use Drupal\field\Entity\FieldConfig;
 use Drupal\FunctionalJavascriptTests\WebDriverTestBase;
@@ -33,7 +34,7 @@ class ColorbuttonTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     NodeType::create([
@@ -48,7 +49,7 @@ class ColorbuttonTest extends WebDriverTestBase {
       'format' => 'full_html',
     ])->save();
 
-    /** @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface $display_repository */
+    /** @var EntityDisplayRepositoryInterface $display_repository */
     $display_repository = \Drupal::service('entity_display.repository');
     $display_repository->getViewDisplay('node', 'article')
       ->setComponent('body')
@@ -93,7 +94,7 @@ class ColorbuttonTest extends WebDriverTestBase {
     $json_encode = function ($html) {
       return trim(Json::encode($html), '"');
     };
-    $markup = $json_encode(file_url_transform_relative(file_create_url('libraries/colorbutton/icons/textcolor.png')));
+    $markup = $json_encode(\Drupal::service('file_url_generator')->generateString('libraries/colorbutton/icons/textcolor.png'));
     $this->assertSession()->responseContains($markup);
 
     // Asserts color buttons is present in the toolbar.
