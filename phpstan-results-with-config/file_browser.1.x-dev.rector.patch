diff --git a/file_browser.install b/file_browser.install
index eefbf58..933d273 100644
--- a/file_browser.install
+++ b/file_browser.install
@@ -1,5 +1,7 @@
 <?php
 
+use Drupal\file\FileInterface;
+use Drupal\Core\Config\ConfigFactoryInterface;
 /**
  * @file
  * Defines library requirements and install routines for File Browser.
@@ -17,8 +19,8 @@ function file_browser_install() {
   // Add an icon for File Browser if we aren't installing from configuration.
   if (!\Drupal::isConfigSyncing()) {
     $data = file_get_contents(dirname(__FILE__) . '/file_browser_icon.png');
-    /** @var \Drupal\file\FileInterface $file */
-    $file = file_save_data($data, 'public://file_browser_icon.png', FileSystemInterface::EXISTS_REPLACE);
+    /** @var FileInterface $file */
+    $file = \Drupal::service('file.repository')->writeData($data, 'public://file_browser_icon.png', FileSystemInterface::EXISTS_REPLACE);
     if ($file) {
       // Set file uuid same as default config.
       $uuid = Yaml::decode(file_get_contents(dirname(__FILE__) . '/config/install/embed.button.file_browser.yml'))['icon_uuid'];
@@ -94,7 +96,7 @@ https://github.com/desandro/masonry/releases and place it in /libraries'
  * Updates entity browser configuration to remove outdated values.
  */
 function file_browser_update_8001() {
-  /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+  /** @var ConfigFactoryInterface $config_factory */
   $config_factory = \Drupal::service('config.factory');
   $list = $config_factory->listAll('entity_browser.browser');
 
@@ -116,7 +118,7 @@ function file_browser_update_8001() {
  * Updates entity browser configuration to update outdated values.
  */
 function file_browser_update_8002() {
-  /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+  /** @var ConfigFactoryInterface $config_factory */
   $config_factory = \Drupal::service('config.factory');
   $list = $config_factory->listAll('entity_browser.browser');
 
@@ -131,7 +133,7 @@ function file_browser_update_8002() {
     }
   }
 
-  /** @var \Drupal\image\Entity\ImageStyle $image_style */
+  /** @var ImageStyle $image_style */
   if ($image_style = ImageStyle::load('file_entity_browser_small')) {
     $effect = $image_style->getEffect('374fe20a-a27c-45f5-b76d-d851cabcf7b0');
     $effect->setConfiguration([
@@ -151,7 +153,7 @@ function file_browser_update_8002() {
  * Updates the file browser view to only show permanent files.
  */
 function file_browser_update_8003() {
-  /** @var \Drupal\views\Entity\View $view */
+  /** @var View $view */
   if ($view = View::load('file_entity_browser')) {
     $display = &$view->getDisplay('default');
     $display['display_options']['filters']['status'] = [
@@ -207,7 +209,7 @@ function file_browser_update_8003() {
  * Updates alpha1 users to use the correct View machine name.
  */
 function file_browser_update_8004() {
-  /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+  /** @var ConfigFactoryInterface $config_factory */
   $config_factory = \Drupal::service('config.factory');
   if (empty($config_factory->get('views.view.file_entity_browser')->getRawData()) && !empty($config_factory->get('views.view.files_entity_browser')->getRawData())) {
     $config_factory->rename('views.view.files_entity_browser', 'views.view.file_entity_browser');
@@ -236,7 +238,7 @@ function file_browser_update_8004() {
  * Fix widget configuration if it was broken by a previous update.
  */
 function file_browser_update_8005() {
-  /** @var \Drupal\Core\Config\ConfigFactoryInterface $config_factory */
+  /** @var ConfigFactoryInterface $config_factory */
   $config_factory = \Drupal::service('config.factory');
   $list = $config_factory->listAll('entity_browser.browser');
 
diff --git a/src/Controller/FileBrowserController.php b/src/Controller/FileBrowserController.php
index 3cf2425..bacb347 100644
--- a/src/Controller/FileBrowserController.php
+++ b/src/Controller/FileBrowserController.php
@@ -15,7 +15,7 @@ class FileBrowserController extends ControllerBase {
   /**
    * Renders a preview of a file for use with File Browser.
    *
-   * @param \Drupal\file\FileInterface $file
+   * @param FileInterface $file
    *   The requested file.
    * @param string $image_style
    *   (Optional) An image style to preview the (image) file in.
diff --git a/src/Plugin/Block/ImageEmbedBlock.php b/src/Plugin/Block/ImageEmbedBlock.php
index d55a4bf..6815d74 100644
--- a/src/Plugin/Block/ImageEmbedBlock.php
+++ b/src/Plugin/Block/ImageEmbedBlock.php
@@ -212,7 +212,7 @@ class ImageEmbedBlock extends BlockBase {
     $build = [];
 
     foreach ($this->configuration['files'] as $info) {
-      /** @var \Drupal\file\Entity\File $file */
+      /** @var File $file */
       $file = File::load($info['fid']);
       if ($file && $file->access('view')) {
         $uri = $file->getFileUri();
diff --git a/src/Plugin/Field/FieldWidget/FileBrowser.php b/src/Plugin/Field/FieldWidget/FileBrowser.php
index fe232e3..c5b887a 100644
--- a/src/Plugin/Field/FieldWidget/FileBrowser.php
+++ b/src/Plugin/Field/FieldWidget/FileBrowser.php
@@ -36,7 +36,7 @@ class FileBrowser extends FileBrowserWidget {
       ->condition('bundle', $bundle)
       ->condition('targetEntityType', $entity_type_id)
       ->execute();
-    /** @var \Drupal\Core\Entity\Entity\EntityFormDisplay[] $displays */
+    /** @var EntityFormDisplay[] $displays */
     $displays = EntityFormDisplay::loadMultiple($ids);
     foreach ($displays as $display) {
       $configuration = $display->getComponent($field_definition->getName());
diff --git a/src/Plugin/views/field/FileBrowserPreview.php b/src/Plugin/views/field/FileBrowserPreview.php
index 3c1c33f..3797152 100644
--- a/src/Plugin/views/field/FileBrowserPreview.php
+++ b/src/Plugin/views/field/FileBrowserPreview.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\file_browser\Plugin\views\field;
 
+use Drupal\file\Entity\File;
 use Drupal\Core\Url;
 use Drupal\file\FileInterface;
 use Drupal\views\Plugin\views\field\FieldPluginBase;
@@ -18,7 +19,7 @@ class FileBrowserPreview extends FieldPluginBase {
    * {@inheritdoc}
    */
   public function render(ResultRow $values) {
-    /** @var \Drupal\file\Entity\File $file */
+    /** @var File $file */
     $file = $this->getEntity($values);
     $build = [];
 
@@ -55,7 +56,7 @@ class FileBrowserPreview extends FieldPluginBase {
   /**
    * Renders a preview of an arbitrary file.
    *
-   * @param \Drupal\file\FileInterface $file
+   * @param FileInterface $file
    *   The file you want to render a preview of.
    * @param string $image_style
    *   (Optional) An image style to render the preview in.
@@ -88,7 +89,7 @@ class FileBrowserPreview extends FieldPluginBase {
     // Use a placeholder image for now.
     // @todo See if we can use fallback formatters for this.
     else {
-      $path = drupal_get_path('module', 'file_browser');
+      $path = \Drupal::service('extension.list.module')->getPath('file_browser');
       $build = [
         '#theme' => 'image',
         '#attributes' => [
diff --git a/tests/src/Functional/InstallTest.php b/tests/src/Functional/InstallTest.php
index 20daa95..bec87d8 100644
--- a/tests/src/Functional/InstallTest.php
+++ b/tests/src/Functional/InstallTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\file_browser\Functional;
 
+use Drupal\Core\Extension\ModuleInstaller;
 use Drupal\Tests\BrowserTestBase;
 
 /**
@@ -39,7 +40,7 @@ class InstallTest extends BrowserTestBase {
     $this->copyConfig($active, $sync);
 
     // Uninstall File browser.
-    /** @var \Drupal\Core\Extension\ModuleInstaller $module_installer */
+    /** @var ModuleInstaller $module_installer */
     $module_installer = $this->container->get('module_installer');
     $module_installer->uninstall(['file_browser']);
 
diff --git a/tests/src/FunctionalJavascript/FileBrowserTest.php b/tests/src/FunctionalJavascript/FileBrowserTest.php
index 13a6fd0..4408b4b 100644
--- a/tests/src/FunctionalJavascript/FileBrowserTest.php
+++ b/tests/src/FunctionalJavascript/FileBrowserTest.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\Tests\file_browser\FunctionalJavascript;
 
+use Drupal\Core\Entity\Display\EntityFormDisplayInterface;
+use Behat\Mink\Exception\ElementNotFoundException;
 use Drupal\Tests\entity_browser\FunctionalJavascript\EntityBrowserWebDriverTestBase;
 
 /**
@@ -32,7 +34,7 @@ class FileBrowserTest extends EntityBrowserWebDriverTestBase {
    * Tests that selecting files in the view works.
    */
   public function testFileBrowserView() {
-    /** @var \Drupal\Core\Entity\Display\EntityFormDisplayInterface $form_display */
+    /** @var EntityFormDisplayInterface $form_display */
     $form_display = $this->container->get('entity_type.manager')
       ->getStorage('entity_form_display')
       ->load('node.article.default');
@@ -70,7 +72,7 @@ class FileBrowserTest extends EntityBrowserWebDriverTestBase {
    * @param string $entityId
    *   Entity ID that will be selected. Format: "file:1".
    *
-   * @throws \Behat\Mink\Exception\ElementNotFoundException
+   * @throws ElementNotFoundException
    */
   protected function clickViewEntity($entityId) {
     $xpathViewRow = '//*[./*[contains(@class, "views-field-entity-browser-select") and .//input[@name="entity_browser_select[' . $entityId . ']"]]]';
