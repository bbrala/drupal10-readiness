modules/contrib/geofield_map/geofield_map.api.php
modules/contrib/geofield_map/geofield_map.install
modules/contrib/geofield_map/geofield_map.module
modules/contrib/geofield_map/geofield_map.post_update.php
modules/contrib/geofield_map/modules/geofield_map_extras/geofield_map_extras.module
modules/contrib/geofield_map/modules/geofield_map_extras/src/Plugin/Field/FieldFormatter/GeofieldGoogleEmbedMapFormatter.php
modules/contrib/geofield_map/modules/geofield_map_extras/src/Plugin/Field/FieldFormatter/GeofieldGoogleStaticMapFormatter.php
modules/contrib/geofield_map/src/Annotation/LeafletTileLayerPlugin.php
modules/contrib/geofield_map/src/Annotation/MapThemer.php
modules/contrib/geofield_map/src/Controller/GeofieldMapAjaxPopupController.php
modules/contrib/geofield_map/src/Element/GeofieldMap.php
modules/contrib/geofield_map/src/Form/GeofieldMapSettingsForm.php
modules/contrib/geofield_map/src/GeofieldMapFieldTrait.php
modules/contrib/geofield_map/src/GeofieldMapFormElementsValidationTrait.php
modules/contrib/geofield_map/src/LeafletTileLayerPluginBase.php
modules/contrib/geofield_map/src/LeafletTileLayerPluginManager.php
modules/contrib/geofield_map/src/MapThemerBase.php
modules/contrib/geofield_map/src/MapThemerInterface.php
modules/contrib/geofield_map/src/MapThemerPluginManager.php
modules/contrib/geofield_map/src/Plugin/Block/GeofieldMapLegend.php
modules/contrib/geofield_map/src/Plugin/Field/FieldFormatter/GeofieldGoogleMapFormatter.php
modules/contrib/geofield_map/src/Plugin/Field/FieldWidget/GeofieldMapWidget.php
modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/CustomIconThemer.php
modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/EntityTypeThemer.php
modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/EntityTypeThemerUrl.php
modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/ListFieldThemer.php
modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/ListFieldThemerUrl.php
modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/TaxonomyTermThemer.php
modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/TaxonomyTermThemerUrl.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/EsriWorldStreetMap.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/EsriWorldTopoMap.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/HyddaBase.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/HyddaFull.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/OpenMapSurferRoads.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/OpenStreetMapMapnik.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/OpenTopoMap.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/StamenTerrain.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/StamenToner.php
modules/contrib/geofield_map/src/Plugin/LeafletTileLayerPlugin/StamenWatercolor.php
modules/contrib/geofield_map/src/Plugin/views/style/GeofieldGoogleMapViewStyle.php
modules/contrib/geofield_map/src/Services/GeocoderService.php
modules/contrib/geofield_map/src/Services/GoogleMapsService.php
modules/contrib/geofield_map/src/Services/MarkerIconService.php

27 files with changes
=====================

1) modules/contrib/geofield_map/src/Services/MarkerIconService.php:34

    ---------- begin diff ----------
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The translation manager.
    *
-   * @var \Drupal\Core\StringTranslation\TranslationInterface
+   * @var TranslationInterface
    */
   protected $translationManager;

@@ @@
   /**
    * The Entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * The module handler to invoke the alter hook.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The Link Generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
   /**
    * A element info manager.
    *
-   * @var \Drupal\Core\Render\ElementInfoManagerInterface
+   * @var ElementInfoManagerInterface
    */
   protected $elementInfo;

@@ @@
   /**
    * The File system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * The logger factory.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+   * @var LoggerChannelFactoryInterface
    */
   protected $logger;

@@ @@
    * Set Geofield Map Default Icon Style.
    */
   protected function setDefaultIconStyle() {
-    $image_style_path = drupal_get_path('module', 'geofield_map') . '/config/optional/image.style.geofield_map_default_icon_style.yml';
+    $image_style_path = \Drupal::service('extension.list.module')->getPath('geofield_map') . '/config/optional/image.style.geofield_map_default_icon_style.yml';
     $image_style_data = Yaml::parse(file_get_contents($image_style_path));
     $geofield_map_default_icon_style = $this->config->getEditable('image.style.geofield_map_default_icon_style');
     if ($geofield_map_default_icon_style instanceof Config) {
@@ @@
   /**
    * Generate File Managed Url from fid, and image style.
    *
-   * @param \Drupal\file\FileInterface $file
+   * @param FileInterface $file
    *   The file tp check.
    *
    * @return bool
@@ @@
   /**
    * Constructor of the Icon Managed File Service.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $string_translation
+   * @param TranslationInterface $string_translation
    *   The string translation service.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   File system service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   The Link Generator service.
-   * @param \Drupal\Core\Render\ElementInfoManagerInterface $element_info
+   * @param ElementInfoManagerInterface $element_info
    *   The element info manager.
-   * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $logger_factory
+   * @param LoggerChannelFactoryInterface $logger_factory
    *   The logger factory.
    */
   public function __construct(
@@ @@
    *
    * @param array $element
    *   The form element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    */
   public static function validateIconImageStatus(array $element, FormStateInterface $form_state) {
@@ @@
   /**
    * Save a file, handling exception.
    *
-   * @param \Drupal\file\Entity\File $file
+   * @param File $file
    *   The file to save.
    */
   public static function fileSave(File $file) {
@@ @@
    *   An associative array containing the properties and children of the
    *   element. Note that $element must be taken by reference here, so processed
    *   child elements are taken over into $form_state.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    * @param array $complete_form
    *   The complete form structure.
@@ @@
   public function getLegendIconFromFileUri($file_uri, $icon_width = NULL) {
     $icon_element = [
       '#theme' => 'image',
-      '#uri' => file_create_url($file_uri),
+      '#uri' => \Drupal::service('file_url_generator')->generateAbsoluteString($file_uri),
       '#attributes' => [
         'width' => $icon_width,
       ],
@@ @@
           $url = ImageStyle::load($image_style)->buildUrl($uri);
         }
         else {
-          $url = file_create_url($uri);
+          $url = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
         }
         return $url;
       }
@@ @@
    */
   public function getFileSelectedUrl($file_uri = NULL) {
     if (isset($file_uri)) {
-      $url = file_create_url($file_uri);
+      $url = \Drupal::service('file_url_generator')->generateAbsoluteString($file_uri);
       return $url;
     }
     return NULL;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/geofield_map/src/Services/GoogleMapsService.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The language manager.
    *
-   * @var \Drupal\Core\Language\LanguageManagerInterface
+   * @var LanguageManagerInterface
    */
   protected $languageManager;

@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
   /**
    * Constructs a new GoogleMapsService object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\Language\LanguageManagerInterface $language_manager
+   * @param LanguageManagerInterface $language_manager
    *   The language manager.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/geofield_map/src/Plugin/views/style/GeofieldGoogleMapViewStyle.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\geofield_map\Plugin\views\style;

+use Drupal\Core\Entity\EntityTypeInterface;
+use Drupal\views\Plugin\views\HandlerBase;
+use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Component\Utility\NestedArray;
 use Drupal\Core\Field\FieldTypePluginManagerInterface;
 use Drupal\Core\Render\BubbleableMetadata;
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The Entity Info Object.
    *
-   * @var \Drupal\Core\Entity\EntityTypeInterface
+   * @var EntityTypeInterface
    */
   protected $entityInfo;

@@ @@
   /**
    * The Entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * The Entity Field manager service property.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * The Entity Display Repository service property.
    *
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   protected $entityDisplay;

@@ @@
   /**
    * The Link generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
   /**
    * The geoPhpWrapper service.
    *
-   * @var \Drupal\geofield\GeoPHP\GeoPHPInterface
+   * @var GeoPHPInterface
    */
   protected $geoPhpWrapper;

@@ @@
   /**
    * Current user service.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The messenger.
    *
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * The Renderer service property.
    *
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   protected $renderer;

@@ @@
   /**
    * The module handler to invoke the alter hook.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Field type plugin manager.
    *
-   * @var \Drupal\Core\Field\FieldTypePluginManagerInterface
+   * @var FieldTypePluginManagerInterface
    */
   protected $fieldTypeManager;

@@ @@
   /**
    * The geofieldMapGoogleMaps service.
    *
-   * @var \Drupal\geofield_map\Services\GoogleMapsService
+   * @var GoogleMapsService
    */
   protected $googleMapsService;

@@ @@
   /**
    * The MapThemer Manager service .
    *
-   * @var \Drupal\geofield_map\MapThemerPluginManager
+   * @var MapThemerPluginManager
    */
   protected $mapThemerManager;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The entity field manager.
-   * @param \Drupal\Core\Entity\EntityDisplayRepositoryInterface $entity_display
+   * @param EntityDisplayRepositoryInterface $entity_display
    *   The entity display manager.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   The Link Generator service.
-   * @param \Drupal\geofield\GeoPHP\GeoPHPInterface $geophp_wrapper
+   * @param GeoPHPInterface $geophp_wrapper
    *   The The geoPhpWrapper.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   Current user service.
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param MessengerInterface $messenger
    *   The messenger.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The Renderer service.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Field\FieldTypePluginManagerInterface $field_type_manager
+   * @param FieldTypePluginManagerInterface $field_type_manager
    *   The field type plugin manager service.
-   * @param \Drupal\geofield_map\Services\GoogleMapsService $google_maps_service
+   * @param GoogleMapsService $google_maps_service
    *   The Google Maps service.
-   * @param \Drupal\geofield_map\MapThemerPluginManager $map_themer_manager
+   * @param MapThemerPluginManager $map_themer_manager
    *   The mapThemerManager service.
    */
   public function __construct(
@@ @@
     ];

     $data = Views::viewsData();
-    /** @var \Drupal\views\Plugin\views\HandlerBase $handler */
+    /** @var HandlerBase $handler */
     foreach ($this->displayHandler->getHandlers('relationship') as $relationship_id => $handler) {
       if (($table = $data->get($handler->definition['base'])) && !empty($table['table']['entity type'])) {
         try {
@@ @@
    * @param string $source
    *   The Source identifier.
    *
-   * @return \Drupal\Core\Entity\EntityTypeInterface
+   * @return EntityTypeInterface
    *   The entity type.
    */
   protected function getEntitySourceEntityInfo($source) {
@@ @@
   /**
    * Set the langcode to be used for rendering the entity.
    *
-   * @param \Drupal\core\Entity\FieldableEntityInterface $entity
+   * @param FieldableEntityInterface $entity
    *   The fieldable Entity.
-   * @param \Drupal\views\ResultRow $result
+   * @param ResultRow $result
    *   The view Row result.
    *
    * @return mixed|string|void
@@ @@
       '***LANGUAGE_entity_default***' => 'DefaultLanguageRenderer',
     ];
     if (isset($dynamic_renderers[$rendering_language])) {
-      /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
+      /** @var ContentEntityInterface $entity */
       $langcode = $result->$entity_type_langcode_attribute ?? $entity->language()->getId();
     }
     else {
@@ @@
    *
    * @param array $form
    *   The Form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The Form state.
    */
   public static function optionsFormEntitySourceSubmit(array $form, FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   The Form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The Form state.
    *
    * @return mixed
@@ @@
    *
    * @param array $form
    *   The build form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   Ajax response with updated form element.
    */
   public static function mapThemingOptionsUpdate(array $form, FormStateInterface $form_state) {
@@ @@
   /**
    * Returns the Entity Field manager service property.
    *
-   * @return \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @return EntityFieldManagerInterface
    *   The Entity Field manager service property.
    */
   public function getEntityFieldManager() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/TaxonomyTermThemerUrl.php:50

    ---------- begin diff ----------
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The entity type bundle info.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface
+   * @var EntityTypeBundleInfoInterface
    */
   protected $entityTypeBundleInfo;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $translation_manager
+   * @param TranslationInterface $translation_manager
    *   The translation manager.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
-   * @param \Drupal\geofield_map\Services\MarkerIconService $marker_icon_service
+   * @param MarkerIconService $marker_icon_service
    *   The Marker Icon Service.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle info.
    */
   public function __construct(
@@ @@
    *
    * @param array $form
    *   The build form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   Ajax response with updated form element.
    */
   public static function taxonomyFieldOptionsUpdate(array $form, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/TaxonomyTermThemer.php:320

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   The build form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   Ajax response with updated form element.
    */
   public static function taxonomyFieldOptionsUpdate(array $form, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/ListFieldThemerUrl.php:48

    ---------- begin diff ----------
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The entity type bundle info.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface
+   * @var EntityTypeBundleInfoInterface
    */
   protected $entityTypeBundleInfo;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $translation_manager
+   * @param TranslationInterface $translation_manager
    *   The translation manager.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
-   * @param \Drupal\geofield_map\Services\MarkerIconService $marker_icon_service
+   * @param MarkerIconService $marker_icon_service
    *   The Marker Icon Service.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle info.
    */
   public function __construct(
@@ @@
    *
    * @param array $form
    *   The build form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   Ajax response with updated form element.
    */
   public static function listFieldOptionsUpdate(array $form, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/ListFieldThemer.php:287

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   The build form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   Ajax response with updated form element.
    */
   public static function listFieldOptionsUpdate(array $form, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/geofield_map/src/Plugin/GeofieldMapThemer/EntityTypeThemerUrl.php:44

    ---------- begin diff ----------
@@ @@
   /**
    * The entity type bundle info.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface
+   * @var EntityTypeBundleInfoInterface
    */
   protected $entityTypeBundleInfo;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $translation_manager
+   * @param TranslationInterface $translation_manager
    *   The translation manager.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
-   * @param \Drupal\geofield_map\Services\MarkerIconService $marker_icon_service
+   * @param MarkerIconService $marker_icon_service
    *   The Marker Icon Service.
-   * @param \Drupal\Core\Entity\EntityTypeBundleInfoInterface $entity_type_bundle_info
+   * @param EntityTypeBundleInfoInterface $entity_type_bundle_info
    *   The entity type bundle info.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/geofield_map/src/Plugin/Field/FieldWidget/GeofieldMapWidget.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\geofield_map\Plugin\Field\FieldWidget;

+use Drupal\Core\Render\Renderer;
 use Drupal\geofield\Plugin\GeofieldBackendManager;
 use Drupal\geofield_map\GeofieldMapFieldTrait;
 use Drupal\geofield_map\GeofieldMapFormElementsValidationTrait;
@@ @@
   /**
    * The geoPhpWrapper service.
    *
-   * @var \Drupal\geofield\GeoPHP\GeoPHPInterface
+   * @var GeoPHPInterface
    */
   protected $geoPhpWrapper;

@@ @@
   /**
    * The WKT format Generator service.
    *
-   * @var \Drupal\geofield\WktGeneratorInterface
+   * @var WktGeneratorInterface
    */
   protected $wktGenerator;

@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The Link generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
   /**
    * The Renderer service.
    *
-   * @var \Drupal\Core\Render\Renderer
+   * @var Renderer
    */
   protected $renderer;

@@ @@
   /**
    * The Current User.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The module handler to invoke the alter hook.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The Geofield Map Geocoder Service.
    *
-   * @var \Drupal\geofield_map\Services\GeocoderService
+   * @var GeocoderService
    */
   protected $geofieldGmapGeocoder;

@@ @@
   /**
    * The EntityField Manager service.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * The LeafletTileLayer Manager service.
    *
-   * @var \Drupal\geofield_map\LeafletTileLayerPluginManager
+   * @var LeafletTileLayerPluginManager
    */
   protected $leafletTileManager;

@@ @@
    *   The plugin_id for the formatter.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the formatter is associated.
    * @param array $settings
    *   The formatter settings.
    * @param array $third_party_settings
    *   Any third party settings settings.
-   * @param \Drupal\geofield\GeoPHP\GeoPHPInterface|null $geophp_wrapper
+   * @param GeoPHPInterface|null $geophp_wrapper
    *   The geoPhpWrapper.
-   * @param \Drupal\geofield\WktGeneratorInterface|null $wkt_generator
+   * @param WktGeneratorInterface|null $wkt_generator
    *   The WKT format Generator service.
-   * @param \Drupal\geofield\Plugin\GeofieldBackendManager $geofield_backend_manager
+   * @param GeofieldBackendManager $geofield_backend_manager
    *   The geofieldBackendManager.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $string_translation
+   * @param TranslationInterface $string_translation
    *   The Translation service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The Renderer service.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The Entity Field Manager.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   The Link Generator service.
-   * @param \Drupal\geofield_map\LeafletTileLayerPluginManager $leaflet_tile_manager
+   * @param LeafletTileLayerPluginManager $leaflet_tile_manager
    *   The LeafletTileLayer Manager service.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The Current User.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\geofield_map\Services\GeocoderService $geofield_map_geocoder
+   * @param GeocoderService $geofield_map_geocoder
    *   The Geofield Map Geocoder Service.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/geofield_map/src/Plugin/Field/FieldFormatter/GeofieldGoogleMapFormatter.php:64

    ---------- begin diff ----------
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * Entity manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Entity display repository.
    *
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   protected $entityDisplayRepository;

@@ @@
   /**
    * The Link generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
   /**
    * The EntityField Manager service.
    *
-   * @var \Drupal\Core\Entity\EntityFieldManagerInterface
+   * @var EntityFieldManagerInterface
    */
   protected $entityFieldManager;

@@ @@
   /**
    * The geoPhpWrapper service.
    *
-   * @var \Drupal\geofield\GeoPHP\GeoPHPInterface
+   * @var GeoPHPInterface
    */
   protected $geoPhpWrapper;

@@ @@
   /**
    * The Renderer service property.
    *
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   protected $renderer;

@@ @@
   /**
    * The module handler to invoke the alter hook.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The geofieldMapGoogleMaps service.
    *
-   * @var \Drupal\geofield_map\Services\GoogleMapsService
+   * @var GoogleMapsService
    */
   protected $googleMapsService;

@@ @@
   /**
    * The Icon Managed File Service.
    *
-   * @var \Drupal\geofield_map\Services\MarkerIconService
+   * @var MarkerIconService
    */
   protected $markerIcon;

@@ @@
    *   The plugin_id for the formatter.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the formatter is associated.
    * @param array $settings
    *   The formatter settings.
@@ @@
    *   The view mode.
    * @param array $third_party_settings
    *   Any third party settings settings.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $string_translation
+   * @param TranslationInterface $string_translation
    *   The Translation service.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   The Link Generator service.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   Entity type manager service.
-   * @param \Drupal\Core\Entity\EntityDisplayRepositoryInterface $entity_display_repository
+   * @param EntityDisplayRepositoryInterface $entity_display_repository
    *   Entity display repository service.
-   * @param \Drupal\Core\Entity\EntityFieldManagerInterface $entity_field_manager
+   * @param EntityFieldManagerInterface $entity_field_manager
    *   The Entity Field Manager.
-   * @param \Drupal\geofield\GeoPHP\GeoPHPInterface $geophp_wrapper
+   * @param GeoPHPInterface $geophp_wrapper
    *   The The geoPhpWrapper.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The Renderer service.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
    * @param \Drupal\core\Utility\Token $token
    *   The token service.
-   * @param \Drupal\geofield_map\Services\GoogleMapsService $google_maps_service
+   * @param GoogleMapsService $google_maps_service
    *   The Google Maps service.
-   * @param \Drupal\geofield_map\Services\MarkerIconService $marker_icon_service
+   * @param MarkerIconService $marker_icon_service
    *   The Marker Icon Service.
    */
   public function __construct(
@@ @@
    *
    * @param array $form
    *   The build form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   Ajax response with updated form element.
    */
   public static function iconImageModeUpdate(array $form, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/geofield_map/src/Plugin/Block/GeofieldMapLegend.php:32

    ---------- begin diff ----------
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The Current User.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The Link generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
   /**
    * The Renderer service property.
    *
-   * @var \Drupal\Core\Render\RendererInterface
+   * @var RendererInterface
    */
   protected $renderer;

@@ @@
   /**
    * The MapThemer Manager service .
    *
-   * @var \Drupal\geofield_map\MapThemerPluginManager
+   * @var MapThemerPluginManager
    */
   protected $mapThemerManager;

@@ @@
   /**
    * The MapThemer Plugin used in referenced View Style.
    *
-   * @var \Drupal\geofield_map\MapThemerInterface
+   * @var MapThemerInterface
    */
   protected $mapThemerPlugin;

@@ @@
   /**
    * Legend Failure element..
    *
-   * @param \Drupal\Core\StringTranslation\TranslatableMarkup $failure_message
+   * @param TranslatableMarkup $failure_message
    *   The View Id.
    *
    * @return array|null
@@ @@
   /**
    * The Icon Managed File Service.
    *
-   * @var \Drupal\geofield_map\Services\MarkerIconService
+   * @var MarkerIconService
    */
   protected $markerIcon;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\Session\AccountInterface $current_user
+   * @param AccountInterface $current_user
    *   The Current User.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   The Link Generator service.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The Renderer service.
-   * @param \Drupal\geofield_map\MapThemerPluginManager $map_themer_manager
+   * @param MapThemerPluginManager $map_themer_manager
    *   The mapThemerManager service.
-   * @param \Drupal\geofield_map\Services\MarkerIconService $marker_icon_service
+   * @param MarkerIconService $marker_icon_service
    *   The Marker Icon Service.
    */
   public function __construct(
@@ @@
    *
    * @param array $form
    *   The build form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    *
-   * @return \Drupal\Core\Ajax\AjaxResponse
+   * @return AjaxResponse
    *   Ajax response with updated form element.
    */
   public static function mapLegendSelectionUpdate(array $form, FormStateInterface $form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/geofield_map/src/MapThemerPluginManager.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The translation manager.
    *
-   * @var \Drupal\Core\StringTranslation\TranslationInterface
+   * @var TranslationInterface
    */
   protected $translationManager;

@@ @@
   /**
    * The Entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations,.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   The cache backend to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   A config factory for retrieving required config objects.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $translation_manager
+   * @param TranslationInterface $translation_manager
    *   The translation manager.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/geofield_map/src/MapThemerInterface.php:48

    ---------- begin diff ----------
@@ @@
    *   The default values/settings.
    * @param array $form
    *   The form array.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
-   * @param \Drupal\geofield_map\Plugin\views\style\GeofieldGoogleMapViewStyle $geofieldMapView
+   * @param GeofieldGoogleMapViewStyle $geofieldMapView
    *   The Geofield Map View display object.
    *
    * @return array
@@ @@
    *
    * @param array $datum
    *   The geometry feature array definition.
-   * @param \Drupal\geofield_map\Plugin\views\style\GeofieldGoogleMapViewStyle $geofieldMapView
+   * @param GeofieldGoogleMapViewStyle $geofieldMapView
    *   The Geofield Map View dispaly object.
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity generating the datum.
    * @param mixed $map_theming_values
    *   The Map themer mapping values.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


14) modules/contrib/geofield_map/src/MapThemerBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\geofield_map;

+use Drupal\Core\Config\ConfigFactoryInterface;
+use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
 use Drupal\Component\Plugin\PluginBase;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $config;

@@ @@
   /**
    * The translation manager.
    *
-   * @var \Drupal\Core\StringTranslation\TranslationInterface
+   * @var TranslationInterface
    */
   protected $translationManager;

@@ @@
   /**
    * The Entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * The Renderer service property.
    *
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   protected $renderer;

@@ @@
   /**
    * The Icon Managed File Service.
    *
-   * @var \Drupal\geofield_map\Services\MarkerIconService
+   * @var MarkerIconService
    */
   protected $markerIcon;

@@ @@
   /**
    * Gets the Map Themer Entity Bundles, based on the View Style Entity Type.
    *
-   * @param \Drupal\geofield_map\Plugin\views\style\GeofieldGoogleMapViewStyle $geofieldMapView
+   * @param GeofieldGoogleMapViewStyle $geofieldMapView
    *   The Geofield Map View.
    * @param string $entity_type
    *   The entity type.
@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $translation_manager
+   * @param TranslationInterface $translation_manager
    *   The translation manager.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
-   * @param \Drupal\geofield_map\Services\MarkerIconService $marker_icon_service
+   * @param MarkerIconService $marker_icon_service
    *   The Marker Icon Service.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/geofield_map/src/LeafletTileLayerPluginManager.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;

@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param RequestStack $request_stack
    *   The request stack.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler, RequestStack $request_stack) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/geofield_map/src/GeofieldMapFieldTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\geofield_map;

+use Drupal\Core\Field\FieldDefinitionInterface;
+use Drupal\geofield\GeoPHP\GeoPHPInterface;
+use Drupal\Core\Utility\LinkGeneratorInterface;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Url;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * The FieldDefinition.
    *
-   * @var \Drupal\Core\Field\FieldDefinitionInterface
+   * @var FieldDefinitionInterface
    */
   protected $fieldDefinition;

@@ @@
   /**
    * The geoPhpWrapper service.
    *
-   * @var \Drupal\geofield\GeoPHP\GeoPHPInterface
+   * @var GeoPHPInterface
    */
   protected $geoPhpWrapper;

@@ @@
   /**
    * The Link generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
    *
    * @param array $form
    *   The form where the settings form is being included in.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    * @param array $settings
    *   Form settings.
@@ @@
    *
    * @param array $element
    *   The form element to build.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    */
   public static function validateGeocoderProviders(array $element, FormStateInterface &$form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


17) modules/contrib/geofield_map/src/Form/GeofieldMapSettingsForm.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * The Link generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
   /**
    * GeofieldMapSettingsForm constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   The Link Generator service.
    */
   public function __construct(ConfigFactoryInterface $config_factory, LinkGeneratorInterface $link_generator) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/geofield_map/src/Element/GeofieldMap.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\geofield_map\Element;

+use Drupal\geofield_map\Services\GoogleMapsService;
+use Drupal\Core\Session\AccountProxyInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\geofield\Element\GeofieldLatLon;
 use Drupal\Core\Url;
@@ @@
    *   An associative array containing the properties and children of the
    *   element. Note that $element must be taken by reference here, so processed
    *   child elements are taken over into $form_state.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    * @param array $complete_form
    *   The complete form structure.
@@ @@
     /* @var \Drupal\Core\Config\ConfigFactoryInterface $config */
     $config = \Drupal::configFactory();
     $geofield_map_settings = $config->get('geofield_map.settings');
-    /** @var \Drupal\geofield_map\Services\GoogleMapsService $google_maps_service */
+    /** @var GoogleMapsService $google_maps_service */
     $google_maps_service = \Drupal::service('geofield_map.google_maps');

-    /** @var \Drupal\Core\Session\AccountProxyInterface $currentUser */
+    /** @var AccountProxyInterface $currentUser */
     $currentUser = \Drupal::currentUser();

     // Initialize the basic geofield_map_element.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


19) modules/contrib/geofield_map/src/Controller/GeofieldMapAjaxPopupController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\geofield_map\Controller;

+use Drupal\Core\Entity\EntityDisplayRepositoryInterface;
+use Symfony\Component\HttpFoundation\Response;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\Core\Ajax\ReplaceCommand;
 use Drupal\Core\Controller\ControllerBase;
@@ @@
   /**
    * The Entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * The Renderer service property.
    *
-   * @var \Drupal\Core\Entity\EntityDisplayRepositoryInterface
+   * @var EntityDisplayRepositoryInterface
    */
   protected $renderer;

@@ @@
   /**
    * Constructs a new GeofieldMapAjaxPopupController object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager.
-   * @param \Drupal\Core\Render\RendererInterface $renderer
+   * @param RendererInterface $renderer
    *   The renderer.
    */
   public function __construct(EntityTypeManagerInterface $entity_manager, RendererInterface $renderer) {
@@ @@
   /**
    * User GeofieldMapAjaxPopup page access checker.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity to check the permission for view.
    *
-   * @return \Drupal\Core\Access\AccessResult
+   * @return AccessResult
    *   The Access check results.
    */
   public function accessCheck(EntityInterface $entity) {
@@ @@
   /**
    * Geofield Map Ajax Popup build callback.
    *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
+   * @param EntityInterface $entity
    *   The entity whose build to return.
    * @param string $view_mode
    *   The view mode identifier.
@@ @@
    * @param string $langcode
    *   The langcode to render the entity by.
    *
-   * @return \Symfony\Component\HttpFoundation\Response
+   * @return Response
    *   The Response to return.
    */
   public function popupBuild(EntityInterface $entity, $view_mode, $langcode = NULL) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


20) modules/contrib/geofield_map/src/Annotation/MapThemer.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\geofield_map\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The human-readable name of the Geofield Map Themer plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


21) modules/contrib/geofield_map/src/Annotation/LeafletTileLayerPlugin.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\geofield_map\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The label of the plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


22) modules/contrib/geofield_map/modules/geofield_map_extras/src/Plugin/Field/FieldFormatter/GeofieldGoogleStaticMapFormatter.php:30

    ---------- begin diff ----------
@@ @@
   /**
    * The Link generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
    *   The plugin_id for the formatter.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the formatter is associated.
    * @param array $settings
    *   The formatter settings.
@@ @@
    *   The view mode.
    * @param array $third_party_settings
    *   Any third party settings settings.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   The Link Generator service.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


23) modules/contrib/geofield_map/modules/geofield_map_extras/src/Plugin/Field/FieldFormatter/GeofieldGoogleEmbedMapFormatter.php:32

    ---------- begin diff ----------
@@ @@
   /**
    * The Link generator Service.
    *
-   * @var \Drupal\Core\Utility\LinkGeneratorInterface
+   * @var LinkGeneratorInterface
    */
   protected $link;

@@ @@
   /**
    * The Json Encoder Service.
    *
-   * @var \Drupal\Component\Serialization\Json
+   * @var Json
    */
   protected $encoder;

@@ @@
    *   The plugin_id for the formatter.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Field\FieldDefinitionInterface $field_definition
+   * @param FieldDefinitionInterface $field_definition
    *   The definition of the field to which the formatter is associated.
    * @param array $settings
    *   The formatter settings.
@@ @@
    *   The view mode.
    * @param array $third_party_settings
    *   Any third party settings settings.
-   * @param \Drupal\Core\Utility\LinkGeneratorInterface $link_generator
+   * @param LinkGeneratorInterface $link_generator
    *   The Link Generator service.
-   * @param \Drupal\Component\Serialization\Json $encoder
+   * @param Json $encoder
    *   The Json Encoder Service.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


24) modules/contrib/geofield_map/modules/geofield_map_extras/geofield_map_extras.module:18

    ---------- begin diff ----------
@@ @@
       $output .= '<h3>' . t('Geofield Map Extras Help') . '</h3>';
       $output .= '<p>' . t('Additional features to the main Geofield Map module.') . '</p>';
       $output .= '<p>' . t('For more info: @readme', [
-        '@readme' => Link::fromTextAndUrl(t('Readme.md'), Url::fromUri('base:/' . drupal_get_path('module', 'geofield_map_extras') . '/README.md', ['attributes' => ['target' => '_blank']]))->toString(),
+        '@readme' => Link::fromTextAndUrl(t('Readme.md'), Url::fromUri('base:/' . \Drupal::service('extension.list.module')->getPath('geofield_map_extras') . '/README.md', ['attributes' => ['target' => '_blank']]))->toString(),
       ]) . '</p>';
   }
   return $output;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


25) modules/contrib/geofield_map/geofield_map.post_update.php:28

    ---------- begin diff ----------
@@ @@
         $displays = $config_factory->listAll("core.entity_view_display.{$entity_type_id}.{$bundle_name}.");
         foreach ($displays as $display_name) {
           $id = substr($display_name, 25);
-          /** @var \Drupal\Core\Entity\Entity\EntityViewDisplay $display */
+          /** @var EntityViewDisplay $display */
           $display = EntityViewDisplay::load($id);
           if ($display) {
             $component = $display->getComponent($field_name);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


26) modules/contrib/geofield_map/geofield_map.module:21

    ---------- begin diff ----------
@@ @@
       $output .= '<h3>' . t('Geofield Map Help') . '</h3>';
       $output .= '<p>' . t('Map Widget, Formatter and Views integration for Geofields.') . '</p>';
       $output .= '<p>' . t('For more info: @readme', [
-        '@readme' => Link::fromTextAndUrl(t('Readme.md'), Url::fromUri('base:/' . drupal_get_path('module', 'geofield_map') . '/README.md', ['attributes' => ['target' => '_blank']]))->toString(),
+        '@readme' => Link::fromTextAndUrl(t('Readme.md'), Url::fromUri('base:/' . \Drupal::service('extension.list.module')->getPath('geofield_map') . '/README.md', ['attributes' => ['target' => '_blank']]))->toString(),
       ]) . '</p>';
   }
   return $output;
@@ @@
       '#theme' => 'image',
       '#width' => $image_preview_width,
       '#height' => $image_preview_height,
-      '#uri' => file_create_url($element['#value']),
+      '#uri' => \Drupal::service('file_url_generator')->generateAbsoluteString($element['#value']),
     ];
     $variables['data'] = [];
     foreach (Element::children($element) as $child) {
@@ @@
 /**
  * Checks that the file is recognized as a valid image.
  *
- * @param \Drupal\file\FileInterface $file
+ * @param FileInterface $file
  *   A file entity.
  *
  * @return array
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector


27) modules/contrib/geofield_map/geofield_map.api.php:39

    ---------- begin diff ----------
@@ @@
  *
  * @param array $feature
  *   The geofield_map formatter feature/marker.
- * @param \Drupal\geofield\Plugin\Field\FieldType\GeofieldItem $item
+ * @param GeofieldItem $item
  *   The Geofield Item.
- * @param \Drupal\Core\Entity\ContentEntityBase $entity
+ * @param ContentEntityBase $entity
  *   The Content Entity base of the formatter.
  */
 function hook_geofield_map_formatter_feature_alter(array &$feature, GeofieldItem $item, ContentEntityBase $entity) {
@@ @@
  *
  * @param array $map_settings
  *   The array of geofield map element settings.
- * @param \Drupal\Core\Field\FieldItemListInterface $items
+ * @param FieldItemListInterface $items
  *   The field values to be rendered.
  * */
 function hook_geofield_map_googlemap_formatter_alter(array &$map_settings, FieldItemListInterface &$items) {
@@ @@
  *
  * @param array $feature
  *   The geofield_map feature.
- * @param \Drupal\views\ResultRow $row
+ * @param ResultRow $row
  *   The views result row.
- * @param \Drupal\views\Plugin\views\row\RowPluginBase $rowPlugin
+ * @param RowPluginBase $rowPlugin
  *   (optional) The row plugin used for rendering the feature.
  */
 function hook_geofield_map_views_feature_alter(array &$feature, ResultRow $row, RowPluginBase $rowPlugin = NULL) {
@@ @@
  *
  * @param array $map_settings
  *   The array of geofield map element settings.
- * @param \Drupal\geofield_map\Plugin\views\style\GeofieldGoogleMapViewStyle $view_style
+ * @param GeofieldGoogleMapViewStyle $view_style
  *   The Geofield Google Map View Style.
  * */
 function hook_geofield_map_googlemap_view_style_alter(array &$map_settings, GeofieldGoogleMapViewStyle &$view_style) {
    ----------- end diff -----------

 [OK] 27 files have been changed by Rector                                      

