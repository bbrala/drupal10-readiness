diff --git a/restrict_ip.info.yml b/restrict_ip.info.yml
index addd262..6516c13 100644
--- a/restrict_ip.info.yml
+++ b/restrict_ip.info.yml
@@ -1,6 +1,5 @@
 name: 'Restrict IP'
 description: 'Restricts access to the site to a list of user defined IP addresses'
-core: '8.x'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 type: 'module'
 configure: restrict_ip.admin_page
diff --git a/restrict_ip.module b/restrict_ip.module
index 3960140..6c80f32 100644
--- a/restrict_ip.module
+++ b/restrict_ip.module
@@ -111,7 +111,7 @@ function restrict_ip_js_alter(&$javascript, AttachedAssetsInterface $assets)
 		$whitelisted_js_keys = [
 			'core/assets/vendor/jquery/jquery.min.js',
 			'core/assets/vendor/jquery/jquery.js',
-			drupal_get_path('module', 'restrict_ip') . '/js/mail_fix.js',
+			\Drupal::service('extension.list.module')->getPath('restrict_ip') . '/js/mail_fix.js',
 		];
 
 		$whitelisted_js_keys += Drupal::service('module_handler')->invokeAll('restrict_ip_whitelisted_js_keys');
diff --git a/src/Controller/PageController.php b/src/Controller/PageController.php
index 11d1356..5845691 100644
--- a/src/Controller/PageController.php
+++ b/src/Controller/PageController.php
@@ -18,43 +18,43 @@ class PageController extends ControllerBase implements PageControllerInterface
 	/**
 	 * The Form Builder service
 	 *
-	 * @var \Drupal\Core\Form\FormBuilderInterface
+	 * @var FormBuilderInterface
 	 */
 	protected $formBuilder;
 
 	/**
 	 * The Config Factory service
 	 *
-	 * @var \Drupal\Core\Config\ConfigFactoryInterface
+	 * @var ConfigFactoryInterface
 	 */
 	protected $configFactory;
 
 	/**
 	 * The current user
 	 *
-	 * @var \Drupal\Core\Session\AccountProxyInterface
+	 * @var AccountProxyInterface
 	 */
 	protected $currentUser;
 
 	/**
 	 * The Module Handler service
 	 *
-	 * @var \Drupal\Core\Extension\ModuleHandlerInterface
+	 * @var ModuleHandlerInterface
 	 */
 	protected $moduleHandler;
 
 	/**
-	 * Constructs the PageController object for the Restrict IP module
-	 *
-	 * @param \Drupal\Core\Form\FormBuilderInterface $formBuilder
-	 *   The Form Builder service
-	 * @param \Drupal\Core\Config\ConfigFactoryInterface $configFactory
-	 *   The Config Factory service
-	 * @param \Drupal\Core\Session\AccountProxyInterface $currentUser;
-	 *   The current user
-	 * @param \Drupal\Core\Extension\ModuleHandlerInterface $moduleHandler
-	 *   The Module Handler service
-	 */
+	* Constructs the PageController object for the Restrict IP module
+	*
+	 * @param FormBuilderInterface $formBuilder
+	*   The Form Builder service
+	 * @param ConfigFactoryInterface $configFactory
+	*   The Config Factory service
+	 * @param AccountProxyInterface $currentUser ;
+	  The current user
+	 * @param ModuleHandlerInterface $moduleHandler
+	*   The Module Handler service
+	*/
 	public function __construct(FormBuilderInterface $formBuilder, ConfigFactoryInterface $configFactory, AccountProxyInterface $currentUser, ModuleHandlerInterface $moduleHandler)
 	{
 		$this->formBuilder = $formBuilder;
diff --git a/src/EventSubscriber/RestrictIpEventSubscriber.php b/src/EventSubscriber/RestrictIpEventSubscriber.php
index 30750bf..7d2ae00 100644
--- a/src/EventSubscriber/RestrictIpEventSubscriber.php
+++ b/src/EventSubscriber/RestrictIpEventSubscriber.php
@@ -2,6 +2,9 @@
 
 namespace Drupal\restrict_ip\EventSubscriber;
 
+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\restrict_ip\Service\RestrictIpService;
+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
 use Drupal\Core\Logger\LoggerChannelFactoryInterface;
@@ -10,7 +13,6 @@ use Drupal\Core\Url;
 use Drupal\restrict_ip\Service\RestrictIpServiceInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\RedirectResponse;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;
 
 class RestrictIpEventSubscriber implements EventSubscriberInterface
@@ -18,50 +20,50 @@ class RestrictIpEventSubscriber implements EventSubscriberInterface
 	/**
 	 * The restrict IP change service
 	 *
-	 * @var Drupal\restrict_ip\Service\RestrictIpServiceInterface
+	 * @var RestrictIpServiceInterface
 	 */
 	protected $restrictIpService;
 
 	/**
 	 * The Logger Factory service
 	 *
-	 * @var \Drupal\Core\Logger\LoggerChannelFactoryInterface
+	 * @var LoggerChannelFactoryInterface
 	 */
 	protected $loggerFactory;
 
 	/**
 	 * The Module Handler service
 	 *
-	 * @var \Drupal\Core\Extension\ModuleHandlerInterface
+	 * @var ModuleHandlerInterface
 	 */
 	protected $moduleHandler;
 
 	/**
 	 * The Url Generator service
 	 *
-	 * @var \Drupal\Core\Routing\UrlGeneratorInterface
+	 * @var UrlGeneratorInterface
 	 */
 	protected $urlGenerator;
 
 	/**
 	 * The Restrict IP configuration settings
 	 *
-	 * @var \Drupal\Core\Config\ImmutableConfig
+	 * @var ImmutableConfig
 	 */
 	protected $config;
 
 	/**
 	 * Creates an instance of the RestrictIpEventSubscriber class
 	 *
-	 * @param \Drupal\restrict_ip\Service\RestrictIpService $restrictIpService
+	 * @param RestrictIpService $restrictIpService
 	 *   The restrict IP service
-	 * @param \Drupal\Core\Config\ConfigFactoryInterface $configFactory
+	 * @param ConfigFactoryInterface $configFactory
 	 *   The Config Factory service
-	 * @param \Drupal\Core\Logger\LoggerChannelFactoryInterface $loggerFactory
+	 * @param LoggerChannelFactoryInterface $loggerFactory
 	 *   The Logger Factory service
-	 * @param \Drupal\Core\Extension\ModuleHandlerInterface $moduleHandler
+	 * @param ModuleHandlerInterface $moduleHandler
 	 *   The Module Handler service
-	 * @param \Drupal\Core\Routing\UrlGeneratorInterface $urlGenerator
+	 * @param UrlGeneratorInterface $urlGenerator
 	 *   The Url Generator service
 	 */
 	public function __construct(RestrictIpServiceInterface $restrictIpService, ConfigFactoryInterface $configFactory, LoggerChannelFactoryInterface $loggerFactory, ModuleHandlerInterface $moduleHandler, UrlGeneratorInterface $urlGenerator)
@@ -85,7 +87,7 @@ class RestrictIpEventSubscriber implements EventSubscriberInterface
 		return $events;
 	}
 
-	public function checkIpRestricted(GetResponseEvent $event)
+	public function checkIpRestricted(RequestEvent $event)
 	{
 		unset($_SESSION['restrict_ip']);
 
diff --git a/src/Form/ConfigForm.php b/src/Form/ConfigForm.php
index fc65fb3..fcd844a 100644
--- a/src/Form/ConfigForm.php
+++ b/src/Form/ConfigForm.php
@@ -17,28 +17,28 @@ class ConfigForm extends ConfigFormBase
 	/**
 	 * The current user
 	 *
-	 * @var \Drupal\Core\Session\AccountProxyInterface
+	 * @var AccountProxyInterface
 	 */
 	private $currentUser;
 
 	/**
 	 * The Module Handler service
 	 *
-	 * @var \Drupal\Core\Extension\ModuleHandlerInterface
+	 * @var ModuleHandlerInterface
 	 */
 	protected $moduleHandler;
 
 	/**
 	 * The country manager service.
 	 *
-	 * @var \Drupal\Core\Locale\CountryManagerInterface
+	 * @var CountryManagerInterface
 	 */
 	protected $countryManager;
 
 	/**
 	 * The Restrict IP Service
 	 *
-	 * @var \Drupal\restrict_ip\Service\RestrictIpServiceInterface
+	 * @var RestrictIpServiceInterface
 	 */
 	protected $restrictIpService;
 
@@ -66,13 +66,13 @@ class ConfigForm extends ConfigFormBase
 	/**
 	 * Constructs a Restrict IP ConfigForm object
 	 *
-	 * @param \Drupal\Core\Session\AccountProxyInterface $currentUser
+	 * @param AccountProxyInterface $currentUser
 	 *   The current user
-	 * @param \Drupal\Core\Extension\ModuleHandlerInterface $moduleHandler
+	 * @param ModuleHandlerInterface $moduleHandler
 	 *   The Module Handler service
-	 * @param \Drupal\Core\Locale\CountryManagerInterface $countryManager
+	 * @param CountryManagerInterface $countryManager
 	 *   The Country Manager service
-	 * @param \Drupal\restrict_ip\Service\RestrictIpServiceInterface $restrictIpService
+	 * @param RestrictIpServiceInterface $restrictIpService
 	 *   The Restrict IP service object
 	 */
 	public function __construct(AccountProxyInterface $currentUser, ModuleHandlerInterface $moduleHandler, CountryManagerInterface $countryManager, RestrictIpServiceInterface $restrictIpService)
diff --git a/src/Mapper/RestrictIpMapper.php b/src/Mapper/RestrictIpMapper.php
index 1aa2e5f..f648c1f 100644
--- a/src/Mapper/RestrictIpMapper.php
+++ b/src/Mapper/RestrictIpMapper.php
@@ -9,7 +9,7 @@ class RestrictIpMapper implements RestrictIpMapperInterface
 	/**
 	 * The database connection
 	 *
-	 * @var Drupal\Core\Database\Connection
+	 * @var Connection
 	 */
 	protected $connection;
 
diff --git a/src/Service/RestrictIpService.php b/src/Service/RestrictIpService.php
index a32fd99..1820ada 100644
--- a/src/Service/RestrictIpService.php
+++ b/src/Service/RestrictIpService.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\restrict_ip\Service;
 
+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
 use Drupal\Core\Path\CurrentPathStack;
@@ -23,7 +24,7 @@ class RestrictIpService implements RestrictIpServiceInterface
 	/**
 	 * The current user
 	 *
-	 * @var \Drupal\Core\Session\AccountProxyInterface
+	 * @var AccountProxyInterface
 	 */
 	protected $currentUser;
 
@@ -37,7 +38,7 @@ class RestrictIpService implements RestrictIpServiceInterface
 	/**
 	 * The Restrict IP configuration settings
 	 *
-	 * @var \Drupal\Core\Config\ImmutableConfig
+	 * @var ImmutableConfig
 	 */
 	protected $config;
 
@@ -51,49 +52,49 @@ class RestrictIpService implements RestrictIpServiceInterface
 	/**
 	 * The Restrict IP data mapper
 	 *
-	 * @var \Drupal\restrict_ip\Mapper\RestrictIpMapperInterface
+	 * @var RestrictIpMapperInterface
 	 */
 	protected $mapper;
 
 	/**
 	 * The Path Matcher service
 	 *
-	 * @var \Drupal\Core\Path\PathMatcherInterface
+	 * @var PathMatcherInterface
 	 */
 	protected $pathMatcher;
 
 	/**
 	 * The Module Handler service
 	 *
-	 * @var \Drupal\Core\Extension\ModuleHandlerInterface
+	 * @var ModuleHandlerInterface
 	 */
 	protected $moduleHandler;
 
 	/**
 	 * The User Data service
 	 *
-	 * @var \Drupal\user\UserDataInterface
+	 * @var UserDataInterface
 	 */
 	protected $userData;
 
 	/**
 	 * Constructs a RestrictIpService object
 	 *
-	 * @param \Drupal\Core\Session\AccountProxyInterface $currentUser
+	 * @param AccountProxyInterface $currentUser
 	 *   The current user
-	 * @param \Drupal\Core\Path\CurrentPathStack $currentPathStack
+	 * @param CurrentPathStack $currentPathStack
 	 *   The current path stack
-	 * @param \Drupal\Core\Config\ConfigFactoryInterface $configFactory
+	 * @param ConfigFactoryInterface $configFactory
 	 *   The Config Factory service
-	 * @param \Symfony\Component\HttpFoundation\RequestStack $requestStack
+	 * @param RequestStack $requestStack
 	 *   The current HTTP request
-	 * @param \Drupal\restrict_ip\Mapper\RestrictIpMapperInterface $restrictIpMapper
+	 * @param RestrictIpMapperInterface $restrictIpMapper
 	 *   The Restrict IP data mapper object
-	 * @param \Drupal\Core\Path\PathMatcherInterface $pathMatcher
+	 * @param PathMatcherInterface $pathMatcher
 	 *   The Path Matcher service
-	 * @param \Drupal\Core\Extension\ModuleHandlerInterface $moduleHandler
+	 * @param ModuleHandlerInterface $moduleHandler
 	 *   The Module Handler service
-	 * @param \Drupal\user\UserDataInterface $userData
+	 * @param UserDataInterface $userData
 	 *   The User Data service
 	 */
 	public function __construct(AccountProxyInterface $currentUser, CurrentPathStack $currentPathStack, ConfigFactoryInterface $configFactory, RequestStack $requestStack, RestrictIpMapperInterface $restrictIpMapper, PathMatcherInterface $pathMatcher, ModuleHandlerInterface $moduleHandler, UserDataInterface $userData = NULL)
diff --git a/tests/src/Unit/Service/RestrictIpServiceTest.php b/tests/src/Unit/Service/RestrictIpServiceTest.php
index bbed4c1..bd1a32f 100644
--- a/tests/src/Unit/Service/RestrictIpServiceTest.php
+++ b/tests/src/Unit/Service/RestrictIpServiceTest.php
@@ -22,27 +22,17 @@ class RestrictIpServiceTest extends UnitTestCase
 	/**
 	 * {@inheritdoc}
 	 */
-	public function setUp()
+	public function setUp(): void
 	{
-		$this->currentUser = $this->getMockBuilder('Drupal\Core\Session\AccountProxyInterface')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->currentUser = $this->createMock('Drupal\Core\Session\AccountProxyInterface');
 
-		$this->currentPathStack = $this->getMockBuilder('Drupal\Core\Path\CurrentPathStack')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->currentPathStack = $this->createMock('Drupal\Core\Path\CurrentPathStack');
 
-		$this->requestStack = $this->getMockBuilder('Symfony\Component\HttpFoundation\RequestStack')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->requestStack = $this->createMock('Symfony\Component\HttpFoundation\RequestStack');
 
-		$this->request = $this->getMockBuilder('Symfony\Component\HttpFoundation\Request')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->request = $this->createMock('Symfony\Component\HttpFoundation\Request');
 
-		$this->mapper = $this->getMockBuilder('Drupal\restrict_ip\Mapper\RestrictIpMapper')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->mapper = $this->createMock('Drupal\restrict_ip\Mapper\RestrictIpMapper');
 
 		$this->mapper->expects($this->any())
 			->method('getWhitelistedPaths')
@@ -52,9 +42,7 @@ class RestrictIpServiceTest extends UnitTestCase
 			->method('getBlacklistedPaths')
 			->willReturn(['/node/1']);
 
-		$this->pathMatcher = $this->getMockbuilder('Drupal\Core\Path\PathMatcherInterface')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->pathMatcher = $this->createMock('Drupal\Core\Path\PathMatcherInterface');
 	}
 
 	/**
@@ -244,9 +232,7 @@ class RestrictIpServiceTest extends UnitTestCase
 			'white_black_list' => 0,
 		]);
 
-		$mapper = $this->getMockBuilder('Drupal\restrict_ip\Mapper\RestrictIpMapper')
-			->disableOriginalConstructor()
-			->getMock();
+		$mapper = $this->createMock('Drupal\restrict_ip\Mapper\RestrictIpMapper');
 
 		$mapper->expects($this->any())
 			->method('getWhitelistedIpAddresses')
