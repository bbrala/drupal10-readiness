modules/contrib/google_analytics/google_analytics.install
modules/contrib/google_analytics/google_analytics.module
modules/contrib/google_analytics/google_analytics.tokens.inc
modules/contrib/google_analytics/src/Component/Render/GoogleAnalyticsJavaScriptSnippet.php
modules/contrib/google_analytics/src/Form/GoogleAnalyticsAdminSettingsForm.php
modules/contrib/google_analytics/src/GoogleAnalitycsInterface.php
modules/contrib/google_analytics/src/Plugin/migrate/process/GoogleAnalyticsVisibilityPages.php
modules/contrib/google_analytics/src/Plugin/migrate/process/GoogleAnalyticsVisibilityRoles.php
modules/contrib/google_analytics/tests/modules/google_analytics_test/src/Controller/GoogleAnalyticsTestController.php
modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsBasicTest.php
modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsCustomDimensionsAndMetricsTest.php
modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsCustomUrls.php
modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsRolesTest.php
modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsSearchTest.php
modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsStatusMessagesTest.php
modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsUninstallTest.php
modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsUserFieldsTest.php

8 files with changes
====================

1) modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsUserFieldsTest.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $permissions = [
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsUninstallTest.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $permissions = [
@@ @@
     // Uninstall the module.
     $edit = [];
     $edit['uninstall[google_analytics]'] = TRUE;
-    $this->drupalPostForm('admin/modules/uninstall', $edit, t('Uninstall'));
+    $this->drupalGet('admin/modules/uninstall');
+    $this->submitForm($edit, t('Uninstall'));
     $this->assertSession()->pageTextNotContains(\Drupal::translation()->translate('Configuration deletions'));
-    $this->drupalPostForm(NULL, NULL, t('Uninstall'));
+    $this->submitForm(NULL, t('Uninstall'));
     $this->assertSession()->pageTextContains(t('The selected modules have been uninstalled.'));

     // Test if the directory and all files have been removed.
-    $this->assertDirectoryNotExists($cache_path);
+    $this->assertDirectoryDoesNotExist($cache_path);
   }

 }
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsSearchTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\google_analytics\Functional;

+use Drupal\node\NodeInterface;
 use Drupal\search\SearchIndexInterface;
 use Drupal\Tests\BrowserTestBase;

@@ @@
    * @param string $test_string
    *   Some unique identifying string to add to the text of the node.
    *
-   * @return \Drupal\node\NodeInterface
+   * @return NodeInterface
    *   The created node.
    * @internal
    */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/google_analytics/tests/src/Functional/GoogleAnalyticsBasicTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\google_analytics\Functional;

+use Drupal\user\UserInterface;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\Core\Url;
 use Drupal\Tests\BrowserTestBase;
@@ @@
   /**
    * User without permissions to use snippets.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $noSnippetUser;
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/google_analytics/src/Plugin/migrate/process/GoogleAnalyticsVisibilityRoles.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
    * The migration process plugin, configured for lookups in the d6_user_role
    * and d7_user_role migrations.
    *
-   * @var \Drupal\migrate\Plugin\MigrateProcessInterface
+   * @var MigrateProcessInterface
    */
   protected $migrationPlugin;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/google_analytics/src/Plugin/migrate/process/GoogleAnalyticsVisibilityPages.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
    * The migration process plugin, configured for lookups in the d6_user_role
    * and d7_user_role migrations.
    *
-   * @var \Drupal\migrate\Plugin\MigrateProcessInterface
+   * @var MigrateProcessInterface
    */
   protected $migrationPlugin;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/google_analytics/src/Form/GoogleAnalyticsAdminSettingsForm.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * The manages modules.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * The current user.
    *
-   * @var \Drupal\Core\Session\AccountInterface
+   * @var AccountInterface
    */
   protected $currentUser;

@@ @@
   /**
    * The constructor method.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
-   * @param \Drupal\Core\Session\AccountInterface $currentUser
+   * @param AccountInterface $currentUser
    *   The current user.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $moduleHandler
+   * @param ModuleHandlerInterface $moduleHandler
    *   The manages modules.
    */
   public function __construct(ConfigFactoryInterface $config_factory, AccountInterface $currentUser, ModuleHandlerInterface $moduleHandler) {
@@ @@
    * @param array $element
    *   An associative array containing the properties and children of the
    *   generic form element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The $form_state array for the form this element belongs to.
    *
    * @see form_process_pattern()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/google_analytics/google_analytics.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Pager\PagerManagerInterface;
 /**
  * @file
  * Drupal Module: Google Analytics.
@@ @@
   // Only run on search results list.
   if ($config->get('track.site_search')) {
     // Get the pager manager to give us the number of items returned.
-    /** @var \Drupal\Core\Pager\PagerManagerInterface $pager_manager */
+    /** @var PagerManagerInterface $pager_manager */
     $pager_manager = \Drupal::service('pager.manager');
     $items = 0;
     if ($pager_manager->getPager()) {
@@ @@
           // Return the local JS file path.
           // @todo: Remove conditional after dropping support lower than 9.3.
           // @phpstan-ignore-next-line
-          return method_exists('\Drupal\Core\File\FileUrlGenerator', 'generateString') ? \Drupal::service('file_url_generator')->generateString($file_destination) : file_url_transform_relative(file_create_url($file_destination));
+          return method_exists('\Drupal\Core\File\FileUrlGenerator', 'generateString') ? \Drupal::service('file_url_generator')->generateString($file_destination) : \Drupal::service('file_url_generator')->generateString($file_destination);
         }
       }
     }
@@ @@
     // Return the local JS file path.
     // @todo: Remove conditional after dropping support lower than 9.3.
     // @phpstan-ignore-next-line
-    return method_exists('\Drupal\Core\File\FileUrlGenerator', 'generateString') ? \Drupal::service('file_url_generator')->generateString($file_destination) : file_url_transform_relative(file_create_url($file_destination));
+    return method_exists('\Drupal\Core\File\FileUrlGenerator', 'generateString') ? \Drupal::service('file_url_generator')->generateString($file_destination) : \Drupal::service('file_url_generator')->generateString($file_destination);
   }
 }
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector


 [OK] 8 files have been changed by Rector                                       

