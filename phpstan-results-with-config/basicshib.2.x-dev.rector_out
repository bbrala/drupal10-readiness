modules/contrib/basicshib/basicshib.module
modules/contrib/basicshib/src/Annotation/BasicShibAuthFilter.php
modules/contrib/basicshib/src/Annotation/BasicShibUserProvider.php
modules/contrib/basicshib/src/AttributeMapper.php
modules/contrib/basicshib/src/AttributeMapperInterface.php
modules/contrib/basicshib/src/AuthenticationHandler.php
modules/contrib/basicshib/src/AuthenticationHandlerInterface.php
modules/contrib/basicshib/src/Controller/LoginController.php
modules/contrib/basicshib/src/EventSubscriber/RequestEventSubscriber.php
modules/contrib/basicshib/src/Exception/AttributeException.php
modules/contrib/basicshib/src/Exception/AuthenticationException.php
modules/contrib/basicshib/src/Exception/BasicShibException.php
modules/contrib/basicshib/src/Exception/RedirectException.php
modules/contrib/basicshib/src/Form/CoreSettingsForm.php
modules/contrib/basicshib/src/Plugin/AuthFilterPluginInterface.php
modules/contrib/basicshib/src/Plugin/BasicShibPluginManager.php
modules/contrib/basicshib/src/Plugin/Block/ShibLoginBlock.php
modules/contrib/basicshib/src/Plugin/UserProviderPluginInterface.php
modules/contrib/basicshib/src/Plugin/basicshib/auth_filter/AuthFilterPluginDefault.php
modules/contrib/basicshib/src/Plugin/basicshib/user_provider/UserProviderPluginDefault.php
modules/contrib/basicshib/src/SessionTracker.php
modules/contrib/basicshib/tests/modules/basicshib_test/src/Plugin/basicshib/auth_filter/BasicShibTestAuthFilter.php
modules/contrib/basicshib/tests/src/Kernel/AuthFilterPluginImplementationTest.php
modules/contrib/basicshib/tests/src/Kernel/AuthenticationHandlerTest.php
modules/contrib/basicshib/tests/src/Kernel/LoginControllerTest.php
modules/contrib/basicshib/tests/src/Traits/MockTrait.php
modules/contrib/basicshib/tests/src/Unit/AttributeMapperTest.php
modules/contrib/basicshib/tests/src/Unit/Plugin/AuthFilterPluginDefaultTest.php
modules/contrib/basicshib/tests/src/Unit/Plugin/UserProviderPluginDefaultTest.php
modules/contrib/basicshib/tests/src/Unit/SessionTrackerTest.php

9 files with changes
====================

1) modules/contrib/basicshib/tests/src/Unit/SessionTrackerTest.php:8

    ---------- begin diff ----------
@@ @@
 namespace Drupal\Tests\Unit\basicshib;


+use PHPUnit\Framework\MockObject\MockObject;
 use Drupal\basicshib\SessionTracker;
 use Drupal\Tests\UnitTestCase;
 use Symfony\Component\HttpFoundation\Session\SessionInterface;
@@ @@
   public function testGet() {
     $value = $this->randomMachineName();

-    /** @var SessionInterface|\PHPUnit_Framework_MockObject_MockObject $session */
+    /** @var SessionInterface|MockObject $session */
     $session = $this->getMockForAbstractClass(SessionInterface::class);
     $session->method('get')
       ->willReturn($value);
@@ @@
   public function testSetNotNull() {
     $value = $this->randomMachineName();

-    /** @var SessionInterface|\PHPUnit_Framework_MockObject_MockObject $session */
+    /** @var SessionInterface|MockObject $session */
     $session = $this->getMockForAbstractClass(SessionInterface::class);
     $session->method('set')
       ->with($this->equalTo(SessionTracker::VARNAME), $this->equalTo($value))
@@ @@
   public function testClear() {
     $value = $this->randomMachineName();

-    /** @var SessionInterface|\PHPUnit_Framework_MockObject_MockObject $session */
+    /** @var SessionInterface|MockObject $session */
     $session = $this->getMockForAbstractClass(SessionInterface::class);
     $session->method('remove')
       ->with($this->equalTo(SessionTracker::VARNAME))
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/basicshib/tests/src/Traits/MockTrait.php:8

    ---------- begin diff ----------
@@ @@
 namespace Drupal\Tests\basicshib\Traits;


+use PHPUnit\Framework\MockObject\MockObject;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\ImmutableConfig;
 use Drupal\user\UserInterface;
@@ @@
 trait MockTrait {
   /**
    * @param array $settings
-   * @return \PHPUnit_Framework_MockObject_MockObject|ConfigFactoryInterface
+   * @return MockObject|ConfigFactoryInterface
    */
   public function getMockConfigFactory(array $settings = []) {

@@ @@
   /**
    * @param UserInterface[] $existing_users
    *
-   * @return UserStorageInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @return UserStorageInterface|MockObject
    */
   public function getMockUserStorage(array $existing_users = []) {
     $existing_map = [];
@@ @@

   /**
    * @param array $values
-   * @return \PHPUnit_Framework_MockObject_MockObject|SessionInterface
+   * @return MockObject|SessionInterface
    */
   public function getMockSession(array $values = []) {
     $session = $this->getMockForAbstractClass(SessionInterface::class);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector


3) modules/contrib/basicshib/tests/src/Kernel/LoginControllerTest.php:8

    ---------- begin diff ----------
@@ @@
 namespace Drupal\Tests\basicshib\Kernel;


+use PHPUnit\Framework\MockObject\MockObject;
 use Drupal\basicshib\AuthenticationHandlerInterface;
 use Drupal\basicshib\Controller\LoginController;
 use Drupal\basicshib\Exception\AuthenticationException;
@@ @@
   public static $modules = ['basicshib', 'system', 'user'];

   /**
-   * @var AuthenticationHandlerInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @var AuthenticationHandlerInterface|MockObject
    */
   private $auth_handler;

@@ @@
   /**
    * @inheritDoc
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->installConfig(['basicshib']);
@@ @@


     self::assertTrue(is_array($response));
-    self::assertContains($this->messages['external_redirect_error'], $this->render($response));
+    self::assertStringContainsString($this->messages['external_redirect_error'], $this->render($response));
   }

   /**
@@ @@
     $response = $controller->login();

     self::assertTrue(is_array($response));
-    self::assertContains($this->messages['account_blocked_error'], $this->render($response));
+    self::assertStringContainsString($this->messages['account_blocked_error'], $this->render($response));
   }

   /**
@@ @@
     $response = $controller->login();

     self::assertTrue(is_array($response));
-    self::assertContains($this->messages['login_disallowed_error'], $this->render($response));
+    self::assertStringContainsString($this->messages['login_disallowed_error'], $this->render($response));
   }


@@ @@
     $response = $controller->login();

     self::assertTrue(is_array($response));
-    self::assertContains($this->messages['user_creation_not_allowed_error'], $this->render($response));
+    self::assertStringContainsString($this->messages['user_creation_not_allowed_error'], $this->render($response));
   }

   /**
@@ @@
     $response = $controller->login();

     self::assertTrue(is_array($response));
-    self::assertContains($this->messages['generic_login_error'], $this->render($response));
+    self::assertStringContainsString($this->messages['generic_login_error'], $this->render($response));
   }

 }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * SpecificAssertContainsRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/basicshib/tests/src/Kernel/AuthenticationHandlerTest.php:30

    ---------- begin diff ----------
@@ @@

   public static $modules = ['basicshib', 'user', 'system'];

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->installConfig(['basicshib']);
     $this->installEntitySchema('user');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/basicshib/tests/src/Kernel/AuthFilterPluginImplementationTest.php:25

    ---------- begin diff ----------
@@ @@

   public static $modules = ['basicshib', 'basicshib_test', 'user', 'system'];

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->installConfig(['basicshib', 'basicshib_test']);
     $this->installEntitySchema('user');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/basicshib/src/Plugin/Block/ShibLoginBlock.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * Drupal\basicshib\AuthenticationHandler definition.
    *
-   * @var \Drupal\basicshib\AuthenticationHandler
+   * @var AuthenticationHandler
    */
   protected $authentication_handler;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/basicshib/src/EventSubscriber/RequestEventSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\basicshib\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\basicshib\AuthenticationHandlerInterface;
 use Drupal\basicshib\AuthenticationManagerInterface;
 use Drupal\basicshib\AuthorizationManagerServiceInterface;
@@ @@
 use Drupal\Core\Logger\LoggerChannelFactoryInterface;
 use Drupal\Core\Session\AccountProxyInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;

 /**
@@ @@
   /**
    * Request handler.
    *
-   * @param GetResponseEvent $event
+   * @param RequestEvent $event
    * @param $eventId
    * @param ContainerAwareEventDispatcher $dispatcher
    *
    * @throws \InvalidArgumentException
    */
-  public function onRequest(GetResponseEvent $event, $eventId, ContainerAwareEventDispatcher $dispatcher) {
+  public function onRequest(RequestEvent $event, $eventId, ContainerAwareEventDispatcher $dispatcher) {
     $this->authentication_handler->checkUserSession(
       $event->getRequest(),
       $this->current_user
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


8) modules/contrib/basicshib/src/Controller/LoginController.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\basicshib\Controller;

+use Symfony\Component\DependencyInjection\Exception\ServiceCircularReferenceException;
+use Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException;
 use Drupal\basicshib\AuthenticationHandlerInterface;
 use Drupal\basicshib\Exception\AuthenticationException;
 use Drupal\basicshib\Exception\RedirectException;
@@ @@

   /**
    * {@inheritdoc}
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Symfony\Component\DependencyInjection\Exception\ServiceCircularReferenceException
-   * @throws \Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws ServiceCircularReferenceException
+   * @throws ServiceNotFoundException
    */
   public static function create(ContainerInterface $container) {
     /** @noinspection PhpParamsInspection */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/basicshib/src/AuthenticationHandler.php:303

    ---------- begin diff ----------
@@ @@
   }

   /**
-   * @param \Drupal\Core\Session\AccountProxyInterface $account
+   * @param AccountProxyInterface $account
    */
   private function terminateSession(AccountProxyInterface $account) {
     $this->session_tracker->clear();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 9 files have been changed by Rector                                       

