diff --git a/contrib/docker/src/DockerWKHTMLtoPDFGenerator.php b/contrib/docker/src/DockerWKHTMLtoPDFGenerator.php
index 33b6994..7358d33 100644
--- a/contrib/docker/src/DockerWKHTMLtoPDFGenerator.php
+++ b/contrib/docker/src/DockerWKHTMLtoPDFGenerator.php
@@ -19,22 +19,22 @@ use function GuzzleHttp\Psr7\build_query;
 class DockerWKHTMLtoPDFGenerator extends WKHTMLtoPDFGenerator {
 
   /**
-   * @var \GuzzleHttp\ClientInterface
+   * @var ClientInterface
    */
   protected $httpClient;
 
   /**
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;
 
   /**
    * DockerWKHTMLtoPDFGenerator constructor.
    *
-   * @param \Drupal\Core\File\FileSystem $file_system
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
-   * @param \Drupal\Core\Render\BareHtmlPageRendererInterface $bare_html_page_renderer
-   * @param \GuzzleHttp\ClientInterface $http_client
+   * @param FileSystem $file_system
+   * @param EntityTypeManagerInterface $entity_type_manager
+   * @param BareHtmlPageRendererInterface $bare_html_page_renderer
+   * @param ClientInterface $http_client
    */
   public function __construct(
     FileSystem $file_system,
diff --git a/src/Entity/PDFStyle.php b/src/Entity/PDFStyle.php
index 666c63f..5b467f8 100644
--- a/src/Entity/PDFStyle.php
+++ b/src/Entity/PDFStyle.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\pdf_tools\Entity;
 
+use Drupal\Core\Extension\ThemeHandlerInterface;
 use Drupal\Core\Entity\ContentEntityBase;
 use Drupal\Core\Entity\EntityTypeInterface;
 use Drupal\Core\Field\BaseFieldDefinition;
@@ -356,7 +357,7 @@ class PDFStyle extends ContentEntityBase implements EntityOwnerInterface {
    * Get the theme options.
    */
   public static function themeOptions() {
-    /** @var \Drupal\Core\Extension\ThemeHandlerInterface $theme_handler */
+    /** @var ThemeHandlerInterface $theme_handler */
     $theme_handler = \Drupal::service('theme_handler');
     $themes = $theme_handler->listInfo();
 
diff --git a/src/Entity/PDFStyleAccessControlHandler.php b/src/Entity/PDFStyleAccessControlHandler.php
index 3cd087e..eeb0b75 100644
--- a/src/Entity/PDFStyleAccessControlHandler.php
+++ b/src/Entity/PDFStyleAccessControlHandler.php
@@ -13,7 +13,7 @@ class PDFStyleAccessControlHandler extends EntityAccessControlHandler {
    * {@inheritdoc}
    */
   protected function checkAccess(EntityInterface $entity, $operation, AccountInterface $account) {
-    /** @var \Drupal\pdf_tools\Entity\PDFStyle $entity */
+    /** @var PDFStyle $entity */
     $access = parent::checkAccess($entity, $operation, $account);
 
     if ($operation === 'view') {
diff --git a/src/Form/PDFStyleForm.php b/src/Form/PDFStyleForm.php
index 7a28772..27a1835 100644
--- a/src/Form/PDFStyleForm.php
+++ b/src/Form/PDFStyleForm.php
@@ -18,7 +18,7 @@ use Symfony\Component\HttpFoundation\ResponseHeaderBag;
 class PDFStyleForm extends ContentEntityForm {
 
   /**
-   * @var \Drupal\pdf_tools\PDFGeneratorInterface
+   * @var PDFGeneratorInterface
    */
   protected $pdfGenerator;
 
diff --git a/src/PDFAnalyser.php b/src/PDFAnalyser.php
index f228e03..074bc81 100644
--- a/src/PDFAnalyser.php
+++ b/src/PDFAnalyser.php
@@ -13,14 +13,14 @@ abstract class PDFAnalyser implements PDFAnalyserInterface {
   /**
    * Filesystem
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;
 
   /**
    * PDFAnalyser constructor.
    *
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    */
   public function __construct(FileSystemInterface $file_system) {
     $this->fileSystem = $file_system;
diff --git a/src/PDFGenerationStyle.php b/src/PDFGenerationStyle.php
index 6c9297e..86ca785 100644
--- a/src/PDFGenerationStyle.php
+++ b/src/PDFGenerationStyle.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\pdf_tools;
 
+use Drupal\Core\TypedData\TypedDataInterface;
+use Drupal\Core\Field\FieldItemBase;
 use Drupal\Core\Field\Plugin\Field\FieldType\EntityReferenceItem;
 use Drupal\Core\TypedData\Exception\MissingDataException;
 use Drupal\file\Plugin\Field\FieldType\FileItem;
@@ -18,7 +20,7 @@ use Drupal\text\Plugin\Field\FieldType\TextItemBase;
 class PDFGenerationStyle {
 
   /**
-   * @var \Drupal\pdf_tools\Entity\PDFStyle|mixed|NULL
+   * @var PDFStyle|mixed|NULL
    */
   protected $pdfStyle;
 
@@ -37,7 +39,7 @@ class PDFGenerationStyle {
    *
    * @param array $defaults
    * @param array $options
-   * @param \Drupal\pdf_tools\Entity\PDFStyle|NULL $pdf_style
+   * @param PDFStyle|NULL $pdf_style
    */
   public function __construct($defaults = [], $options = [], PDFStyle $pdf_style = NULL) {
     $this->defaults = $defaults;
@@ -51,7 +53,7 @@ class PDFGenerationStyle {
    * @param $key
    * @param null $default
    *
-   * @return array|\Drupal\Core\TypedData\TypedDataInterface|mixed|null
+   * @return array|TypedDataInterface|mixed|null
    */
   public function getOption($key, $default = NULL) {
     if (isset($this->options[$key])) {
@@ -66,7 +68,7 @@ class PDFGenerationStyle {
         && $this->pdfStyle->hasField($field_name)
         && !$this->pdfStyle->get($field_name)->isEmpty()
       ) {
-        /** @var \Drupal\Core\Field\FieldItemBase $item */
+        /** @var FieldItemBase $item */
         $item = $this->pdfStyle->get(str_replace('-', '_', $key))->get(0);
 
         if ($item instanceof FileItem) {
diff --git a/src/PDFGeneratorBase.php b/src/PDFGeneratorBase.php
index a477075..b49df7f 100644
--- a/src/PDFGeneratorBase.php
+++ b/src/PDFGeneratorBase.php
@@ -2,6 +2,8 @@
 
 namespace Drupal\pdf_tools;
 
+use Drupal\Core\Render\BareHtmlPageRenderer;
+use Symfony\Component\HttpFoundation\Request;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\File\FileSystem;
@@ -16,55 +18,55 @@ use Symfony\Component\HttpFoundation\RequestStack;
 abstract class PDFGeneratorBase implements PDFGeneratorInterface {
 
   /**
-   * @var \Drupal\Core\File\FileSystem
+   * @var FileSystem
    */
   protected $fileSystem;
 
  /**
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
 
   /**
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;
 
   /**
-   * @var \Drupal\Core\Render\BareHtmlPageRenderer
+   * @var BareHtmlPageRenderer
    */
   protected $bareHtmlPageRenderer;
 
   /**
-   * @var \Drupal\pdf_tools\PDFManipulatorInterface
+   * @var PDFManipulatorInterface
    */
   protected $pdfManipulator;
 
   /**
-   * @var \Drupal\Core\Theme\ThemeManagerInterface
+   * @var ThemeManagerInterface
    */
   protected $theme;
 
   /**
-   * @var \Drupal\Core\Theme\ThemeInitializationInterface
+   * @var ThemeInitializationInterface
    */
   protected $themeInitialization;
 
   /**
    * The request.
    *
-   * @var \Symfony\Component\HttpFoundation\Request
+   * @var Request
    */
   protected $request;
 
   /**
    * PDFGeneratorBase constructor.
    *
-   * @param \Drupal\Core\File\FileSystem $file_system
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
-   * @param \Drupal\Core\Render\BareHtmlPageRendererInterface $bare_html_page_renderer
-   * @param \Drupal\pdf_tools\PDFManipulatorInterface $pdf_manipulator
-   * @param \Symfony\Component\HttpFoundation\RequestStack $request_stack
+   * @param FileSystem $file_system
+   * @param EntityTypeManagerInterface $entity_type_manager
+   * @param BareHtmlPageRendererInterface $bare_html_page_renderer
+   * @param PDFManipulatorInterface $pdf_manipulator
+   * @param RequestStack $request_stack
    *   The request stack service.
    */
   public function __construct(
@@ -110,7 +112,7 @@ abstract class PDFGeneratorBase implements PDFGeneratorInterface {
    *
    * @param array $elements
    *   The render array.
-   * @param \Drupal\pdf_tools\PDFGenerationStyle $style
+   * @param PDFGenerationStyle $style
    *   The style options for the generation.
    *
    * @return string
diff --git a/src/PDFGeneratorInterface.php b/src/PDFGeneratorInterface.php
index a981534..ac8e69a 100644
--- a/src/PDFGeneratorInterface.php
+++ b/src/PDFGeneratorInterface.php
@@ -7,64 +7,64 @@ use Drupal\Core\Entity\EntityInterface;
 interface PDFGeneratorInterface {
 
   /**
-   * Generate a pdf from an HTML file.
-   *
-   * @param $uri
-   * @param array $options
-   *
-   * @return string
-   *
-   * @throws \Drupal\pdf_tools\PDFGenerationException
-   */
+    * Generate a pdf from an HTML file.
+    *
+    * @param $uri
+    * @param array $options
+    *
+    * @return string
+    *
+    * @throws PDFGenerationException
+    */
    public function generateFromFile($uri, array $options = []);
 
   /**
-   * Generate from a web url.
-   *
-   * @param $url
-   * @param array $options
-   *
-   * @return string
-   *
-   * @throws \Drupal\pdf_tools\PDFGenerationException
-   */
+    * Generate from a web url.
+    *
+    * @param $url
+    * @param array $options
+    *
+    * @return string
+    *
+    * @throws PDFGenerationException
+    */
    public function generateFromURL($url, array $options = []);
 
   /**
-   * Generate from html content.
-   *
-   * @param $content
-   * @param array $options
-   *
-   * @return string
-   *
-   * @throws \Drupal\pdf_tools\PDFGenerationException
-   */
+    * Generate from html content.
+    *
+    * @param $content
+    * @param array $options
+    *
+    * @return string
+    *
+    * @throws PDFGenerationException
+    */
    public function generateFromHTML($content, array $options = []);
 
   /**
-   * Print an entity as a PDF.
-   *
-   * @param \Drupal\Core\Entity\EntityInterface $entity
-   * @param array $display
-   * @param array $options
-   *
-   * @return string
-   *
-   * @throws \Drupal\pdf_tools\PDFGenerationException
-   */
+    * Print an entity as a PDF.
+    *
+    * @param EntityInterface $entity
+    * @param array $display
+    * @param array $options
+    *
+    * @return string
+    *
+    * @throws PDFGenerationException
+    */
    public function entityToPDF(EntityInterface $entity, $display = [], array $options = []);
 
   /**
-   * Print a render array as a pdf.
-   *
-   * @param array $elements
-   * @param array $options
-   *
-   * @return string
-   *
-   * @throws \Drupal\pdf_tools\PDFGenerationException
-   */
+    * Print a render array as a pdf.
+    *
+    * @param array $elements
+    * @param array $options
+    *
+    * @return string
+    *
+    * @throws PDFGenerationException
+    */
    public function renderArrayToPDF(array $elements, array $options = []);
 
 }
diff --git a/src/PDFTKPDFManipulator.php b/src/PDFTKPDFManipulator.php
index d06ca2f..db88232 100644
--- a/src/PDFTKPDFManipulator.php
+++ b/src/PDFTKPDFManipulator.php
@@ -7,19 +7,19 @@ use Drupal\Core\File\FileSystemInterface;
 class PDFTKPDFManipulator implements PDFManipulatorInterface {
 
   /**
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;
 
   /**
-   * @var \Drupal\pdf_tools\PDFAnalyserInterface
+   * @var PDFAnalyserInterface
    */
   protected $pdfAnalyser;
 
   /**
    * PDFTKPDFManipulator constructor.
    *
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    */
   public function __construct(
     FileSystemInterface $file_system,
diff --git a/src/WKHTMLtoPDFGenerator.php b/src/WKHTMLtoPDFGenerator.php
index a5ebdf5..e859b63 100644
--- a/src/WKHTMLtoPDFGenerator.php
+++ b/src/WKHTMLtoPDFGenerator.php
@@ -177,7 +177,7 @@ class WKHTMLtoPDFGenerator extends PDFGeneratorBase {
    *
    * @return null|string
    *
-   * @throws \Drupal\pdf_tools\PDFGenerationException
+   * @throws PDFGenerationException
    */
   protected function generate($in_file, array $options = array()) {
     $out_file = $this->getOutFile($options);
@@ -328,7 +328,7 @@ class WKHTMLtoPDFGenerator extends PDFGeneratorBase {
                 }
               }
 
-              $prepped_options["{$hf}-html"] = file_create_url($file_uri);
+              $prepped_options["{$hf}-html"] = \Drupal::service('file_url_generator')->generateAbsoluteString($file_uri);
               break;
             case 'plain':
               foreach (['left', 'center', 'right'] as $pos) {
