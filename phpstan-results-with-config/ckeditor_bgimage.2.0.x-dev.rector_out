modules/contrib/ckeditor_bgimage/ckeditor_bgimage.admin.inc
modules/contrib/ckeditor_bgimage/ckeditor_bgimage.module
modules/contrib/ckeditor_bgimage/src/Form/EditorFileDialog.php
modules/contrib/ckeditor_bgimage/src/Plugin/CKEditorPlugin/Bgimage.php

3 files with changes
====================

1) modules/contrib/ckeditor_bgimage/src/Plugin/CKEditorPlugin/Bgimage.php:20

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    if ($module_path = drupal_get_path('module', 'ckeditor_bgimage')) {
+    if ($module_path = \Drupal::service('extension.list.module')->getPath('ckeditor_bgimage')) {
       return $module_path . '/src/js/bgimage/plugin.js';
     }
   }
@@ @@
     return [
       'bgimage' => [
         'label' => $this->t('Background Image'),
-        'image' => drupal_get_path('module', 'ckeditor_bgimage') . '/src/js/bgimage/icons/background.png',
+        'image' => \Drupal::service('extension.list.module')->getPath('ckeditor_bgimage') . '/src/js/bgimage/icons/background.png',
       ],
     ];
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/ckeditor_bgimage/src/Form/EditorFileDialog.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\ckeditor_bgimage\Form;

+use Drupal\file\FileInterface;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Ajax\HtmlCommand;
 use Drupal\Core\Ajax\AjaxResponse;
@@ @@
   /**
    * The file storage service.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $fileStorage;

@@ @@
   /**
    * Constructs a form object for image dialog.
    *
-   * @param \Drupal\Core\Entity\EntityStorageInterface $file_storage
+   * @param EntityStorageInterface $file_storage
    *   The file storage service.
    */
   public function __construct(EntityStorageInterface $file_storage) {
@@ @@
     $fid = $form_state->getValue(['fid', 0]);

     if (!empty($fid)) {
-      /** @var \Drupal\file\FileInterface */
+      /** @var FileInterface */
       $file = $this->fileStorage->load($fid);
-      $file_url = file_create_url($file->getFileUri());
-      $file_url = file_url_transform_relative($file_url);
+      $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
+      $file_url = \Drupal::service('file_url_generator')->transformRelative($file_url);
       $form_state->setValue(['attributes', 'image'], $file_url);
     }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/ckeditor_bgimage/ckeditor_bgimage.admin.inc:11

    ---------- begin diff ----------
@@ @@
 /**
  * Subform constructor to configure the text editor's file upload settings.
  *
- * @param \Drupal\editor\Entity\Editor $editor
+ * @param Editor $editor
  *   The text editor entity that is being edited.
  *
  * @return array
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

