modules/contrib/advpoll/advpoll.install
modules/contrib/advpoll/advpoll.module
modules/contrib/advpoll/src/AdvPollPostRenderCache.php
modules/contrib/advpoll/src/Form/ApprovalPollViewForm.php

3 files with changes
====================

1) modules/contrib/advpoll/src/AdvPollPostRenderCache.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * Constructs a new PollPostRenderCache object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity manager service.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


2) modules/contrib/advpoll/advpoll.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\Display\EntityFormDisplayInterface;
 use Drupal\Core\Entity\Display\EntityViewDisplayInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   // using https://www.drupal.org/docs/8/api/update-api/updating-entities-and-fields-in-drupal-8 example as guide
   $form_display_storage = \Drupal::entityTypeManager()->getStorage('entity_form_display');

-  /** @var \Drupal\Core\Entity\Display\EntityFormDisplayInterface $form_display */
+  /** @var EntityFormDisplayInterface $form_display */
   $form_display = $form_display_storage->load('poll.poll.default');
   if (empty($form_display)) {
     $form_display = $form_display_storage->create([
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


3) modules/contrib/advpoll/advpoll.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Config\Entity\ConfigEntityStorageInterface;
 use Drupal\Core\Config\FileStorage;
 use Drupal\Core\Database\Database;

@@ @@
  * Add availability of the multiple write-in options.
  */
 function advpoll_update_8001() {
-  $configPath = drupal_get_path('module', 'advpoll') . '/config/install';
+  $configPath = \Drupal::service('extension.list.module')->getPath('advpoll') . '/config/install';
   $source = new FileStorage($configPath);
   $config_manager = Drupal::service('config.manager');

@@ @@
     $config_record = $source->read('field.storage.poll.field_writein_multiple');
     $entity_type = $config_manager->getEntityTypeIdByName('field.storage.poll.field_writein_multiple');

-    /** @var \Drupal\Core\Config\Entity\ConfigEntityStorageInterface $storage */
+    /** @var ConfigEntityStorageInterface $storage */
     $storage = $entityTypeManager->getStorage($entity_type);

     // Create the config entity.
@@ @@
     $config_record = $source->read('field.field.poll.poll.field_writein_multiple');
     $entity_type = $config_manager->getEntityTypeIdByName('field.field.poll.poll.field_writein_multiple');

-    /** @var \Drupal\Core\Config\Entity\ConfigEntityStorageInterface $storage */
+    /** @var ConfigEntityStorageInterface $storage */
     $storage = $entityTypeManager->getStorage($entity_type);

     // Create the config entity.
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [ERROR] Could not process                                                      
         "modules/contrib/advpoll/src/Form/ApprovalPollViewForm.php" file, due to:
                                                                                
         "Analyze error: "Class Drupal\poll\Form\PollViewForm not found.". Include
         your files in "$rectorConfig->autoloadPaths([...]);" or                
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

