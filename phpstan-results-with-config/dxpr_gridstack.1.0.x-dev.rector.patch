diff --git a/dxpr_gridstack.info.yml b/dxpr_gridstack.info.yml
index 5dc29b0..91e5335 100644
--- a/dxpr_gridstack.info.yml
+++ b/dxpr_gridstack.info.yml
@@ -2,7 +2,6 @@ name: DXPR GridStack
 type: module
 description: DXPR GridStack Views.
 package: DXPR
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:views
diff --git a/theme.inc b/theme.inc
index ed7f115..2eb35d3 100644
--- a/theme.inc
+++ b/theme.inc
@@ -1,5 +1,7 @@
 <?php
 
+use Drupal\file\FileInterface;
+use Drupal\views\ViewExecutable;
 /**
  * @file
  * Preprocess functions for DXPR GridStack module.
@@ -22,11 +24,11 @@ use Drupal\image\Entity\ImageStyle;
  *   - url: An optional \Drupal\Core\Url object.
  */
 function template_preprocess_dxpr_gridstack_gridstack_formatter(&$vars) {
-  /** @var \Drupal\file\FileInterface $entity */
+  /** @var FileInterface $entity */
   $entity = $vars['item']->entity;
   $image_uri = $entity && empty($vars['item']->uri) ? $entity->getFileUri() : $vars['item']->uri;
   $vars['image_url'] = $vars['image_style'] ?
-    ImageStyle::load($vars['image_style'])->buildUrl($image_uri) : file_create_url($image_uri);
+    ImageStyle::load($vars['image_style'])->buildUrl($image_uri) : \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
 }
 
 /**
@@ -61,7 +63,7 @@ function template_preprocess_dxpr_gridstack_gridstack_style(&$vars) {
  * Implementation of template preprocess for the view row.
  */
 function template_preprocess_dxpr_gridstack_gridstack_row(&$vars) {
-  /** @var \Drupal\views\ViewExecutable $view */
+  /** @var ViewExecutable $view */
   $view = &$vars['view'];
 
   $fields = &drupal_static(__FUNCTION__);
