modules/contrib/migrate_report/migrate_report.install
modules/contrib/migrate_report/src/Commands/MigrateReportCommands.php
modules/contrib/migrate_report/src/Form/MigrateReport.php
modules/contrib/migrate_report/src/Form/MigrateReportConfig.php
modules/contrib/migrate_report/src/MigrateReportHelper.php
modules/contrib/migrate_report/tests/src/Functional/MigrateReportTest.php

3 files with changes
====================

1) modules/contrib/migrate_report/src/MigrateReportHelper.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\migrate_report;

+use Drupal\Core\KeyValueStore\KeyValueStoreInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Database\Connection;
 use Drupal\Core\File\FileSystemInterface;
@@ @@
   /**
    * The config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * The file-system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * The key-value store.
    *
-   * @var \Drupal\Core\KeyValueStore\KeyValueStoreInterface
+   * @var KeyValueStoreInterface
    */
   protected $keyValue;

@@ @@
   /**
    * The migration plugin manager service.
    *
-   * @var \Drupal\migrate\Plugin\MigrationPluginManagerInterface
+   * @var MigrationPluginManagerInterface
    */
   protected $migrationPlugiManager;

@@ @@
   /**
    * The database connection.
    *
-   * @var \Drupal\Core\Database\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
   /**
    * MigrateReportHelper constructor.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory service.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file-system service.
-   * @param \Drupal\Core\KeyValueStore\KeyValueFactoryInterface $key_value_factory
+   * @param KeyValueFactoryInterface $key_value_factory
    *   The key-value store factory.
-   * @param \Drupal\migrate\Plugin\MigrationPluginManagerInterface $migration_plugin_manager
+   * @param MigrationPluginManagerInterface $migration_plugin_manager
    *   The migration plugin manager service.
-   * @param \Drupal\Core\Database\Connection $database
+   * @param Connection $database
    *   The database connection.
    */
   public function __construct(ConfigFactoryInterface $config_factory, FileSystemInterface $file_system, KeyValueFactoryInterface $key_value_factory, MigrationPluginManagerInterface $migration_plugin_manager, Connection $database) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/migrate_report/src/Form/MigrateReport.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * The file system service.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * The stream wrapper manager service.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;

@@ @@
   /**
    * The migrate report helper service.
    *
-   * @var \Drupal\migrate_report\MigrateReportHelper
+   * @var MigrateReportHelper
    */
   protected $migrateReportHelper;

@@ @@
   /**
    * Constructs a new form instance.
    *
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file system service.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager
+   * @param StreamWrapperManagerInterface $stream_wrapper_manager
    *   The stream wrapper manager service.
-   * @param \Drupal\migrate_report\MigrateReportHelper $migrate_report_helper
+   * @param MigrateReportHelper $migrate_report_helper
    *   The migrate report helper service.
    */
   public function __construct(FileSystemInterface $file_system, StreamWrapperManagerInterface $stream_wrapper_manager, MigrateReportHelper $migrate_report_helper) {
@@ @@
     $files = [];
     foreach ($this->fileSystem->scanDirectory($report_dir, '/\.txt$/', ['key' => 'name']) as $key => $file) {
       if ($this->streamWrapperManager->isValidUri($file->uri)) {
-        $files[$key] = Link::fromTextAndUrl($file->filename, Url::fromUri(file_create_url($file->uri)));
+        $files[$key] = Link::fromTextAndUrl($file->filename, \Drupal::service('file_url_generator')->generate($file->uri));
       }
       else {
         $files[$key] = $file->filename;
    ----------- end diff -----------

Applied rules:
 * FromUriRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/migrate_report/src/Commands/MigrateReportCommands.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * The migrate report helper service.
    *
-   * @var \Drupal\migrate_report\MigrateReportHelper
+   * @var MigrateReportHelper
    */
   protected $migrateReportHelper;

@@ @@
   /**
    * Constructs a new Drush commands instance.
    *
-   * @param \Drupal\migrate_report\MigrateReportHelper $migrate_report_helper
+   * @param MigrateReportHelper $migrate_report_helper
    *   The migrate report helper service.
    */
   public function __construct(MigrateReportHelper $migrate_report_helper) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

