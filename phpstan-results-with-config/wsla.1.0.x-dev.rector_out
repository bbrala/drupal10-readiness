modules/contrib/wsla/src/EventSubscriber/WebformFileUploadToSalesforceSubscriber.php
modules/contrib/wsla/webform_file_upload_to_salesforce.module

1 file with changes
===================

1) modules/contrib/wsla/src/EventSubscriber/WebformFileUploadToSalesforceSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\webform_file_upload_to_salesforce\EventSubscriber;

+use Drupal\Core\File\FileSystemInterface;
+use Drupal\Core\Messenger\MessengerInterface;
 use Drupal\file\Entity\File;
 use Drupal\salesforce\Event\SalesforceEvents;
 use Drupal\salesforce_mapping\Event\SalesforcePushParamsEvent;
@@ @@
     /**
      * Core file system interface.
      *
-     * @var \Drupal\Core\File\FileSystemInterface
+     * @var FileSystemInterface
      */
     protected $fileSystem;

@@ @@
     /**
      * The Messenger service.
      *
-     * @var \Drupal\Core\Messenger\MessengerInterface
+     * @var MessengerInterface
      */
     protected $messenger;

@@ @@
                 if(isset($fValue['#custom_lead']) && ($leadFlag == false)){
                     $leadFlag = true;
                     $file = File::load($data[$fld]);
-                    $path = file_create_url($file->getFileUri());
+                    $path = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
                     $fileName = $file->getFilename();
                     $this->handleFile($path, $mappedObject, $fileName);
                 }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 1 file has been changed by Rector                                         

