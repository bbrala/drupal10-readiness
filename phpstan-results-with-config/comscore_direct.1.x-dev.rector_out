modules/contrib/comscore_direct/comscore_direct.module
modules/contrib/comscore_direct/src/ComscoreEvent.php
modules/contrib/comscore_direct/src/ComscoreEvents.php
modules/contrib/comscore_direct/src/ComscoreInformation.php
modules/contrib/comscore_direct/src/Form/ComscoreSettingsForm.php
modules/contrib/comscore_direct/src/InlineScript.php
modules/contrib/comscore_direct/tests/src/Functional/ComscoreDirect.php

4 files with changes
====================

1) modules/contrib/comscore_direct/tests/src/Functional/ComscoreDirect.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\comscore_direct\Functional;

+use Drupal\user\UserInterface;
 use Drupal\Tests\BrowserTestBase;
 use Drupal\Core\StringTranslation\StringTranslationTrait;

@@ @@
   /**
    * A user with the 'administer filters' permission.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $adminUser;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Create admin user.
@@ @@
       'package' => 'test_package',
       'clientseg' => 'test_segment',
     ], $this->t('Save configuration'));
-    $this->assertRaw($this->t('The configuration options have been saved'));
+    $this->assertSession()->responseContains($this->t('The configuration options have been saved'));

     $this->drupalGet('<front>');

     // Test markup.
-    $this->assertPattern('|_comscore.push\({.*"c1":"2"|');
-    $this->assertPattern('|_comscore.push\({.*"c2":"123456"|');
-    $this->assertPattern('|_comscore.push\({.*"c3":""|');
-    $this->assertPattern('|_comscore.push\({.*"c5":"test_genre"|');
-    $this->assertPattern('|_comscore.push\({.*"c6":"test_package"|');
-    $this->assertPattern('|_comscore.push\({.*"c15":"test_segment"|');
-    $this->assertRaw('//b.scorecardresearch.com/p?c1=2&amp;c2=123456&amp;c3=&amp;c4=http');
-    $this->assertRaw('c5=test_genre&amp;c6=test_package&amp;c15=test_segment&amp;cv=2&amp;cj=1');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c1":"2"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c2":"123456"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c3":""|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c5":"test_genre"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c6":"test_package"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c15":"test_segment"|');
+    $this->assertSession()->responseContains('//b.scorecardresearch.com/p?c1=2&amp;c2=123456&amp;c3=&amp;c4=http');
+    $this->assertSession()->responseContains('c5=test_genre&amp;c6=test_package&amp;c15=test_segment&amp;cv=2&amp;cj=1');
   }
 }
    ----------- end diff -----------

Applied rules:
 * AssertPatternRector
 * AssertRawRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/comscore_direct/src/ComscoreInformation.php:111

    ---------- begin diff ----------
@@ @@
   /**
    * Creates a new comscore information object from configuration.
    *
-   * @param \Drupal\Core\Config\Config $config
+   * @param Config $config
    *   The comscore_direct configuration.
    *
    * @param string $current_url
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/comscore_direct/src/ComscoreEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\comscore_direct;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 class ComscoreEvent extends Event {

@@ @@
   /**
    * The comscore information.
    *
-   * @var \Drupal\comscore_direct\ComscoreInformation
+   * @var ComscoreInformation
    */
   protected $comscoreInformation;

@@ @@
   /**
    * Creates a new ComscoreEvent instance.
    *
-   * @param \Drupal\comscore_direct\ComscoreInformation $comscoreInformation
+   * @param ComscoreInformation $comscoreInformation
    *   The comscore information.
    */
   public function __construct(ComscoreInformation $comscoreInformation) {
@@ @@
   /**
    * Gets the comscore information.
    *
-   * @return \Drupal\comscore_direct\ComscoreInformation
+   * @return ComscoreInformation
    */
   public function getComscoreInformation() {
     return $this->comscoreInformation;
@@ @@
   /**
    * Sets the comscore information.
    *
-   * @param \Drupal\comscore_direct\ComscoreInformation $comscore_information
+   * @param ComscoreInformation $comscore_information
    *   The comscore information.
    *
    * @return $this;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/comscore_direct/comscore_direct.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Symfony\Component\EventDispatcher\EventDispatcherInterface;
 /**
  * @file
  * Comscore module.
@@ @@
   $current_url = Url::fromRoute('<current>', [], $options)->toString(TRUE)->getGeneratedUrl();
   $comscore_information = ComscoreInformation::fromConfig(\Drupal::config('comscore_direct.settings'), $current_url);

-  /** @var \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher */
+  /** @var EventDispatcherInterface $event_dispatcher */
   $event_dispatcher = \Drupal::service('event_dispatcher');
-  $event_dispatcher->dispatch(ComscoreEvents::RENDER, new ComscoreEvent($comscore_information));
+  $event_dispatcher->dispatch(new ComscoreEvent($comscore_information), ComscoreEvents::RENDER);

   $inline_script = (new InlineScript());
   $script = $inline_script->getScriptRenderable($comscore_information);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector


 [WARNING] 1 nodes were removed                                                 

 [OK] 4 files have been changed by Rector                                       

