diff --git a/google_feeds.theme.inc b/google_feeds.theme.inc
index 4ca40d0..fb95946 100644
--- a/google_feeds.theme.inc
+++ b/google_feeds.theme.inc
@@ -90,7 +90,7 @@ function template_preprocess_views_view_rss_google_news_feed(&$variables) {
     $url = $view->getUrl(NULL, $link_display_id);
   }
 
-  /** @var \Drupal\Core\Url $url */
+  /** @var Url $url */
   if ($url) {
     $url_options = ['absolute' => TRUE];
     if (!empty($view->exposed_raw_input)) {
@@ -151,7 +151,7 @@ function template_preprocess_views_view_rss_google_shopping_feed(&$variables) {
     $url = $view->getUrl(NULL, $link_display_id);
   }
 
-  /** @var \Drupal\Core\Url $url */
+  /** @var Url $url */
   if ($url) {
     $url_options = ['absolute' => TRUE];
     if (!empty($view->exposed_raw_input)) {
diff --git a/src/Plugin/Field/FieldFormatter/ImageAbsoluteUrlFormatter.php b/src/Plugin/Field/FieldFormatter/ImageAbsoluteUrlFormatter.php
index 7e115da..20f24bd 100644
--- a/src/Plugin/Field/FieldFormatter/ImageAbsoluteUrlFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/ImageAbsoluteUrlFormatter.php
@@ -2,6 +2,9 @@
 
 namespace Drupal\google_feeds\Plugin\Field\FieldFormatter;
 
+use Drupal\Core\Field\EntityReferenceFieldItemListInterface;
+use Drupal\image\ImageStyleInterface;
+use Drupal\file\FileInterface;
 use Drupal\Core\Cache\CacheableMetadata;
 use Drupal\Core\Field\FieldItemListInterface;
 use Drupal\image\Plugin\Field\FieldFormatter\ImageUrlFormatter;
@@ -25,18 +28,18 @@ class ImageAbsoluteUrlFormatter extends ImageUrlFormatter {
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $elements = [];
 
-    /** @var \Drupal\Core\Field\EntityReferenceFieldItemListInterface $items */
+    /** @var EntityReferenceFieldItemListInterface $items */
     if (empty($images = $this->getEntitiesToView($items, $langcode))) {
       // Early opt-out if the field is empty.
       return $elements;
     }
 
-    /** @var \Drupal\image\ImageStyleInterface $image_style */
+    /** @var ImageStyleInterface $image_style */
     $image_style = $this->imageStyleStorage->load($this->getSetting('image_style'));
-    /** @var \Drupal\file\FileInterface[] $images */
+    /** @var FileInterface[] $images */
     foreach ($images as $delta => $image) {
       $image_uri = $image->getFileUri();
-      $url = $image_style ? $image_style->buildUrl($image_uri) : file_create_url($image_uri);
+      $url = $image_style ? $image_style->buildUrl($image_uri) : \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
 
       // Add cacheability metadata from the image and image style.
       $cacheability = CacheableMetadata::createFromObject($image);
diff --git a/src/Plugin/views/row/GoogleNewsRssFields.php b/src/Plugin/views/row/GoogleNewsRssFields.php
index b113a52..86f0e35 100644
--- a/src/Plugin/views/row/GoogleNewsRssFields.php
+++ b/src/Plugin/views/row/GoogleNewsRssFields.php
@@ -47,7 +47,7 @@ class GoogleNewsRssFields extends RssFields {
    *
    * @param array $form
    *   The form to build.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current form state and values.
    */
   public function buildOptionsForm(&$form, FormStateInterface $form_state) {
diff --git a/src/Plugin/views/row/GoogleShoppingRssFields.php b/src/Plugin/views/row/GoogleShoppingRssFields.php
index 4b69cd9..c885d17 100644
--- a/src/Plugin/views/row/GoogleShoppingRssFields.php
+++ b/src/Plugin/views/row/GoogleShoppingRssFields.php
@@ -68,7 +68,7 @@ class GoogleShoppingRssFields extends RssFields {
    *
    * @param array $form
    *   The form to build.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current form state and values.
    */
   public function buildOptionsForm(&$form, FormStateInterface $form_state) {
