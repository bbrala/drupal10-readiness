modules/contrib/media_sitemap/Tests/Controller/MediaSitemapBatchControllerTest.php
modules/contrib/media_sitemap/Tests/Controller/MediaSitemapControllerTest.php
modules/contrib/media_sitemap/media_sitemap.module
modules/contrib/media_sitemap/src/Controller/MediaSitemapBatchController.php
modules/contrib/media_sitemap/src/Controller/MediaSitemapController.php
modules/contrib/media_sitemap/src/MediaSitemapGenerator.php
modules/contrib/media_sitemap/src/MediaSitemapGeneratorInterface.php

5 files with changes
====================

1) modules/contrib/media_sitemap/src/MediaSitemapGenerator.php:25

    ---------- begin diff ----------
@@ @@
   protected $database;

   /**
-   * @var \Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   protected $configFactory;

   /**
-   * @var \Drupal\Core\File\FileSystem
+   * @var FileSystem
    */
   protected $fileSystem;

   /**
-   * @var \Drupal\Core\Messenger\MessengerInterface
+   * @var MessengerInterface
    */
   protected $messenger;

@@ @@
   /**
    * MediaSitemapGenerator constructor.
    * @param Connection $database
-   * @param \Drupal\Core\Config\ConfigFactory $configFactory
-   * @param \Drupal\Core\File\FileSystem $fileSystem
-   * @param \Drupal\Core\Messenger\MessengerInterface $messenger
+   * @param ConfigFactory $configFactory
+   * @param FileSystem $fileSystem
+   * @param MessengerInterface $messenger
    */
   public function __construct(Connection $database, ConfigFactory $configFactory, FileSystem $fileSystem, MessengerInterface $messenger) {
     $this->database = $database;
@@ @@
           $output .= '<url><loc>' . Url::fromRoute('entity.node.canonical', array('node' => $nid->id), array('absolute' => TRUE))
               ->toString() . '</loc>';
           foreach ($files as $file) {
-            $output .= '<image:image><image:loc>' . file_create_url($file->uri) . '</image:loc><image:title>' . $file->filename . '</image:title></image:image>';
+            $output .= '<image:image><image:loc>' . \Drupal::service('file_url_generator')->generateAbsoluteString($file->uri) . '</image:loc><image:title>' . $file->filename . '</image:title></image:image>';
           }
           $output .= '</url>';
           $total_urls++;
@@ @@
       }
       $output .= '</urlset>';
       // File build path.
-      $path = file_create_url($this->fileSystem->realpath( $this->configFactory->get('system.file')->get('default_scheme') . "://media_sitemap"));
+      $path = \Drupal::service('file_url_generator')->generateAbsoluteString($this->fileSystem->realpath( $this->configFactory->get('system.file')->get('default_scheme') . "://media_sitemap"));
       if (!is_dir($path)) {
         \Drupal::service('file_system')->mkdir($path);
       }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


2) modules/contrib/media_sitemap/src/Controller/MediaSitemapController.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * Drupal\Core\Database\Driver\mysql\Connection definition.
    *
-   * @var Drupal\Core\Database\Driver\mysql\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
   /**
    * Drupal\Core\Config\ConfigFactory definition.
    *
-   * @var Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   protected $config_factory;
   /**
@@ @@
     );
     $rows = array();
     $url = 'public://media_sitemap/image_sitemap.xml';
-    $url = file_create_url($url);
+    $url = \Drupal::service('file_url_generator')->generateAbsoluteString($url);

     // Rows of table.
     $image_sitemap_created = $this->config('media_sitemap.settings')->get('image_sitemap_created');
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/media_sitemap/src/Controller/MediaSitemapBatchController.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * Drupal\Core\Database\Driver\mysql\Connection definition.
    *
-   * @var Drupal\Core\Database\Driver\mysql\Connection
+   * @var Connection
    */
   protected $database;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/media_sitemap/Tests/Controller/MediaSitemapControllerTest.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * Drupal\Core\Database\Driver\mysql\Connection definition.
    *
-   * @var Drupal\Core\Database\Driver\mysql\Connection
+   * @var Connection
    */
   protected $database;

@@ @@
   /**
    * Drupal\Core\Config\ConfigFactory definition.
    *
-   * @var Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   protected $config_factory;
   /**
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


5) modules/contrib/media_sitemap/Tests/Controller/MediaSitemapBatchControllerTest.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * Drupal\Core\Database\Driver\mysql\Connection definition.
    *
-   * @var Drupal\Core\Database\Driver\mysql\Connection
+   * @var Connection
    */
   protected $database;
   /**
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


 [OK] 5 files have been changed by Rector                                       

