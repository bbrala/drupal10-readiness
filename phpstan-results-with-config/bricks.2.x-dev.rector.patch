diff --git a/modules/bricks_default_blocks/bricks_default_blocks.install b/modules/bricks_default_blocks/bricks_default_blocks.install
index 490639a..39e2510 100644
--- a/modules/bricks_default_blocks/bricks_default_blocks.install
+++ b/modules/bricks_default_blocks/bricks_default_blocks.install
@@ -17,8 +17,8 @@ function bricks_default_blocks_install() {
   ]);
   $layout->save();
 
-  $data = file_get_contents(drupal_get_path('theme', 'bartik') . '/screenshot.png');
-  $file = file_save_data($data, 'public://bartik.png');
+  $data = file_get_contents(\Drupal::service('extension.list.theme')->getPath('bartik') . '/screenshot.png');
+  $file = \Drupal::service('file.repository')->writeData($data, 'public://bartik.png');
   $image = $entity_type_manager->getStorage('block_content')->create([
     'type' => 'image',
     'info' => 'Image',
diff --git a/modules/bricks_default_paragraphs/bricks_default_paragraphs.install b/modules/bricks_default_paragraphs/bricks_default_paragraphs.install
index 8dbd973..1f6d980 100644
--- a/modules/bricks_default_paragraphs/bricks_default_paragraphs.install
+++ b/modules/bricks_default_paragraphs/bricks_default_paragraphs.install
@@ -16,8 +16,8 @@ function bricks_default_paragraphs_install() {
   ]);
   $layout->save();
 
-  $data = file_get_contents(drupal_get_path('theme', 'bartik') . '/screenshot.png');
-  $file = file_save_data($data, 'public://bartik.png');
+  $data = file_get_contents(\Drupal::service('extension.list.theme')->getPath('bartik') . '/screenshot.png');
+  $file = \Drupal::service('file.repository')->writeData($data, 'public://bartik.png');
   $image = $entity_type_manager->getStorage('paragraph')->create([
     'type' => 'images',
     'field_images_demo' => [
diff --git a/modules/bricks_dynamic/bricks_dynamic.module b/modules/bricks_dynamic/bricks_dynamic.module
index da8b283..5e7e358 100644
--- a/modules/bricks_dynamic/bricks_dynamic.module
+++ b/modules/bricks_dynamic/bricks_dynamic.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\field\Entity\FieldConfig;
 use Drupal\Component\Utility\NestedArray;
 
 /**
@@ -29,7 +30,7 @@ function bricks_dynamic_inline_entity_form_reference_form_alter(&$reference_form
 
   $labels = $reference_form['#ief_labels'];
   $ief_id = $reference_form['#ief_id'];
-  /** @var \Drupal\field\Entity\FieldConfig $instance */
+  /** @var FieldConfig $instance */
   $instance = $form_state->get(['inline_entity_form', $ief_id, 'instance']);
   $settings = $instance->getSettings();
 
diff --git a/modules/bricks_inline/bricks_inline.module b/modules/bricks_inline/bricks_inline.module
index 5c74fb2..c4ef57b 100644
--- a/modules/bricks_inline/bricks_inline.module
+++ b/modules/bricks_inline/bricks_inline.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\Core\Entity\FieldableEntityInterface;
 /**
  * @file
  * {@inheritdoc}
@@ -11,7 +12,7 @@ use Drupal\Core\Render\Element;
  * Implements hook_theme_registry_alter().
  */
 function bricks_inline_theme_registry_alter(&$theme_registry) {
-  $theme_registry['inline_entity_form_entity_table']['theme path'] = drupal_get_path('module', 'bricks_inline');
+  $theme_registry['inline_entity_form_entity_table']['theme path'] = \Drupal::service('extension.list.module')->getPath('bricks_inline');
   $theme_registry['inline_entity_form_entity_table']['function'] = 'bricks_inline_inline_entity_form_entity_table';
 }
 
@@ -83,7 +84,7 @@ function _inline_entity_form_preprocess_inline_entity_form_entity_table(&$variab
   // Build an array of entity rows for the table.
   $rows = [];
   foreach (Element::children($form) as $key) {
-    /** @var \Drupal\Core\Entity\FieldableEntityInterface $entity */
+    /** @var FieldableEntityInterface $entity */
     $entity = $form[$key]['#entity'];
     $row_classes = ['ief-row-entity'];
     $cells = [];
diff --git a/tests/src/Functional/BricksTest.php b/tests/src/Functional/BricksTest.php
index 15f1c3c..8d49743 100644
--- a/tests/src/Functional/BricksTest.php
+++ b/tests/src/Functional/BricksTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\bricks\Functional;
 
+use Drupal\taxonomy\VocabularyInterface;
 use Drupal\node\Entity\Node;
 use Drupal\paragraphs\Entity\Paragraph;
 use Drupal\Tests\BrowserTestBase;
@@ -22,7 +23,7 @@ class BricksTest extends BrowserTestBase {
   public static $modules = ['field_ui', 'block', 'node', 'taxonomy', 'bricks'];
 
   /**
-   * @var \Drupal\taxonomy\VocabularyInterface
+   * @var VocabularyInterface
    */
   protected $vocabulary;
 
@@ -34,7 +35,7 @@ class BricksTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalLogin($this->rootUser);
 
@@ -60,17 +61,17 @@ class BricksTest extends BrowserTestBase {
       'label' => 'Brick field',
       'field_name' => 'brick',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save and continue');
+    $this->submitForm($edit, 'Save and continue');
     $edit = [
       'cardinality' => -1,
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save field settings');
+    $this->submitForm($edit, 'Save field settings');
 
     $edit = [
       'settings[handler_settings][auto_create]' => TRUE,
       'settings[handler_settings][target_bundles][' . $this->vocabulary->id() . ']' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save settings');
+    $this->submitForm($edit, 'Save settings');
   }
 
   /**
@@ -81,8 +82,12 @@ class BricksTest extends BrowserTestBase {
     $edit = [];
     $edit['title[0][value]'] = 'Llamas are cool';
     $edit['field_brick[0][target_id]'] = 'Camelid';
-    $this->drupalPostForm("node/add/article", $edit, 'Save');
-    $this->assertText('Article Llamas are cool has been created.');
+    $this->drupalGet("node/add/article");
+    $this->submitForm($edit, 'Save');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Article Llamas are cool has been created.');
   }
 
 }
diff --git a/tests/src/Kernel/BricksTest.php b/tests/src/Kernel/BricksTest.php
index 9c3fd64..2447ae7 100644
--- a/tests/src/Kernel/BricksTest.php
+++ b/tests/src/Kernel/BricksTest.php
@@ -29,7 +29,7 @@ class BricksTest extends KernelTestBase {
     'bricks_test',
   ];
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installSchema('system', 'sequences');
     $this->installSchema('node', 'node_access');
@@ -76,7 +76,7 @@ class BricksTest extends KernelTestBase {
 
   /**
    * @param array $tree
-   * @param \Symfony\Component\DomCrawler\Crawler $bricks
+   * @param Crawler $bricks
    * @return int
    */
   protected function recurseBricks(array $tree, Crawler $bricks): int {
