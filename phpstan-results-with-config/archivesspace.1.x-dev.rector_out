modules/contrib/archivesspace/archivesspace.install
modules/contrib/archivesspace/archivesspace.module
modules/contrib/archivesspace/src/ArchivesSpaceBreadcrumbBuilder.php
modules/contrib/archivesspace/src/ArchivesSpaceDataConverter.php
modules/contrib/archivesspace/src/ArchivesSpaceIterator.php
modules/contrib/archivesspace/src/ArchivesSpaceSession.php
modules/contrib/archivesspace/src/ArchivesSpaceUtils.php
modules/contrib/archivesspace/src/BatchUpdateBuilder.php
modules/contrib/archivesspace/src/Commands/ArchivesSpaceBatchUpdateCommand.php
modules/contrib/archivesspace/src/Commands/ArchivesSpaceResourceDescriptionQueueCommand.php
modules/contrib/archivesspace/src/Commands/ArchivesspacePurgeDeletedCommand.php
modules/contrib/archivesspace/src/Controller/ResourceDescriptionController.php
modules/contrib/archivesspace/src/EventSubscriber/ArchivesSpaceEventSubscriber.php
modules/contrib/archivesspace/src/Form/ASpaceSettingsForm.php
modules/contrib/archivesspace/src/Form/BatchUpdateForm.php
modules/contrib/archivesspace/src/Form/PurgeDeletedForm.php
modules/contrib/archivesspace/src/Form/ResourceDescriptionFileUpdateForm.php
modules/contrib/archivesspace/src/Plugin/Action/UpdateResourceDescriptionFile.php
modules/contrib/archivesspace/src/Plugin/Field/FieldFormatter/ASDateFormatter.php
modules/contrib/archivesspace/src/Plugin/Field/FieldFormatter/ASExtentFormatter.php
modules/contrib/archivesspace/src/Plugin/Field/FieldFormatter/ArchivalPhysicalInstanceFormatter.php
modules/contrib/archivesspace/src/Plugin/Field/FieldType/ASDate.php
modules/contrib/archivesspace/src/Plugin/Field/FieldType/ASExtent.php
modules/contrib/archivesspace/src/Plugin/Field/FieldType/ArchivalPhysicalInstance.php
modules/contrib/archivesspace/src/Plugin/Field/FieldWidget/ASDateWidget.php
modules/contrib/archivesspace/src/Plugin/Field/FieldWidget/ASExtentWidget.php
modules/contrib/archivesspace/src/Plugin/Field/FieldWidget/ArchivalPhysicalInstanceWidget.php
modules/contrib/archivesspace/src/Plugin/QueueWorker/ResourceDescriptionQueueBase.php
modules/contrib/archivesspace/src/Plugin/migrate/process/ArchivesSpaceInstances.php
modules/contrib/archivesspace/src/Plugin/migrate/process/ArchivesSpaceNotes.php
modules/contrib/archivesspace/src/Plugin/migrate/process/ExternalDocumentLink.php
modules/contrib/archivesspace/src/Plugin/migrate/process/FlattenToKeys.php
modules/contrib/archivesspace/src/Plugin/migrate/process/ImportMedia.php
modules/contrib/archivesspace/src/Plugin/migrate/process/SkipOnRegex.php
modules/contrib/archivesspace/src/Plugin/migrate/process/SubProcessExt.php
modules/contrib/archivesspace/src/Plugin/migrate/source/ArchivesSpaceSource.php
modules/contrib/archivesspace/src/Purger.php
modules/contrib/archivesspace/src/ResourceDescriptionBatchWorker.php
modules/contrib/archivesspace/tests/src/Functional/LoadTest.php

21 files with changes
=====================

1) modules/contrib/archivesspace/tests/src/Functional/LoadTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\archivesspace\Functional;

+use Drupal\user\UserInterface;
 use Drupal\Core\Url;
 use Drupal\Tests\BrowserTestBase;

@@ @@
   /**
    * A user with permission to administer site configuration.
    *
-   * @var \Drupal\user\UserInterface
+   * @var UserInterface
    */
   protected $user;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/archivesspace/src/ResourceDescriptionBatchWorker.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * The queue factory.
    *
-   * @var \Drupal\Core\Queue\QueueFactory
+   * @var QueueFactory
    */
   protected $queueFactory;

@@ @@
   /**
    * Contructs a Resource Description File Worker.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logger for messages.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $stringTranslation
+   * @param TranslationInterface $stringTranslation
    *   String translation for messages.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   Storage to load nodes.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
-   * @param \Drupal\Core\Queue\QueueFactory $queue_factory
+   * @param QueueFactory $queue_factory
    *   The queue factory.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/archivesspace/src/Purger.php:137

    ---------- begin diff ----------
@@ @@
    *
    * @param int $id
    *   Batch ID.
-   * @param \Drupal\archivesspace\ArchivesSpaceSession $session
+   * @param ArchivesSpaceSession $session
    *   Details of the operation.
    * @param array $parameters
    *   The operations' parameters.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


4) modules/contrib/archivesspace/src/Plugin/migrate/source/ArchivesSpaceSource.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * ArchivesSpace Session object.
    *
-   * @var Drupal\archivesspace\ArchivesSpaceSession
+   * @var ArchivesSpaceSession
    */
   protected $session;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/archivesspace/src/Plugin/QueueWorker/ResourceDescriptionQueueBase.php:43

    ---------- begin diff ----------
@@ @@
   /**
    * Contructs a Resource Description File Worker.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logger for messages.
-   * @param \Drupal\Core\StringTranslation\TranslationInterface $stringTranslation
+   * @param TranslationInterface $stringTranslation
    *   String translation for messages.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   Storage to load nodes.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
    */
   public function __construct(
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/archivesspace/src/Plugin/Field/FieldType/ASExtent.php:222

    ---------- begin diff ----------
@@ @@
    * @param array $element
    *   An associative array containing the properties and children of the
    *   generic form element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form for the form this element belongs to.
    *
    * @see \Drupal\Core\Render\Element\FormElement::processPattern()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/archivesspace/src/Plugin/Field/FieldType/ASDate.php:257

    ---------- begin diff ----------
@@ @@
    * @param array $element
    *   An associative array containing the properties and children of the
    *   generic form element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form for the form this element belongs to.
    *
    * @see \Drupal\Core\Render\Element\FormElement::processPattern()
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/archivesspace/src/Plugin/Action/UpdateResourceDescriptionFile.php:30

    ---------- begin diff ----------
@@ @@
   /**
    * ArchivesSpace Utils.
    *
-   * @var \Drupal\archivesspace\ArchivesSpaceUtils
+   * @var ArchivesSpaceUtils
    */
   protected $utils;

@@ @@
   /**
    * The entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityTypeManager;

@@ @@
   /**
    * The token service.
    *
-   * @var \Drupal\Core\Utility\Token
+   * @var Token
    */
   protected $token;

@@ @@
    *   The plugin ID for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity type manager.
-   * @param \Drupal\Core\Utility\Token $token
+   * @param Token $token
    *   The token service.
-   * @param \Drupal\archivesspace\ArchivesSpaceUtils $utils
+   * @param ArchivesSpaceUtils $utils
    *   ArchivesSpace utilities for requesting resource description files.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, EntityTypeManagerInterface $entity_type_manager, Token $token, ArchivesSpaceUtils $utils) {
@@ @@
       // Get the configured description media reference field.
       $field_id = $this->configuration['resource_description_field'];

-      /** @var \Drupal\node\NodeInterface $node */
+      /** @var NodeInterface $node */
       if (!$node->hasField($field_id)) {
         throw new \RuntimeException(
           $this->t("Resource description field %field not found on node %id."),
@@ @@
       try {
         // Call for the new file and save it.
         $stream = $this->utils->getResourceDescription($node->id(), $this->configuration['file_type']);
-        $file = file_save_data($stream->getContents(), $path, FileSystemInterface::EXISTS_REPLACE);
+        $file = \Drupal::service('file.repository')->writeData($stream->getContents(), $path, FileSystemInterface::EXISTS_REPLACE);
       }
       catch (ServerException $se) {
         throw new \Exception("Failed to retrieve resource description from ArchivesSpace: " . $se->getMessage());
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/archivesspace/src/Form/ResourceDescriptionFileUpdateForm.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * Batch Update Builder.
    *
-   * @var \Drupal\archivesspace\ResourceDescriptionBatchWorker
+   * @var ResourceDescriptionBatchWorker
    */
   protected $descriptionBatchWorker;

@@ @@
   /**
    * Constructor.
    *
-   * @param \Drupal\archivesspace\ResourceDescriptionBatchWorker $rdbw
+   * @param ResourceDescriptionBatchWorker $rdbw
    *   The class responsible for building batch updates for processing.
    */
   public function __construct(ResourceDescriptionBatchWorker $rdbw) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/archivesspace/src/Form/PurgeDeletedForm.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * Purger.
    *
-   * @var \Drupal\archivesspace\Purger
+   * @var Purger
    */
   protected $purger;

@@ @@
   /**
    * Constructor.
    *
-   * @param \Drupal\archivesspace\Purger $purger
+   * @param Purger $purger
    *   The class responsible for purging deleted items.
    */
   public function __construct(Purger $purger) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/archivesspace/src/Form/BatchUpdateForm.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * Batch Update Builder.
    *
-   * @var \Drupal\archivesspace\BatchUpdateBuilder
+   * @var BatchUpdateBuilder
    */
   protected $batchUpdateBuilder;

@@ @@
   /**
    * Constructor.
    *
-   * @param \Drupal\archivesspace\BatchUpdateBuilder $bub
+   * @param BatchUpdateBuilder $bub
    *   The class responsible for building batch updates for processing.
    */
   public function __construct(BatchUpdateBuilder $bub) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/archivesspace/src/EventSubscriber/ArchivesSpaceEventSubscriber.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * React to a config object being saved.
    *
-   * @param \Drupal\migrate\Event\MigratePostRowSaveEvent $event
+   * @param MigratePostRowSaveEvent $event
    *   Post row save event.
    */
   public function postRowSave(MigratePostRowSaveEvent $event) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


13) modules/contrib/archivesspace/src/Controller/ResourceDescriptionController.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * ArchivesSpace Utils.
    *
-   * @var \Drupal\archivesspace\ArchivesSpaceUtils
+   * @var ArchivesSpaceUtils
    */
   protected $utils;

@@ @@
   /**
    * Migration manager to load resource migration.
    *
-   * @var \Drupal\migrate\Plugin\MigrationPluginManagerInterface
+   * @var MigrationPluginManagerInterface
    */
   protected $migrationManager;

@@ @@
   /**
    * Queue factory to track actions.
    *
-   * @var \Drupal\Core\Queue\QueueFactory
+   * @var QueueFactory
    */
   protected $queueFactory;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


14) modules/contrib/archivesspace/src/Commands/ArchivesspacePurgeDeletedCommand.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * Purger.
    *
-   * @var \Drupal\archivesspace\Purger
+   * @var Purger
    */
   protected $purger;

@@ @@
   /**
    * Constructor.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logger for reporting out.
-   * @param \Drupal\archivesspace\Purger $purger
+   * @param Purger $purger
    *   The class responsible for purging deleted items.
    */
   public function __construct(LoggerInterface $logger, Purger $purger) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/archivesspace/src/Commands/ArchivesSpaceResourceDescriptionQueueCommand.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * Batch Update Builder.
    *
-   * @var \Drupal\archivesspace\ResourceDescriptionBatchWorker
+   * @var ResourceDescriptionBatchWorker
    */
   protected $batchUpdateBuilder;

@@ @@
   /**
    * Constructor.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logger for reporting out.
-   * @param \Drupal\archivesspace\ResourceDescriptionBatchWorker $bub
+   * @param ResourceDescriptionBatchWorker $bub
    *   The class responsible for building batch updates for processing.
    */
   public function __construct(LoggerInterface $logger, ResourceDescriptionBatchWorker $bub) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/archivesspace/src/Commands/ArchivesSpaceBatchUpdateCommand.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * Batch Update Builder.
    *
-   * @var \Drupal\archivesspace\BatchUpdateBuilder
+   * @var BatchUpdateBuilder
    */
   protected $batchUpdateBuilder;

@@ @@
   /**
    * Constructor.
    *
-   * @param \Psr\Log\LoggerInterface $logger
+   * @param LoggerInterface $logger
    *   Logger for reporting out.
-   * @param \Drupal\archivesspace\BatchUpdateBuilder $bub
+   * @param BatchUpdateBuilder $bub
    *   The class responsible for building batch updates for processing.
    */
   public function __construct(LoggerInterface $logger, BatchUpdateBuilder $bub) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/archivesspace/src/BatchUpdateBuilder.php:242

    ---------- begin diff ----------
@@ @@
    *
    * @param int $id
    *   Batch ID.
-   * @param \Drupal\archivesspace\ArchivesSpaceSession $session
+   * @param ArchivesSpaceSession $session
    *   Details of the operation.
    * @param array $parameters
    *   The operations' parameters.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


18) modules/contrib/archivesspace/src/ArchivesSpaceUtils.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\archivesspace;

+use Drupal\Core\Config\ImmutableConfig;
+use GuzzleHttp\Psr7\Stream;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
 use Drupal\Core\StringTranslation\TranslationInterface;
 use Drupal\node\NodeInterface;
@@ @@
   /**
    * ArchivesSpaceSession that will allow us to issue API requests.
    *
-   * @var \Drupal\archivesspace\ArchivesSpaceSession
+   * @var ArchivesSpaceSession
    */
   protected $archivesspaceSession;

@@ @@
   /**
    * ArchivesSpace Settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $settings;

@@ @@
    * @param array $params
    *   Parameters to pass to the ArchivesSpace API.
    *
-   * @return GuzzleHttp\Psr7\Stream
+   * @return Stream
    *   Returns a content stream to either save as a file or send as a download.
    */
   public function getResourceDescription(int $nid, string $type = 'pdf', array $params = [
@@ @@
   /**
    * Add item to queue.
    *
-   * @param \Drupal\node\NodeInterface $node
+   * @param NodeInterface $node
    *   Node to add to the queue.
    */
   public function addItem(NodeInterface $node) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


19) modules/contrib/archivesspace/src/ArchivesSpaceIterator.php:9

    ---------- begin diff ----------
@@ @@
   /**
    * ArchivesSpace Session object.
    *
-   * @var Drupal\archivesspace\ArchivesSpaceSession
+   * @var ArchivesSpaceSession
    */
   protected $session;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


20) modules/contrib/archivesspace/src/ArchivesSpaceBreadcrumbBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\archivesspace;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Entity\EntityInterface;
@@ @@
   /**
    * The configuration.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * Storage to load nodes.
    *
-   * @var \Drupal\Core\Entity\EntityStorageInterface
+   * @var EntityStorageInterface
    */
   protected $nodeStorage;

@@ @@
   /**
    * Constructs a breadcrumb builder.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   Storage to load nodes.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
    */
   public function __construct(EntityTypeManagerInterface $entity_manager, ConfigFactoryInterface $config_factory) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


21) modules/contrib/archivesspace/archivesspace.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\EntityTypeManager;
+use Drupal\Core\Entity\EntityLastInstalledSchemaRepositoryInterface;
+use Drupal\Core\Entity\EntityFieldManager;
 /**
  * @file
  * Contains archivesspace.module.
@@ @@
  */
 function db_change_varchar_field($entity_type_id, $field_name, $field_length) {
   // Ignore entity manager caches.
-  /** @var \Drupal\Core\Entity\EntityTypeManager $entity_type_manager */
+  /** @var EntityTypeManager $entity_type_manager */
   $entity_type_manager = \Drupal::service('entity_type.manager');
   $entity_type_manager->useCaches(FALSE);

-  /** @var \Drupal\Core\Entity\EntityLastInstalledSchemaRepositoryInterface $schema_repository */
+  /** @var EntityLastInstalledSchemaRepositoryInterface $schema_repository */
   $schema_repository = \Drupal::service('entity.last_installed_schema.repository');
-  /** @var \Drupal\Core\Entity\EntityFieldManager $entity_field_manager */
+  /** @var EntityFieldManager $entity_field_manager */
   $entity_field_manager = \Drupal::service('entity_field.manager');
   $base_field_definitions = $entity_field_manager->getBaseFieldDefinitions($entity_type_id);
   $schema_repository->setLastInstalledFieldStorageDefinition($base_field_definitions[$field_name]);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 21 files have been changed by Rector                                      

