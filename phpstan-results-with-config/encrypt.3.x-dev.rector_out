modules/contrib/encrypt/drush/encrypt.drush.inc
modules/contrib/encrypt/encrypt.install
modules/contrib/encrypt/encrypt.post_update.php
modules/contrib/encrypt/src/Annotation/EncryptionMethod.php
modules/contrib/encrypt/src/Commands/EncryptCommands.php
modules/contrib/encrypt/src/Controller/EncryptionProfileListBuilder.php
modules/contrib/encrypt/src/EncryptService.php
modules/contrib/encrypt/src/EncryptServiceInterface.php
modules/contrib/encrypt/src/EncryptionMethodInterface.php
modules/contrib/encrypt/src/EncryptionMethodManager.php
modules/contrib/encrypt/src/EncryptionMethodPluginCollection.php
modules/contrib/encrypt/src/EncryptionProfileInterface.php
modules/contrib/encrypt/src/EncryptionProfileManager.php
modules/contrib/encrypt/src/EncryptionProfileManagerInterface.php
modules/contrib/encrypt/src/Entity/EncryptionProfile.php
modules/contrib/encrypt/src/Exception/EncryptException.php
modules/contrib/encrypt/src/Exception/EncryptionMethodCanNotDecryptException.php
modules/contrib/encrypt/src/Form/EncryptSettingsForm.php
modules/contrib/encrypt/src/Form/EncryptionProfileDeleteForm.php
modules/contrib/encrypt/src/Form/EncryptionProfileForm.php
modules/contrib/encrypt/src/Form/EncryptionProfileTestForm.php
modules/contrib/encrypt/src/Plugin/EncryptionMethod/EncryptionMethodBase.php
modules/contrib/encrypt/src/Plugin/EncryptionMethodPluginFormInterface.php
modules/contrib/encrypt/tests/modules/encrypt_test/src/Exception/AsymmetricalEncryptionMethodCanNotDecryptException.php
modules/contrib/encrypt/tests/modules/encrypt_test/src/Plugin/EncryptionMethod/AsymmetricalEncryptionMethod.php
modules/contrib/encrypt/tests/modules/encrypt_test/src/Plugin/EncryptionMethod/ConfigTestEncryptionMethod.php
modules/contrib/encrypt/tests/modules/encrypt_test/src/Plugin/EncryptionMethod/TestEncryptionMethod.php
modules/contrib/encrypt/tests/src/Functional/EncryptTest.php
modules/contrib/encrypt/tests/src/Functional/EncryptTestBase.php
modules/contrib/encrypt/tests/src/Kernel/AsymmetricalEncryptionMethod.php
modules/contrib/encrypt/tests/src/Unit/EncryptServiceTest.php
modules/contrib/encrypt/tests/src/Unit/Entity/EncryptionProfileTest.php

18 files with changes
=====================

1) modules/contrib/encrypt/tests/src/Unit/Entity/EncryptionProfileTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\encrypt\Unit\Entity;

+use Drupal\key\Entity\Key;
+use PHPUnit\Framework\MockObject\MockObject;
+use Drupal\key\KeyRepository;
+use Drupal\Core\Plugin\DefaultLazyPluginCollection;
 use Drupal\Core\DependencyInjection\ContainerBuilder;
 use Drupal\key\KeyInterface;
 use Drupal\Tests\UnitTestCase;
@@ @@
   /**
    * A mocked Key entity.
    *
-   * @var \Drupal\key\Entity\Key|\PHPUnit_Framework_MockObject_MockObject
+   * @var Key|MockObject
    */
   protected $key;

@@ @@
   /**
    * A mocked EncryptionMethod.
    *
-   * @var \Drupal\encrypt\EncryptionMethodInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @var EncryptionMethodInterface|MockObject
    */
   protected $encryptionMethod;

@@ @@
   /**
    * A mocked KeyRepository.
    *
-   * @var \Drupal\key\KeyRepository|\PHPUnit_Framework_MockObject_MockObject
+   * @var KeyRepository|MockObject
    */
   protected $keyRepository;

@@ @@
   /**
    * A mocked plugin collection.
    *
-   * @var \Drupal\Core\Plugin\DefaultLazyPluginCollection|\PHPUnit_Framework_MockObject_MockObject
+   * @var DefaultLazyPluginCollection|MockObject
    */
   protected $pluginCollection;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $container = new ContainerBuilder();
@@ @@
     \Drupal::setContainer($container);

     // Mock a Key entity.
-    $this->key = $this->getMockBuilder('\Drupal\key\Entity\Key')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->key = $this->createMock('\Drupal\key\Entity\Key');

     // Set up expectations for key.
-    $key_type = $this->getMockBuilder('\Drupal\key\Plugin\KeyType\EncryptionKeyType')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $key_type = $this->createMock('\Drupal\key\Plugin\KeyType\EncryptionKeyType');
     $key_type->expects($this->any())
       ->method('getPluginId')
       ->will($this->returnValue('encryption'));
@@ @@
       ->will($this->returnValue("key_value"));

     // Mock an EncryptionMethod.
-    $this->encryptionMethod = $this->getMockBuilder('\Drupal\encrypt\EncryptionMethodInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->encryptionMethod = $this->createMock('\Drupal\encrypt\EncryptionMethodInterface');

     // Set up expectations for encryption method.
     $this->encryptionMethod->expects($this->any())
@@ @@
       ->will($this->returnValue([]));

     // Mock a KeyRepository.
-    $this->keyRepository = $this->getMockBuilder('\Drupal\key\KeyRepository')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->keyRepository = $this->createMock('\Drupal\key\KeyRepository');

     // Mock a plugin collection.
     $this->pluginCollection = $this->getMockBuilder('\Drupal\Core\Plugin\DefaultLazyPluginCollection')
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/encrypt/tests/src/Unit/EncryptServiceTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\encrypt\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
+use Prophecy\Prophecy\ObjectProphecy;
 use Drupal\encrypt\EncryptionMethodInterface;
 use Drupal\encrypt\EncryptionMethodManager;
 use Drupal\encrypt\EncryptionProfileInterface;
@@ @@
  */
 class EncryptServiceTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Default configuration.
    *
@@ @@
   /**
    * A mocked EncryptionProfile entity.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $encryptionProfile;

@@ @@
   /**
    * A mocked EncryptionMethodManager.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $encryptManager;

@@ @@
   /**
    * A mocked KeyRepository.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $keyRepository;

@@ @@
   /**
    * A mocked EncryptionMethod plugin.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $encryptionMethod;

@@ @@
   /**
    * A mocked Key entity.
    *
-   * @var \Prophecy\Prophecy\ObjectProphecy
+   * @var ObjectProphecy
    */
   protected $key;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Set up a mock EncryptionProfile entity.
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/encrypt/tests/src/Kernel/AsymmetricalEncryptionMethod.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\encrypt\Kernel;

+use Drupal\encrypt\EncryptServiceInterface;
 use Drupal\encrypt\Entity\EncryptionProfile;
 use Drupal\encrypt\Exception\EncryptionMethodCanNotDecryptException;
 use Drupal\KernelTests\KernelTestBase;
@@ @@
   /**
    * Test encryption profile.
    *
-   * @var \Drupal\encrypt\Entity\EncryptionProfile
+   * @var EncryptionProfile
    */
   protected $encryptionProfile;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Create a 128bit testkey.
@@ @@
    */
   public function testEncryptDecrypt() {

-    /** @var \Drupal\encrypt\EncryptServiceInterface $profile */
+    /** @var EncryptServiceInterface $profile */
     $service = $this->container->get('encryption');

     $text_encrypted = $service->encrypt('Test to encrypt', $this->encryptionProfile);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ExplicitPhpErrorApiRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/encrypt/tests/src/Functional/EncryptTestBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\encrypt\Functional;

+use Drupal\user\Entity\User;
 use Drupal\encrypt\Entity\EncryptionProfile;
 use Drupal\key\Entity\Key;
 use Drupal\Tests\BrowserTestBase;
@@ @@
   /**
    * An administrator user.
    *
-   * @var \Drupal\user\Entity\User
+   * @var User
    */
   protected $adminUser;

@@ @@
   /**
    * A list of testkeys.
    *
-   * @var \Drupal\key\Entity\Key[]
+   * @var Key[]
    */
   protected $testKeys;

@@ @@
   /**
    * A list of test encryption profiles.
    *
-   * @var \Drupal\encrypt\Entity\EncryptionProfile[]
+   * @var EncryptionProfile[]
    */
   protected $encryptionProfiles;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->adminUser = $this->drupalCreateUser([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/encrypt/tests/src/Functional/EncryptTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\encrypt\Functional;

+use Drupal\encrypt\EncryptionProfileInterface;
 /**
  * Tests the encrypt admin UI and encryption / decryption service.
  *
@@ @@

     // Check if the plugin exists.
     // Encryption method option is present.
-    $this->assertOption('edit-encryption-method', 'test_encryption_method');
+    $this->assertSession()->optionExists('edit-encryption-method', 'test_encryption_method');
     // Encryption method text is present.
-    $this->assertText('Test Encryption method');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Test Encryption method');

     $edit = [
       'encryption_method' => 'test_encryption_method',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
+    $this->submitForm($edit, 'Save');

     $edit = [
       'id' => 'test_encryption_profile',
@@ @@
       'encryption_method' => 'test_encryption_method',
       'encryption_key' => $this->testKeys['testing_key_128']->id(),
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
+    $this->submitForm($edit, 'Save');

     $encryption_profile = \Drupal::service('entity_type.manager')->getStorage('encryption_profile')->load('test_encryption_profile');
     $this->assertNotEmpty($encryption_profile, 'Encryption profile was successfully saved.');
@@ @@

     // Check if the plugin exists.
     // Encryption method option is present.
-    $this->assertOption('edit-encryption-method', 'test_encryption_method');
+    $this->assertSession()->optionExists('edit-encryption-method', 'test_encryption_method');
     // Encryption method text is present.
-    $this->assertText('Test Encryption method');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Test Encryption method');

     $edit = [
       'encryption_method' => 'test_encryption_method',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
+    $this->submitForm($edit, 'Save');

     // Create an encryption profile.
     $edit = [
@@ @@
       'encryption_method' => 'test_encryption_method',
       'encryption_key' => $this->testKeys['testing_key_128']->id(),
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
+    $this->submitForm($edit, 'Save');

     // Test the encryption profile edit form.
     $this->drupalGet('admin/config/system/encryption/profiles/manage/test_encryption_profile');
     // The warning about editing an encryption profile is visible.
-    $this->assertText('Be extremely careful when editing an encryption profile! It may result in making data encrypted with this profile unreadable. Are you sure you want to edit this profile?');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Be extremely careful when editing an encryption profile! It may result in making data encrypted with this profile unreadable. Are you sure you want to edit this profile?');
     // The encryption method field is not visible.
-    $this->assertNoFieldByName('encryption_method', NULL);
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: buttonNotExists() if this is for a button.
+    $this->assertSession()->fieldNotExists('encryption_method');
     // The encryption key field is not visible.
-    $this->assertNoFieldByName('encryption_key', NULL);
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: buttonNotExists() if this is for a button.
+    $this->assertSession()->fieldNotExists('encryption_key');

-    $this->drupalPostForm(NULL, [], 'Edit');
+    $this->submitForm([], 'Edit');

     // The warning about editing an encryption profile is no longer visible.
-    $this->assertNoText('Be extremely careful when editing an encryption profile! It may result in making data encrypted with this profile unreadable. Are you sure you want to edit this profile?');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextNotContains() for HTML responses, responseNotContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextNotContains('Be extremely careful when editing an encryption profile! It may result in making data encrypted with this profile unreadable. Are you sure you want to edit this profile?');
     // The encryption method field is now visible.
-    $this->assertFieldByName('encryption_method', NULL);
+    $this->assertSession()->fieldExists('encryption_method');
     // The encryption key field is now visible.
-    $this->assertFieldByName('encryption_key', NULL);
+    $this->assertSession()->fieldExists('encryption_key');

     // Check that the 128 bit key exists so display changes don't give false
     // positives on the key deletion assertions below.
     $this->drupalGet('admin/config/system/encryption/profiles');
-    $this->assertText('Key 128 bit');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Key 128 bit');

     // Now delete the testkey.
     $this->drupalGet('admin/config/system/keys');
@@ @@
     $this->clickLink('Delete');
     // Warning is shown that linked dependency will also be deleted when
     // deleting the key.
-    $this->assertText('Encryption Profile');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Encryption Profile');
     // The encryption profile linked dependency is listed as the linked
     // dependency.
-    $this->assertText('Test encryption profile');
-    $this->drupalPostForm(NULL, [], 'Delete');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Test encryption profile');
+    $this->submitForm([], 'Delete');

     // Check that the 128 bit key no longer exists.
     $this->drupalGet('admin/config/system/encryption/profiles');
-    $this->assertNoText('Key 128 bit');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextNotContains() for HTML responses, responseNotContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextNotContains('Key 128 bit');

     // Test "check_profile_status" setting.
     $this->config('encrypt.settings')
@@ @@
       ->set('check_profile_status', FALSE)
       ->save();
     $this->drupalGet('admin/config/system/encryption/profiles');
-    $this->assertNoText('The key linked to this encryption profile does not exist.');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextNotContains() for HTML responses, responseNotContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextNotContains('The key linked to this encryption profile does not exist.');
   }

   /**
@@ @@

     // Check if the plugin exists.
     // Config encryption method option is present.
-    $this->assertOption('edit-encryption-method', 'config_test_encryption_method');
+    $this->assertSession()->optionExists('edit-encryption-method', 'config_test_encryption_method');
     // Config encryption method text is present.
-    $this->assertText('Config Test Encryption method');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Config Test Encryption method');

     // Check encryption method without config.
     $edit = [
@@ @@
       'encryption_key' => $this->testKeys['testing_key_128']->id(),
       'encryption_method' => 'test_encryption_method',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
-    $this->assertText('Saved the Test encryption profile.');
+    $this->submitForm($edit, 'Save');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Saved the Test encryption profile.');
     $this->drupalGet('admin/config/system/encryption/profiles/manage/test_encryption_profile');
     // First, confirm we want to edit the encryption profile.
-    $this->drupalPostForm(NULL, [], 'Edit');
+    $this->submitForm([], 'Edit');
     // Test encryption method has no config form.
-    $this->assertNoFieldByName('encryption_method_configuration[mode]', NULL);
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: buttonNotExists() if this is for a button.
+    $this->assertSession()->fieldNotExists('encryption_method_configuration[mode]');

     // Check encryption method with config.
     $this->drupalGet('admin/config/system/encryption/profiles/add');
@@ @@
       'encryption_key' => $this->testKeys['testing_key_128']->id(),
       'encryption_method' => 'config_test_encryption_method',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
-    $this->assertText('Saved the Test 2 encryption profile.');
+    $this->submitForm($edit, 'Save');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Saved the Test 2 encryption profile.');
     $this->drupalGet('admin/config/system/encryption/profiles/manage/test_encryption_profile_2');
     // First, confirm we want to edit the encryption profile.
-    $this->drupalPostForm(NULL, [], 'Edit');
+    $this->submitForm([], 'Edit');
     // Config test encryption method has config form.
-    $this->assertFieldByName('encryption_method_configuration[mode]', NULL);
+    $this->assertSession()->fieldExists('encryption_method_configuration[mode]');
     // Config form shows element.
-    $this->assertOptionByText('encryption_method_configuration[mode]', 'CBC');
+    $this->assertSession()->optionExists('encryption_method_configuration[mode]', 'CBC');

     // Save encryption profile with configured encryption method.
     $this->drupalGet('admin/config/system/encryption/profiles/add');
@@ @@
       'encryption_method' => 'config_test_encryption_method',
       'encryption_key' => $this->testKeys['testing_key_128']->id(),
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
+    $this->submitForm($edit, 'Save');

     // Check if encryption method configuration was succesfully saved.
     $this->drupalGet('admin/config/system/encryption/profiles/manage/test_config_encryption_profile');
     // First, confirm we want to edit the encryption profile.
-    $this->drupalPostForm(NULL, [], 'Edit');
+    $this->submitForm([], 'Edit');
     $edit = [
       'encryption_method_configuration[mode]' => 'CBC',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
-    /** @var \Drupal\encrypt\EncryptionProfileInterface $encryption_profile */
+    $this->submitForm($edit, 'Save');
+    /** @var EncryptionProfileInterface $encryption_profile */
     $encryption_profile = \Drupal::service('entity_type.manager')->getStorage('encryption_profile')->load('test_config_encryption_profile');
     $this->assertNotEmpty($encryption_profile, 'Encryption profile was successfully saved');
     $encryption_method = $encryption_profile->getEncryptionMethod();
@@ @@
     $this->drupalGet('admin/config/system/encryption/profiles/manage/test_config_encryption_profile');

     // First, confirm we want to edit the encryption profile.
-    $this->drupalPostForm(NULL, [], 'Edit');
+    $this->submitForm([], 'Edit');

     // Select encryption method without config.
     $edit = [
@@ @@
       'encryption_method' => 'test_encryption_method',
       'encryption_key' => $this->testKeys['testing_key_128']->id(),
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
+    $this->submitForm($edit, 'Save');
     $this->drupalGet('admin/config/system/encryption/profiles/manage/test_config_encryption_profile');
     // First, confirm we want to edit the encryption profile.
-    $this->drupalPostForm(NULL, [], 'Edit');
+    $this->submitForm([], 'Edit');
     // Test encryption method has no config form.
-    $this->assertNoFieldByName('encryption_method_configuration[mode]', NULL);
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: buttonNotExists() if this is for a button.
+    $this->assertSession()->fieldNotExists('encryption_method_configuration[mode]');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertFieldByNameRector
 * AssertNoFieldByNameRector
 * AssertNoTextRector
 * AssertOptionByTextRector
 * AssertOptionRector
 * AssertTextRector
 * UiHelperTraitDrupalPostFormRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/encrypt/src/Form/EncryptionProfileTestForm.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * The encrypt service.
    *
-   * @var \Drupal\encrypt\EncryptService
+   * @var EncryptService
    */
   protected $encryptService;

@@ @@
   /**
    * Constructs the test form.
    *
-   * @param \Drupal\encrypt\EncryptService $encrypt_service
+   * @param EncryptService $encrypt_service
    *   The encryption service.
    */
   public function __construct(EncryptService $encrypt_service) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/encrypt/src/Form/EncryptionProfileForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\encrypt\Form;

+use Drupal\Core\Config\ConfigFactory;
+use Drupal\encrypt\Entity\EncryptionProfile;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityForm;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   /**
    * The configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactory
+   * @var ConfigFactory
    */
   protected $configFactory;

@@ @@
   /**
    * The EncryptService definition.
    *
-   * @var \Drupal\encrypt\EncryptService
+   * @var EncryptService
    */
   protected $encryptService;

@@ @@
   /**
    * The original encryption profile.
    *
-   * @var \Drupal\encrypt\Entity\EncryptionProfile|null
+   * @var EncryptionProfile|null
    *   The original EncryptionProfile entity or NULL if this is a new one.
    */
   protected $originalProfile = NULL;
@@ @@
   /**
    * Constructs a EncryptionProfileForm object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
    * @param \Drupal\Encrypt\EncryptService $encrypt_service
    *   The lazy context repository service.
@@ @@
   /**
    * Creates a FormStateInterface object for a plugin.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state to copy values from.
    *
-   * @return \Drupal\Core\Form\FormStateInterface
+   * @return FormStateInterface
    *   A clone of the form state object with values from the plugin.
    */
   protected function createPluginFormState(FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   The form definition array for the encryption profile form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    *
    * @return array
@@ @@
   /**
    * Update the EncryptionMethod plugin.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The current state of the form.
    */
   protected function updateEncryptionMethod(FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
    */
   public function confirmEdit(array &$form, FormStateInterface $form_state) {
@@ @@
   /**
    * Moves form errors from one form state to another.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $from
+   * @param FormStateInterface $from
    *   The form state object to move from.
-   * @param \Drupal\Core\Form\FormStateInterface $to
+   * @param FormStateInterface $to
    *   The form state object to move to.
    */
   protected function moveFormStateErrors(FormStateInterface $from, FormStateInterface $to) {
@@ @@
   /**
    * Moves storage variables from one form state to another.
    *
-   * @param \Drupal\Core\Form\FormStateInterface $from
+   * @param FormStateInterface $from
    *   The form state object to move from.
-   * @param \Drupal\Core\Form\FormStateInterface $to
+   * @param FormStateInterface $to
    *   The form state object to move to.
    */
   protected function moveFormStateStorage(FormStateInterface $from, FormStateInterface $to) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/encrypt/src/Entity/EncryptionProfile.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\encrypt\Entity;

+use Drupal\Component\Plugin\LazyPluginCollection;
+use Drupal\Key\KeyRepository;
 use Drupal\Core\Config\Entity\ConfigEntityBase;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Entity\EntityWithPluginCollectionInterface;
@@ @@
   /**
    * The plugin collection that holds the EncryptionMethod plugin.
    *
-   * @var \Drupal\encrypt\EncryptionMethodPluginCollection
+   * @var EncryptionMethodPluginCollection
    */
   protected $pluginCollection;

@@ @@
   /**
    * Stores a reference to the Key entity for this profile.
    *
-   * @var \Drupal\key\Entity\Key
+   * @var Key
    */
   protected $encryption_key_entity;

@@ @@
   /**
    * Encapsulates the creation of the EncryptionMethod's LazyPluginCollection.
    *
-   * @return \Drupal\Component\Plugin\LazyPluginCollection
+   * @return LazyPluginCollection
    *   The EncryptionMethod's plugin collection.
    */
   protected function getPluginCollection() {
@@ @@
   /**
    * Gets the key repository service.
    *
-   * @return \Drupal\Key\KeyRepository
+   * @return KeyRepository
    *   The Key repository service.
    */
   protected function getKeyRepository() {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/encrypt/src/EncryptionProfileManagerInterface.php:12

    ---------- begin diff ----------
@@ @@
    * @param string $encryption_profile_id
    *   ID of EncryptionProfile entity.
    *
-   * @return \Drupal\encrypt\EncryptionProfileInterface
+   * @return EncryptionProfileInterface
    *   The EncryptionProfile entity.
    */
   public function getEncryptionProfile($encryption_profile_id);
@@ @@
   /**
    * Get all EncryptionProfile entities.
    *
-   * @return \Drupal\encrypt\EncryptionProfileInterface[]
+   * @return EncryptionProfileInterface[]
    *   An array of all EncryptionProfile entities.
    */
   public function getAllEncryptionProfiles();
@@ @@
    * @param string $encryption_method_id
    *   The plugin ID of the EncryptionMethod.
    *
-   * @return \Drupal\encrypt\EncryptionProfileInterface[]
+   * @return EncryptionProfileInterface[]
    *   An array of EncryptionProfile entities.
    */
   public function getEncryptionProfilesByEncryptionMethod($encryption_method_id);
@@ @@
    * @param string $key_id
    *   The plugin ID of the EncryptionMethod.
    *
-   * @return \Drupal\encrypt\EncryptionProfileInterface[]
+   * @return EncryptionProfileInterface[]
    *   An array of EncryptionProfile entities.
    */
   public function getEncryptionProfilesByEncryptionKey($key_id);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


10) modules/contrib/encrypt/src/EncryptionProfileManager.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * The entity type manager service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * Construct the EncryptionProfileManager object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_manager
+   * @param EntityTypeManagerInterface $entity_manager
    *   The entity manager service.
    */
   public function __construct(EntityTypeManagerInterface $entity_manager) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


11) modules/contrib/encrypt/src/EncryptionProfileInterface.php:12

    ---------- begin diff ----------
@@ @@
   /**
    * Gets the encryption method configuration plugin.
    *
-   * @return \Drupal\encrypt\EncryptionMethodInterface
+   * @return EncryptionMethodInterface
    *   The used EncryptionMethod plugin.
    */
   public function getEncryptionMethod();
@@ @@
   /**
    * Sets the encryption method to use.
    *
-   * @param \Drupal\encrypt\EncryptionMethodInterface $encryption_method
+   * @param EncryptionMethodInterface $encryption_method
    *   The encryption method to use on this encryption profile.
    */
   public function setEncryptionMethod(EncryptionMethodInterface $encryption_method);
@@ @@
   /**
    * Gets the Key entity used in the encryption profile.
    *
-   * @return \Drupal\key\Entity\Key
+   * @return Key
    *   The used Key entity.
    */
   public function getEncryptionKey();
@@ @@
   /**
    * Sets the encryption key to use.
    *
-   * @param \Drupal\key\Entity\Key $key
+   * @param Key $key
    *   The encryption key to use on this encryption profile.
    */
   public function setEncryptionKey(Key $key);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


12) modules/contrib/encrypt/src/EncryptionMethodManager.php:16

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/encrypt/src/EncryptionMethodInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\encrypt;

+use Drupal\encrypt\Exception\EncryptException;
+use Drupal\encrypt\Exception\EncryptionMethodCanNotDecryptException;
 use Drupal\Component\Plugin\PluginInspectionInterface;

 /**
@@ @@
    * @return string
    *   The encrypted text
    *
-   * @throws \Drupal\encrypt\Exception\EncryptException
+   * @throws EncryptException
    *   Thrown when encryption fails.
    */
   public function encrypt($text, $key);
@@ @@
    * @return string
    *   The decrypted text
    *
-   * @throws \Drupal\encrypt\Exception\EncryptException
+   * @throws EncryptException
    *   Thrown when decryption fails.
-   * @throws \Drupal\encrypt\Exception\EncryptionMethodCanNotDecryptException
+   * @throws EncryptionMethodCanNotDecryptException
    *   The method should throw this exception when the plugin can not decrypt
    *   (i.e. use a public key).
    */
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


14) modules/contrib/encrypt/src/EncryptServiceInterface.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\encrypt;

+use Drupal\encrypt\Exception\EncryptException;
+use Drupal\encrypt\Exception\EncryptionMethodCanNotDecryptException;
 /**
  * Class EncryptService.
  *
@@ @@
    *
    * @param string $text
    *   The plain text to encrypt.
-   * @param \Drupal\encrypt\EncryptionProfileInterface $encryption_profile
+   * @param EncryptionProfileInterface $encryption_profile
    *   The encryption profile entity.
    *
    * @return string
    *   The encrypted string.
    *
-   * @throws \Drupal\encrypt\Exception\EncryptException
+   * @throws EncryptException
    *   Can throw an EncryptException.
    */
   public function encrypt($text, EncryptionProfileInterface $encryption_profile);
@@ @@
    *
    * @param string $text
    *   The encrypted text to decrypt.
-   * @param \Drupal\encrypt\EncryptionProfileInterface $encryption_profile
+   * @param EncryptionProfileInterface $encryption_profile
    *   The encryption profile entity.
    *
    * @return string
    *   The decrypted plain string.
    *
-   * @throws \Drupal\encrypt\Exception\EncryptException
+   * @throws EncryptException
    *   Can throw an EncryptException.
-   * @throws \Drupal\encrypt\Exception\EncryptionMethodCanNotDecryptException
+   * @throws EncryptionMethodCanNotDecryptException
    *   Thrown when method can not decrypt (i.e. use a public key).
    */
   public function decrypt($text, EncryptionProfileInterface $encryption_profile);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


15) modules/contrib/encrypt/src/EncryptService.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\encrypt;

+use Drupal\key\KeyRepository;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\encrypt\Exception\EncryptionMethodCanNotDecryptException;
 use Drupal\encrypt\Exception\EncryptException;
@@ @@
   /**
    * The EncryptionMethod plugin manager.
    *
-   * @var \Drupal\encrypt\EncryptionMethodManager
+   * @var EncryptionMethodManager
    */
   protected $encryptManager;

@@ @@
   /**
    * The KeyRepository.
    *
-   * @var \Drupal\key\KeyRepository
+   * @var KeyRepository
    */
   protected $keyRepository;

@@ @@
   /**
    * The configuration factory.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * {@inheritdoc}
    *
-   * @param \Drupal\encrypt\EncryptionMethodManager $encrypt_manager
+   * @param EncryptionMethodManager $encrypt_manager
    *   The EncryptionMethod plugin manager.
-   * @param \Drupal\key\KeyRepositoryInterface $key_repository
+   * @param KeyRepositoryInterface $key_repository
    *   The KeyRepository.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
    */
   public function __construct(EncryptionMethodManager $encrypt_manager, KeyRepositoryInterface $key_repository, ConfigFactoryInterface $config_factory = NULL) {
@@ @@
    *
    * @param string $text
    *   The text to encrypt / decrypt.
-   * @param \Drupal\encrypt\EncryptionProfileInterface $encryption_profile
+   * @param EncryptionProfileInterface $encryption_profile
    *   The encryption profile to validate.
    *
    * @return bool
    *   Whether the encryption profile validated correctly.
    *
-   * @throws \Drupal\encrypt\Exception\EncryptException
+   * @throws EncryptException
    *   Error with validation failures.
    */
   protected function validate($text, EncryptionProfileInterface $encryption_profile) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


16) modules/contrib/encrypt/src/Controller/EncryptionProfileListBuilder.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\encrypt\Controller;

+use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\Entity\ConfigEntityListBuilder;
 use Drupal\Core\Entity\EntityInterface;
@@ @@
   /**
    * A configuration object.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * Constructs a new EncryptionProfileListBuilder object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeInterface $entity_type
+   * @param EntityTypeInterface $entity_type
    *   The entity type definition.
-   * @param \Drupal\Core\Entity\EntityStorageInterface $storage
+   * @param EntityStorageInterface $storage
    *   The entity storage class.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The configuration factory.
    */
   public function __construct(EntityTypeInterface $entity_type, EntityStorageInterface $storage, ConfigFactoryInterface $config_factory) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/encrypt/src/Commands/EncryptCommands.php:15

    ---------- begin diff ----------
@@ @@
   /**
    * Encrypt service.
    *
-   * @var \Drupal\encrypt\EncryptService
+   * @var EncryptService
    */
   protected $encrypt;

@@ @@
   /**
    * EncryptCommands constructor.
    *
-   * @param \Drupal\encrypt\EncryptService $encrypt
+   * @param EncryptService $encrypt
    *   The encrypt service object.
    */
   public function __construct(EncryptService $encrypt) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/encrypt/src/Annotation/EncryptionMethod.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\encrypt\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The human-readable name of the encryption method.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
   /**
    * The description shown to users.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


 [OK] 18 files have been changed by Rector                                      

