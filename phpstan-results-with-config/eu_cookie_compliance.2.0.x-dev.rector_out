modules/contrib/eu_cookie_compliance/eu_cookie_compliance.api.php
modules/contrib/eu_cookie_compliance/eu_cookie_compliance.install
modules/contrib/eu_cookie_compliance/eu_cookie_compliance.module
modules/contrib/eu_cookie_compliance/eu_cookie_compliance.post_update.php
modules/contrib/eu_cookie_compliance/eu_cookie_compliance.views.inc
modules/contrib/eu_cookie_compliance/src/Annotation/ConsentStorage.php
modules/contrib/eu_cookie_compliance/src/CategoryStorageManager.php
modules/contrib/eu_cookie_compliance/src/Controller/AdminController.php
modules/contrib/eu_cookie_compliance/src/Controller/CheckIfEuCountryJsController.php
modules/contrib/eu_cookie_compliance/src/Controller/StoreConsent.php
modules/contrib/eu_cookie_compliance/src/CookieCategoryHtmlRouteProvider.php
modules/contrib/eu_cookie_compliance/src/CookieCategoryListBuilder.php
modules/contrib/eu_cookie_compliance/src/Entity/CookieCategory.php
modules/contrib/eu_cookie_compliance/src/Entity/CookieCategoryInterface.php
modules/contrib/eu_cookie_compliance/src/Form/CookieCategoryDeleteForm.php
modules/contrib/eu_cookie_compliance/src/Form/CookieCategoryForm.php
modules/contrib/eu_cookie_compliance/src/Form/EuCookieComplianceConfigForm.php
modules/contrib/eu_cookie_compliance/src/PersonalInformationFormInterface.php
modules/contrib/eu_cookie_compliance/src/PersonalInformationFormTrait.php
modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorage/BasicConsentStorage.php
modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorageBase.php
modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorageInterface.php
modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorageManager.php
modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorageManagerInterface.php
modules/contrib/eu_cookie_compliance/src/Routing/CheckIfEuCountryJs.php

13 files with changes
=====================

1) modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorageManagerInterface.php:14

    ---------- begin diff ----------
@@ @@
    * @param array $configuration
    *   Export configuration (aka export options).
    *
-   * @return \Drupal\eu_cookie_compliance\Plugin\ConsentStorageInterface[]
+   * @return ConsentStorageInterface[]
    *   An array of all available eu_cookie_compliance consent plugin instances.
    */
   public function getInstances(array $configuration = []);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


2) modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorageManager.php:21

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorageBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\eu_cookie_compliance\Plugin;

+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\node\Entity\Node;
 use Drupal\Core\Plugin\PluginBase;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
@@ @@
    * directly. See \Drupal\Core\Form\ConfigFormBase::config() for an example of
    * this.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory) {
@@ @@
    *   Returns the latest revision ID of the curreny privacy policy node, or
    *   FALSE if no priacy policy exists.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function getCurrentPolicyNodeRevision() {
     $config = $this->configFactory->get('eu_cookie_compliance.settings');
@@ @@
     $cookie_policy_drupal_path = \Drupal::service('path_alias.manager')->getPathByAlias($cookie_policy_link, \Drupal::languageManager()->getCurrentLanguage()->getId());
     if (substr($cookie_policy_drupal_path, 0, 6) === '/node/') {
       $node_id = explode('/', $cookie_policy_drupal_path)[2];
-      /** @var \Drupal\node\Entity\Node $node */
+      /** @var Node $node */
       $node = \Drupal::entityTypeManager()->getStorage('node')->load($node_id);

       // Ensure the node has been loaded before accessing any properties.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/eu_cookie_compliance/src/Plugin/ConsentStorage/BasicConsentStorage.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * The time service.
    *
-   * @var \Drupal\Component\Datetime\TimeInterface
+   * @var TimeInterface
    */
   protected $time;

@@ @@
    *   The plugin_id for the plugin instance.
    * @param mixed $plugin_definition
    *   The plugin implementation definition.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\Component\Datetime\TimeInterface $time
+   * @param TimeInterface $time
    *   The time service.
    */
   public function __construct(array $configuration, $plugin_id, $plugin_definition, ConfigFactoryInterface $config_factory, TimeInterface $time) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/eu_cookie_compliance/src/PersonalInformationFormTrait.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\eu_cookie_compliance;

+use Drupal\Core\Config\ConfigFactoryInterface;
+use Drupal\eu_cookie_compliance\Plugin\ConsentStorageManagerInterface;
+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\eu_cookie_compliance\Plugin\ConsentStorageBase;
+use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
@@ @@
   /**
    * Config factory service.
    *
-   * @var \Drupal\Core\Config\ConfigFactoryInterface
+   * @var ConfigFactoryInterface
    */
   protected $configFactory;

@@ @@
   /**
    * Consent storage manager service.
    *
-   * @var \Drupal\eu_cookie_compliance\Plugin\ConsentStorageManagerInterface
+   * @var ConsentStorageManagerInterface
    */
   protected $consentStorageManager;

@@ @@
    *
    * @param array $form
    *   Form structure.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state that accompanies the form.
    */
   public function formInjectGdprCheckbox(array &$form, FormStateInterface $form_state) {
@@ @@
    *
    * @param array $form
    *   Form structure.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state with the submitted values.
    */
   public function formSubmitGdprCheckbox(array $form, FormStateInterface $form_state) {
@@ @@
    * @param string $config_name
    *   Name of the config to get.
    *
-   * @return \Drupal\Core\Config\ImmutableConfig
+   * @return ImmutableConfig
    *   Config object.
    */
   protected function getConfig($config_name) {
@@ @@
   /**
    * Get active consent storage.
    *
-   * @return null|\Drupal\eu_cookie_compliance\Plugin\ConsentStorageBase
+   * @return null|ConsentStorageBase
    *   Consent storage object or NULL if one is not configured/available.
    *
-   * @throws \Drupal\Component\Plugin\Exception\PluginException
+   * @throws PluginException
    */
   protected function getConsentStorage() {
     $storage_manager = $this->consentStorageManager ? $this->consentStorageManager : \Drupal::service('plugin.manager.eu_cookie_compliance.consent_storage');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


6) modules/contrib/eu_cookie_compliance/src/PersonalInformationFormInterface.php:13

    ---------- begin diff ----------
@@ @@
    *
    * @param array $form
    *   Form structure.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state that accompanies the form.
    */
   public function formInjectGdprCheckbox(array &$form, FormStateInterface $form_state);
@@ @@
    *
    * @param array $form
    *   Form structure.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state with the submitted values.
    */
   public function formSubmitGdprCheckbox(array $form, FormStateInterface $form_state);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


7) modules/contrib/eu_cookie_compliance/src/Form/EuCookieComplianceConfigForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\eu_cookie_compliance\Form;

+use Drupal\Core\Entity\EntityInterface;
+use Drupal\Core\StringTranslation\TranslatableMarkup;
+use Drupal\user\Entity\Role;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Cache\Cache;
 use Drupal\Core\Config\ConfigFactoryInterface;
@@ @@
   /**
    * The role storage.
    *
-   * @var \Drupal\user\RoleStorageInterface
+   * @var RoleStorageInterface
    */
   protected $roleStorage;

@@ @@
   /**
    * The module handler.
    *
-   * @var \Drupal\Core\Extension\ModuleHandlerInterface
+   * @var ModuleHandlerInterface
    */
   protected $moduleHandler;

@@ @@
   /**
    * Constructs an EuCookieComplianceConfigForm object.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The factory for configuration objects.
-   * @param \Drupal\user\RoleStorageInterface $role_storage
+   * @param RoleStorageInterface $role_storage
    *   The role storage.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler.
    */
   public function __construct(ConfigFactoryInterface $config_factory, RoleStorageInterface $role_storage, ModuleHandlerInterface $module_handler) {
@@ @@
   /**
    * Gets the roles to display in this form.
    *
-   * @return \Drupal\Core\Entity\EntityInterface[]
+   * @return EntityInterface[]
    *   An array of role objects.
    */
   protected function getRoles() : array {
@@ @@
     $consent_storage_options = [];
     $consent_storage_options['do_not_store'] = $this->t('Do not store');
     foreach ($plugin_definitions as $plugin_name => $plugin_definition) {
-      /** @var \Drupal\Core\StringTranslation\TranslatableMarkup $plugin_definition_name */
+      /** @var TranslatableMarkup $plugin_definition_name */
       $plugin_definition_name = $plugin_definition['name'];
       $consent_storage_options[$plugin_name] = $plugin_definition_name->render();
     }
@@ @@

     foreach ($this->getRoles() as $role_name => $role) {
       // Exclude Admin roles.
-      /** @var \Drupal\user\Entity\Role $role */
+      /** @var Role $role */
       if (!$role->isAdmin()) {
         $role_names[$role_name] = $role->label();
         // Fetch permissions for the roles.
@@ @@
     $allowlist_patterns = Settings::get('config_readonly_whitelist_patterns');

     foreach ($this->getRoles() as $role_name => $role) {
-      /** @var \Drupal\user\Entity\Role $role */
+      /** @var Role $role */
       if (!$role->isAdmin()) {
         $user_settings_allowlisted = !empty($allowlist_patterns) && in_array('user.role.' . $role_name, $allowlist_patterns);
         if (!$readonly_enabled || ($readonly_enabled && $user_settings_allowlisted)) {
@@ @@
    *
    * @param array $element
    *   Element.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   Form state.
    */
   public function validatePopupLink(array $element, FormStateInterface &$form_state) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/eu_cookie_compliance/src/Form/CookieCategoryForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\eu_cookie_compliance\Form;

+use Drupal\eu_cookie_compliance\CategoryStorageManager;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Entity\EntityForm;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The Cookie Category Storage Manager.
    *
-   * @var \Drupal\eu_cookie_compliance\CategoryStorageManager
+   * @var CategoryStorageManager
    */
   protected $categoryStorageManager;

@@ @@
   /**
    * Constructs a CookieCategoryForm object.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entityTypeManager
+   * @param EntityTypeManagerInterface $entityTypeManager
    *   The entityTypeManager.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function __construct(EntityTypeManagerInterface $entityTypeManager) {
     $this->entityTypeManager = $entityTypeManager;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/eu_cookie_compliance/src/CookieCategoryListBuilder.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * The entity storage class.
    *
-   * @var \Drupal\eu_cookie_compliance\CategoryStorageManager
+   * @var CategoryStorageManager
    */
   protected $storage;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/eu_cookie_compliance/src/Controller/StoreConsent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\eu_cookie_compliance\Controller;

+use Drupal\eu_cookie_compliance\Plugin\ConsentStorageInterface;
 use Drupal\Core\Controller\ControllerBase;
 use Symfony\Component\HttpFoundation\JsonResponse;

@@ @@
     }

     // Get plugin.
-    /** @var \Drupal\eu_cookie_compliance\Plugin\ConsentStorageInterface $consent_storage */
+    /** @var ConsentStorageInterface $consent_storage */
     $consent_storage = $consent_storages->createInstance($consent_storage_method);
     // Register consent.
     $result = $consent_storage->registerConsent($target);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/eu_cookie_compliance/src/CategoryStorageManager.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\eu_cookie_compliance;

+use Drupal\Core\Entity\EntityInterface;
+use Drupal\eu_cookie_compliance\Entity\CookieCategoryInterface;
 use Drupal\Core\Config\Entity\ConfigEntityStorage;

 /**
@@ @@
   /**
    * Load and return all active cookie categories.
    *
-   * @return array|\Drupal\Core\Entity\EntityInterface[]
+   * @return array|EntityInterface[]
    *   The loaded cookie categories.
    */
   public function getCookieCategories() {
     $categories = [];
-    /** @var \Drupal\eu_cookie_compliance\Entity\CookieCategoryInterface[] $category_entities */
+    /** @var CookieCategoryInterface[] $category_entities */
     $category_entities = $this->loadMultiple();
     foreach ($category_entities as $category_entity) {
       // Added this check to allow people to use domain access to change
@@ @@
    *   The next highest weight.
    */
   public function getCookieCategoryNextWeight() {
-    /** @var \Drupal\eu_cookie_compliance\Entity\CookieCategoryInterface[] $cookies */
+    /** @var CookieCategoryInterface[] $cookies */
     $cookies = $this->loadMultiple();
     $weight = -10;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


12) modules/contrib/eu_cookie_compliance/src/Annotation/ConsentStorage.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\eu_cookie_compliance\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The human-readable name of the consent storage.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
@@ @@
    *
    * This will be shown when adding or configuring this consent storage.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


13) modules/contrib/eu_cookie_compliance/eu_cookie_compliance.module:110

    ---------- begin diff ----------
@@ @@
  */
 function eu_cookie_compliance_form_alter(&$form, FormStateInterface $form_state, $form_id) {
   if ($form_state->getFormObject() instanceof PersonalInformationFormInterface) {
-    /** @var \Drupal\eu_cookie_compliance\PersonalInformationFormInterface $form_object */
+    /** @var PersonalInformationFormInterface $form_object */
     $form_object = $form_state->getFormObject();

     $form_object->formInjectGdprCheckbox($form, $form_state);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 13 files have been changed by Rector                                      

