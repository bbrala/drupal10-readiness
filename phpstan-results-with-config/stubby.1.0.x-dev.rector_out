modules/contrib/stubby/src/Annotation/Parameter.php
modules/contrib/stubby/src/Controller/Output.php
modules/contrib/stubby/src/Entity/Stub.php
modules/contrib/stubby/src/Entity/StubInterface.php
modules/contrib/stubby/src/Form/ParameterAddForm.php
modules/contrib/stubby/src/Form/ParameterDeleteForm.php
modules/contrib/stubby/src/Form/ParameterEditForm.php
modules/contrib/stubby/src/Form/ParameterFormBase.php
modules/contrib/stubby/src/Form/SettingsForm.php
modules/contrib/stubby/src/Form/StubDeleteForm.php
modules/contrib/stubby/src/Form/StubForm.php
modules/contrib/stubby/src/ParameterBase.php
modules/contrib/stubby/src/ParameterInterface.php
modules/contrib/stubby/src/ParameterManager.php
modules/contrib/stubby/src/ParameterPluginCollection.php
modules/contrib/stubby/src/Plugin/Parameter/Regex.php
modules/contrib/stubby/src/Plugin/Parameter/Required.php
modules/contrib/stubby/src/Routing/RouteSubscriber.php
modules/contrib/stubby/src/Routing/StubRoutes.php
modules/contrib/stubby/src/StubHtmlRouteProvider.php
modules/contrib/stubby/src/StubListBuilder.php
modules/contrib/stubby/stubby.module

14 files with changes
=====================

1) modules/contrib/stubby/stubby.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\file\FileInterface;
 /**
  * @file
  * Module implementations for the Stubby module.
  */
-
 /**
  * Implements hook_file_download().
  */
 function stubby_file_download($uri) {
   // Get the file record based on the URI. If not in the database just return.
-  /** @var \Drupal\file\FileInterface[] $files */
+  /** @var FileInterface[] $files */
   $files = \Drupal::entityTypeManager()->getStorage('file')->loadByProperties(['uri' => $uri]);
   if (count($files)) {
     foreach ($files as $item) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


2) modules/contrib/stubby/src/Routing/StubRoutes.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\stubby\Routing;

+use Drupal\stubby\Entity\StubInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Symfony\Component\Routing\Route;
 use Symfony\Component\Routing\RouteCollection;
@@ @@
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * StubRoutes constructor.
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity manager.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager) {
@@ @@
   /**
    * Creates dynamic routes based on stubs.
    *
-   * @return \Symfony\Component\Routing\RouteCollection
+   * @return RouteCollection
    *   Stubby RouteCollection
    */
   public function routes() {
@@ @@
   /**
    * Creates a Route from a Stub entity.
    *
-   * @param \Drupal\stubby\Entity\StubInterface $stub
+   * @param StubInterface $stub
    *   Stub Entity.
    *
-   * @return \Symfony\Component\Routing\Route
+   * @return Route
    *   Stub Route.
    */
   private function createRouteFromStub($stub) {
@@ @@
   /**
    * Load all the Stubs from the Storage.
    *
-   * @return \Drupal\stubby\Entity\StubInterface[]
+   * @return StubInterface[]
    *   Array with Stub Entities.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   private function getAllStubs() {
     return $this->entityManager->getStorage('stub')->loadMultiple();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/stubby/src/Routing/RouteSubscriber.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * StubRoutes Service.
    *
-   * @var \Drupal\stubby\Routing\StubRoutes
+   * @var StubRoutes
    */
   protected $stubRoutes;

@@ @@
   /**
    * RouteSubscriber constructor.
    *
-   * @param \Drupal\stubby\Routing\StubRoutes $stub_routes
+   * @param StubRoutes $stub_routes
    *   StubRoutes Service.
    */
   public function __construct(StubRoutes $stub_routes) {
@@ @@
   /**
    * Adds Stubby RouteCollection to Drupal RouteCollection.
    *
-   * @param \Symfony\Component\Routing\RouteCollection $collection
+   * @param RouteCollection $collection
    *   Drupal RouteCollection.
    */
   protected function alterRoutes(RouteCollection $collection) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/stubby/src/ParameterPluginCollection.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    *
-   * @return \Drupal\stubby\ParameterInterface
+   * @return ParameterInterface
    *   The parameter.
    */
   public function &get($instance_id) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/stubby/src/ParameterManager.php:16

    ---------- begin diff ----------
@@ @@
    * @param \Traversable $namespaces
    *   An object that implements \Traversable which contains the root paths
    *   keyed by the corresponding namespace to look for plugin implementations.
-   * @param \Drupal\Core\Cache\CacheBackendInterface $cache_backend
+   * @param CacheBackendInterface $cache_backend
    *   Cache backend instance to use.
-   * @param \Drupal\Core\Extension\ModuleHandlerInterface $module_handler
+   * @param ModuleHandlerInterface $module_handler
    *   The module handler to invoke the alter hook with.
    */
   public function __construct(\Traversable $namespaces, CacheBackendInterface $cache_backend, ModuleHandlerInterface $module_handler) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/stubby/src/ParameterBase.php:32

    ---------- begin diff ----------
@@ @@
   /**
    * The request stack.
    *
-   * @var \Symfony\Component\HttpFoundation\RequestStack
+   * @var RequestStack
    */
   protected $requestStack;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/stubby/src/Form/StubForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\stubby\Form;

+use Drupal\Core\Config\ImmutableConfig;
+use Drupal\stubby\ParameterInterface;
+use Drupal\stubby\Entity\StubInterface;
+use Drupal\file\FileInterface;
 use Drupal\Component\Serialization\Json;
 use Drupal\Component\Utility\Unicode;
 use Drupal\Core\Config\ConfigFactoryInterface;
@@ @@
   /**
    * The parameter manager.
    *
-   * @var \Drupal\stubby\ParameterManager
+   * @var ParameterManager
    */
   protected $parameterManager;

@@ @@
   /**
    * The Stubby Settings.
    *
-   * @var \Drupal\Core\Config\ImmutableConfig
+   * @var ImmutableConfig
    */
   protected $config;

@@ @@
   /**
    * StubForm constructor.
    *
-   * @param \Drupal\stubby\ParameterManager $parameter_manager
+   * @param ParameterManager $parameter_manager
    *   The parameter manager.
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The config factory.
    */
   public function __construct(ParameterManager $parameter_manager, ConfigFactoryInterface $config_factory) {
@@ @@
         '#weight' => 5,
       ];

-      /** @var \Drupal\stubby\ParameterInterface $parameter */
+      /** @var ParameterInterface $parameter */
       foreach ($this->entity->getParameters() as $parameter) {
         $key = $parameter->getUuid();
         $form['parameters'][$key]['#attributes']['class'][] = 'draggable';
@@ @@
    * {@inheritdoc}
    */
   public function save(array $form, FormStateInterface $form_state) {
-    /** @var \Drupal\stubby\Entity\StubInterface $stub */
+    /** @var StubInterface $stub */
     $stub = $this->entity;

     $json_fid = $form_state->getValue(['response_file', 0]);
@@ @@
     $old_file = $stub->loadJsonFile();
     // We have a file, either old or new.
     if ($json_fid) {
-      /** @var \Drupal\file\FileInterface $file */
+      /** @var FileInterface $file */
       $file = $this->entityTypeManager->getStorage('file')->load($json_fid);

       // New file or overwrite.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/stubby/src/Form/SettingsForm.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * The streamwrapper manager.
    *
-   * @var \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface
+   * @var StreamWrapperManagerInterface
    */
   protected $streamWrapperManager;

@@ @@
   /**
    * The file system.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * SettingsForm construct.
    *
-   * @param \Drupal\Core\Config\ConfigFactoryInterface $config_factory
+   * @param ConfigFactoryInterface $config_factory
    *   The Config factory.
-   * @param \Drupal\Core\StreamWrapper\StreamWrapperManagerInterface $stream_wrapper_manager
+   * @param StreamWrapperManagerInterface $stream_wrapper_manager
    *   The stream wrapper manager.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file system.
    */
   public function __construct(ConfigFactoryInterface $config_factory, StreamWrapperManagerInterface $stream_wrapper_manager, FileSystemInterface $file_system) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/stubby/src/Form/ParameterFormBase.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\stubby\Form;

+use Drupal\stubby\ParameterInterface;
+use Drupal\Core\Entity\EntityMalformedException;
 use Drupal\Core\Form\FormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Form\SubformState;
@@ @@
   /**
    * The parameter manager.
    *
-   * @var \Drupal\stubby\ParameterManager
+   * @var ParameterManager
    */
   protected $parameterManager;

@@ @@
   /**
    * The stub.
    *
-   * @var \Drupal\stubby\Entity\StubInterface
+   * @var StubInterface
    */
   protected $stub;

@@ @@
   /**
    * The parameter.
    *
-   * @var \Drupal\stubby\ParameterInterface
+   * @var ParameterInterface
    */
   protected $parameter;

@@ @@
   /**
    * StubForm constructor.
    *
-   * @param \Drupal\stubby\ParameterManager $parameter_manager
+   * @param ParameterManager $parameter_manager
    *   The parameter manager.
    */
   public function __construct(ParameterManager $parameter_manager) {
@@ @@
    *
    * @param array $form
    *   The form.
-   * @param \Drupal\Core\Form\FormStateInterface $form_state
+   * @param FormStateInterface $form_state
    *   The form state.
-   * @param \Drupal\stubby\Entity\StubInterface $stub
+   * @param StubInterface $stub
    *   The stub..
    * @param string $parameter
    *   The parameter ID.
@@ @@
    * @return array
    *   The form structure.
    *
-   * @throws \Drupal\Core\Entity\EntityMalformedException
+   * @throws EntityMalformedException
    */
   public function buildForm(array $form, FormStateInterface $form_state, StubInterface $stub = NULL, $parameter = NULL) {
     $this->stub = $stub;
@@ @@
    * @param string $parameter
    *   The parameter ID.
    *
-   * @return \Drupal\stubby\ParameterInterface
+   * @return ParameterInterface
    *   The parameter object.
    */
   abstract protected function prepareParameter($parameter);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/stubby/src/Form/ParameterDeleteForm.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\stubby\Form;

+use Drupal\stubby\ParameterInterface;
 use Drupal\Core\Form\ConfirmFormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\stubby\Entity\StubInterface;
@@ @@
   /**
    * The stub.
    *
-   * @var \Drupal\stubby\Entity\StubInterface
+   * @var StubInterface
    */
   protected $stub;

@@ @@
   /**
    * The parameter.
    *
-   * @var \Drupal\stubby\ParameterInterface
+   * @var ParameterInterface
    */
   protected $parameter;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/stubby/src/Entity/StubInterface.php:41

    ---------- begin diff ----------
@@ @@
    * @param string $parameter
    *   The parameter uuid.
    *
-   * @return \Drupal\stubby\ParameterInterface
+   * @return ParameterInterface
    *   A loaded parameter.
    */
   public function getParameter($parameter);
@@ @@
    * @param string $file_name
    *   An optional name to save the file as.
    *
-   * @return \Drupal\file\FileInterface|false
+   * @return FileInterface|false
    *   The saved file or false.
    */
   public function createJsonFile($json, $file_name = NULL);
@@ @@
   /**
    * Loads the file and creates one if missing.
    *
-   * @return \Drupal\file\FileInterface|false
+   * @return FileInterface|false
    *   The loaded file or false on failuire.
    */
   public function loadJsonFile();
@@ @@
   /**
    * Outputs the contents of a the Stub.
    *
-   * @param \Drupal\file\FileInterface|null $file
+   * @param FileInterface|null $file
    *   A file to parse, otherwise use from stub.
    *
    * @return string
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


12) modules/contrib/stubby/src/Entity/Stub.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\stubby\Entity;

+use Drupal\Component\Plugin\PluginManagerInterface;
 use Drupal\Component\Serialization\Json;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Config\Entity\ConfigEntityBase;
@@ @@
   /**
    * Holds the collection of parameters that are used by this stub.
    *
-   * @var \Drupal\stubby\ParameterPluginCollection
+   * @var ParameterPluginCollection
    */
   protected $parameterCollection;

@@ @@
   /**
    * Returns the parameter plugin manager.
    *
-   * @return \Drupal\Component\Plugin\PluginManagerInterface
+   * @return PluginManagerInterface
    *   The parameter plugin manager.
    */
   protected function getParameterPluginManager() {
@@ @@
       $config = \Drupal::config('stubby.settings');
       $file_name = $file_name ?? $config->get('file_location') . '://stubby/' . $this->id() . '.json';
       $json = Json::encode($json_array);
-      return file_save_data($json, $file_name, FileSystemInterface::EXISTS_REPLACE);
+      return \Drupal::service('file.repository')->writeData($json, $file_name, FileSystemInterface::EXISTS_REPLACE);
     }
     return FALSE;
   }
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/stubby/src/Controller/Output.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\stubby\Controller;

+use Drupal\stubby\Entity\StubInterface;
+use Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException;
+use Drupal\Component\Plugin\Exception\PluginNotFoundException;
+use Drupal\stubby\ParameterInterface;
 use Drupal\Component\Serialization\Json;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
@@ @@
   /**
    * The entity manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface
+   * @var EntityTypeManagerInterface
    */
   protected $entityManager;

@@ @@
   /**
    * The file system.
    *
-   * @var \Drupal\Core\File\FileSystemInterface
+   * @var FileSystemInterface
    */
   protected $fileSystem;

@@ @@
   /**
    * The stub.
    *
-   * @var \Drupal\stubby\Entity\StubInterface
+   * @var StubInterface
    */
   protected $stub;

@@ @@
   /**
    * Constructs a new Output..
    *
-   * @param \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager
+   * @param EntityTypeManagerInterface $entity_type_manager
    *   The entity manager.
-   * @param \Drupal\Core\File\FileSystemInterface $file_system
+   * @param FileSystemInterface $file_system
    *   The file system.
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, FileSystemInterface $file_system) {
@@ @@
    * @param string $stub
    *   The stub key.
    *
-   * @return \Symfony\Component\HttpFoundation\JsonResponse
+   * @return JsonResponse
    *   A JsonResponse object.
    *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
+   * @throws InvalidPluginDefinitionException
+   * @throws PluginNotFoundException
    */
   public function response($stub = NULL) {
     $data = [];

-    /** @var \Drupal\stubby\Entity\StubInterface $stub */
+    /** @var StubInterface $stub */
     if (!$this->stub = $this->entityManager->getStorage('stub')->load($stub)) {
       // @todo Provide some feedback if/when this fails.
       return new JsonResponse($data);
@@ @@
    *   The response.
    */
   protected function processParameters() {
-    /** @var \Drupal\stubby\ParameterInterface $parameter */
+    /** @var ParameterInterface $parameter */
     foreach ($this->stub->getParameters() as $parameter) {
       if ($parameter->process() === FALSE) {
         // @todo Add some response logging here.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/stubby/src/Annotation/Parameter.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\stubby\Annotation;

+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;

 /**
@@ @@
   /**
    * The label of the plugin.
    *
-   * @var \Drupal\Core\Annotation\Translation
+   * @var Translation
    *
    * @ingroup plugin_translatable
    */
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector


 [OK] 14 files have been changed by Rector                                      

