diff --git a/iu_paragraphs.module b/iu_paragraphs.module
index bb3f248..819575b 100644
--- a/iu_paragraphs.module
+++ b/iu_paragraphs.module
@@ -203,13 +203,13 @@ function iu_paragraphs_preprocess_paragraph__iu_banner(&$variables) {
     $small = ImageStyle::load('iu_one_half_standard');
     $medium = ImageStyle::load('iu_full_wide');
     $large = ImageStyle::load('iu_banner');
-    $variables['bgimage_small'] = file_url_transform_relative($small->buildUrl($uri));
-    $variables['bgimage_medium'] = file_url_transform_relative($medium->buildUrl($uri));
-    $variables['bgimage_large'] = file_url_transform_relative($large->buildUrl($uri));
+    $variables['bgimage_small'] = \Drupal::service('file_url_generator')->transformRelative($small->buildUrl($uri));
+    $variables['bgimage_medium'] = \Drupal::service('file_url_generator')->transformRelative($medium->buildUrl($uri));
+    $variables['bgimage_large'] = \Drupal::service('file_url_generator')->transformRelative($large->buildUrl($uri));
     if ($bundle == 'svg') {
       $variables['is_svg'] = TRUE;
-      $url = file_create_url($entity->getFileUri());
-      $url = file_url_transform_relative($url);
+      $url = \Drupal::service('file_url_generator')->generateAbsoluteString($entity->getFileUri());
+      $url = \Drupal::service('file_url_generator')->transformRelative($url);
       $variables['bgimage_small'] =
       $variables['bgimage_medium'] =
       $variables['bgimage_large'] = $url;
@@ -287,7 +287,7 @@ function iu_paragraphs_preprocess_paragraph__iu_section(&$variables) {
 
   // Setup background image variable.
   $bgimage = $p->iu_section_bgimage->entity;
-  $variables['bgimage'] = !empty($bgimage) ? file_url_transform_relative(file_create_url($bgimage->getFileUri())) : FALSE;
+  $variables['bgimage'] = !empty($bgimage) ? \Drupal::service('file_url_generator')->generateString($bgimage->getFileUri()) : FALSE;
 
   // Setup background color class name variable.
   _iu_paragraphs_preprocess_paragraph__iu_section_background_color($variables);
@@ -331,11 +331,11 @@ function _iu_paragraphs_preprocess_paragraph__iu_section_background_color(&$vari
     $colorname = !empty($bgcolor[0]['value']) ? $bgcolor[0]['value'] : 'none';
     $variables['bgcolor'] = 'bg-' . $colorname;
 
-    if (drupal_get_path('theme', 'iu')) {
+    if (\Drupal::service('extension.list.theme')->getPath('iu')) {
       // Load IU color palette and display section background color options as
       // color blocks. (Please excuse the tight coupling with the IU theme, it
       // couldn't be helped to satisfy the IU Styleguide options).
-      require_once drupal_get_path('theme', 'iu') . '/iu.theme';
+      require_once \Drupal::service('extension.list.theme')->getPath('iu') . '/iu.theme';
       $colors = _iu_secondary_color_palette_options();
 
       // Determine the real colorname of the secondary color based on the IU
@@ -476,7 +476,7 @@ function _iu_paragraphs_iu_section_background_color_alter(array &$element, FormS
   }
 
   // Handle missing theme.
-  if (!drupal_get_path('theme', 'iu')) {
+  if (!\Drupal::service('extension.list.theme')->getPath('iu')) {
     return;
   }
 
@@ -491,7 +491,7 @@ function _iu_paragraphs_iu_section_background_color_alter(array &$element, FormS
   // Load IU color palette and display section background color options as
   // color blocks. (Please excuse the tight coupling with the IU theme, it
   // couldn't be helped to satisfy the IU Styleguide options).
-  require_once drupal_get_path('theme', 'iu') . '/iu.theme';
+  require_once \Drupal::service('extension.list.theme')->getPath('iu') . '/iu.theme';
   $colors = _iu_secondary_color_palette_options();
 
   $widget = &$subform['iu_section_background_color']['widget'];
