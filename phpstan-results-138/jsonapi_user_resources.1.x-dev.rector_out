modules/contrib/jsonapi_user_resources/src/EventSubscriber/PasswordResetSubscriber.php
modules/contrib/jsonapi_user_resources/src/EventSubscriber/UserRegistrationSubscriber.php
modules/contrib/jsonapi_user_resources/src/Events/PasswordResetEvent.php
modules/contrib/jsonapi_user_resources/src/Events/RegistrationEvent.php
modules/contrib/jsonapi_user_resources/src/Events/UserResourcesEvents.php
modules/contrib/jsonapi_user_resources/src/Plugin/jsonapi_hypermedia/LinkProvider/AuthenticatedAsLinkProvider.php
modules/contrib/jsonapi_user_resources/src/Resource/PasswordReset.php
modules/contrib/jsonapi_user_resources/src/Resource/PasswordUpdate.php
modules/contrib/jsonapi_user_resources/src/Resource/Registration.php
modules/contrib/jsonapi_user_resources/src/Routing/Routes.php
modules/contrib/jsonapi_user_resources/tests/modules/jsonapi_user_resources_test/src/EventSubscriber/RegistrationSubscriber.php
modules/contrib/jsonapi_user_resources/tests/src/Functional/HypermediaIntegrationTest.php
modules/contrib/jsonapi_user_resources/tests/src/Functional/PasswordResetTest.php
modules/contrib/jsonapi_user_resources/tests/src/Functional/PasswordUpdateTest.php
modules/contrib/jsonapi_user_resources/tests/src/Functional/RegistrationTest.php

7 files with changes
====================

1) modules/contrib/jsonapi_user_resources/tests/src/Functional/RegistrationTest.php:41

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->config('jsonapi.settings')->set('read_only', FALSE)->save(TRUE);
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/jsonapi_user_resources/tests/src/Functional/PasswordUpdateTest.php:49

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->config('jsonapi.settings')->set('read_only', FALSE)->save(TRUE);
     $this->sut = $this->createUser([], 'sut');
@@ @@
       'data' => [
         'type' => 'user--user',
         'attributes' => [
-          'pass' => user_password(),
+          'pass' => \Drupal::service('password_generator')->generate(),
           'hash' => user_pass_rehash($this->sut, $timestamp),
           'timestamp' => $timestamp,
         ],
@@ @@
     $this->assertEquals(200, $response->getStatusCode(), $body);
     $this->sut = $this->reloadEntity($this->sut);
     $this->assertTrue($this->sut->isActive());
-    $this->assertNotEqual($this->sut->getPassword(), $previous_password);
+    $this->assertNotEquals($this->sut->getPassword(), $previous_password);
   }

   /**
    ----------- end diff -----------

Applied rules:
 * AssertNotEqualRector
 * UserPasswordRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/jsonapi_user_resources/tests/src/Functional/PasswordResetTest.php:46

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->config('jsonapi.settings')->set('read_only', FALSE)->save(TRUE);
     $this->sut = $this->createUser([], 'sut');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/jsonapi_user_resources/src/Resource/Registration.php:105

    ---------- begin diff ----------
@@ @@

     $document = $this->getDocumentFromRequest($request);
     $event = new RegistrationEvent($created_entity, $document);
-    $this->eventDispatcher->dispatch(UserResourcesEvents::REGISTRATION_VALIDATE, $event);
+    $this->eventDispatcher->dispatch($event, UserResourcesEvents::REGISTRATION_VALIDATE);
   }

   /**
@@ @@
     );
     assert($account instanceof UserInterface);
     $event = new RegistrationEvent($account, $document);
-    $this->eventDispatcher->dispatch(UserResourcesEvents::REGISTRATION_COMPLETE, $event);
+    $this->eventDispatcher->dispatch($event, UserResourcesEvents::REGISTRATION_COMPLETE);
     return $response;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/jsonapi_user_resources/src/Resource/PasswordReset.php:113

    ---------- begin diff ----------
@@ @@
     $this->logger->notice('A password reset has been requested for %name (%email).', ['%name' => $account->getAccountName(), '%email' => $account->getEmail()]);

     $event = new PasswordResetEvent($account, $document);
-    $this->eventDispatcher->dispatch(UserResourcesEvents::PASSWORD_RESET, $event);
+    $this->eventDispatcher->dispatch($event, UserResourcesEvents::PASSWORD_RESET);
     return new ResourceResponse(new JsonApiDocumentTopLevel(
       new OmittedData([]),
       new NullIncludedData(),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/jsonapi_user_resources/src/Events/RegistrationEvent.php:8

    ---------- begin diff ----------
@@ @@
 /**
  * Defines the event for reacting to user account registrations.
  */
-final class RegistrationEvent extends Event {
+final class RegistrationEvent extends \Symfony\Contracts\EventDispatcher\Event {

   /**
    * The user account being registered.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/jsonapi_user_resources/src/Events/PasswordResetEvent.php:8

    ---------- begin diff ----------
@@ @@
 /**
  * Defines the event for reacting to user password resets.
  */
-final class PasswordResetEvent extends Event {
+final class PasswordResetEvent extends \Symfony\Contracts\EventDispatcher\Event {

   /**
    * The user account being registered.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [ERROR] Could not process                                                      
         "modules/contrib/jsonapi_user_resources/src/Plugin/jsonapi_hypermedia/Lin
         kProvider/AuthenticatedAsLinkProvider.php" file, due to:               
         "Analyze error: "Class Drupal\jsonapi_hypermedia\Plugin\LinkProviderBase
         not found.". Include your files in                                     
         "$rectorConfig->autoloadPaths([...]);" or                              
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

