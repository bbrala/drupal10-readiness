modules/contrib/oauth2_rs/oauth2_rs.install
modules/contrib/oauth2_rs/oauth2_rs.module
modules/contrib/oauth2_rs/src/Annotation/AuthorizationValidator.php
modules/contrib/oauth2_rs/src/Authentication/Provider/JWTAuthenticationProvider.php
modules/contrib/oauth2_rs/src/Authentication/TokenAuthUser.php
modules/contrib/oauth2_rs/src/Authentication/TokenAuthUserInterface.php
modules/contrib/oauth2_rs/src/Form/Oauth2TokenSettingsForm.php
modules/contrib/oauth2_rs/src/PageCache/DisallowOauthRequests.php
modules/contrib/oauth2_rs/src/PageCache/OauthRequestPolicyInterface.php
modules/contrib/oauth2_rs/src/Plugin/AuthorizationValidatorPluginBase.php
modules/contrib/oauth2_rs/src/Plugin/AuthorizationValidatorPluginInterface.php
modules/contrib/oauth2_rs/src/Plugin/AuthorizationValidatorPluginManager.php
modules/contrib/oauth2_rs/src/Plugin/AuthorizationValidators/BearerTokenValidator.php
modules/contrib/oauth2_rs/src/Plugin/AuthorizationValidators/CognitoBearerValidator.php
modules/contrib/oauth2_rs/src/Server/ResourceServer.php
modules/contrib/oauth2_rs/src/Server/ResourceServerInterface.php
modules/contrib/oauth2_rs/src/Service/FileSystemChecker.php
modules/contrib/oauth2_rs/src/Service/UserAuthManager.php
modules/contrib/oauth2_rs/src/Service/UserAuthManagerInterface.php
modules/contrib/oauth2_rs/tests/src/Functional/OauthRsTestTrait.php
modules/contrib/oauth2_rs/tests/src/Unit/Authentication/Provider/JWTAuthenticationProviderTest.php

3 files with changes
====================

1) modules/contrib/oauth2_rs/tests/src/Unit/Authentication/Provider/JWTAuthenticationProviderTest.php:18

    ---------- begin diff ----------
@@ @@
  */
 class JWTAuthenticationProviderTest extends UnitTestCase {

+  use \Prophecy\PhpUnit\ProphecyTrait;
   /**
    * The authentication provider.
    *
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/oauth2_rs/src/Service/UserAuthManager.php:52

    ---------- begin diff ----------
@@ @@
   public function createAccount($email, $username, $role, $language = 'en') {
     $user = $this->entityTypeManager->getStorage('user')->create([]);
     // Using password generator.
-    $user->setPassword(user_password(10));
+    $user->setPassword(\Drupal::service('password_generator')->generate(10));
     $user->enforceIsNew();
     $user->setEmail($email);
     $user->setUsername($username);
    ----------- end diff -----------

Applied rules:
 * UserPasswordRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


3) modules/contrib/oauth2_rs/src/Authentication/TokenAuthUser.php:319

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function urlInfo($rel = 'canonical', array $options = []) {
-    return $this->user->urlInfo($rel, $options);
+    return $this->user->toUrl($rel, $options);
   }

   /**
@@ @@
    * {@inheritdoc}
    */
   public function link($text = NULL, $rel = 'canonical', array $options = []) {
-    return $this->user->link($text, $rel, $options);
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Please confirm that `$user` is an instance of `\Drupal\Core\Entity\EntityInterface`. Only the method name and not the class name was checked for this replacement, so this may be a false positive.
+    return $this->user->toLink($text, $rel, $options)->toString();
   }

   /**
    ----------- end diff -----------

Applied rules:
 * EntityInterfaceLinkRector
 * EntityInterfaceUrlInfoRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 3 files have been changed by Rector                                       

