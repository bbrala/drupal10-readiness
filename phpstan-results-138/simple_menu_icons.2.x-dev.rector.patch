diff --git a/simple_menu_icons.info.yml b/simple_menu_icons.info.yml
index 3a19246..385c14f 100755
--- a/simple_menu_icons.info.yml
+++ b/simple_menu_icons.info.yml
@@ -1,8 +1,7 @@
 name: Simple Menu Icons
 type: module
 description: Associates icons with menu items
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 dependencies:
   - drupal:menu_ui
diff --git a/simple_menu_icons.module b/simple_menu_icons.module
index 4f87232..99ef851 100755
--- a/simple_menu_icons.module
+++ b/simple_menu_icons.module
@@ -112,7 +112,7 @@ function simple_menu_icons_css_generate() {
 
     $menu_icons[] = [
       'mlid' => $item->id,
-      'path' => file_url_transform_relative(file_create_url($image_path)),
+      'path' => \Drupal::service('file_url_generator')->generateString($image_path),
       'width' => $image_width,
     ];
   }
@@ -188,7 +188,7 @@ function simple_menu_icons_css_alter(&$css, AttachedAssetsInterface $assets) {
     $cssfile = SIMPLE_MENU_ICONS_CSS_PATH . '/menu_icons.css';
   }
   if (file_exists($cssfile) && $css) {
-    $css_path = file_create_url($cssfile);
+    $css_path = \Drupal::service('file_url_generator')->generateAbsoluteString($cssfile);
     if (!empty($css_path)) {
       $css[$css_path] = [
         'weight' => CSS_COMPONENT,
