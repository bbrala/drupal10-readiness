diff --git a/src/Element/FileHistory.php b/src/Element/FileHistory.php
index f070b51..910f512 100644
--- a/src/Element/FileHistory.php
+++ b/src/Element/FileHistory.php
@@ -597,7 +597,7 @@ class FileHistory extends FormElement {
     $scheme = \Drupal::service('file_system')->uriScheme($path);
 
     if ($scheme == 'public') {
-      $filepath = file_create_url($path);
+      $filepath = \Drupal::service('file_url_generator')->generateAbsoluteString($path);
       return Url::fromUri($filepath);
     }
     else {
