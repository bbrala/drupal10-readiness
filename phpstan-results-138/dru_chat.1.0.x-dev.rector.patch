diff --git a/dru_chat.module b/dru_chat.module
index 528b993..5595738 100644
--- a/dru_chat.module
+++ b/dru_chat.module
@@ -51,5 +51,5 @@ function dru_chat_theme() {
  * Implements hook_preprocess().
  */
 function dru_chat_preprocess(&$variables, $hook) {
-  $variables['dru_chat_missing_image'] = file_create_url(drupal_get_path('module', 'dru_chat') . '/images/missing_image.svg');
+  $variables['dru_chat_missing_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('dru_chat') . '/images/missing_image.svg');
 }
diff --git a/src/Event/DruChatEvent.php b/src/Event/DruChatEvent.php
index 2aee660..5b09e79 100644
--- a/src/Event/DruChatEvent.php
+++ b/src/Event/DruChatEvent.php
@@ -7,7 +7,7 @@ use Symfony\Component\EventDispatcher\Event;
 /**
  * Defines DruChatEvent class.
  */
-class DruChatEvent extends Event {
+class DruChatEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   const NEW_MESSAGE_EVENT = 'dru_chat_send_message_event';
 
diff --git a/src/Event/DruChatPresenceEvent.php b/src/Event/DruChatPresenceEvent.php
index dfe7216..555b3ab 100644
--- a/src/Event/DruChatPresenceEvent.php
+++ b/src/Event/DruChatPresenceEvent.php
@@ -11,7 +11,7 @@ use Symfony\Component\EventDispatcher\Event;
  *
  * @see \Drupal\dru_chat\Controller\MessagesController::presence
  */
-class DruChatPresenceEvent extends Event {
+class DruChatPresenceEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   const EVENT_NAME = 'presence_subscription_succeeded';
 
diff --git a/src/Event/DruChatUserListEvent.php b/src/Event/DruChatUserListEvent.php
index 1bb6406..33431e2 100644
--- a/src/Event/DruChatUserListEvent.php
+++ b/src/Event/DruChatUserListEvent.php
@@ -8,7 +8,7 @@ use Symfony\Component\EventDispatcher\Event;
  * Defines DruChatUserListEvent.
  *   Fired when user list is being loaded, to the Dru Chat block.
  */
-class DruChatUserListEvent extends Event {
+class DruChatUserListEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   const DRU_CHAT_USER_LIST_EVENT = 'dru_chat_user_list_event';
 
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index 02e2bc6..aa3dbb5 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -29,7 +29,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
