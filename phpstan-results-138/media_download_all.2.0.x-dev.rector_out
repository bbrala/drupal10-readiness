modules/contrib/media_download_all/media_download_all.install
modules/contrib/media_download_all/media_download_all.module
modules/contrib/media_download_all/media_download_all.post_update.php
modules/contrib/media_download_all/src/Cache/MdaCacheTagsInvalidator.php
modules/contrib/media_download_all/src/Controller/DownloadController.php
modules/contrib/media_download_all/src/Plugin/Archiver/Zip.php
modules/contrib/media_download_all/src/Plugin/Field/FieldFormatter/MediaDownloadAllEntityFormatter.php
modules/contrib/media_download_all/src/Plugin/Field/FieldFormatter/MediaDownloadAllIdFormatter.php
modules/contrib/media_download_all/src/Plugin/Field/FieldFormatter/MediaDownloadAllLabelFormatter.php
modules/contrib/media_download_all/src/Plugin/Field/FieldFormatter/MediaDownloadAllThumbnailFormatter.php
modules/contrib/media_download_all/src/Traits/MdaFormatterTrait.php
modules/contrib/media_download_all/tests/src/Functional/MdaFormatterTest.php

2 files with changes
====================

1) modules/contrib/media_download_all/tests/src/Functional/MdaFormatterTest.php:165

    ---------- begin diff ----------
@@ @@
     $entity_id = $entity->id();

     $this->drupalGet($entity->toUrl());
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
     $link = $this->xpath("//a[@class='media-download-all']");
     $this->assertCount(1, $link);
     $mda_link = $link[0];
@@ @@
     ]);
     $entity->save();
     $this->drupalGet($entity->toUrl());
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
     $link = $this->xpath("//a[@class='media-download-all']");
     $this->assertCount(0, $link);
   }
    ----------- end diff -----------

Applied rules:
 * AssertResponseRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/media_download_all/src/Plugin/Archiver/Zip.php:77

    ---------- begin diff ----------
@@ @@
     $file_name = $fid . ' - ' . $file->label();
     $uri = $file->getFileUri();
     if ($this->isAliyunOssSchema($uri)) {
-      $url = file_create_url($uri);
+      $url = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
       $this->zip->addFromString($file_name, file_get_contents($url));
       return $this;
     }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

