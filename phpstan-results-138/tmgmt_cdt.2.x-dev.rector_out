modules/contrib/tmgmt_cdt/src/Entity/ListBuilder/TmgmtCdtJobItemListBuilder.php
modules/contrib/tmgmt_cdt/src/Entity/ListBuilder/TmgmtCdtJobListBuilder.php
modules/contrib/tmgmt_cdt/src/Entity/TmgmtCdtJob.php
modules/contrib/tmgmt_cdt/src/Entity/TmgmtCdtJobItem.php
modules/contrib/tmgmt_cdt/src/Form/TmgmtCdtCartForm.php
modules/contrib/tmgmt_cdt/src/Form/TmgmtCdtCartItemForm.php
modules/contrib/tmgmt_cdt/src/Plugin/tmgmt/Translator/TmgmtCdtTranslator.php
modules/contrib/tmgmt_cdt/src/Plugin/tmgmt_cdt/Format/TmgmtCdtXml.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtApi.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtCommands.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtFormatHelper.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtHelper.php
modules/contrib/tmgmt_cdt/src/TmgmtCdtTranslatorUi.php
modules/contrib/tmgmt_cdt/tmgmt_cdt.install
modules/contrib/tmgmt_cdt/tmgmt_cdt.module

2 files with changes
====================

1) modules/contrib/tmgmt_cdt/src/TmgmtCdtCommands.php:146

    ---------- begin diff ----------
@@ @@
         $file_name = 'tmgmt_cdt_report.json';
         $directory = 'public://tmgmt_file';
         \Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
-        $file = file_save_data(Json::encode($report), "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
+        $file = \Drupal::service('file.repository')->writeData(Json::encode($report), "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
         if (!$file) {
             throw new \Exception('Cannot create file');
         }
@@ @@
         \Drupal::service('file.usage')->add($file, 'tmgmt_cdt', 'report', 'tmgmt_cdt', 0);
 
         \Drupal::messenger()->addStatus(t('Report file created, can be downloaded <a href="@link" download>here</a>.',
-            ['@link' => file_create_url("public://tmgmt_file/$file_name")]));
+            ['@link' => \Drupal::service('file_url_generator')->generateAbsoluteString("public://tmgmt_file/$file_name")]));
 
     }
 
@@ @@
         $file_name = 'tmgmt_cdt_report_job.json';
         $directory = 'public://tmgmt_file';
         \Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
-        $file = file_save_data(Json::encode($report), "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
+        $file = \Drupal::service('file.repository')->writeData(Json::encode($report), "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
         if (!$file) {
             throw new \Exception('Cannot create file');
         }
@@ @@
         \Drupal::service('file.usage')->add($file, 'tmgmt_cdt', 'report', 'tmgmt_cdt', 0);
 
         \Drupal::messenger()->addStatus(t('Job report file created, can be downloaded <a href="@link" download>here</a>.',
-            ['@link' => file_create_url("public://tmgmt_file/$file_name")]));
+            ['@link' => \Drupal::service('file_url_generator')->generateAbsoluteString("public://tmgmt_file/$file_name")]));
 
     }
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


2) modules/contrib/tmgmt_cdt/src/Plugin/tmgmt/Translator/TmgmtCdtTranslator.php:126

    ---------- begin diff ----------
@@ @@
 
             $directory = 'public://tmgmt_file';
             \Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
-            $file = file_save_data($file_content, "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
+            $file = \Drupal::service('file.repository')->writeData($file_content, "public://tmgmt_file/$file_name", FileSystemInterface::EXISTS_REPLACE);
             if (!$file) {
                 throw new \Exception('Cannot create Xml file');
             }
             \Drupal::service('file.usage')->add($file, 'tmgmt_file', 'tmgmt_job', $job->id());
-            $job->addMessage('XML file created, can be downloaded <a href="@link" download>here</a>.', ['@link' => file_create_url("public://tmgmt_file/$file_name")]);
+            $job->addMessage('XML file created, can be downloaded <a href="@link" download>here</a>.', ['@link' => \Drupal::service('file_url_generator')->generateAbsoluteString("public://tmgmt_file/$file_name")]);
 
             $request_params = $this->generateRequest($job, $file_content);
             $file_content = null;
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

