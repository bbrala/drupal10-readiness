diff --git a/src/Plugin/WebformHandler/UserRegistrationWebformHandler.php b/src/Plugin/WebformHandler/UserRegistrationWebformHandler.php
index 4ba7a13..0d4d077 100644
--- a/src/Plugin/WebformHandler/UserRegistrationWebformHandler.php
+++ b/src/Plugin/WebformHandler/UserRegistrationWebformHandler.php
@@ -413,7 +413,7 @@ class UserRegistrationWebformHandler extends WebformHandlerBase {
     $default_user_data = [
       'init' => $mail,
       'name' => str_replace('@', '.', $mail),
-      'pass' => user_password(),
+      'pass' => \Drupal::service('password_generator')->generate(),
       'langcode' => $lang,
       'preferred_langcode' => $lang,
       'preferred_admin_langcode' => $lang,
diff --git a/tests/src/Functional/WebformUserRegistrationTest.php b/tests/src/Functional/WebformUserRegistrationTest.php
index 19f2e92..a207e91 100644
--- a/tests/src/Functional/WebformUserRegistrationTest.php
+++ b/tests/src/Functional/WebformUserRegistrationTest.php
@@ -81,7 +81,7 @@ class WebformUserRegistrationTest extends WebformBrowserTestBase {
     $this->assertTrue($new_user->isActive(), 'New account is active after registration.');
 
     // Has phone number.
-    $this->assertEqual($new_user->field_phone->value, $edit['phone']);
+    $this->assertEquals($new_user->field_phone->value, $edit['phone']);
 
     // And can set password.
     $resetURL = user_pass_reset_url($new_user);
@@ -141,10 +141,10 @@ class WebformUserRegistrationTest extends WebformBrowserTestBase {
     $user = reset($accounts);
 
     // Assert email was not changed.
-    $this->assertNotEqual($user->getEmail(), $edit['email'], 'E-mail cannot be updated.');
+    $this->assertNotEquals($user->getEmail(), $edit['email'], 'E-mail cannot be updated.');
 
     // Assert custom fields are updated.
-    $this->assertEqual($user->field_phone->value, $edit['phone']);
+    $this->assertEquals($user->field_phone->value, $edit['phone']);
   }
 
 }
diff --git a/webform_user_registration.info.yml b/webform_user_registration.info.yml
index 1ede15e..398019a 100644
--- a/webform_user_registration.info.yml
+++ b/webform_user_registration.info.yml
@@ -1,8 +1,7 @@
 name: 'Webform User Registration'
 type: module
 description: 'Create a new user upon form submission!'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 package: 'Webform'
 dependencies:
   - 'webform:webform'
