modules/contrib/wotapi/src/Access/EntityAccessChecker.php
modules/contrib/wotapi/src/Access/RelationshipFieldAccess.php
modules/contrib/wotapi/src/Annotation/WotapiAction.php
modules/contrib/wotapi/src/Annotation/WotapiActionParameterDefinition.php
modules/contrib/wotapi/src/Context/FieldResolver.php
modules/contrib/wotapi/src/Controller/DiscoveryController.php
modules/contrib/wotapi/src/Controller/EntityResource.php
modules/contrib/wotapi/src/Controller/HttpController.php
modules/contrib/wotapi/src/DependencyInjection/Compiler/RegisterSerializationClassesCompilerPass.php
modules/contrib/wotapi/src/Encoder/JsonEncoder.php
modules/contrib/wotapi/src/Entity/EntityValidationTrait.php
modules/contrib/wotapi/src/Entity/Property.php
modules/contrib/wotapi/src/Entity/PropertyInterface.php
modules/contrib/wotapi/src/Entity/PropertyType.php
modules/contrib/wotapi/src/Entity/PropertyTypeInterface.php
modules/contrib/wotapi/src/Entity/PropertyViewsData.php
modules/contrib/wotapi/src/Entity/Thing.php
modules/contrib/wotapi/src/Entity/ThingInterface.php
modules/contrib/wotapi/src/Entity/ThingType.php
modules/contrib/wotapi/src/Entity/ThingTypeInterface.php
modules/contrib/wotapi/src/Entity/ThingViewsData.php
modules/contrib/wotapi/src/EventSubscriber/DefaultExceptionSubscriber.php
modules/contrib/wotapi/src/EventSubscriber/ResourceResponseSubscriber.php
modules/contrib/wotapi/src/EventSubscriber/WotApiRequestValidator.php
modules/contrib/wotapi/src/Exception/EntityAccessDeniedHttpException.php
modules/contrib/wotapi/src/Exception/UnprocessableHttpEntityException.php
modules/contrib/wotapi/src/Exception/WotapiActionException.php
modules/contrib/wotapi/src/ExecutableWithParamsInterface.php
modules/contrib/wotapi/src/Form/PropertyDeleteForm.php
modules/contrib/wotapi/src/Form/PropertyForm.php
modules/contrib/wotapi/src/Form/PropertySettingsForm.php
modules/contrib/wotapi/src/Form/PropertyTypeDeleteForm.php
modules/contrib/wotapi/src/Form/PropertyTypeForm.php
modules/contrib/wotapi/src/Form/ThingDeleteForm.php
modules/contrib/wotapi/src/Form/ThingForm.php
modules/contrib/wotapi/src/Form/ThingSettingsForm.php
modules/contrib/wotapi/src/Form/ThingTypeDeleteForm.php
modules/contrib/wotapi/src/Form/ThingTypeForm.php
modules/contrib/wotapi/src/Handler.php
modules/contrib/wotapi/src/HandlerInterface.php
modules/contrib/wotapi/src/Normalizer/AnnotationNormalizer.php
modules/contrib/wotapi/src/Normalizer/EntityAccessDeniedHttpExceptionNormalizer.php
modules/contrib/wotapi/src/Normalizer/FieldItemNormalizer.php
modules/contrib/wotapi/src/Normalizer/FieldNormalizer.php
modules/contrib/wotapi/src/Normalizer/HttpExceptionNormalizer.php
modules/contrib/wotapi/src/Normalizer/LinkCollectionNormalizer.php
modules/contrib/wotapi/src/Normalizer/NormalizerBase.php
modules/contrib/wotapi/src/Normalizer/PropertiesFieldNormalizer.php
modules/contrib/wotapi/src/Normalizer/ResourceIdentifierNormalizer.php
modules/contrib/wotapi/src/Normalizer/ResourceObjectNormalizer.php
modules/contrib/wotapi/src/Normalizer/UnprocessableHttpEntityExceptionNormalizer.php
modules/contrib/wotapi/src/Normalizer/Value/CacheableNormalization.php
modules/contrib/wotapi/src/Normalizer/Value/CacheableOmission.php
modules/contrib/wotapi/src/Normalizer/Value/HttpExceptionNormalizerValue.php
modules/contrib/wotapi/src/Normalizer/WotApiDocumentTopLevelNormalizer.php
modules/contrib/wotapi/src/Object/Error.php
modules/contrib/wotapi/src/Object/ParameterBag.php
modules/contrib/wotapi/src/Object/Request.php
modules/contrib/wotapi/src/Object/Response.php
modules/contrib/wotapi/src/ParamConverter/EntityUuidConverter.php
modules/contrib/wotapi/src/ParamConverter/ResourceTypeConverter.php
modules/contrib/wotapi/src/ParameterDefinitionInterface.php
modules/contrib/wotapi/src/ParameterFactoryInterface.php
modules/contrib/wotapi/src/Plugin/Field/FieldFormatter/WotapiActionDefaultFormatter.php
modules/contrib/wotapi/src/Plugin/Field/FieldType/WotapiActionItem.php
modules/contrib/wotapi/src/Plugin/Field/FieldWidget/WotapiActionDefaultWidget.php
modules/contrib/wotapi/src/Plugin/WotapiActionBase.php
modules/contrib/wotapi/src/Plugin/WotapiActionManager.php
modules/contrib/wotapi/src/PropertyAccessControlHandler.php
modules/contrib/wotapi/src/PropertyListBuilder.php
modules/contrib/wotapi/src/PropertyTypeListBuilder.php
modules/contrib/wotapi/src/ResourceResponse.php
modules/contrib/wotapi/src/ResourceType/ResourceType.php
modules/contrib/wotapi/src/ResourceType/ResourceTypeRepository.php
modules/contrib/wotapi/src/ResourceType/ResourceTypeRepositoryInterface.php
modules/contrib/wotapi/src/Routing/EarlyFormatSetter.php
modules/contrib/wotapi/src/Routing/RouteEnhancer.php
modules/contrib/wotapi/src/Routing/Routes.php
modules/contrib/wotapi/src/Serializer/Serializer.php
modules/contrib/wotapi/src/Shaper/RpcRequestFactory.php
modules/contrib/wotapi/src/ThingAccessControlHandler.php
modules/contrib/wotapi/src/ThingListBuilder.php
modules/contrib/wotapi/src/ThingTypeListBuilder.php
modules/contrib/wotapi/src/WotApiResource/Data.php
modules/contrib/wotapi/src/WotApiResource/ErrorCollection.php
modules/contrib/wotapi/src/WotApiResource/LabelOnlyResourceObject.php
modules/contrib/wotapi/src/WotApiResource/Link.php
modules/contrib/wotapi/src/WotApiResource/LinkCollection.php
modules/contrib/wotapi/src/WotApiResource/OmittedData.php
modules/contrib/wotapi/src/WotApiResource/RelationshipData.php
modules/contrib/wotapi/src/WotApiResource/ResourceIdentifier.php
modules/contrib/wotapi/src/WotApiResource/ResourceIdentifierInterface.php
modules/contrib/wotapi/src/WotApiResource/ResourceIdentifierTrait.php
modules/contrib/wotapi/src/WotApiResource/ResourceObject.php
modules/contrib/wotapi/src/WotApiResource/ResourceObjectData.php
modules/contrib/wotapi/src/WotApiResource/WotApiDocumentTopLevel.php
modules/contrib/wotapi/src/WotApiSpec.php
modules/contrib/wotapi/src/WotapiActionInterface.php
modules/contrib/wotapi/src/WotapiServiceProvider.php
modules/contrib/wotapi/wotapi.install
modules/contrib/wotapi/wotapi.module

3 files with changes
====================

1) modules/contrib/wotapi/src/EventSubscriber/WotApiRequestValidator.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * Validates WOT:API requests.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The event to process.
    */
-  public function onRequest(GetResponseEvent $event) {
+  public function onRequest(\Symfony\Component\HttpKernel\Event\RequestEvent $event) {
     $request = $event->getRequest();
     if ($request->getRequestFormat() !== 'api_json') {
       return;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


2) modules/contrib/wotapi/src/EventSubscriber/ResourceResponseSubscriber.php:67

    ---------- begin diff ----------
@@ @@
   /**
    * Serializes ResourceResponse responses' data, and removes that data.
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
    *   The event to process.
    */
-  public function onResponse(FilterResponseEvent $event) {
+  public function onResponse(\Symfony\Component\HttpKernel\Event\ResponseEvent $event) {
     $response = $event->getResponse();
     if (!$response instanceof ResourceResponse) {
       return;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


3) modules/contrib/wotapi/src/EventSubscriber/DefaultExceptionSubscriber.php:35

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function onException(GetResponseForExceptionEvent $event) {
+  public function onException(\Symfony\Component\HttpKernel\Event\ExceptionEvent $event) {
     if (!$this->isWotApiExceptionEvent($event)) {
       return;
     }
-    if (($exception = $event->getException()) && !$exception instanceof HttpException) {
+    if (($exception = $event->getThrowable()) && !$exception instanceof HttpException) {
       $exception = new HttpException(500, $exception->getMessage(), $exception);
-      $event->setException($exception);
+      $event->setThrowable($exception);
     }

     $this->setEventResponse($event, $exception->getStatusCode());
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setEventResponse(GetResponseForExceptionEvent $event, $status) {
+  protected function setEventResponse(\Symfony\Component\HttpKernel\Event\ExceptionEvent $event, $status) {
     /* @var \Symfony\Component\HttpKernel\Exception\HttpException $exception */
-    $exception = $event->getException();
+    $exception = $event->getThrowable();
     $response = new ResourceResponse(new WotApiDocumentTopLevel(new ErrorCollection([$exception]), new LinkCollection([])), $exception->getStatusCode(), $exception->getHeaders());
     $response->addCacheableDependency($exception);
     $event->setResponse($response);
@@ @@
    * The WOT:API format is supported if the format is explicitly set or the
    * request is for a known WOT:API route.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent $exception_event
+   * @param \Symfony\Component\HttpKernel\Event\ExceptionEvent $exception_event
    *   The exception event.
    *
    * @return bool
    *   TRUE if it needs to be formatted using WOT:API. FALSE otherwise.
    */
-  protected function isWotApiExceptionEvent(GetResponseForExceptionEvent $exception_event) {
+  protected function isWotApiExceptionEvent(\Symfony\Component\HttpKernel\Event\ExceptionEvent $exception_event) {
     $request = $exception_event->getRequest();
     $parameters = $request->attributes->all();
     return $request->getRequestFormat() === 'api_json' || (bool) Routes::getResourceTypeNameFromParameters($parameters);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [ERROR] Could not process                                                      
         "modules/contrib/wotapi/src/Shaper/RpcRequestFactory.php" file, due to: 
         "Analyze error: "Class Shaper\Transformation\TransformationBase not    
         found.". Include your files in "$rectorConfig->autoloadPaths([...]);" or
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/wotapi/src/Controller/HttpController.php" file, due to: 
         "Analyze error: "Class Shaper\Transformation\TransformationBase not    
         found.". Include your files in "$rectorConfig->autoloadPaths([...]);" or
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

