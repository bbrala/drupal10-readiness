diff --git a/src/Controller/ConfirmationController.php b/src/Controller/ConfirmationController.php
index 87af291..4849b8a 100644
--- a/src/Controller/ConfirmationController.php
+++ b/src/Controller/ConfirmationController.php
@@ -110,7 +110,7 @@ class ConfirmationController extends ControllerBase {
 
     $url = Url::fromRoute('<front>');
     $event = new GenericEvent(NULL, ['url' => $url]);
-    $this->eventDispatcher->dispatch('cognito.account_confirmed_redirect', $event);
+    $this->eventDispatcher->dispatch($event, 'cognito.account_confirmed_redirect');
 
     return new RedirectResponse($event->getArgument('url')->toString(), 302);
   }
diff --git a/src/Controller/EmailVerificationController.php b/src/Controller/EmailVerificationController.php
index 1961f89..b7a57e1 100644
--- a/src/Controller/EmailVerificationController.php
+++ b/src/Controller/EmailVerificationController.php
@@ -107,9 +107,9 @@ class EmailVerificationController extends ControllerBase {
 
     $url = Url::fromRoute('<front>');
     $event = new GenericEvent(NULL, ['url' => $url]);
-    $this->eventDispatcher->dispatch('cognito.account_verified_redirect', $event);
+    $this->eventDispatcher->dispatch($event, 'cognito.account_verified_redirect');
 
-    $this->eventDispatcher->dispatch('cognito.email_verified', new GenericEvent(NULL, ['email' => $email]));
+    $this->eventDispatcher->dispatch(new GenericEvent(NULL, ['email' => $email]), 'cognito.email_verified');
 
     return new RedirectResponse($event->getArgument('url')->toString(), 302);
   }
diff --git a/src/Event/CognitoFormEvent.php b/src/Event/CognitoFormEvent.php
index ece703c..449588f 100644
--- a/src/Event/CognitoFormEvent.php
+++ b/src/Event/CognitoFormEvent.php
@@ -8,7 +8,7 @@ use Symfony\Component\EventDispatcher\Event;
 /**
  * Defines an event for when Cognito forms are submitted.
  */
-class CognitoFormEvent extends Event {
+class CognitoFormEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   /**
    * The form state interface.
diff --git a/src/Form/Email/RegisterForm.php b/src/Form/Email/RegisterForm.php
index e9ed029..39dcbc1 100644
--- a/src/Form/Email/RegisterForm.php
+++ b/src/Form/Email/RegisterForm.php
@@ -141,7 +141,7 @@ class RegisterForm extends CognitoAccountForm {
     }
 
     $event = new CognitoFormEvent($form_state);
-    $this->eventDispatcher->dispatch(CognitoEvents::REGISTER, $event);
+    $this->eventDispatcher->dispatch($event, CognitoEvents::REGISTER);
     $userAttributes = $event->getUserAttributes();
 
     $result = $this->cognito->signUp($email, $password, $email, $userAttributes);
@@ -216,7 +216,7 @@ class RegisterForm extends CognitoAccountForm {
       }
 
       $event = new GenericEvent(NULL, ['url' => Url::fromRoute('<front>')]);
-      $this->eventDispatcher->dispatch('cognito.registered_click_to_confirm', $event);
+      $this->eventDispatcher->dispatch($event, 'cognito.registered_click_to_confirm');
       $form_state->setRedirectUrl($event->getArgument('url'));
     }
     elseif ($this->usesAutoConfirm() || $this->showConfirmation) {
@@ -235,7 +235,7 @@ class RegisterForm extends CognitoAccountForm {
         $this->cognitoToken->setAuthTokens($result->getResult()['AuthenticationResult']);
       }
       $event = new GenericEvent(NULL, ['url' => Url::fromRoute('<front>')]);
-      $this->eventDispatcher->dispatch('cognito.registered_logged_in', $event);
+      $this->eventDispatcher->dispatch($event, 'cognito.registered_logged_in');
       $form_state->setRedirectUrl($event->getArgument('url'));
     }
     else {
diff --git a/src/Form/Email/UserLoginForm.php b/src/Form/Email/UserLoginForm.php
index df2a388..4062881 100644
--- a/src/Form/Email/UserLoginForm.php
+++ b/src/Form/Email/UserLoginForm.php
@@ -194,7 +194,7 @@ class UserLoginForm extends FormBase {
     $event = new GenericEvent(NULL, [
       'login-context' => \Drupal::request()->get('cognito-login-context') ?: [],
     ]);
-    $this->eventDispatcher->dispatch('cognito.logged_in', $event);
+    $this->eventDispatcher->dispatch($event, 'cognito.logged_in');
 
     // Store authentication tokens.
     if ($form_state->get('authentication_result')) {
diff --git a/src/Form/VerifyEmail.php b/src/Form/VerifyEmail.php
index 766fa00..36a70ae 100644
--- a/src/Form/VerifyEmail.php
+++ b/src/Form/VerifyEmail.php
@@ -172,7 +172,7 @@ class VerifyEmail extends FormBase {
     }
     else {
       $this->getLogger('cognito')->notice('Your email has now been verified');
-      $this->eventDispatcher->dispatch('cognito.email_verified', new GenericEvent());
+      $this->eventDispatcher->dispatch(new GenericEvent(), 'cognito.email_verified');
     }
   }
 
diff --git a/src/Plugin/rest/resource/CognitoUserRegistrationResource.php b/src/Plugin/rest/resource/CognitoUserRegistrationResource.php
index ad34246..93e9900 100644
--- a/src/Plugin/rest/resource/CognitoUserRegistrationResource.php
+++ b/src/Plugin/rest/resource/CognitoUserRegistrationResource.php
@@ -225,10 +225,10 @@ class CognitoUserRegistrationResource extends ResourceBase {
       if ($result instanceof CognitoResult && isset($result->getResult()['AuthenticationResult'])) {
         $this->cognitoToken->setAuthTokens($result->getResult()['AuthenticationResult']);
       }
-      $this->eventDispatcher->dispatch('cognito.registered_logged_in', $event);
+      $this->eventDispatcher->dispatch($event, 'cognito.registered_logged_in');
     }
     else {
-      $this->eventDispatcher->dispatch('cognito.registered_click_to_confirm', $event);
+      $this->eventDispatcher->dispatch($event, 'cognito.registered_click_to_confirm');
     }
 
     return new ModifiedResourceResponse([
diff --git a/tests/src/Functional/CognitoRegistrationResourceTest.php b/tests/src/Functional/CognitoRegistrationResourceTest.php
index 0049125..9f1120d 100644
--- a/tests/src/Functional/CognitoRegistrationResourceTest.php
+++ b/tests/src/Functional/CognitoRegistrationResourceTest.php
@@ -62,7 +62,7 @@ class CognitoRegistrationResourceTest extends ResourceTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     user_role_grant_permissions(AccountInterface::ANONYMOUS_ROLE, ['restful post cognito_user_registration']);
   }
diff --git a/tests/src/Functional/EmailFlowAdminCreateAccountTest.php b/tests/src/Functional/EmailFlowAdminCreateAccountTest.php
index bc26413..9c85ebb 100644
--- a/tests/src/Functional/EmailFlowAdminCreateAccountTest.php
+++ b/tests/src/Functional/EmailFlowAdminCreateAccountTest.php
@@ -19,14 +19,15 @@ class EmailFlowAdminCreateAccountTest extends CognitoTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->admin = $this->createExternalUser([
       'administer permissions',
       'administer users',
     ]);
+    $this->drupalGet('/user/login');
 
-    $this->drupalPostForm('/user/login', [
+    $this->submitForm([
       'mail' => $this->admin->getEmail(),
       'pass' => 'letmein',
     ], 'Log in');
@@ -40,7 +41,8 @@ class EmailFlowAdminCreateAccountTest extends CognitoTestBase {
     $this->assertSession()->fieldNotExists('pass[pass1]');
 
     $mail = strtolower($this->randomMachineName() . '@example.com');
-    $this->drupalPostForm('/admin/people/create', [
+    $this->drupalGet('/admin/people/create');
+    $this->submitForm([
       'mail' => $mail,
       'status' => 1,
     ], 'Register');
