diff --git a/jsnippet.info.yml b/jsnippet.info.yml
index dfe31ef..5d23563 100644
--- a/jsnippet.info.yml
+++ b/jsnippet.info.yml
@@ -1,5 +1,4 @@
 name: 'JSnippet'
 type: module
 description: 'Stores and provides code snippets.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
diff --git a/jsnippet.module b/jsnippet.module
index c8e554f..afb3bda 100644
--- a/jsnippet.module
+++ b/jsnippet.module
@@ -24,7 +24,7 @@ function jsnippet_library_info_build() {
       $uri = $snippet->getUri();
     }
     else {
-      $url = file_create_url($snippet->getUri());
+      $url = \Drupal::service('file_url_generator')->generateAbsoluteString($snippet->getUri());
       $url = parse_url($url);
       $uri = $url['path'];
     }
