diff --git a/src/FieldProcessor/MediaFieldProcessor.php b/src/FieldProcessor/MediaFieldProcessor.php
index 7afa889..f416cdb 100644
--- a/src/FieldProcessor/MediaFieldProcessor.php
+++ b/src/FieldProcessor/MediaFieldProcessor.php
@@ -34,7 +34,7 @@ class MediaFieldProcessor extends BaseFieldProcessor {
           if ($file instanceof File) {
             $value[] = [
               'id'      => $file->id(),
-              'src'     => file_create_url($file->getFileUri()),
+              'src'     => \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri()),
               'type'    => $this->getType(),
               'caption' => $this->getCaption($entity, $this->field->field, $index),
             ];
diff --git a/tikitoki.info.yml b/tikitoki.info.yml
index dbe6885..85df8ca 100644
--- a/tikitoki.info.yml
+++ b/tikitoki.info.yml
@@ -2,8 +2,7 @@ name: Tiki Toki
 type: module
 description: 'Add views display that outputs data in specific JSON format for Tiki Toki Timelines software'
 version: VERSION
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:serialization
   - drupal:views
