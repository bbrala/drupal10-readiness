modules/contrib/search_api_attachments/search_api_attachments.api.php
modules/contrib/search_api_attachments/search_api_attachments.install
modules/contrib/search_api_attachments/search_api_attachments.module
modules/contrib/search_api_attachments/search_api_attachments.views.inc
modules/contrib/search_api_attachments/src/Annotation/SearchApiAttachmentsTextExtractor.php
modules/contrib/search_api_attachments/src/ExtractFileValidator.php
modules/contrib/search_api_attachments/src/Form/TextExtractorFormSettings.php
modules/contrib/search_api_attachments/src/Plugin/Field/FieldFormatter/ExtractedText.php
modules/contrib/search_api_attachments/src/Plugin/QueueWorker/ExtractorQueue.php
modules/contrib/search_api_attachments/src/Plugin/search_api/processor/FilesExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/DocconvExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/PdftotextExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/PythonPdf2txtExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/SolrExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/TikaExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/TikaServerExtractor.php
modules/contrib/search_api_attachments/src/Plugin/views/filter/SearchApiAttachmentsFilterPlugin.php
modules/contrib/search_api_attachments/src/TextExtractorPluginBase.php
modules/contrib/search_api_attachments/src/TextExtractorPluginInterface.php
modules/contrib/search_api_attachments/src/TextExtractorPluginManager.php
modules/contrib/search_api_attachments/tests/src/Unit/ExtractBody.php

5 files with changes
====================

1) modules/contrib/search_api_attachments/src/TextExtractorPluginBase.php:41

    ---------- begin diff ----------
@@ @@
   /**
    * Mime type guesser service.
    *
-   * @var \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface
+   * @var \Symfony\Component\Mime\MimeTypesInterface
    */
   protected $mimeTypeGuesser;

@@ @@
   /**
    * {@inheritdoc}
    */
-  public function __construct(array $configuration, $plugin_id, array $plugin_definition, ConfigFactoryInterface $config_factory, StreamWrapperManagerInterface $stream_wrapper_manager, MimeTypeGuesserInterface $mime_type_guesser, MessengerInterface $messenger) {
+  public function __construct(array $configuration, $plugin_id, array $plugin_definition, ConfigFactoryInterface $config_factory, StreamWrapperManagerInterface $stream_wrapper_manager, \Symfony\Component\Mime\MimeTypesInterface $mime_type_guesser, MessengerInterface $messenger) {
     parent::__construct($configuration, $plugin_id, $plugin_definition);
     $this->configFactory = $config_factory;
     $this->streamWrapperManager = $stream_wrapper_manager;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/TikaServerExtractor.php:33

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function __construct(array $configuration, $plugin_id, array $plugin_definition, ConfigFactoryInterface $config_factory, StreamWrapperManagerInterface $stream_wrapper_manager, MimeTypeGuesserInterface $mime_type_guesser, MessengerInterface $messenger, FileSystemInterface $file_system, ClientInterface $http_client) {
+  public function __construct(array $configuration, $plugin_id, array $plugin_definition, ConfigFactoryInterface $config_factory, StreamWrapperManagerInterface $stream_wrapper_manager, \Symfony\Component\Mime\MimeTypesInterface $mime_type_guesser, MessengerInterface $messenger, FileSystemInterface $file_system, ClientInterface $http_client) {
     parent::__construct($configuration, $plugin_id, $plugin_definition, $config_factory, $stream_wrapper_manager, $mime_type_guesser, $messenger, $file_system);
     $this->httpClient = $http_client;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/SolrExtractor.php:34

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function __construct(array $configuration, $plugin_id, array $plugin_definition, ConfigFactoryInterface $config_factory, StreamWrapperManagerInterface $stream_wrapper_manager, MimeTypeGuesserInterface $mime_type_guesser, MessengerInterface $messenger, FileSystemInterface $file_system, EntityTypeManagerInterface $entity_type_manager) {
+  public function __construct(array $configuration, $plugin_id, array $plugin_definition, ConfigFactoryInterface $config_factory, StreamWrapperManagerInterface $stream_wrapper_manager, \Symfony\Component\Mime\MimeTypesInterface $mime_type_guesser, MessengerInterface $messenger, FileSystemInterface $file_system, EntityTypeManagerInterface $entity_type_manager) {
     parent::__construct($configuration, $plugin_id, $plugin_definition, $config_factory, $stream_wrapper_manager, $mime_type_guesser, $messenger, $file_system);
     $this->entityTypeManager = $entity_type_manager;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/search_api_attachments/src/Form/TextExtractorFormSettings.php:327

    ---------- begin diff ----------
@@ @@
     $file = $this->entityTypeManager->getStorage('file')->loadByProperties($values);
     if (empty($file)) {
       // Copy the source file to public directory.
-      $source = drupal_get_path('module', 'search_api_attachments');
+      $source = \Drupal::service('extension.list.module')->getPath('search_api_attachments');
       $source .= '/data/search_api_attachments_test_extraction.pdf';
       copy($source, $filepath);
       // Create the file object.
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/search_api_attachments/src/ExtractFileValidator.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * The route match.
    *
-   * @var \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface
+   * @var \Symfony\Component\Mime\MimeTypesInterface
    */
   protected $mimeTypeGuesser;

@@ @@
   /**
    * Constructs a new ExtractFileValidator class.
    *
-   * @param \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface $mimeTypeGuesser
+   * @param \Symfony\Component\Mime\MimeTypesInterface $mimeTypeGuesser
    *   Mime type guesser service.
    */
-  public function __construct(MimeTypeGuesserInterface $mimeTypeGuesser) {
+  public function __construct(\Symfony\Component\Mime\MimeTypesInterface $mimeTypeGuesser) {
     $this->mimeTypeGuesser = $mimeTypeGuesser;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector


 [OK] 5 files have been changed by Rector                                       

