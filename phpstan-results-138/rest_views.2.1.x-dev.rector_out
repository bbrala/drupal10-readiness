modules/contrib/rest_views/modules/rest_views_geo/rest_views_geo.module
modules/contrib/rest_views/modules/rest_views_geo/src/Plugin/Field/FieldFormatter/GeolocationLatLngExportFormatter.php
modules/contrib/rest_views/modules/rest_views_revisions/src/Plugin/Field/FieldFormatter/EntityReferenceRevisionsExportFormatter.php
modules/contrib/rest_views/modules/rest_views_search_api/src/Plugin/views/field/SearchApiEntityFieldExport.php
modules/contrib/rest_views/rest_views.module
modules/contrib/rest_views/src/Normalizer/DataNormalizer.php
modules/contrib/rest_views/src/Normalizer/RenderNormalizer.php
modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/BooleanExportFormatter.php
modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/EntityReferenceExportFormatter.php
modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/EntityReferenceIdExportFormatter.php
modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/EntityReferencePathFormatter.php
modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/FileExportFormatter.php
modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/ImageExportFormatter.php
modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/LinkExportFormatter.php
modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/NumberExportFormatter.php
modules/contrib/rest_views/src/Plugin/views/field/EntityFieldExport.php
modules/contrib/rest_views/src/RenderableData.php
modules/contrib/rest_views/src/SerializedData.php
modules/contrib/rest_views/tests/src/Unit/EntityFieldExportTest.php

3 files with changes
====================

1) modules/contrib/rest_views/tests/src/Unit/EntityFieldExportTest.php:54

    ---------- begin diff ----------
@@ @@
     $entityTypeManager = $this->createMock(EntityTypeManagerInterface::class);
     $entityFieldManager = $this->createMock(EntityFieldManagerInterface::class);
     $entityRepository = $this->createMock(EntityRepositoryInterface::class);
-    $formatterPluginManager = $this
-      ->getMockBuilder(FormatterPluginManager::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $formatterPluginManager = $this->createMock(FormatterPluginManager::class);
     $fieldTypePluginManager = $this->createMock(FieldTypePluginManagerInterface::class);
     $languageManager = $this->createMock(LanguageManagerInterface::class);
     /** @var \Drupal\Core\Render\RendererInterface $renderer */
@@ @@

     // Initialize the handler, using a mocked view and display plugin.
     /** @var \Drupal\views\ViewExecutable $view */
-    $view = $this->getMockBuilder(ViewExecutable::class)
-      ->disableOriginalConstructor()
-      ->getMock();
-    $view->display_handler = $this->getMockBuilder(DisplayPluginBase::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $view = $this->createMock(ViewExecutable::class);
+    $view->display_handler = $this->createMock(DisplayPluginBase::class);
     $this->handler->init($view, $view->display_handler);

     $this->serializer = new Serializer([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/ImageExportFormatter.php:115

    ---------- begin diff ----------
@@ @@
         $uri = $style->buildUrl($uri);
       }
       else {
-        $uri = file_create_url($uri);
+        $uri = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
       }

       if ($alt || $title) {
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/rest_views/src/Plugin/Field/FieldFormatter/FileExportFormatter.php:29

    ---------- begin diff ----------
@@ @@
     /** @var \Drupal\Core\Field\EntityReferenceFieldItemListInterface $items */
     foreach ($this->getEntitiesToView($items, $langcode) as $delta => $entity) {
       /** @var \Drupal\file\FileInterface $entity */
-      $data = ['url' => file_create_url($entity->getFileUri())];
+      $data = ['url' => \Drupal::service('file_url_generator')->generateAbsoluteString($entity->getFileUri())];
       if ($description && !empty($entity->_referringItem)) {
         $data['description'] = $entity->_referringItem->description;
       }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [ERROR] Could not process                                                      
         "modules/contrib/rest_views/modules/rest_views_search_api/src/Plugin/view
         s/field/SearchApiEntityFieldExport.php" file, due to:                  
         "Analyze error: "Class                                                 
         Drupal\search_api\Plugin\views\field\SearchApiEntityField not found.". 
         Include your files in "$rectorConfig->autoloadPaths([...]);" or        
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

