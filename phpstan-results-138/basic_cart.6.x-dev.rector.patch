diff --git a/basic_cart.module b/basic_cart.module
index d51edbe..fab50bf 100755
--- a/basic_cart.module
+++ b/basic_cart.module
@@ -43,7 +43,7 @@ function basic_cart_theme($existing, $type, $theme, $path) {
     'basic_cart_count_block' => array(
       'variables' => array(
         'cartcount' => NULL,
-        'module_url' => $base_url . '/' . drupal_get_path('module', 'basic_cart'),
+        'module_url' => $base_url . '/' . \Drupal::service('extension.list.module')->getPath('basic_cart'),
         'size' => "48x39",
         'float' => 'right',
         'right' => '7px',
diff --git a/src/Controller/CartController.php b/src/Controller/CartController.php
index f526933..d666078 100755
--- a/src/Controller/CartController.php
+++ b/src/Controller/CartController.php
@@ -114,7 +114,7 @@ class CartController extends ControllerBase {
 
       return array(
         '#type' => 'markup',
-        '#markup' => render($node_create_form),
+        '#markup' => \Drupal::service('renderer')->render($node_create_form),
       );
     }
     else {
@@ -140,7 +140,7 @@ class CartController extends ControllerBase {
 
     return array(
       '#type' => 'markup',
-      '#markup' => render($node_create_form),
+      '#markup' => \Drupal::service('renderer')->render($node_create_form),
     );
   }
 
diff --git a/src/Utility.php b/src/Utility.php
index 8b9516b..b4100a3 100755
--- a/src/Utility.php
+++ b/src/Utility.php
@@ -444,7 +444,7 @@ class Utility extends Settings {
     $cart = Utility::getCart($nid);
     $basic_cart = array();
     $basic_cart['delete_url'] = $url->toString();
-    $basic_cart['module_url'] = $base_url . '/' . drupal_get_path('module', 'basic_cart');
+    $basic_cart['module_url'] = $base_url . '/' . \Drupal::service('extension.list.module')->getPath('basic_cart');
     $basic_cart['notempty'] = FALSE;
     if (!empty($cart['cart'])) {
       $basic_cart['notempty'] = TRUE;
