diff --git a/src/Entity/MetatagDefaults.php b/src/Entity/MetatagDefaults.php
index d6fba8a..30517b1 100644
--- a/src/Entity/MetatagDefaults.php
+++ b/src/Entity/MetatagDefaults.php
@@ -99,7 +99,7 @@ class MetatagDefaults extends ConfigEntityBase implements MetatagDefaultsInterfa
    * Reverts an entity to its default values.
    */
   public function revert() {
-    $default_install_path = drupal_get_path('module', 'metatag') . '/' . InstallStorage::CONFIG_INSTALL_DIRECTORY;
+    $default_install_path = \Drupal::service('extension.list.module')->getPath('metatag') . '/' . InstallStorage::CONFIG_INSTALL_DIRECTORY;
     $storage = new FileStorage($default_install_path, StorageInterface::DEFAULT_COLLECTION);
     $default_config_data = $storage->read('metatag.metatag_defaults.' . $this->id());
     if ($default_config_data) {
diff --git a/tests/src/Functional/MetatagFieldTestBase.php b/tests/src/Functional/MetatagFieldTestBase.php
index 9002fac..bde0af4 100644
--- a/tests/src/Functional/MetatagFieldTestBase.php
+++ b/tests/src/Functional/MetatagFieldTestBase.php
@@ -282,6 +282,7 @@ abstract class MetatagFieldTestBase extends BrowserTestBase {
    * When there is no field for overriding the defaults.
    *
    * @todo Write this.
+   * @doesNotPerformAssertions
    */
   public function testBundleDefaultsInheritance() {
   }
diff --git a/tests/src/Functional/MetatagFieldUserTest.php b/tests/src/Functional/MetatagFieldUserTest.php
index 5ffda1b..80054f8 100644
--- a/tests/src/Functional/MetatagFieldUserTest.php
+++ b/tests/src/Functional/MetatagFieldUserTest.php
@@ -96,6 +96,7 @@ class MetatagFieldUserTest extends MetatagFieldTestBase {
    * Confirm the metatag field can be shown on a user registration page.
    *
    * @todo Write this.
+   * @doesNotPerformAssertions
    */
   public function testFieldsOnUserRegistrationForm() {}
 
@@ -103,6 +104,7 @@ class MetatagFieldUserTest extends MetatagFieldTestBase {
    * Confirm the metatag field can be shown on a normal user's own edit form.
    *
    * @todo Write this.
+   * @doesNotPerformAssertions
    */
   public function testFieldsOnUserEditForm() {}
 
diff --git a/tests/src/Functional/MetatagHelperTrait.php b/tests/src/Functional/MetatagHelperTrait.php
index 4090f27..5504c59 100644
--- a/tests/src/Functional/MetatagHelperTrait.php
+++ b/tests/src/Functional/MetatagHelperTrait.php
@@ -111,7 +111,7 @@ trait MetatagHelperTrait {
     $vocab = Vocabulary::create($values);
     $status = $vocab->save();
 
-    if ($this instanceof \PHPUnit_Framework_TestCase) {
+    if ($this instanceof \PHPUnit\Framework\TestCase) {
       $this->assertSame($status, SAVED_NEW, (new FormattableMarkup('Created vocabulary %type.', ['%type' => $vocab->id()]))->__toString());
     }
     else {
@@ -144,7 +144,7 @@ trait MetatagHelperTrait {
     $term = Term::create($values);
     $status = $term->save();
 
-    if ($this instanceof \PHPUnit_Framework_TestCase) {
+    if ($this instanceof \PHPUnit\Framework\TestCase) {
       $this->assertSame($status, SAVED_NEW, (new FormattableMarkup('Created term %name.', ['%name' => $term->label()]))->__toString());
     }
     else {
diff --git a/tests/src/Functional/MetatagXssTest.php b/tests/src/Functional/MetatagXssTest.php
index 588d8f8..20b0f02 100644
--- a/tests/src/Functional/MetatagXssTest.php
+++ b/tests/src/Functional/MetatagXssTest.php
@@ -141,7 +141,7 @@ class MetatagXssTest extends BrowserTestBase {
 
     // Check for the title tag, which will have the HTML tags removed and then
     // be lightly HTML encoded.
-    $session->assertEscaped(strip_tags($this->xssTitleString));
+    $this->assertSession()->assertEscaped(strip_tags($this->xssTitleString));
     $session->responseNotContains($this->xssTitleString);
 
     // Check for the basic meta tag.
@@ -171,7 +171,7 @@ class MetatagXssTest extends BrowserTestBase {
 
     // Check for the title tag, which will have the HTML tags removed and then
     // be lightly HTML encoded.
-    $session->assertEscaped(strip_tags($this->xssTitleString));
+    $this->assertSession()->assertEscaped(strip_tags($this->xssTitleString));
     $session->responseNotContains($this->xssTitleString);
 
     // Check for the basic meta tag.
@@ -199,7 +199,7 @@ class MetatagXssTest extends BrowserTestBase {
 
     // Check for the title tag, which will have the HTML tags removed and then
     // be lightly HTML encoded.
-    $session->assertEscaped(strip_tags($this->xssTitleString));
+    $this->assertSession()->assertEscaped(strip_tags($this->xssTitleString));
     $session->responseNotContains($this->xssTitleString);
   }
 
