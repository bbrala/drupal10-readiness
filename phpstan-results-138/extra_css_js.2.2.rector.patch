diff --git a/extra_css_js.info.yml b/extra_css_js.info.yml
index e45fb91..4247815 100644
--- a/extra_css_js.info.yml
+++ b/extra_css_js.info.yml
@@ -1,8 +1,7 @@
 name: Extra CSS and JS
 type: module
 description: Provide Extra Css and JS
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: extra_css_js.admin_settings
 
 # Information added by Drupal.org packaging script on 2020-08-24
diff --git a/extra_css_js.module b/extra_css_js.module
index 4b6ee8a..be25494 100644
--- a/extra_css_js.module
+++ b/extra_css_js.module
@@ -46,7 +46,7 @@ function extra_css_js_css_alter(&$css, AttachedAssetsInterface $assets) {
       $cssfile = EXTRA_CSS_JS_CSS_PATH . '/extra_css_js.css';
     }
     if (file_exists($cssfile) && $css) {
-      $css_path = ltrim(file_url_transform_relative(file_create_url($cssfile)), '/');
+      $css_path = ltrim(\Drupal::service('file_url_generator')->generateString($cssfile), '/');
       if (!empty($css_path)) {
         $css[$css_path] = [
           'weight' => CSS_COMPONENT,
@@ -81,7 +81,7 @@ function extra_css_js_js_alter(&$javascript, AttachedAssetsInterface $assets) {
       $js_file = EXTRA_CSS_JS_JS_PATH . '/extra_css_js.js';
     }
     if (file_exists($js_file) && $javascript) {
-      $js_path = ltrim(file_url_transform_relative(file_create_url($js_file)), '/');
+      $js_path = ltrim(\Drupal::service('file_url_generator')->generateString($js_file), '/');
       if (!empty($js_path)) {
         $javascript[$js_path] = [
           "group" => -100,
