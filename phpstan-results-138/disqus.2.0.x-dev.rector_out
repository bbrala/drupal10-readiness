modules/contrib/disqus/disqus.api.php
modules/contrib/disqus/disqus.install
modules/contrib/disqus/disqus.module
modules/contrib/disqus/src/Controller/DisqusController.php
modules/contrib/disqus/src/Controller/NewCommentController.php
modules/contrib/disqus/src/DisqusCommentManager.php
modules/contrib/disqus/src/DisqusCommentManagerInterface.php
modules/contrib/disqus/src/Element/Disqus.php
modules/contrib/disqus/src/Event/NewCommentEvent.php
modules/contrib/disqus/src/EventSubscriber/NewCommentSubscriber.php
modules/contrib/disqus/src/Form/DisqusSettingsForm.php
modules/contrib/disqus/src/Plugin/Block/DisqusBaseBlock.php
modules/contrib/disqus/src/Plugin/Block/DisqusCombinationWidgetBlock.php
modules/contrib/disqus/src/Plugin/Block/DisqusPopularThreadsBlock.php
modules/contrib/disqus/src/Plugin/Block/DisqusRecentCommentBlock.php
modules/contrib/disqus/src/Plugin/Block/DisqusTopCommentersBlock.php
modules/contrib/disqus/src/Plugin/Field/FieldFormatter/DisqusFormatter.php
modules/contrib/disqus/src/Plugin/Field/FieldType/DisqusItem.php
modules/contrib/disqus/src/Plugin/Field/FieldWidget/DisqusWidget.php
modules/contrib/disqus/src/Plugin/migrate/DisqusDeriver.php
modules/contrib/disqus/src/Plugin/migrate/destination/DisqusComment.php
modules/contrib/disqus/src/Plugin/migrate/process/DisqusEntityId.php
modules/contrib/disqus/src/Plugin/migrate/process/DisqusEntityType.php
modules/contrib/disqus/src/Plugin/migrate/source/DisqusComment.php
modules/contrib/disqus/src/Plugin/migrate/source/DisqusEnabledNodeTypes.php
modules/contrib/disqus/src/Plugin/views/field/DisqusCommentCount.php
modules/contrib/disqus/tests/src/Functional/DisqusAdminTest.php

3 files with changes
====================

1) modules/contrib/disqus/src/Event/NewCommentEvent.php:6

    ---------- begin diff ----------
@@ @@
 /**
  * Wraps a new comment event for event listeners.
  */
-class NewCommentEvent extends Event {
+class NewCommentEvent extends \Symfony\Contracts\EventDispatcher\Event {

   const NEW_COMMENT = 'disqus.comment.new';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/disqus/src/DisqusCommentManager.php:200

    ---------- begin diff ----------
@@ @@
         $data['avatar'] = !empty($file_uri) ? $file_uri : NULL;
       }
       if (isset($data['avatar'])) {
-        $data['avatar'] = file_create_url($data['avatar']);
+        $data['avatar'] = \Drupal::service('file_url_generator')->generateAbsoluteString($data['avatar']);
       }
     }
     $this->moduleHandler->alter('disqus_user_data', $data);
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


3) modules/contrib/disqus/src/Controller/NewCommentController.php:124

    ---------- begin diff ----------
@@ @@
             ->format('U');
           if ($this->time->getRequestTime() <= strtotime('+1 hour', $created)) {
             $this->tempStore->set($comment_id, TRUE);
-            $this->eventDispatcher->dispatch(NewCommentEvent::NEW_COMMENT, new NewCommentEvent($post));
+            $this->eventDispatcher->dispatch(new NewCommentEvent($post), NewCommentEvent::NEW_COMMENT);

             // Clear flood control for this user as this was a genuine comment.
             $this->flood->clear('disqus.new_comment');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

