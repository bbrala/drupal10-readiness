diff --git a/src/Controller/YoastSeoController.php b/src/Controller/YoastSeoController.php
index e66d38d..17fdf6c 100644
--- a/src/Controller/YoastSeoController.php
+++ b/src/Controller/YoastSeoController.php
@@ -153,7 +153,7 @@ class YoastSeoController extends ControllerBase {
       '#type' => 'details',
       '#title' => 'Configure Real-time SEO by bundles',
       '#description' => 'Select the bundles Real-time SEO will be enabled for',
-      '#markup' => render($config_form),
+      '#markup' => \Drupal::service('renderer')->render($config_form),
       '#open' => TRUE,
     ];
 
diff --git a/src/Tests/YoastSeoTest.php b/src/Tests/YoastSeoTest.php
index 142ebfa..59ad069 100644
--- a/src/Tests/YoastSeoTest.php
+++ b/src/Tests/YoastSeoTest.php
@@ -56,7 +56,7 @@ class YoastSeoTest extends BrowserTestBase {
   /**
    * Sets the test up.
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->adminUser = $this->drupalCreateUser($this->permissions);
     $this->entityManager = \Drupal::service('entity_type.manager');
@@ -69,7 +69,7 @@ class YoastSeoTest extends BrowserTestBase {
     // Configure yoast seo for the given bundle.
     $this->drupalGet('admin/config/yoast_seo');
     $edit = [$entity_type . '[' . $bundle . ']' => $bundle];
-    json_decode($this->drupalPostForm(NULL, $edit, t('Save')));
+    json_decode($this->submitForm($edit, t('Save')));
     $this->assertSession()->checkboxChecked('edit-node-page');
   }
 
@@ -80,7 +80,7 @@ class YoastSeoTest extends BrowserTestBase {
     // Configure yoast seo for the given bundle.
     $this->drupalGet('admin/config/yoast_seo');
     $edit = [$entity_type . '[' . $bundle . ']' => FALSE];
-    json_decode($this->drupalPostForm(NULL, $edit, t('Save')));
+    json_decode($this->submitForm($edit, t('Save')));
     $this->assertSession()->checkboxNotChecked('edit-node-page');
   }
 
diff --git a/src/YoastSeoManager.php b/src/YoastSeoManager.php
index 38abe59..3b888ec 100644
--- a/src/YoastSeoManager.php
+++ b/src/YoastSeoManager.php
@@ -265,7 +265,7 @@ class YoastSeoManager {
   public function getConfiguration() {
     $conf = Yaml::parse(
       file_get_contents(
-        drupal_get_path('module', 'yoast_seo') . '/config/yoast_seo.yml'
+        \Drupal::service('extension.list.module')->getPath('yoast_seo') . '/config/yoast_seo.yml'
       )
     );
     return $conf;
