diff --git a/celum_connect.info.yml b/celum_connect.info.yml
index dc85542..03780e1 100644
--- a/celum_connect.info.yml
+++ b/celum_connect.info.yml
@@ -7,8 +7,7 @@ dependencies:
 
 configure : celum.field.settings
 
-core: '8.x'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 # version: '8.x-1.42'
 # project: 'celum_connect'
 # datestamp: 1638202389
diff --git a/celum_connect.install b/celum_connect.install
index 9bf1adc..ad24a1a 100755
--- a/celum_connect.install
+++ b/celum_connect.install
@@ -10,7 +10,7 @@
  */
 function celum_connect_install() {
     $directory = 'public://celum_connect';
-    if (file_prepare_directory($directory, FILE_CREATE_DIRECTORY)) {
+    if (\Drupal::service('file_system')->prepareDirectory($directory, \Drupal\Core\File\FileSystemInterface::CREATE_DIRECTORY)) {
         \Drupal::messenger()->addMessage("Directory created successfully");
     }else{
         \Drupal::messenger()->addMessage("Directory not created");
diff --git a/src/Plugin/Field/FieldFormatter/CelumConnectFormatter.php b/src/Plugin/Field/FieldFormatter/CelumConnectFormatter.php
index 047ff3a..a1f82cb 100755
--- a/src/Plugin/Field/FieldFormatter/CelumConnectFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/CelumConnectFormatter.php
@@ -34,8 +34,8 @@ class CelumConnectFormatter extends FormatterBase
                 '#id' => $item->id,
                 '#downloadFormat' => $item->downloadFormat,
                 '#fileExtension' => $item->fileExtension,
-                '#uri' => file_create_url($item->uri),
-                '#thumb' => file_create_url($item->thumb),
+                '#uri' => \Drupal::service('file_url_generator')->generateAbsoluteString($item->uri),
+                '#thumb' => \Drupal::service('file_url_generator')->generateAbsoluteString($item->thumb),
 
             );
             if($config->get('celum_connect_anura_links')) {
diff --git a/src/Plugin/Field/FieldType/CelumConnectFieldType.php b/src/Plugin/Field/FieldType/CelumConnectFieldType.php
index eb51fc6..f60731d 100755
--- a/src/Plugin/Field/FieldType/CelumConnectFieldType.php
+++ b/src/Plugin/Field/FieldType/CelumConnectFieldType.php
@@ -162,12 +162,12 @@ class CelumConnectFieldType extends FieldItemBase implements FieldItemInterface{
                 $download_url = $url."/direct/download?id=".$id."&format=".$dlf."&consumer=Drupal8";
                 if(system_retrieve_file($download_url,
                   \Drupal::config('system.file')->get('default_scheme')."://celum_connect/".$id."_".$version."_".$dlf.".".$fileExtension,
-                    TRUE, FILE_EXISTS_REPLACE)){
+                    TRUE, \Drupal\Core\File\FileSystemInterface::EXISTS_REPLACE)){
                     system_retrieve_file(
                         $thumb_url,
                       \Drupal::config('system.file')->get('default_scheme')."://celum_connect/".$id."_".$version."_".$dlf.".".$fileExtension."_thumb",
                         TRUE,
-                        FILE_EXISTS_REPLACE);
+                        \Drupal\Core\File\FileSystemInterface::EXISTS_REPLACE);
                   \Drupal::messenger()->addMessage("File uploaded successfully");
                 }else{
                   \Drupal::messenger()->addMessage("Failed to upload File",'error');
diff --git a/src/Plugin/Field/FieldWidget/CelumConnectWidget.php b/src/Plugin/Field/FieldWidget/CelumConnectWidget.php
index 9eba13d..20bd980 100755
--- a/src/Plugin/Field/FieldWidget/CelumConnectWidget.php
+++ b/src/Plugin/Field/FieldWidget/CelumConnectWidget.php
@@ -56,8 +56,8 @@ class CelumConnectWidget extends WidgetBase
         $element['#attached']['drupalSettings']['link_only'] = $config->get('celum_connect_link_only');
         $element['#attached']['drupalSettings']['anura_links'] = $config->get('celum_connect_anura_links');
         $element['#attached']['drupalSettings']['urlRootNodeMap'] = $config->get('celum_connect_urlRootNodeMap');
-        $element['#attached']['drupalSettings']['module_path'] = drupal_get_path('module', 'celum_connect');
-        $element['#attached']['drupalSettings']['module_url'] = drupal_get_path('module', 'celum_connect');
+        $element['#attached']['drupalSettings']['module_path'] = \Drupal::service('extension.list.module')->getPath('celum_connect');
+        $element['#attached']['drupalSettings']['module_url'] = \Drupal::service('extension.list.module')->getPath('celum_connect');
         list($url, $t) = explode("_", $this->decrypt($config->get('celum_connect_licenseKey')));
         $element['#attached']['drupalSettings']['celum_url'] = $url;
         $element['#attached']['drupalSettings']['api_key'] = $config->get('celum_connect_apikey');
@@ -198,7 +198,7 @@ class CelumConnectWidget extends WidgetBase
             $title = $items[$delta]->title;
         }
         if($prev == null){
-            $prev = file_create_url($items[$delta]->thumb);
+            $prev = \Drupal::service('file_url_generator')->generateAbsoluteString($items[$delta]->thumb);
         }
         if($celum_id == null){
             $celum_id = $items[$delta]->id;
