diff --git a/src/Plugin/Field/FieldFormatter/SvgIconFormatter.php b/src/Plugin/Field/FieldFormatter/SvgIconFormatter.php
index 2d98d60..94204f2 100644
--- a/src/Plugin/Field/FieldFormatter/SvgIconFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/SvgIconFormatter.php
@@ -89,7 +89,7 @@ class SvgIconFormatter extends FormatterBase {
               '#theme' => 'svg_icon',
               '#wrapper_attributes' => $wrapper_attributes,
               '#svg_attributes' => $svg_attributes,
-              '#icon_url' => file_url_transform_relative($file->createFileUrl()) . '#' . $item->svg_id,
+              '#icon_url' => \Drupal::service('file_url_generator')->transformRelative($file->createFileUrl()) . '#' . $item->svg_id,
               '#use_canvas' => $this->getSetting('use_canvas'),
               '#attached' => ['library' => ['svg_icon/svg_icon.formatter']],
             ];
@@ -99,7 +99,7 @@ class SvgIconFormatter extends FormatterBase {
       else {
         $elements[$delta] = [
           '#theme' => 'image',
-          '#uri' => file_url_transform_relative($file->getFileUri()),
+          '#uri' => \Drupal::service('file_url_generator')->transformRelative($file->getFileUri()),
         ];
       }
     }
diff --git a/src/Plugin/Field/FieldWidget/SvgIconWidget.php b/src/Plugin/Field/FieldWidget/SvgIconWidget.php
index 1f98dab..481b339 100644
--- a/src/Plugin/Field/FieldWidget/SvgIconWidget.php
+++ b/src/Plugin/Field/FieldWidget/SvgIconWidget.php
@@ -168,14 +168,14 @@ class SvgIconWidget extends FileWidget {
             '#label' => $fragment->getTitle(),
             '#wrapper_attributes' => $wrapper_attributes,
             '#svg_attributes' => $svg_attributes,
-            '#icon_url' => file_url_transform_relative($file->createFileUrl()) . '#' . $fragment->getId(),
+            '#icon_url' => \Drupal::service('file_url_generator')->transformRelative($file->createFileUrl()) . '#' . $fragment->getId(),
           ];
         }
       }
       else {
         $element['preview'][$svg->getId()] = [
           '#theme' => 'image',
-          '#uri' => file_url_transform_relative($file->getFileUri()),
+          '#uri' => \Drupal::service('file_url_generator')->transformRelative($file->getFileUri()),
           '#width' => '50px',
         ];
       }
diff --git a/svg_icon.info.yml b/svg_icon.info.yml
index e743381..5a0dcb1 100644
--- a/svg_icon.info.yml
+++ b/svg_icon.info.yml
@@ -2,7 +2,7 @@ name: SVG Icon
 type: module
 description: 'Provides a field type to allow uploading SVG icons and sprites.'
 package: SVG
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 dependencies:
   - drupal:file
