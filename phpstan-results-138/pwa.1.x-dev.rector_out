modules/contrib/pwa/modules/pwa_a2hs/pwa_a2hs.module
modules/contrib/pwa/modules/pwa_a2hs/src/Plugin/Block/AddToHomeScreenBlock.php
modules/contrib/pwa/modules/pwa_extras/pwa_extras.module
modules/contrib/pwa/modules/pwa_extras/src/Form/PwaExtrasSettingsForm.php
modules/contrib/pwa/pwa.api.php
modules/contrib/pwa/pwa.install
modules/contrib/pwa/pwa.module
modules/contrib/pwa/src/Controller/PWAController.php
modules/contrib/pwa/src/EventSubscriber/ResponseSubscriber.php
modules/contrib/pwa/src/Form/BasicConfigurationForm.php
modules/contrib/pwa/src/Form/ManifestConfigurationForm.php
modules/contrib/pwa/src/Form/ServiceWorkerConfigurationForm.php
modules/contrib/pwa/src/Manifest.php
modules/contrib/pwa/src/ManifestInterface.php
modules/contrib/pwa/tests/src/Functional/ManifestTest.php

4 files with changes
====================

1) modules/contrib/pwa/src/Form/ManifestConfigurationForm.php:154

    ---------- begin diff ----------
@@ @@
   public function buildForm(array $form, FormStateInterface $form_state) {

     $host = $this->getRequest()->server->get('HTTP_HOST');
-    $files_path = file_create_url("public://pwa") . '/';
+    $files_path = \Drupal::service('file_url_generator')->generateAbsoluteString("public://pwa") . '/';
     if (substr($files_path, 0, 7) == 'http://') {
       $files_path = str_replace('http://', '', $files_path);
     }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/pwa/src/EventSubscriber/ResponseSubscriber.php:33

    ---------- begin diff ----------
@@ @@
   /**
    * Clear serviceworker cache on user change.
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
    *   The event to process.
    *
    * @see pwa_user_login()
    */
-  public function processResponse(FilterResponseEvent $event) {
+  public function processResponse(\Symfony\Component\HttpKernel\Event\ResponseEvent $event) {
     $response = $event->getResponse();

     if ($event->getRequest()->get('_route') === 'user.logout') {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


3) modules/contrib/pwa/src/Controller/PWAController.php:253

    ---------- begin diff ----------
@@ @@
    * @return mixed
    */
   public function pwa_serviceworker_file_data(Request $request) {
-    $path = drupal_get_path('module', 'pwa');
+    $path = \Drupal::service('extension.list.module')->getPath('pwa');

     $sw = file_get_contents($path . '/js/serviceworker.js');
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


4) modules/contrib/pwa/pwa.api.php:69

    ---------- begin diff ----------
@@ @@
  * @see hook_pwa_cache_urls_assets_page_alter()
  */
 function hook_pwa_cache_urls_assets_alter(&$resources) {
-  $module_path = drupal_get_path('module', 'pwa');
+  $module_path = \Drupal::service('extension.list.module')->getPath('pwa');
   $resources[] = "/$module_path/assets/loading.gif";
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 4 files have been changed by Rector                                       

