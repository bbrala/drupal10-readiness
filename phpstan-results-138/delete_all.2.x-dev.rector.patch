diff --git a/delete_all.info.yml b/delete_all.info.yml
index 04c6c27..3eef9e1 100644
--- a/delete_all.info.yml
+++ b/delete_all.info.yml
@@ -2,5 +2,4 @@ type: module
 name: Delete content and users
 description: 'Allows deletion of all nodes, comments and users on a site. Useful for development or prior to launching a site.'
 package: Development
-core_version_requirement: ^8 || ^9
-core: 8.x
+core_version_requirement: ^9.3 || ^10
diff --git a/delete_all.module b/delete_all.module
index 172971f..f65b454 100644
--- a/delete_all.module
+++ b/delete_all.module
@@ -5,6 +5,6 @@
  * Hooks & functions for delete_all module.
  */
 
-include_once drupal_get_path('module', 'delete_all') . '/includes/delete_all.content.batch.inc';
-include_once drupal_get_path('module', 'delete_all') . '/includes/delete_all.entities.batch.inc';
-include_once drupal_get_path('module', 'delete_all') . '/includes/delete_all.user.batch.inc';
+include_once \Drupal::service('extension.list.module')->getPath('delete_all') . '/includes/delete_all.content.batch.inc';
+include_once \Drupal::service('extension.list.module')->getPath('delete_all') . '/includes/delete_all.entities.batch.inc';
+include_once \Drupal::service('extension.list.module')->getPath('delete_all') . '/includes/delete_all.user.batch.inc';
