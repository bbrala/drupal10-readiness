diff --git a/socrata_filter/src/Plugin/Filter/FilterSocrata.php b/socrata_filter/src/Plugin/Filter/FilterSocrata.php
index 37af744..e7de543 100644
--- a/socrata_filter/src/Plugin/Filter/FilterSocrata.php
+++ b/socrata_filter/src/Plugin/Filter/FilterSocrata.php
@@ -61,7 +61,7 @@ class FilterSocrata extends FilterBase {
           $render_array['#width'] = $this->getWidth($vars);
           $render_array['#height'] = $this->getHeight($vars);;
 
-          $retval = render($render_array);
+          $retval = \Drupal::service('renderer')->render($render_array);
         }
         return $retval;
       },
diff --git a/socrata_filter/tests/src/Kernel/FilterSocrataTest.php b/socrata_filter/tests/src/Kernel/FilterSocrataTest.php
index 71e3302..f3f04f6 100644
--- a/socrata_filter/tests/src/Kernel/FilterSocrataTest.php
+++ b/socrata_filter/tests/src/Kernel/FilterSocrataTest.php
@@ -39,7 +39,7 @@ class FilterSocrataTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $data = Yaml::parse(file_get_contents(__DIR__ . '/../../../../tests/config/data.yml'));
diff --git a/socrata_views/tests/src/Kernel/SocrataDisplayExtenderTest.php b/socrata_views/tests/src/Kernel/SocrataDisplayExtenderTest.php
index 596bb74..f6d4f87 100644
--- a/socrata_views/tests/src/Kernel/SocrataDisplayExtenderTest.php
+++ b/socrata_views/tests/src/Kernel/SocrataDisplayExtenderTest.php
@@ -35,7 +35,7 @@ class SocrataDisplayExtenderTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig(['views']);
     $this->moduleHandler = $this->container->get('module_handler');
