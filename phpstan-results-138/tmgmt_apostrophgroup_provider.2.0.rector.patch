diff --git a/src/Plugin/tmgmt/Translator/ApostrophTranslator.php b/src/Plugin/tmgmt/Translator/ApostrophTranslator.php
index 0f6cba2..4683f39 100644
--- a/src/Plugin/tmgmt/Translator/ApostrophTranslator.php
+++ b/src/Plugin/tmgmt/Translator/ApostrophTranslator.php
@@ -92,7 +92,7 @@ class ApostrophTranslator extends TranslatorPluginBase
           $labelname = $joblabel;
           $name = $labelname . "_" . $job->id() . "_all_" . $job->getRemoteSourceLanguage() . '_' . $job->getRemoteTargetLanguage() . '.xlf';
           $jobpath = $allfilespath . "/" . $name;
-          $file = file_save_data($exporter->export($job), $jobpath, FileSystemInterface::EXISTS_REPLACE);
+          $file = \Drupal::service('file.repository')->writeData($exporter->export($job), $jobpath, FileSystemInterface::EXISTS_REPLACE);
           $filearrayexportedfiles['all'] = $file;
         } else {
           // Export each item of the job in separate file.
@@ -100,7 +100,7 @@ class ApostrophTranslator extends TranslatorPluginBase
             $labelname = GeneralHelper::getStringNoSpeChars($item->label());
             $name = $labelname . "_" . $job->id() . "_" . $item->id() . "_" . $job->getRemoteSourceLanguage() . '_' . $job->getRemoteTargetLanguage() . '.xlf';
             $itempath = $allfilespath . "/" . $name;
-            $file = file_save_data($exporter->exportItem($item), $itempath, FileSystemInterface::EXISTS_REPLACE);
+            $file = \Drupal::service('file.repository')->writeData($exporter->exportItem($item), $itempath, FileSystemInterface::EXISTS_REPLACE);
             $filearrayexportedfiles[$item->id()] = $file;
           }
         }
@@ -130,7 +130,7 @@ class ApostrophTranslator extends TranslatorPluginBase
           $job->set('reference', $remote_job_id);
 
           $job->submitted("Job sent to provider!");
-          $messageTopass .= '<a href="' . file_create_url($zipPath) . '">' . Xss::filter(GeneralHelper::getJobLabelNoSpeChars($job)) . '</a>';
+          $messageTopass .= '<a href="' . \Drupal::service('file_url_generator')->generateAbsoluteString($zipPath) . '">' . Xss::filter(GeneralHelper::getJobLabelNoSpeChars($job)) . '</a>';
           \Drupal::messenger()->addMessage(Markup::create($messageTopass));
           // As exported files are transfered as zip, delete org. exports as already in the zip.
           // Add zip to transfer array.
diff --git a/tmgmt_apostrophgroup_provider.module b/tmgmt_apostrophgroup_provider.module
index 2aa2fc5..f28a43e 100644
--- a/tmgmt_apostrophgroup_provider.module
+++ b/tmgmt_apostrophgroup_provider.module
@@ -278,7 +278,7 @@ function tmgmt_apostropgroup_provider_import(JobInterface $job, $filedatastring,
   $path_gz = $job->getSetting('scheme') . '://tmgmt_apostrophgroup/ApostrophReceivedFiles/' . $filename;
   $dirname = dirname($path_gz);
   if (\Drupal::service('file_system')->prepareDirectory($dirname, FileSystemInterface::CREATE_DIRECTORY)) {
-    $file_gz = file_save_data($filedatastring, $path_gz, FileSystemInterface::EXISTS_REPLACE);
+    $file_gz = \Drupal::service('file.repository')->writeData($filedatastring, $path_gz, FileSystemInterface::EXISTS_REPLACE);
     // $mimetype = $file_gz->getMimeType();
     $filearray = array();
     /**
