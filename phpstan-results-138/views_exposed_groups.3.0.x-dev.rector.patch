diff --git a/tests/src/Functional/ViewsExposedGroupsInheritedPropertiesTest.php b/tests/src/Functional/ViewsExposedGroupsInheritedPropertiesTest.php
index c6d5e91..b628fbd 100644
--- a/tests/src/Functional/ViewsExposedGroupsInheritedPropertiesTest.php
+++ b/tests/src/Functional/ViewsExposedGroupsInheritedPropertiesTest.php
@@ -12,7 +12,7 @@ class ViewsExposedGroupsInheritedPropertiesTest extends ViewsExposedGroupsTestBa
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->defaultView->getDisplay('default')->setOption('exposed_form', [
@@ -58,15 +58,15 @@ class ViewsExposedGroupsInheritedPropertiesTest extends ViewsExposedGroupsTestBa
       'exposed_form_options[autosubmit]' => '1',
       'exposed_form_options[autosubmit_hide]' => '1',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Apply');
+    $this->submitForm($edit, 'Apply');
 
     // Asserts the form options are set.
     $exposed_options_path = 'admin/structure/views/nojs/display/' . $this->defaultView->name . '/default/exposed_form_options';
     $this->drupalGet($exposed_options_path);
 
-    $this->assertFieldByName('exposed_form_options[reset_button]', '1');
-    $this->assertFieldByName('exposed_form_options[autosubmit]', '1');
-    $this->assertFieldByName('exposed_form_options[autosubmit_hide]', '1');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[reset_button]', '1');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[autosubmit]', '1');
+    $this->assertSession()->fieldValueEquals('exposed_form_options[autosubmit_hide]', '1');
   }
 
   /**
diff --git a/tests/src/Functional/ViewsExposedGroupsTestBase.php b/tests/src/Functional/ViewsExposedGroupsTestBase.php
index 4ea0c5a..e8f8a56 100644
--- a/tests/src/Functional/ViewsExposedGroupsTestBase.php
+++ b/tests/src/Functional/ViewsExposedGroupsTestBase.php
@@ -52,7 +52,7 @@ abstract class ViewsExposedGroupsTestBase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Creates several random nodes for the view.
@@ -109,7 +109,8 @@ abstract class ViewsExposedGroupsTestBase extends BrowserTestBase {
   public function assertViewsTableResultCount($expected = 0, $message = '', $group = 'Browser') {
     $message = $message ? $message : 'Found the correct number of views results in the table display.';
     $rows = $this->xpath('//table[contains(@class, :class)]/tbody/tr', [':class' => 'views-table']);
-    $this->assertEquals($expected, count($rows), $message, $group);
+    $this->assertEquals($expected, count($rows), $message);
+    $this->assertEqualsWithDelta($expected, count($rows), $group, $message);
   }
 
   /**
@@ -146,7 +147,7 @@ abstract class ViewsExposedGroupsTestBase extends BrowserTestBase {
    */
   protected function makeDefaultView() {
     $storage = \Drupal::entityTypeManager()->getStorage('view');
-    $file_storage = new FileStorage(drupal_get_path('module', 'views_exposed_groups') . '/tests/fixtures');
+    $file_storage = new FileStorage(\Drupal::service('extension.list.module')->getPath('views_exposed_groups') . '/tests/fixtures');
     $storage
       ->create($file_storage->read('views.view.exposed_groups_test'))
       ->save();
