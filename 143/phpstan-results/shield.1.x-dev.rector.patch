diff --git a/composer.json b/composer.json
index 3e9c848..4541e14 100644
--- a/composer.json
+++ b/composer.json
@@ -7,7 +7,7 @@
         "drupal/key": "^1.0"
     },
     "require": {
-        "drupal/core": "^8.7.7 || ^9"
+        "drupal/core": "^9.3 || ^10"
     },
     "extra": {
         "branch-alias": {
diff --git a/shield.info.yml b/shield.info.yml
index e571a95..8366e5d 100644
--- a/shield.info.yml
+++ b/shield.info.yml
@@ -3,7 +3,7 @@ description: 'Creates a general shield for the site.'
 package: 'Administration'
 
 type: module
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:path_alias
 
diff --git a/src/EventSubscriber/ShieldSubscriber.php b/src/EventSubscriber/ShieldSubscriber.php
index d35f467..b60347f 100644
--- a/src/EventSubscriber/ShieldSubscriber.php
+++ b/src/EventSubscriber/ShieldSubscriber.php
@@ -2,10 +2,10 @@
 
 namespace Drupal\shield\EventSubscriber;
 
+use Symfony\Component\HttpKernel\Event\ResponseEvent;
 use Drupal\Core\Cache\CacheableResponseInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;
 
 /**
@@ -40,10 +40,10 @@ class ShieldSubscriber implements EventSubscriberInterface {
   /**
    * Add shield header and cache tag.
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
    *   The response event.
    */
-  public function onResponse(FilterResponseEvent $event) {
+  public function onResponse(ResponseEvent $event) {
     $response = $event->getResponse();
 
     // If configured, add the debug header calculated in ShieldMiddleware.
diff --git a/tests/src/Functional/ShieldTest.php b/tests/src/Functional/ShieldTest.php
index 7e15226..276a41d 100644
--- a/tests/src/Functional/ShieldTest.php
+++ b/tests/src/Functional/ShieldTest.php
@@ -50,7 +50,7 @@ class ShieldTest extends BrowserTestBase {
       'key_type_settings' => [],
       'key_provider' => 'file',
       'key_provider_settings' => [
-        'file_location' => drupal_get_path('module', 'shield') . '/tests/files/shield_test.key',
+        'file_location' => \Drupal::service('extension.list.module')->getPath('shield') . '/tests/files/shield_test.key',
         'strip_line_breaks' => FALSE,
       ],
     ])->save();
