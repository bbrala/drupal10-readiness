diff --git a/src/VotingApiReactionManager.php b/src/VotingApiReactionManager.php
index a37eac9..1a97734 100644
--- a/src/VotingApiReactionManager.php
+++ b/src/VotingApiReactionManager.php
@@ -325,7 +325,7 @@ class VotingApiReactionManager implements ContainerInjectionInterface {
    */
   public function getIcon(VoteType $entity, &$default = TRUE) {
     $path = implode('/', [
-      drupal_get_path('module', 'votingapi_reaction'),
+      \Drupal::service('extension.list.module')->getPath('votingapi_reaction'),
       'svg',
       '', // Trailing slash.
     ]);
@@ -343,7 +343,7 @@ class VotingApiReactionManager implements ContainerInjectionInterface {
       $url = $path . $entity->id() . '.svg';
     }
 
-    return file_create_url($url);
+    return \Drupal::service('file_url_generator')->generateAbsoluteString($url);
   }
 
 }
