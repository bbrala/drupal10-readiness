modules/contrib/regex_redirect/regex_redirect.install
modules/contrib/regex_redirect/src/RegexRedirectStorageSchema.php
modules/contrib/regex_redirect/regex_redirect.module
modules/contrib/regex_redirect/src/Entity/RegexRedirect.php
modules/contrib/regex_redirect/tests/src/Unit/RegexRedirectRepositoryTest.php
modules/contrib/regex_redirect/src/EventSubscriber/RegexRedirectRequestSubscriber.php
modules/contrib/regex_redirect/src/Form/RegexRedirectDeleteForm.php
modules/contrib/regex_redirect/src/Form/RegexRedirectForm.php
modules/contrib/regex_redirect/src/Form/RegexRedirectSettingsForm.php
modules/contrib/regex_redirect/src/Plugin/Field/FieldFormatter/RegexRedirectSourceFormatter.php
modules/contrib/regex_redirect/src/Plugin/Field/FieldType/RegexRedirectSourceItem.php
modules/contrib/regex_redirect/src/Plugin/Field/FieldWidget/RegexRedirectSourceWidget.php
modules/contrib/regex_redirect/src/RegexRedirectRepository.php

2 files with changes
====================

1) modules/contrib/regex_redirect/tests/src/Unit/RegexRedirectRepositoryTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\regex_redirect\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Database\Connection;
@@ @@
  */
 class RegexRedirectRepositoryTest extends UnitTestCase {

+  use ProphecyTrait;
   use StringTranslationTrait;

   /**
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->container = new ContainerBuilder();
@@ @@
       $this->requestStack->reveal(),
       $this->configFactory->reveal()
     );
-    $this->setExpectedException(RedirectLoopException::class);
+    $this->expectException(RedirectLoopException::class);
     $regex_redirect_repository->findMatchingRedirect($data[0]['actual']);
   }
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * DelegateExceptionArgumentsRector
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/regex_redirect/src/EventSubscriber/RegexRedirectRequestSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\regex_redirect\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\Core\Cache\CacheableMetadata;
 use Drupal\Core\Language\LanguageManagerInterface;
 use Drupal\Core\PathProcessor\InboundPathProcessorInterface;
@@ @@
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\HttpKernel\KernelEvents;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\Routing\RequestContext;

 /**
@@ @@
   /**
    * Handles the redirect if any found.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The event to process.
    *
    * @throws \Drupal\redirect\Exception\RedirectLoopException
@@ @@
    * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
    * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
    */
-  public function onKernelRequestCheckRegexRedirect(GetResponseEvent $event) {
+  public function onKernelRequestCheckRegexRedirect(RequestEvent $event) {
     // Get a clone of the request. During inbound processing the request
     // can be altered. Allowing this here can lead to unexpected behavior.
     // For example the path_processor.files inbound processor provided by
@@ @@
   /**
    * Prior to set the response it check if we can redirect.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The event object.
    * @param \Drupal\Core\Url $url
    *   The Url where we want to redirect.
    */
-  protected function setResponse(GetResponseEvent $event, Url $url) {
+  protected function setResponse(RequestEvent $event, Url $url) {
     // Set the response if the regex redirect is valid.
     $request = $event->getRequest();
     $this->context->fromRequest($request);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector


 [OK] 2 files have been changed by Rector                                       

