diff --git a/entity_tools_example/tests/src/Functional/LoadTest.php b/entity_tools_example/tests/src/Functional/LoadTest.php
index 9b936d7..05c536f 100644
--- a/entity_tools_example/tests/src/Functional/LoadTest.php
+++ b/entity_tools_example/tests/src/Functional/LoadTest.php
@@ -34,7 +34,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
@@ -45,7 +45,7 @@ class LoadTest extends BrowserTestBase {
    */
   public function testLoad() {
     $this->drupalGet(Url::fromRoute('<front>'));
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
   }
 
 }
diff --git a/src/LinkTools.php b/src/LinkTools.php
index 69342b8..885df48 100644
--- a/src/LinkTools.php
+++ b/src/LinkTools.php
@@ -31,7 +31,7 @@ class LinkTools {
     $link = Link::fromTextAndUrl($label, $url);
     $link = $link->toRenderable();
     $link['#attributes'] = $attributes;
-    $output = render($link);
+    $output = \Drupal::service('renderer')->render($link);
     return $output;
   }
 
