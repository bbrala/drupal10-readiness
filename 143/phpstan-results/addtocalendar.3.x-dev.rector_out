modules/contrib/addtocalendar/addtocalendar.module
modules/contrib/addtocalendar/includes/addtocalendar.build.inc
modules/contrib/addtocalendar/includes/addtocalendar.form.inc
modules/contrib/addtocalendar/src/AddToCalendarApiWidget.php
modules/contrib/addtocalendar/src/Plugin/Field/FieldFormatter/AddToCalendar.php
modules/contrib/addtocalendar/src/Plugin/Field/FieldType/AddToCalendarField.php
modules/contrib/addtocalendar/src/Plugin/Field/FieldWidget/AddToCalendarWidgetType.php

4 files with changes
====================

1) modules/contrib/addtocalendar/src/Plugin/Field/FieldFormatter/AddToCalendar.php:167

    ---------- begin diff ----------
@@ @@

       $service->setWidgetValues($config_values);
       $build = $service->generateWidget();
-      $return = render($build);
+      $return = \Drupal::service('renderer')->render($build);
     }
     else {
       $return = $this->fieldDefinition->getSetting('off_label');
@@ @@
         }
         else {
           $value = $entity->get($field)->view(['label' => 'hidden']);
-          $value = strip_tags(render($value));
+          $value = strip_tags(\Drupal::service('renderer')->render($value));
         }
         break;
     }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/addtocalendar/src/AddToCalendarApiWidget.php:210

    ---------- begin diff ----------
@@ @@
     $build['addtocalendar'] = [
       '#type' => 'html_tag',
       '#tag' => 'span',
-      '#value' => render($build['addtocalendar_button']) . '<var class="atc_event">' . render($build['addtocalendar']) . '</var>',
+      '#value' => \Drupal::service('renderer')->render($build['addtocalendar_button']) . '<var class="atc_event">' . \Drupal::service('renderer')->render($build['addtocalendar']) . '</var>',
       '#attributes' => [
         'class' => [
           'addtocalendar',
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector


3) modules/contrib/addtocalendar/includes/addtocalendar.build.inc:97

    ---------- begin diff ----------
@@ @@
               }
               else {
                 $view = $entity->get($field)->view(['label' => 'hidden']);
-                $class_value = strip_tags(render($view));
+                $class_value = strip_tags(\Drupal::service('renderer')->render($view));
               }
               break;
           }
@@ @@
         $build['addtocalendar'][$index] = [
           '#type' => 'html_tag',
           '#tag' => 'span',
-          '#value' => render($build['addtocalendar_button']) . '<var class="atc_event">' .render($build['addtocalendar'][$index]) . '</var>',
+          '#value' => \Drupal::service('renderer')->render($build['addtocalendar_button']) . '<var class="atc_event">' .\Drupal::service('renderer')->render($build['addtocalendar'][$index]) . '</var>',
           '#attributes' => [
             'class' => [
               'addtocalendar',
@@ @@
       if ($multivalued && $settings['addtocalendar_settings']['multiple_value'] == 2) {
         foreach ($variables['items'] as $k => $content) {
           if (isset($variables['items'][$k]['content']['#suffix'])) {
-            $variables['items'][$k]['content']['#suffix'] .= render($build['addtocalendar'][$k]);
+            $variables['items'][$k]['content']['#suffix'] .= \Drupal::service('renderer')->render($build['addtocalendar'][$k]);
           }
           else {
-            $variables['items'][$k]['content']['#suffix'] = render($build['addtocalendar'][$k]);
+            $variables['items'][$k]['content']['#suffix'] = \Drupal::service('renderer')->render($build['addtocalendar'][$k]);
           }
           $variables['#attached']['library'][] = 'addtocalendar/base';
         }
@@ @@
       // Setting #markup for all the date or daterange fields if single value is selected.
       else {
         if (isset($variables['items'][$delta]['content']['#suffix'])) {
-          $variables['items'][$delta]['content']['#suffix'] .= render($build['addtocalendar']);
+          $variables['items'][$delta]['content']['#suffix'] .= \Drupal::service('renderer')->render($build['addtocalendar']);
         }
         else {
-          $variables['items'][$delta]['content']['#suffix'] = render($build['addtocalendar']);
+          $variables['items'][$delta]['content']['#suffix'] = \Drupal::service('renderer')->render($build['addtocalendar']);
         }
         $variables['#attached']['library'][] = 'addtocalendar/base';
       }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector


4) modules/contrib/addtocalendar/addtocalendar.module:15

    ---------- begin diff ----------
@@ @@
 function addtocalendar_help($route_name, RouteMatchInterface $route_match) {
   switch ($route_name) {
     case 'help.page.addtocalendar':
-      $output = file_get_contents(drupal_get_path('module', 'addtocalendar') . '/README.md');
+      $output = file_get_contents(\Drupal::service('extension.list.module')->getPath('addtocalendar') . '/README.md');
       return $output;
   }
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 4 files have been changed by Rector                                       

