diff --git a/sitemap.info.yml b/sitemap.info.yml
index c529b6d..7121c5e 100644
--- a/sitemap.info.yml
+++ b/sitemap.info.yml
@@ -1,6 +1,5 @@
 name: 'Sitemap'
 type: module
 description: 'Display a sitemap.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 configure: sitemap.settings
diff --git a/src/Tests/SitemapBookTest.php b/src/Tests/SitemapBookTest.php
index 311df2e..3e9ce6f 100644
--- a/src/Tests/SitemapBookTest.php
+++ b/src/Tests/SitemapBookTest.php
@@ -36,7 +36,7 @@ class SitemapBookTest extends SitemapBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create user then login.
@@ -153,13 +153,15 @@ class SitemapBookTest extends SitemapBrowserTestBase {
     ];
 
     if ($parent !== NULL) {
-      $this->drupalPostForm('node/add/book', $edit, $this->t('Change book (update list of parents)'));
+      $this->drupalGet('node/add/book');
+      $this->submitForm($edit, $this->t('Change book (update list of parents)'));
 
       $edit['book[pid]'] = $parent;
-      $this->drupalPostForm(NULL, $edit, $this->t('Save'));
+      $this->submitForm($edit, $this->t('Save'));
     }
     else {
-      $this->drupalPostForm('node/add/book', $edit, $this->t('Save'));
+      $this->drupalGet('node/add/book');
+      $this->submitForm($edit, $this->t('Save'));
     }
 
     return $this->drupalGetNodeByTitle($edit['title[0][value]']);
diff --git a/src/Tests/SitemapBrowserTestBase.php b/src/Tests/SitemapBrowserTestBase.php
index dfaabd1..71403e5 100644
--- a/src/Tests/SitemapBrowserTestBase.php
+++ b/src/Tests/SitemapBrowserTestBase.php
@@ -25,7 +25,8 @@ abstract class SitemapBrowserTestBase extends BrowserTestBase {
    *   The array with the form fields.
    */
   protected function saveSitemapForm(array $edit = []) {
-    $this->drupalPostForm('admin/config/search/sitemap', $edit, $this->t('Save configuration'));
+    $this->drupalGet('admin/config/search/sitemap');
+    $this->submitForm($edit, $this->t('Save configuration'));
   }
 
 }
diff --git a/src/Tests/SitemapContentTest.php b/src/Tests/SitemapContentTest.php
index 9700369..b3e31a6 100644
--- a/src/Tests/SitemapContentTest.php
+++ b/src/Tests/SitemapContentTest.php
@@ -28,7 +28,7 @@ class SitemapContentTest extends SitemapTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Place page title block.
diff --git a/src/Tests/SitemapCssTest.php b/src/Tests/SitemapCssTest.php
index fa75564..311d04a 100644
--- a/src/Tests/SitemapCssTest.php
+++ b/src/Tests/SitemapCssTest.php
@@ -12,7 +12,7 @@ class SitemapCssTest extends SitemapTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->drupalLogin($this->userAdmin);
@@ -24,7 +24,7 @@ class SitemapCssTest extends SitemapTestBase {
   public function testIncludeCssFile() {
     // Assert that css file is included by default.
     $this->drupalGet('/sitemap');
-    $this->assertRaw('sitemap.theme.css');
+    $this->assertSession()->responseContains('sitemap.theme.css');
 
     // Change module not to include css file.
     $this->saveSitemapForm(['include_css' => FALSE]);
@@ -32,7 +32,7 @@ class SitemapCssTest extends SitemapTestBase {
 
     // Assert that css file is not included.
     $this->drupalGet('/sitemap');
-    $this->assertNoRaw('sitemap.theme.css');
+    $this->assertSession()->responseNotContains('sitemap.theme.css');
   }
 
 }
diff --git a/src/Tests/SitemapFrontpageTest.php b/src/Tests/SitemapFrontpageTest.php
index b2c9a5f..d58de6a 100644
--- a/src/Tests/SitemapFrontpageTest.php
+++ b/src/Tests/SitemapFrontpageTest.php
@@ -21,7 +21,7 @@ class SitemapFrontpageTest extends SitemapBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create user, then login.
diff --git a/src/Tests/SitemapMenuTest.php b/src/Tests/SitemapMenuTest.php
index ef3c799..e9bde36 100644
--- a/src/Tests/SitemapMenuTest.php
+++ b/src/Tests/SitemapMenuTest.php
@@ -54,7 +54,8 @@ class SitemapMenuTest extends SitemapMenuTestBase {
       // one child menu item of that menu.
       'menu[menu_parent]' => 'main:',
     ];
-    $this->drupalPostForm('node/add/article', $edit, $this->t('Save'));
+    $this->drupalGet('node/add/article');
+    $this->submitForm($edit, $this->t('Save'));
 
     // Create a node for a disabled menu item.
     $node_2_title = $this->randomString();
@@ -64,13 +65,15 @@ class SitemapMenuTest extends SitemapMenuTestBase {
       'menu[title]' => $node_2_title,
       'menu[menu_parent]' => 'main:',
     ];
-    $this->drupalPostForm('node/add/article', $edit, $this->t('Save'));
+    $this->drupalGet('node/add/article');
+    $this->submitForm($edit, $this->t('Save'));
 
     // Disable menu item.
     $menu_links = \Drupal::entityTypeManager()->getStorage('menu_link_content')->loadByProperties(['title' => $node_2_title]);
     $menu_link = reset($menu_links);
     $mlid = $menu_link->id();
-    $this->drupalPostForm("admin/structure/menu/item/$mlid/edit", ['enabled[value]' => FALSE], $this->t('Save'));
+    $this->drupalGet("admin/structure/menu/item/$mlid/edit");
+    $this->submitForm(['enabled[value]' => FALSE], $this->t('Save'));
 
     // Add admin link that an anonymous user doesn't have access to.
     $admin_link_title = $this->randomString();
@@ -79,7 +82,8 @@ class SitemapMenuTest extends SitemapMenuTestBase {
       'link[0][uri]' => '/admin/config/search/sitemap',
       'menu_parent' => 'main:',
     ];
-    $this->drupalPostForm("admin/structure/menu/manage/main/add", $edit, $this->t('Save'));
+    $this->drupalGet("admin/structure/menu/manage/main/add");
+    $this->submitForm($edit, $this->t('Save'));
 
     // Assert that main menu is included in the sitemap.
     $this->drupalGet('/sitemap');
diff --git a/src/Tests/SitemapMenuTestBase.php b/src/Tests/SitemapMenuTestBase.php
index 81d6713..5f530f7 100644
--- a/src/Tests/SitemapMenuTestBase.php
+++ b/src/Tests/SitemapMenuTestBase.php
@@ -33,7 +33,7 @@ abstract class SitemapMenuTestBase extends SitemapBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create an Article node type.
@@ -71,7 +71,8 @@ abstract class SitemapMenuTestBase extends SitemapBrowserTestBase {
       'menu[title]' => $this->randomString(),
       'menu[menu_parent]' => $menu_id . ':',
     ];
-    $this->drupalPostForm('node/add/article', $edit, $this->t('Save'));
+    $this->drupalGet('node/add/article');
+    $this->submitForm($edit, $this->t('Save'));
   }
 
 }
diff --git a/src/Tests/SitemapTaxonomyTermsRssTest.php b/src/Tests/SitemapTaxonomyTermsRssTest.php
index bf48fc7..16e92fc 100644
--- a/src/Tests/SitemapTaxonomyTermsRssTest.php
+++ b/src/Tests/SitemapTaxonomyTermsRssTest.php
@@ -12,7 +12,7 @@ class SitemapTaxonomyTermsRssTest extends SitemapTaxonomyTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $vocab = $this->vocabulary;
     $vid = $vocab->id();
diff --git a/src/Tests/SitemapTaxonomyTest.php b/src/Tests/SitemapTaxonomyTest.php
index 17ce603..c1bb43a 100644
--- a/src/Tests/SitemapTaxonomyTest.php
+++ b/src/Tests/SitemapTaxonomyTest.php
@@ -126,7 +126,7 @@ class SitemapTaxonomyTest extends SitemapTaxonomyTestBase {
     // Ensure that the sitemap gets loaded correctly.
     $this->drupalGet('/sitemap');
     $elements = $this->cssSelect(".sitemap-plugin--vocabulary");
-    $this->assertEqual(count($elements), 1, 'Vocabulary found.');
+    $this->assertEquals(count($elements), 1, 'Vocabulary found.');
 
     // Now disable the taxonomy view.
     $this->container->get('entity_type.manager')
@@ -141,7 +141,7 @@ class SitemapTaxonomyTest extends SitemapTaxonomyTestBase {
     // And visit the sitemap again.
     $this->drupalGet('/sitemap');
     $elements = $this->cssSelect(".sitemap-plugin--vocabulary");
-    $this->assertEqual(count($elements), 1, 'Vocabulary found.');
+    $this->assertEquals(count($elements), 1, 'Vocabulary found.');
   }
 
 }
diff --git a/src/Tests/SitemapTaxonomyTestBase.php b/src/Tests/SitemapTaxonomyTestBase.php
index 92b47fb..3dc08d5 100644
--- a/src/Tests/SitemapTaxonomyTestBase.php
+++ b/src/Tests/SitemapTaxonomyTestBase.php
@@ -61,7 +61,7 @@ abstract class SitemapTaxonomyTestBase extends SitemapBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Ensure the Article node type.
@@ -148,7 +148,8 @@ abstract class SitemapTaxonomyTestBase extends SitemapBrowserTestBase {
       'title[0][value]' => $title,
       $this->fieldTagsName . '[target_id]' => implode(',', $values),
     ];
-    $this->drupalPostForm('node/add/article', $edit, $this->t('Save'));
+    $this->drupalGet('node/add/article');
+    $this->submitForm($edit, $this->t('Save'));
   }
 
   /**
diff --git a/src/Tests/SitemapTest.php b/src/Tests/SitemapTest.php
index 69af165..a86bf6e 100644
--- a/src/Tests/SitemapTest.php
+++ b/src/Tests/SitemapTest.php
@@ -17,12 +17,12 @@ class SitemapTest extends SitemapTestBase {
     // Find the Sitemap page at /sitemap.
     $this->drupalLogin($this->userView);
     $this->drupalGet('/sitemap');
-    $this->assertResponse('200');
+    $this->assertSession()->statusCodeEquals('200');
 
     // Unauthorized users cannot view the sitemap.
     $this->drupalLogin($this->userNoAccess);
     $this->drupalGet('/sitemap');
-    $this->assertResponse('403');
+    $this->assertSession()->statusCodeEquals('403');
 
   }
 
@@ -34,12 +34,12 @@ class SitemapTest extends SitemapTestBase {
     // Find the Sitemap settings page.
     $this->drupalLogin($this->userAdmin);
     $this->drupalGet('/admin/config/search/sitemap');
-    $this->assertResponse('200');
+    $this->assertSession()->statusCodeEquals('200');
 
     // Unauthorized users cannot view the sitemap.
     $this->drupalLogin($this->userView);
     $this->drupalGet('/admin/config/search/sitemap');
-    $this->assertResponse('403');
+    $this->assertSession()->statusCodeEquals('403');
 
   }
 
diff --git a/src/Tests/SitemapTestBase.php b/src/Tests/SitemapTestBase.php
index 95d6982..399a3b6 100644
--- a/src/Tests/SitemapTestBase.php
+++ b/src/Tests/SitemapTestBase.php
@@ -36,7 +36,7 @@ abstract class SitemapTestBase extends SitemapBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create user with admin permissions.
