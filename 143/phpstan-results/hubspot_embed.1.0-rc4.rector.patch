diff --git a/hubspot_embed.info.yml b/hubspot_embed.info.yml
index 60c148e..efd46a2 100644
--- a/hubspot_embed.info.yml
+++ b/hubspot_embed.info.yml
@@ -2,8 +2,7 @@ name: Hubspot Embed
 type: module
 description: Embed hubspot components through a field, block or the ckEditor.
 package: Hubspot
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:block
   - drupal:field
diff --git a/src/HubspotEmbedCore.php b/src/HubspotEmbedCore.php
index 14a2b59..dca3d7c 100644
--- a/src/HubspotEmbedCore.php
+++ b/src/HubspotEmbedCore.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\hubspot_embed;
 
+use Drupal\Core\Cache\Cache;
 class HubspotEmbedCore {
 
   /**
@@ -56,7 +57,7 @@ class HubspotEmbedCore {
       $stored_embeds = \Drupal::state()->get('hubspot_embed');
       $stored_embeds[] = $embed;
       \Drupal::state()->set('hubspot_embed', $stored_embeds);
-      $cache_backend = \Drupal\Core\Cache\Cache::getBins();
+      $cache_backend = Cache::getBins();
       $cache_backend['bootstrap']->delete('state');
       return max(array_keys($stored_embeds, $embed));
     }
diff --git a/src/Plugin/CKEditorPlugin/HubspotEmbed.php b/src/Plugin/CKEditorPlugin/HubspotEmbed.php
index a02b37e..3ca4dd4 100644
--- a/src/Plugin/CKEditorPlugin/HubspotEmbed.php
+++ b/src/Plugin/CKEditorPlugin/HubspotEmbed.php
@@ -44,7 +44,7 @@ class HubspotEmbed extends PluginBase implements CKEditorPluginInterface, CKEdit
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'hubspot_embed') . '/assets/hubspot_embed.js';
+    return \Drupal::service('extension.list.module')->getPath('hubspot_embed') . '/assets/hubspot_embed.js';
   }
  
   /**
@@ -54,7 +54,7 @@ class HubspotEmbed extends PluginBase implements CKEditorPluginInterface, CKEdit
     return [
       'hubspot_embed' => [
         'label' => t('Hubspot Embed'),
-        'image' => drupal_get_path('module', 'hubspot_embed') .  '/assets/icon.png',
+        'image' => \Drupal::service('extension.list.module')->getPath('hubspot_embed') .  '/assets/icon.png',
       ]
     ];
   }
