diff --git a/src/Commands/OrcidImportCommands.php b/src/Commands/OrcidImportCommands.php
index 8b4bb31..38a4c3e 100644
--- a/src/Commands/OrcidImportCommands.php
+++ b/src/Commands/OrcidImportCommands.php
@@ -35,7 +35,7 @@ class OrcidImportCommands extends DrushCommands {
 
     echo "Deleting " . count($all_references) . "\n";
 
-    entity_delete_multiple('bibcite_reference', $all_references);
+    \Drupal::service('entity_type.manager')->getStorage('bibcite_reference')->delete(\Drupal::service('entity_type.manager')->getStorage('bibcite_reference')->loadMultiple($all_references));
     echo "Done.\n";
 
     $entity_query_contrib = \Drupal::entityQuery('bibcite_contributor');
@@ -45,7 +45,7 @@ class OrcidImportCommands extends DrushCommands {
     
     echo "Deleting " . count($all_contributors) . "\n";
 
-    entity_delete_multiple('bibcite_contributor', $all_contributors);
+    \Drupal::service('entity_type.manager')->getStorage('bibcite_contributor')->delete(\Drupal::service('entity_type.manager')->getStorage('bibcite_contributor')->loadMultiple($all_contributors));
     echo "Done.\n";
 
   }
diff --git a/src/Plugin/Block/OrcidBlock.php b/src/Plugin/Block/OrcidBlock.php
index c9c5f56..27d271c 100644
--- a/src/Plugin/Block/OrcidBlock.php
+++ b/src/Plugin/Block/OrcidBlock.php
@@ -41,7 +41,7 @@ class OrcidBlock extends BlockBase
             "show_block" => $show_block,
         ];
 
-        $template_path = drupal_get_path("module", "bibcite_import_orcid") . "/templates/block--orcid-import.html.twig";
+        $template_path = \Drupal::service('extension.list.module')->getPath("bibcite_import_orcid") . "/templates/block--orcid-import.html.twig";
 
         $markup = \Drupal::service('twig')->loadTemplate($template_path)->render($variables);
 
