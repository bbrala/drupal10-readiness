diff --git a/modules/openy_group_schedules/modules/groupex_form_cache/src/Entity/GroupexFormCache.php b/modules/openy_group_schedules/modules/groupex_form_cache/src/Entity/GroupexFormCache.php
index 5a3ed52..d8e3c51 100644
--- a/modules/openy_group_schedules/modules/groupex_form_cache/src/Entity/GroupexFormCache.php
+++ b/modules/openy_group_schedules/modules/groupex_form_cache/src/Entity/GroupexFormCache.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\groupex_form_cache\Entity;
 
+use Drupal\node\NodeInterface;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Field\BaseFieldDefinition;
 use Drupal\Core\Entity\ContentEntityBase;
@@ -140,7 +141,7 @@ class GroupexFormCache extends ContentEntityBase implements GroupexFormCacheInte
    * {@inheritdoc}
    */
   public function setPublished($published) {
-    $this->set('status', $published ? \Drupal\node\NodeInterface::PUBLISHED : \Drupal\node\NodeInterface::NOT_PUBLISHED);
+    $this->set('status', $published ? NodeInterface::PUBLISHED : NodeInterface::NOT_PUBLISHED);
     return $this;
   }
 
diff --git a/modules/openy_group_schedules/src/Controller/SearchResultsController.php b/modules/openy_group_schedules/src/Controller/SearchResultsController.php
index 42361b8..587259d 100644
--- a/modules/openy_group_schedules/src/Controller/SearchResultsController.php
+++ b/modules/openy_group_schedules/src/Controller/SearchResultsController.php
@@ -69,7 +69,7 @@ class SearchResultsController extends ControllerBase implements ContainerInjecti
     }
     $viewBuilder = $this->entityTypeManager->getViewBuilder('node');
     $node_view = $viewBuilder->view($node, 'groupex');
-    $markup = render($node_view);
+    $markup = \Drupal::service('renderer')->render($node_view);
 
     return [
       '#markup' => $markup,
diff --git a/modules/openy_group_schedules/src/EventSubscriber/GroupexPageResponseSubscriber.php b/modules/openy_group_schedules/src/EventSubscriber/GroupexPageResponseSubscriber.php
index 997fa36..2b81558 100644
--- a/modules/openy_group_schedules/src/EventSubscriber/GroupexPageResponseSubscriber.php
+++ b/modules/openy_group_schedules/src/EventSubscriber/GroupexPageResponseSubscriber.php
@@ -2,8 +2,8 @@
 
 namespace Drupal\openy_group_schedules\EventSubscriber;
 
+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;
 
 /**
@@ -16,10 +16,10 @@ class GroupexPageResponseSubscriber implements EventSubscriberInterface {
    *
    * We are dealing with Dynamic Page Cache and BigPipe plus lazy loaders.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   Passed event.
    */
-  public function groupexSessionStart(GetResponseEvent $event) {
+  public function groupexSessionStart(RequestEvent $event) {
     $request = $event->getRequest();
     $uri = str_replace(base_path(), '/', $request->getRequestUri());
     if ($url_object = \Drupal::service('path.validator')->getUrlIfValid($uri)) {
