diff --git a/src/Twig/QSrcExtension.php b/src/Twig/QSrcExtension.php
index ec94d1e..432cef0 100644
--- a/src/Twig/QSrcExtension.php
+++ b/src/Twig/QSrcExtension.php
@@ -34,7 +34,7 @@ class QSrcExtension extends \Twig_Extension {
    *   Complete url.
    */
   public function qSrcFunction($theme, $text) {
-    $uri = 'internal:/' . drupal_get_path('theme', $theme);
+    $uri = 'internal:/' . \Drupal::service('extension.list.theme')->getPath($theme);
     $path = Url::fromUri($uri)->toString();
     $output = str_replace('@@', $path, $text);
     return $output;
