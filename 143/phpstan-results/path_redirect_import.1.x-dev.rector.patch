diff --git a/src/ImporterService.php b/src/ImporterService.php
index 6210cd8..a16a5fd 100644
--- a/src/ImporterService.php
+++ b/src/ImporterService.php
@@ -51,7 +51,7 @@ class ImporterService {
     }
 
     if (empty($data)) {
-      \Drupal::messenger()->addWarning(t('The uploaded file contains no rows with compatible redirect data. No redirects have imported. Compare your file to <a href=":sample">this sample data.</a>', [':sample' => '/' . drupal_get_path('module', 'path_redirect_import') . '/redirect-example-file.csv']));
+      \Drupal::messenger()->addWarning(t('The uploaded file contains no rows with compatible redirect data. No redirects have imported. Compare your file to <a href=":sample">this sample data.</a>', [':sample' => '/' . \Drupal::service('extension.list.module')->getPath('path_redirect_import') . '/redirect-example-file.csv']));
     }
     else {
       if (PHP_SAPI == 'cli' && function_exists('drush_main')) {
@@ -75,7 +75,7 @@ class ImporterService {
             '\Drupal\path_redirect_import\ImporterService',
             'finish',
           ],
-          'file' => drupal_get_path('module', 'path_redirect_import') . '/path_redirect_import.module',
+          'file' => \Drupal::service('extension.list.module')->getPath('path_redirect_import') . '/path_redirect_import.module',
         ];
 
         batch_set($batch);
diff --git a/tests/src/Functional/RedirectImportTest.php b/tests/src/Functional/RedirectImportTest.php
index 3b65264..d01712a 100644
--- a/tests/src/Functional/RedirectImportTest.php
+++ b/tests/src/Functional/RedirectImportTest.php
@@ -139,7 +139,7 @@ class RedirectImportTest extends BrowserTestBase {
 
     $form_path = 'admin/config/search/redirect/import';
     $this->drupalGet($form_path);
-    $this->drupalPostForm(NULL, $edit, 'Import');
+    $this->submitForm($edit, 'Import');
 
     // Assertions.
     $web_assert = $this->assertSession();
