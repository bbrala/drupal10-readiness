modules/contrib/openweathermap/openweathermap.module
modules/contrib/openweathermap/src/CityManager.php
modules/contrib/openweathermap/src/CityManagerInterface.php
modules/contrib/openweathermap/src/Controller/DisplayWeatherController.php
modules/contrib/openweathermap/src/Form/OpenweathermapSettingsForm.php

1 file with changes
===================

1) modules/contrib/openweathermap/src/CityManager.php:36

    ---------- begin diff ----------
@@ @@
   public function __construct(CountryManagerInterface $country_manager, FileSystemInterface $file_system) {
     $this->countryManager = $country_manager;
     $this->fileSystem = $file_system;
-    $path = $this->fileSystem->realpath(drupal_get_path('module', 'openweathermap'));
+    $path = $this->fileSystem->realpath(\Drupal::service('extension.list.module')->getPath('openweathermap'));
     $json_data = file_get_contents($path . '/city.list.json');
     $this->cityList = json_decode($json_data, TRUE);
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 1 file has been changed by Rector                                         

