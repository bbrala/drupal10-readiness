modules/contrib/image_sizes/image_sizes.module
modules/contrib/image_sizes/src/Commands/GenerateImageSizeCommand.php
modules/contrib/image_sizes/src/Entity/ImageSizesPresetEntity.php
modules/contrib/image_sizes/src/Entity/ImageSizesPresetEntityInterface.php
modules/contrib/image_sizes/src/Form/ImageSizesPresetEntityDeleteForm.php
modules/contrib/image_sizes/src/Form/ImageSizesPresetEntityForm.php
modules/contrib/image_sizes/src/ImageSizesFormatterTrait.php
modules/contrib/image_sizes/src/ImageSizesPresetEntityHtmlRouteProvider.php
modules/contrib/image_sizes/src/ImageSizesPresetEntityListBuilder.php
modules/contrib/image_sizes/src/Plugin/Field/FieldFormatter/ImageSizesFormatter.php
modules/contrib/image_sizes/src/Plugin/Field/FieldFormatter/ImageSizesPresetFormatter.php
modules/contrib/image_sizes/src/Plugin/ImageEffect/InsertStyleEffect.php
modules/contrib/image_sizes/src/Plugin/ImageEffect/RatioEffect.php

2 files with changes
====================

1) modules/contrib/image_sizes/src/Plugin/Field/FieldFormatter/ImageSizesPresetFormatter.php:124

    ---------- begin diff ----------
@@ @@
     $preset = $this->getPreset();

     if ($preset->getFallbackStyle() == 'original') {
-      return file_create_url($uri);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }

     $style = ImageStyle::load($preset->getFallbackStyle());
     if (!$style) {
-      return file_create_url($uri);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }

     return $style->buildUrl($uri);
@@ @@
     $preset = $this->getPreset();

     if ($preset->getPreloadStyle() == 'original') {
-      return file_create_url($uri);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }

     $style = ImageStyle::load($preset->getPreloadStyle());
     if (!$style) {
-      return file_create_url($uri);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }

     return $style->buildUrl($uri);
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/image_sizes/src/Plugin/Field/FieldFormatter/ImageSizesFormatter.php:136

    ---------- begin diff ----------
@@ @@
    */
   protected function getFallBackStyle($uri) {
     if ($this->getSetting('fallback_style') == 'original') {
-      return file_create_url($uri);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }

     $style = ImageStyle::load($this->getSetting('fallback_style'));
     if (!$style) {
-      return file_create_url($uri);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }

     return $style->buildUrl($uri);
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

