diff --git a/src/Plugin/SiteAuditCheckBase.php b/src/Plugin/SiteAuditCheckBase.php
index 6a73a72..31bb21e 100644
--- a/src/Plugin/SiteAuditCheckBase.php
+++ b/src/Plugin/SiteAuditCheckBase.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\site_audit\Plugin;
 
+use Drupal\Core\Logger\LoggerChannelFactory;
 use Drupal\Component\Plugin\PluginBase;
 use Drupal\Core\Database\Connection;
 use Drupal\Core\StringTranslation\StringTranslationTrait;
@@ -88,7 +89,7 @@ abstract class SiteAuditCheckBase extends PluginBase implements SiteAuditCheckIn
    * @param \Drupal\Core\Database\Connection $database
    * @param \Drupal\Core\Logger\LoggerChannelFactory $logger_factory
    */
-  public function __construct($configuration, $plugin_id, $plugin_definition, Connection $database, \Drupal\Core\Logger\LoggerChannelFactory $logger_factory) {
+  public function __construct($configuration, $plugin_id, $plugin_definition, Connection $database, LoggerChannelFactory $logger_factory) {
     parent::__construct($configuration, $plugin_id, $plugin_definition);
     if (isset($configuration['options'])) {
       $this->options = $configuration['options'];
diff --git a/src/Renderer/Html.php b/src/Renderer/Html.php
index 1996019..be4a415 100644
--- a/src/Renderer/Html.php
+++ b/src/Renderer/Html.php
@@ -354,7 +354,7 @@ class Html extends Renderer {
    * Render the results as a table.
    */
   public function table($element) {
-    return render($element);
+    return \Drupal::service('renderer')->render($element);
   }
 
   /**
@@ -368,7 +368,7 @@ class Html extends Renderer {
    * Provide the bootstrap derived styles.
    */
   private function getStyles() {
-    $file = drupal_get_path('module', 'site_audit') . '/css/bootstrap-overrides.css';
+    $file = \Drupal::service('extension.list.module')->getPath('site_audit') . '/css/bootstrap-overrides.css';
     $styles = "/* $file */\n" . file_get_contents($file);
     return $styles;
   }
