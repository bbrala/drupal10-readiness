modules/contrib/imageshop/imageshop.install
modules/contrib/imageshop/tests/modules/imageshop_test/src/Controller/ImageshopTestController.php
modules/contrib/imageshop/imageshop.module
modules/contrib/imageshop/src/Controller/ImageshopController.php
modules/contrib/imageshop/tests/modules/imageshop_test/src/ImageshopTestServiceProvider.php
modules/contrib/imageshop/tests/modules/imageshop_test/src/TestTokenService.php
modules/contrib/imageshop/tests/src/Functional/ElementTest.php
modules/contrib/imageshop/src/Element/ImageShopElement.php
modules/contrib/imageshop/tests/src/FunctionalJavascript/MediaBrowserTest.php
modules/contrib/imageshop/src/Form/SettingsForm.php
modules/contrib/imageshop/src/ImageShopTempToken.php
modules/contrib/imageshop/src/Plugin/Field/FieldWidget/ImageShopWidget.php
modules/contrib/imageshop/src/TokenService.php
modules/contrib/imageshop/tests/modules/imageshop_test/imageshop_test.module

2 files with changes
====================

1) modules/contrib/imageshop/tests/src/Functional/ElementTest.php:43

    ---------- begin diff ----------
@@ @@
     $this->drupalGet('/node/add/article');
     $files = $this->container->get('entity_type.manager')->getStorage('file')->loadByProperties([]);
     $this->assertEmpty($files);
-    $this->drupalPostForm('/node/add/article', [
+    $this->drupalGet('/node/add/article');
+    $this->submitForm([
       'my_imageshop_field[0][url]' => Url::fromUserInput('/core/misc/druplicon.png')->setOption('absolute', TRUE)->toString(),
     ], 'Upload');
     $files = $this->container->get('entity_type.manager')->getStorage('file')->loadByProperties([]);
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/imageshop/src/Element/ImageShopElement.php:175

    ---------- begin diff ----------
@@ @@
     }
     $file_system->prepareDirectory($dir, FileSystemInterface::CREATE_DIRECTORY);
     $filename = sprintf('%s/%s.%s', $dir, $filename, $extension);
-    $file = file_save_data($data, $filename);
+    $file = \Drupal::service('file.repository')->writeData($data, $filename);
     if (!$file) {
       return FALSE;
     }
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

