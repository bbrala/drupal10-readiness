diff --git a/eboks.info.yml b/eboks.info.yml
index e5292d7..ff47228 100644
--- a/eboks.info.yml
+++ b/eboks.info.yml
@@ -2,5 +2,4 @@ name: E-Boks integration
 description: Bellcom e-Boks integration module
 type: module
 package: Bellcom
-core: '8.x'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
diff --git a/src/EboksSenderMSOutlook.php b/src/EboksSenderMSOutlook.php
index 52de0e8..15290c2 100644
--- a/src/EboksSenderMSOutlook.php
+++ b/src/EboksSenderMSOutlook.php
@@ -142,7 +142,7 @@ class EboksSenderMSOutlook implements EboksSenderInterface {
     foreach ($this->messages as $message) {
 
       $mpdf = new Mpdf(['tempDir' => \Drupal::service('file_system')->realpath('temporary://mpdf')]);
-      $mpdf->WriteHTML(render($message['content']));
+      $mpdf->WriteHTML(\Drupal::service('renderer')->render($message['content']));
       $filename = 'attachment.pdf';
       $attachament_content = $mpdf->Output($filename, 'S');
       $attachment = [
diff --git a/src/EboksStatusChecker.php b/src/EboksStatusChecker.php
index 3900d47..adcf7a3 100644
--- a/src/EboksStatusChecker.php
+++ b/src/EboksStatusChecker.php
@@ -198,7 +198,7 @@ class EboksStatusChecker {
       ];
       $this->logger(t('Downloaded @count new receipts: @files', [
         '@count' => count($new_files),
-        '@files' => render($items),
+        '@files' => \Drupal::service('renderer')->render($items),
       ]), 'status');
     }
     else {
