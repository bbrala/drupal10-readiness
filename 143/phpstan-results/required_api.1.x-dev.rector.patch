diff --git a/required_api.info.yml b/required_api.info.yml
index 51bc068..0d0d895 100644
--- a/required_api.info.yml
+++ b/required_api.info.yml
@@ -1,4 +1,4 @@
 name: Required API
 description: Provides an unified API to managed required property on fields.
 type: module
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.1 || ^10
diff --git a/tests/modules/required_api_test/tests/src/Plugin/Required/RequiredManagerTest.php b/tests/modules/required_api_test/tests/src/Plugin/Required/RequiredManagerTest.php
index 7c659d6..e22e463 100644
--- a/tests/modules/required_api_test/tests/src/Plugin/Required/RequiredManagerTest.php
+++ b/tests/modules/required_api_test/tests/src/Plugin/Required/RequiredManagerTest.php
@@ -23,15 +23,13 @@ class RequiredManagerTest extends UnitTestCase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
 
     parent::setUp();
 
     $namespaces = new \ArrayObject([]);
 
-    $cache_backend = $this->getMockBuilder('Drupal\Core\Cache\MemoryBackend')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $cache_backend = $this->createMock('Drupal\Core\Cache\MemoryBackend');
 
     $module_handler = $this->createMock('Drupal\Core\Extension\ModuleHandlerInterface');
 
diff --git a/tests/modules/required_api_test/tests/src/RequiredApiTest.php b/tests/modules/required_api_test/tests/src/RequiredApiTest.php
index 4c68f12..7ef358d 100644
--- a/tests/modules/required_api_test/tests/src/RequiredApiTest.php
+++ b/tests/modules/required_api_test/tests/src/RequiredApiTest.php
@@ -13,7 +13,7 @@ class RequiredApiTest extends RequiredApiTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
 
     parent::setUp();
 
@@ -63,7 +63,7 @@ class RequiredApiTest extends RequiredApiTestBase {
     ];
 
     $diff = array_diff($this->manager->getDefinitionsIds(), $expected_definitions);
-    $this->assertEqual([], $diff, 'Definitions match expected.');
+    $this->assertEquals([], $diff, 'Definitions match expected.');
 
   }
 
@@ -83,7 +83,7 @@ class RequiredApiTest extends RequiredApiTestBase {
       'title[0][value]' => $title,
     ];
 
-    $this->drupalPostForm(NULL, $edit, $this->t('Save'));
+    $this->submitForm($edit, $this->t('Save'));
 
     $message = $this->t('!label !title has been created.', [
       '!label' => $this->type_label,
@@ -91,7 +91,7 @@ class RequiredApiTest extends RequiredApiTestBase {
     ]
     );
 
-    $this->assertText($message);
+    $this->assertSession()->pageTextContains($message);
   }
 
   /**
@@ -107,8 +107,8 @@ class RequiredApiTest extends RequiredApiTestBase {
       'title[0][value]' => $this->randomString(),
     ];
 
-    $this->drupalPostForm(NULL, $edit, $this->t('Save'));
-    $this->assertText($this->t('!field field is required.', ['!field' => $this->field_name]));
+    $this->submitForm($edit, $this->t('Save'));
+    $this->assertSession()->pageTextContains($this->t('!field field is required.', ['!field' => $this->field_name]));
   }
 
   /**
@@ -127,8 +127,9 @@ class RequiredApiTest extends RequiredApiTestBase {
       $fieldname => $plugin_id,
       'instance[required]' => $plugin_value,
     ];
+    $this->drupalGet($this->admin_path);
 
-    $this->drupalPostForm($this->admin_path, $edit, $this->t('Save settings'));
+    $this->submitForm($edit, $this->t('Save settings'));
 
   }
 
diff --git a/tests/modules/required_api_test/tests/src/RequiredApiTestBase.php b/tests/modules/required_api_test/tests/src/RequiredApiTestBase.php
index 5ebcbfd..41e6e48 100644
--- a/tests/modules/required_api_test/tests/src/RequiredApiTestBase.php
+++ b/tests/modules/required_api_test/tests/src/RequiredApiTestBase.php
@@ -25,7 +25,7 @@ abstract class RequiredApiTestBase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     // Create test user.
