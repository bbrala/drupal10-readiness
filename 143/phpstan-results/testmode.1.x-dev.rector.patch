diff --git a/tests/src/Functional/ModeTest.php b/tests/src/Functional/ModeTest.php
index 7361866..397b47c 100644
--- a/tests/src/Functional/ModeTest.php
+++ b/tests/src/Functional/ModeTest.php
@@ -32,19 +32,19 @@ class ModeTest extends TestmodeTestBase {
 
     $this->drupalGet('admin/config/development/testmode');
     $this->assertFalse($this->testmode->isTestMode(), 'Test mode is disabled by default');
-    $this->assertNoText('Test mode is enabled');
+    $this->assertSession()->pageTextNotContains('Test mode is enabled');
 
     $this->testmode->enableTestMode();
 
     $this->assertTrue($this->testmode->isTestMode());
     $this->drupalGet('admin/config/development/testmode');
-    $this->assertText('Test mode is enabled');
+    $this->assertSession()->pageTextContains('Test mode is enabled');
 
     $this->testmode->disableTestMode();
 
     $this->drupalGet('admin/config/development/testmode');
     $this->assertFalse($this->testmode->isTestMode(), 'Test mode is disabled by default');
-    $this->assertNoText('Test mode is enabled');
+    $this->assertSession()->pageTextNotContains('Test mode is enabled');
   }
 
 }
diff --git a/tests/src/Functional/NodeViewsTest.php b/tests/src/Functional/NodeViewsTest.php
index 7dcf70d..1ff7a16 100644
--- a/tests/src/Functional/NodeViewsTest.php
+++ b/tests/src/Functional/NodeViewsTest.php
@@ -39,26 +39,26 @@ class NodeViewsTest extends TestmodeTestBase {
 
     $this->drupalGet('/test-testmode-node');
     $this->drupalGet('/test-testmode-node');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertText('Article 1');
-    $this->assertText('Article 2');
-    $this->assertText('[TEST] Article 3');
+    $this->assertSession()->pageTextContains('Article 1');
+    $this->assertSession()->pageTextContains('Article 2');
+    $this->assertSession()->pageTextContains('[TEST] Article 3');
 
     $this->drupalGet('/test-testmode-node');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/test-testmode-node');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertNoText('Article 1');
-    $this->assertNoText('Article 2');
-    $this->assertText('[TEST] Article 3');
+    $this->assertSession()->pageTextNotContains('Article 1');
+    $this->assertSession()->pageTextNotContains('Article 2');
+    $this->assertSession()->pageTextContains('[TEST] Article 3');
 
     $this->drupalGet('/test-testmode-node');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
   }
 
   /**
@@ -82,26 +82,26 @@ class NodeViewsTest extends TestmodeTestBase {
     $view->save();
 
     $this->drupalGet('/test-testmode-node');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'MISS');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'MISS');
 
-    $this->assertText('Article 1');
-    $this->assertText('Article 2');
-    $this->assertText('[TEST] Article 3');
+    $this->assertSession()->pageTextContains('Article 1');
+    $this->assertSession()->pageTextContains('Article 2');
+    $this->assertSession()->pageTextContains('[TEST] Article 3');
 
     $this->drupalGet('/test-testmode-node');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'HIT');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'HIT');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/test-testmode-node');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'MISS');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'MISS');
 
-    $this->assertNoText('Article 1');
-    $this->assertNoText('Article 2');
-    $this->assertText('[TEST] Article 3');
+    $this->assertSession()->pageTextNotContains('Article 1');
+    $this->assertSession()->pageTextNotContains('Article 2');
+    $this->assertSession()->pageTextContains('[TEST] Article 3');
 
     $this->drupalGet('/test-testmode-node');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'HIT');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'HIT');
   }
 
   /**
@@ -122,26 +122,26 @@ class NodeViewsTest extends TestmodeTestBase {
     $this->drupalLoginAdmin();
 
     $this->drupalGet('/admin/content');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertText('Article 1');
-    $this->assertText('Article 2');
-    $this->assertText('[TEST] Article 3');
+    $this->assertSession()->pageTextContains('Article 1');
+    $this->assertSession()->pageTextContains('Article 2');
+    $this->assertSession()->pageTextContains('[TEST] Article 3');
 
     $this->drupalGet('/admin/content');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/admin/content');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertNoText('Article 1');
-    $this->assertNoText('Article 2');
-    $this->assertText('[TEST] Article 3');
+    $this->assertSession()->pageTextNotContains('Article 1');
+    $this->assertSession()->pageTextNotContains('Article 2');
+    $this->assertSession()->pageTextContains('[TEST] Article 3');
 
     $this->drupalGet('/admin/content');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
   }
 
   /**
diff --git a/tests/src/Functional/SettingsFormTest.php b/tests/src/Functional/SettingsFormTest.php
index e0e0b0a..5234a48 100644
--- a/tests/src/Functional/SettingsFormTest.php
+++ b/tests/src/Functional/SettingsFormTest.php
@@ -23,14 +23,14 @@ class SettingsFormTest extends TestmodeTestBase {
     $this->drupalLoginAdmin();
 
     $this->drupalGet('admin/config/development/testmode');
-    $this->assertFieldByName('mode', 0);
-    $this->assertFieldByName('views_node', 'content');
-    $this->assertFieldByName('views_term', '');
-    $this->assertFieldByName('list_term', 1);
-    $this->assertFieldByName('views_user', 'user_admin_people');
-    $this->assertFieldByName('pattern_node', '[TEST%');
-    $this->assertFieldByName('pattern_term', '[TEST%');
-    $this->assertFieldByName('pattern_user', '%example%');
+    $this->assertSession()->fieldValueEquals('mode', 0);
+    $this->assertSession()->fieldValueEquals('views_node', 'content');
+    $this->assertSession()->fieldValueEquals('views_term', '');
+    $this->assertSession()->fieldValueEquals('list_term', 1);
+    $this->assertSession()->fieldValueEquals('views_user', 'user_admin_people');
+    $this->assertSession()->fieldValueEquals('pattern_node', '[TEST%');
+    $this->assertSession()->fieldValueEquals('pattern_term', '[TEST%');
+    $this->assertSession()->fieldValueEquals('pattern_user', '%example%');
   }
 
   /**
@@ -41,19 +41,21 @@ class SettingsFormTest extends TestmodeTestBase {
 
     $this->drupalGet('admin/config/development/testmode');
     $this->assertFalse($this->testmode->isTestMode(), 'Test mode is disabled by default');
-    $this->assertNoText('Test mode is enabled');
+    $this->assertSession()->pageTextNotContains('Test mode is enabled');
+    $this->drupalGet('admin/config/development/testmode');
 
-    $this->drupalPostForm('admin/config/development/testmode', [
+    $this->submitForm([
       'mode' => 1,
     ], 'Save configuration');
     $this->assertTrue($this->testmode->isTestMode());
-    $this->assertText('Test mode is enabled');
+    $this->assertSession()->pageTextContains('Test mode is enabled');
+    $this->drupalGet('admin/config/development/testmode');
 
-    $this->drupalPostForm('admin/config/development/testmode', [
+    $this->submitForm([
       'mode' => 0,
     ], 'Save configuration');
     $this->assertFalse($this->testmode->isTestMode(), 'Test mode is disabled by default');
-    $this->assertNoText('Test mode is enabled');
+    $this->assertSession()->pageTextNotContains('Test mode is enabled');
   }
 
 }
diff --git a/tests/src/Functional/TermViewsTest.php b/tests/src/Functional/TermViewsTest.php
index 5175354..2e5bbc6 100644
--- a/tests/src/Functional/TermViewsTest.php
+++ b/tests/src/Functional/TermViewsTest.php
@@ -50,26 +50,26 @@ class TermViewsTest extends TestmodeTestBase {
 
     $this->drupalGet('/test-testmode-term');
     $this->drupalGet('/test-testmode-term');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertText('Term 1');
-    $this->assertText('Term 2');
-    $this->assertText('[TEST] Term 3');
+    $this->assertSession()->pageTextContains('Term 1');
+    $this->assertSession()->pageTextContains('Term 2');
+    $this->assertSession()->pageTextContains('[TEST] Term 3');
 
     $this->drupalGet('/test-testmode-term');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/test-testmode-term');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertNoText('Term 1');
-    $this->assertNoText('Term 2');
-    $this->assertText('[TEST] Term 3');
+    $this->assertSession()->pageTextNotContains('Term 1');
+    $this->assertSession()->pageTextNotContains('Term 2');
+    $this->assertSession()->pageTextContains('[TEST] Term 3');
 
     $this->drupalGet('/test-testmode-term');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
   }
 
   /**
@@ -94,26 +94,26 @@ class TermViewsTest extends TestmodeTestBase {
     $view->save();
 
     $this->drupalGet('/test-testmode-term');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'MISS');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'MISS');
 
-    $this->assertText('Term 1');
-    $this->assertText('Term 2');
-    $this->assertText('[TEST] Term 3');
+    $this->assertSession()->pageTextContains('Term 1');
+    $this->assertSession()->pageTextContains('Term 2');
+    $this->assertSession()->pageTextContains('[TEST] Term 3');
 
     $this->drupalGet('/test-testmode-term');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'HIT');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'HIT');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/test-testmode-term');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'MISS');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'MISS');
 
-    $this->assertNoText('Term 1');
-    $this->assertNoText('Term 2');
-    $this->assertText('[TEST] Term 3');
+    $this->assertSession()->pageTextNotContains('Term 1');
+    $this->assertSession()->pageTextNotContains('Term 2');
+    $this->assertSession()->pageTextContains('[TEST] Term 3');
 
     $this->drupalGet('/test-testmode-term');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'HIT');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'HIT');
   }
 
   /**
@@ -129,26 +129,26 @@ class TermViewsTest extends TestmodeTestBase {
     $this->drupalLoginAdmin();
 
     $this->drupalGet('/admin/structure/taxonomy/manage/testmode_tags/overview');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertText('Term 1');
-    $this->assertText('Term 2');
-    $this->assertText('[TEST] Term 3');
+    $this->assertSession()->pageTextContains('Term 1');
+    $this->assertSession()->pageTextContains('Term 2');
+    $this->assertSession()->pageTextContains('[TEST] Term 3');
 
     $this->drupalGet('/admin/structure/taxonomy/manage/testmode_tags/overview');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/admin/structure/taxonomy/manage/testmode_tags/overview');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertNoText('Term 1');
-    $this->assertNoText('Term 2');
-    $this->assertText('[TEST] Term 3');
+    $this->assertSession()->pageTextNotContains('Term 1');
+    $this->assertSession()->pageTextNotContains('Term 2');
+    $this->assertSession()->pageTextContains('[TEST] Term 3');
 
     $this->drupalGet('/admin/structure/taxonomy/manage/testmode_tags/overview');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
   }
 
   /**
diff --git a/tests/src/Functional/TestmodeTestBase.php b/tests/src/Functional/TestmodeTestBase.php
index aafcfdb..37e34ed 100644
--- a/tests/src/Functional/TestmodeTestBase.php
+++ b/tests/src/Functional/TestmodeTestBase.php
@@ -26,7 +26,7 @@ abstract class TestmodeTestBase extends ViewTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp($import_test_views = TRUE) {
+  protected function setUp($import_test_views = TRUE): void {
     parent::setUp($import_test_views);
 
     if ($import_test_views) {
diff --git a/tests/src/Functional/UserViewsTest.php b/tests/src/Functional/UserViewsTest.php
index 2f21a16..7152884 100644
--- a/tests/src/Functional/UserViewsTest.php
+++ b/tests/src/Functional/UserViewsTest.php
@@ -39,26 +39,26 @@ class UserViewsTest extends TestmodeTestBase {
 
     $this->drupalGet('/test-testmode-user');
     $this->drupalGet('/test-testmode-user');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertText('User 1');
-    $this->assertText('User 2');
-    $this->assertText('[TEST] User 3');
+    $this->assertSession()->pageTextContains('User 1');
+    $this->assertSession()->pageTextContains('User 2');
+    $this->assertSession()->pageTextContains('[TEST] User 3');
 
     $this->drupalGet('/test-testmode-user');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/test-testmode-user');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertNoText('User 1');
-    $this->assertNoText('User 2');
-    $this->assertText('[TEST] User 3');
+    $this->assertSession()->pageTextNotContains('User 1');
+    $this->assertSession()->pageTextNotContains('User 2');
+    $this->assertSession()->pageTextContains('[TEST] User 3');
 
     $this->drupalGet('/test-testmode-user');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
   }
 
   /**
@@ -82,26 +82,26 @@ class UserViewsTest extends TestmodeTestBase {
     $view->save();
 
     $this->drupalGet('/test-testmode-user');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'MISS');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'MISS');
 
-    $this->assertText('User 1');
-    $this->assertText('User 2');
-    $this->assertText('[TEST] User 3');
+    $this->assertSession()->pageTextContains('User 1');
+    $this->assertSession()->pageTextContains('User 2');
+    $this->assertSession()->pageTextContains('[TEST] User 3');
 
     $this->drupalGet('/test-testmode-user');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'HIT');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'HIT');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/test-testmode-user');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'MISS');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'MISS');
 
-    $this->assertNoText('User 1');
-    $this->assertNoText('User 2');
-    $this->assertText('[TEST] User 3');
+    $this->assertSession()->pageTextNotContains('User 1');
+    $this->assertSession()->pageTextNotContains('User 2');
+    $this->assertSession()->pageTextContains('[TEST] User 3');
 
     $this->drupalGet('/test-testmode-user');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'HIT');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'HIT');
   }
 
   /**
@@ -122,26 +122,26 @@ class UserViewsTest extends TestmodeTestBase {
     $this->drupalLoginAdmin();
 
     $this->drupalGet('/admin/people');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertText('User 1');
-    $this->assertText('User 2');
-    $this->assertText('[TEST] User 3');
+    $this->assertSession()->pageTextContains('User 1');
+    $this->assertSession()->pageTextContains('User 2');
+    $this->assertSession()->pageTextContains('[TEST] User 3');
 
     $this->drupalGet('/admin/people');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
     $this->testmode->enableTestMode();
 
     $this->drupalGet('/admin/people');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
 
-    $this->assertNoText('User 1');
-    $this->assertNoText('User 2');
-    $this->assertText('[TEST] User 3');
+    $this->assertSession()->pageTextNotContains('User 1');
+    $this->assertSession()->pageTextNotContains('User 2');
+    $this->assertSession()->pageTextContains('[TEST] User 3');
 
     $this->drupalGet('/admin/people');
-    $this->assertHeader('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
+    $this->assertSession()->responseHeaderEquals('X-Drupal-Dynamic-Cache', 'UNCACHEABLE');
   }
 
   /**
