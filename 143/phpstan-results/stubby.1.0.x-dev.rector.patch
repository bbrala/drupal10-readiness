diff --git a/src/Entity/Stub.php b/src/Entity/Stub.php
index f356b17..313ce3e 100644
--- a/src/Entity/Stub.php
+++ b/src/Entity/Stub.php
@@ -242,7 +242,7 @@ class Stub extends ConfigEntityBase implements StubInterface, EntityWithPluginCo
       $config = \Drupal::config('stubby.settings');
       $file_name = $file_name ?? $config->get('file_location') . '://stubby/' . $this->id() . '.json';
       $json = Json::encode($json_array);
-      return file_save_data($json, $file_name, FileSystemInterface::EXISTS_REPLACE);
+      return \Drupal::service('file.repository')->writeData($json, $file_name, FileSystemInterface::EXISTS_REPLACE);
     }
     return FALSE;
   }
diff --git a/stubby.info.yml b/stubby.info.yml
index d785ec1..63a275e 100644
--- a/stubby.info.yml
+++ b/stubby.info.yml
@@ -1,5 +1,5 @@
 name: 'Stubby'
 type: module
 description: 'Create Stub data using a simple UI.'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: 'Development'
