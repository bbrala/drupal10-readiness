diff --git a/src/Plugin/CKEditorPlugin/ImagesFromServerPlugin.php b/src/Plugin/CKEditorPlugin/ImagesFromServerPlugin.php
index a4d9de6..4470508 100755
--- a/src/Plugin/CKEditorPlugin/ImagesFromServerPlugin.php
+++ b/src/Plugin/CKEditorPlugin/ImagesFromServerPlugin.php
@@ -53,7 +53,7 @@ class ImagesFromServerPlugin extends CKEditorPluginBase implements ContainerFact
     return [
       'ImagesFromServer' => [
         'label' => $this->t('ImagesFromServer'),
-        'image' => drupal_get_path('module', 'ckeditor_imagesfromserver') . '/icons/icon.png',
+        'image' => \Drupal::service('extension.list.module')->getPath('ckeditor_imagesfromserver') . '/icons/icon.png',
       ],
     ];
   }
@@ -119,7 +119,7 @@ class ImagesFromServerPlugin extends CKEditorPluginBase implements ContainerFact
 
     // Installation profiles can place libraries into a 'libraries' directory.
     if ($installProfile = \Drupal::installProfile()) {
-      $profile_path = drupal_get_path('profile', $installProfile);
+      $profile_path = \Drupal::service('extension.list.profile')->getPath($installProfile);
       $directories[] = "$profile_path/libraries/";
     }
 
