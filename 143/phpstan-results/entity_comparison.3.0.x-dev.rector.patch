diff --git a/entity_comparison.info.yml b/entity_comparison.info.yml
index 0a4a783..91f624a 100755
--- a/entity_comparison.info.yml
+++ b/entity_comparison.info.yml
@@ -1,7 +1,6 @@
 name: Entity Comparison
 type: module
 description: Allows user to compare entities.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 package: Entity
 configure: entity.entity_comparison.collection
diff --git a/src/Tests/EntityComparisonTest.php b/src/Tests/EntityComparisonTest.php
index c74b9fb..a8e7242 100755
--- a/src/Tests/EntityComparisonTest.php
+++ b/src/Tests/EntityComparisonTest.php
@@ -77,7 +77,7 @@ class EntityComparisonTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Collect admin permissions.
@@ -158,7 +158,8 @@ class EntityComparisonTest extends BrowserTestBase {
     \Drupal::service('router.builder')->rebuildIfNeeded();
 
     $edit = ['display_modes_custom[' . $display_id . ']' => TRUE];
-    $this->drupalPostForm('admin/structure/types/manage/product/display', $edit, t('Save'));
+    $this->drupalGet('admin/structure/types/manage/product/display');
+    $this->submitForm($edit, t('Save'));
   }
 
   /**
@@ -171,7 +172,8 @@ class EntityComparisonTest extends BrowserTestBase {
       'fields[sku][region]' => 'content',
       'fields[link_for_entity_comparison_product_comparison][region]' => 'hidden',
     ];
-    $this->drupalPostForm($manage_display, $edit, t('Save'));
+    $this->drupalGet($manage_display);
+    $this->submitForm($edit, t('Save'));
   }
 
   /**
@@ -250,7 +252,7 @@ class EntityComparisonTest extends BrowserTestBase {
   public function testEntityComparisonListPage() {
     $this->drupalLogin($this->adminUser);
     $this->drupalGet('/admin/structure/entity_comparison');
-    $this->assertText('Product comparison');
+    $this->assertSession()->pageTextContains('Product comparison');
   }
 
   /**
@@ -259,8 +261,8 @@ class EntityComparisonTest extends BrowserTestBase {
   public function testViewmodeIsEnabled() {
     $this->drupalLogin($this->adminUser);
     $this->drupalGet('/admin/structure/types/manage/product/display/product_product_comparison');
-    $this->assertText('product_comparison');
-    $this->assertText('Link for entity comparison');
+    $this->assertSession()->pageTextContains('product_comparison');
+    $this->assertSession()->pageTextContains('Link for entity comparison');
   }
 
   /**
@@ -272,14 +274,14 @@ class EntityComparisonTest extends BrowserTestBase {
     $allowed_user = $this->drupalCreateUser(['use product_comparison entity comparison', 'access content']);
     $this->drupalLogin($allowed_user);
     $this->drupalGet('node/' . $this->products[0]->id());
-    $this->assertText('Add product to comparison list');
+    $this->assertSession()->pageTextContains('Add product to comparison list');
     $this->drupalLogout();
 
     // Denied user.
     $denied_user = $this->drupalCreateUser(['access content']);
     $this->drupalLogin($denied_user);
     $this->drupalGet('node/' . $this->products[0]->id());
-    $this->assertNoText('Add product to comparison list');
+    $this->assertSession()->pageTextNotContains('Add product to comparison list');
     $this->drupalLogout();
   }
 
@@ -292,10 +294,10 @@ class EntityComparisonTest extends BrowserTestBase {
     // Add first product.
     $this->drupalGet('node/' . $this->products[0]->id());
     $this->clickLink('Add product to comparison list');
-    $this->assertText('You have successfully added Product 1 to Product comparison list.', 'User can use the add link');
+    $this->assertSession()->pageTextContains('You have successfully added Product 1 to Product comparison list.');
 
     $this->clickLink('Remove product from the comparison');
-    $this->assertText('You have successfully removed Product 1 from Product comparison.', 'User can use the remove link');
+    $this->assertSession()->pageTextContains('You have successfully removed Product 1 from Product comparison.');
     $this->clickLink('Add product to comparison list');
 
     // Add second product.
@@ -305,7 +307,7 @@ class EntityComparisonTest extends BrowserTestBase {
     // Add first product.
     $this->drupalGet('node/' . $this->products[2]->id());
     $this->clickLink('Add product to comparison list');
-    $this->assertText('You can only add 2 items to the Product comparison list.', 'Limit function works great.');
+    $this->assertSession()->pageTextContains('You can only add 2 items to the Product comparison list.');
   }
 
   /**
@@ -324,14 +326,14 @@ class EntityComparisonTest extends BrowserTestBase {
 
     // Got to the compare page.
     $this->drupalGet('compare/product-comparison');
-    $this->assertText('Product 1', 'Product 1 is in the list.');
-    $this->assertText('Product 2', 'Product 2 is in the list.');
+    $this->assertSession()->pageTextContains('Product 1');
+    $this->assertSession()->pageTextContains('Product 2');
 
-    $this->assertText('Remove product from the comparison', 'Remove links are visible');
+    $this->assertSession()->pageTextContains('Remove product from the comparison');
 
     $this->clickLink('Remove product from the comparison', 0);
 
-    $this->assertText('You have successfully removed Product 1 from Product comparison.', 'The product 1 is removed successfully.');
+    $this->assertSession()->pageTextContains('You have successfully removed Product 1 from Product comparison.');
   }
 
 }
