modules/contrib/elasticsearch_connector/elasticsearch_connector.api.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/field/ElasticsearchViewsEntity.php
modules/contrib/elasticsearch_connector/elasticsearch_connector.install
modules/contrib/elasticsearch_connector/src/ElasticSearch/Parameters/Factory/FilterFactory.php
modules/contrib/elasticsearch_connector/src/Form/IndexForm.php
modules/contrib/elasticsearch_connector/tests/src/Unit/Entity/IndexRouteProviderTest.php
modules/contrib/elasticsearch_connector/elasticsearch_connector.module
modules/contrib/elasticsearch_connector/src/ElasticSearch/Parameters/Factory/IndexFactory.php
modules/contrib/elasticsearch_connector/tests/src/Unit/Entity/IndexTest.php
modules/contrib/elasticsearch_connector/src/Plugin/search_api/backend/SearchApiElasticsearchBackend.php
modules/contrib/elasticsearch_connector/src/ElasticSearch/Parameters/Factory/MappingFactory.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/elasticsearch_connector_views.views.inc
modules/contrib/elasticsearch_connector/src/ElasticSearch/Parameters/Factory/SearchFactory.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/ElasticsearchViewsHandlerTrait.php
modules/contrib/elasticsearch_connector/src/Entity/Cluster.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/field/ElasticsearchViewsBoolean.php
modules/contrib/elasticsearch_connector/src/Entity/ClusterRouteProvider.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/field/ElasticsearchViewsDate.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/field/ElasticsearchViewsEntityField.php
modules/contrib/elasticsearch_connector/src/Entity/Index.php
modules/contrib/elasticsearch_connector/src/Entity/IndexRouteProvider.php
modules/contrib/elasticsearch_connector/src/Event/BuildIndexParamsEvent.php
modules/contrib/elasticsearch_connector/src/Event/BuildSearchParamsEvent.php
modules/contrib/elasticsearch_connector/src/Event/BuildSearchQueryEvent.php
modules/contrib/elasticsearch_connector/src/Event/PrepareDocumentIndexEvent.php
modules/contrib/elasticsearch_connector/src/Event/PrepareIndexEvent.php
modules/contrib/elasticsearch_connector/src/Event/PrepareIndexMappingEvent.php
modules/contrib/elasticsearch_connector/src/Event/PrepareMappingEvent.php
modules/contrib/elasticsearch_connector/src/Event/PrepareSearchQueryEvent.php
modules/contrib/elasticsearch_connector/src/Exception/ElasticSearchConnectorException.php
modules/contrib/elasticsearch_connector/src/Form/ClusterDeleteForm.php
modules/contrib/elasticsearch_connector/src/Form/ClusterForm.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/field/ElasticsearchViewsFieldTrait.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/field/ElasticsearchViewsMarkup.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/field/ElasticsearchViewsNumeric.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/field/ElasticsearchViewsStandard.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/filter/ElasticsearchViewsBooleanOperator.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/filter/ElasticsearchViewsDate.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/filter/ElasticsearchViewsFulltextSearch.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/filter/ElasticsearchViewsNumericFilter.php
modules/contrib/elasticsearch_connector/src/Form/IndexDeleteForm.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/filter/ElasticsearchViewsStandard.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/filter/ElasticsearchViewsStringFilter.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/join/ElasticsearchViewsJoin.php
modules/contrib/elasticsearch_connector/modules/elasticsearch_connector_views/src/Plugin/views/query/ElasticsearchViewsQuery.php
modules/contrib/elasticsearch_connector/src/Plugin/search_api/backend/SearchApiElasticsearchBackendInterface.php
modules/contrib/elasticsearch_connector/src/Plugin/search_api/data_type/ObjectDataType.php
modules/contrib/elasticsearch_connector/src/Plugin/search_api/processor/ExcludeSourceFields.php
modules/contrib/elasticsearch_connector/src/Controller/ClusterListBuilder.php
modules/contrib/elasticsearch_connector/src/Utility/Utility.php
modules/contrib/elasticsearch_connector/tests/src/Behat/features/bootstrap/ElasticsearchConnectorFeatureContext.php
modules/contrib/elasticsearch_connector/tests/src/Kernel/ElasticsearchTest.php
modules/contrib/elasticsearch_connector/tests/src/Unit/ClusterManagerTest.php
modules/contrib/elasticsearch_connector/src/Controller/ElasticsearchController.php
modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/ClientManagerTest.php
modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/Parameters/Builder/SearchBuilderTest.php
modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/Parameters/Factory/FilterFactoryTest.php
modules/contrib/elasticsearch_connector/src/ElasticSearch/ClientManager.php
modules/contrib/elasticsearch_connector/src/ElasticSearch/ClientManagerInterface.php
modules/contrib/elasticsearch_connector/src/ElasticSearch/ClusterManager.php
modules/contrib/elasticsearch_connector/src/ElasticSearch/Parameters/Builder/SearchBuilder.php
modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/Parameters/Factory/IndexFactoryTest.php
modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/Parameters/Factory/MappingFactoryTest.php
modules/contrib/elasticsearch_connector/tests/src/Unit/Entity/ClusterRouteProviderTest.php

14 files with changes
=====================

1) modules/contrib/elasticsearch_connector/tests/src/Unit/Entity/IndexRouteProviderTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\elasticsearch_connector\Unit\Entity;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\EntityTypeInterface;
 use Drupal\Tests\UnitTestCase;
 use Drupal\elasticsearch_connector\Entity\IndexRouteProvider;
@@ @@
  */
 class IndexRouteProviderTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::getRoutes
    */
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/elasticsearch_connector/elasticsearch_connector.module:106

    ---------- begin diff ----------
@@ @@
  */
 function _elasticsearch_ec_index_attached() {
   return array(
-    'js' => array(drupal_get_path('module', 'elasticsearch') . '/js/ec-index.js'),
-    'css' => array(drupal_get_path('module', 'elasticsearch') . '/css/ec-index.css'),
+    'js' => array(\Drupal::service('extension.list.module')->getPath('elasticsearch') . '/js/ec-index.js'),
+    'css' => array(\Drupal::service('extension.list.module')->getPath('elasticsearch') . '/css/ec-index.css'),
     'library' => array(array('system', 'ui.dialog')),
   );
 }
@@ @@
   // Add appropriate javascript that will be used by the parent page to fill in
   // the required data.
   if (elasticsearch_in_dialog() && isset($_GET['elasticsearch-dialog-close'])) {
-    drupal_add_js(drupal_get_path('module', 'elasticsearch') . '/js/ec-index-child.js');
+    drupal_add_js(\Drupal::service('extension.list.module')->getPath('elasticsearch') . '/js/ec-index-child.js');
     drupal_add_js(
       array(
         'elasticsearch' =>
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


3) modules/contrib/elasticsearch_connector/src/Event/PrepareSearchQueryEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\elasticsearch_connector\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 /**
  * Class PrepareSearchQueryEvent
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/elasticsearch_connector/src/Event/PrepareMappingEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\elasticsearch_connector\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 /**
  * Class PrepareMappingEvent
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/elasticsearch_connector/src/Event/PrepareIndexMappingEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\elasticsearch_connector\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 /**
  * Class PrepareIndexMappingEvent
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/elasticsearch_connector/src/Event/PrepareDocumentIndexEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\elasticsearch_connector\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\search_api\IndexInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Class PrepareDocumentIndexEvent.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


7) modules/contrib/elasticsearch_connector/src/Event/BuildSearchQueryEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\elasticsearch_connector\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\search_api\IndexInterface;
 use Drupal\search_api\Query\QueryInterface;
 use Elastica\Query;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Class BuildSearchQueryEvent.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


8) modules/contrib/elasticsearch_connector/src/Event/BuildSearchParamsEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\elasticsearch_connector\Event;

-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;

 /**
  * Class BuildSearchParamsEvent
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


9) modules/contrib/elasticsearch_connector/tests/src/Unit/Entity/ClusterRouteProviderTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\elasticsearch_connector\Unit\Entity;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\EntityTypeInterface;
 use Drupal\Tests\UnitTestCase;
 use Drupal\elasticsearch_connector\Entity\ClusterRouteProvider;
@@ @@
  */
 class ClusterRouteProviderTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::getRoutes
    */
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


10) modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/Parameters/Factory/MappingFactoryTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\elasticsearch_connector\Unit\ElasticSearch\Parameters\Factory;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\search_api\Item\FieldInterface;
 use Drupal\Tests\UnitTestCase;
 use Drupal\elasticsearch_connector\ElasticSearch\Parameters\Factory\MappingFactory;
@@ @@
  */
 class MappingFactoryTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::mappingFromField
    */
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


11) modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/Parameters/Factory/FilterFactoryTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\elasticsearch_connector\Unit\ElasticSearch\Parameters\Factory;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\search_api\Query\Condition;
 use Drupal\Tests\UnitTestCase;
 use Drupal\elasticsearch_connector\ElasticSearch\Parameters\Factory\FilterFactory;
@@ @@
  */
 class FilterFactoryTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::filterFromCondition
    */
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


12) modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/Parameters/Builder/SearchBuilderTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\elasticsearch_connector\Unit\ElasticSearch\Parameters\Builder;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\search_api\IndexInterface;
 use Drupal\search_api\Query\QueryInterface;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class SearchBuilderTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * An instance of the SearchBuilder class.
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $index = $this->prophesize(IndexInterface::class);
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/elasticsearch_connector/tests/src/Unit/ElasticSearch/ClientManagerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\elasticsearch_connector\Unit\ElasticSearch;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Extension\ModuleHandlerInterface;
 use Drupal\elasticsearch_connector\ElasticSearch\ClientManager;
 use Drupal\elasticsearch_connector\Entity\Cluster;
@@ @@
  */
 class ClientManagerTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * An instance of ClientManager
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $module_handler = $this->prophesize(ModuleHandlerInterface::class);
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/elasticsearch_connector/tests/src/Unit/ClusterManagerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\elasticsearch_connector\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\State\StateInterface;
@@ @@
  */
 class ClusterManagerTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * An instance of ClusterManager
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $state = $this->prophesize(StateInterface::class);
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [ERROR] Could not process                                                      
         "modules/contrib/elasticsearch_connector/tests/src/Kernel/Elasticsearch
         Test.php" file, due to:                                                
         "System error: "Method pass() was not found in reflection of class     
         Drupal\elasticsearch_connector\Tests\Kernel\ElasticsearchTest."        
         Run Rector with "--debug" option and post the report here:             
         https://github.com/rectorphp/rector/issues/new". On line: 419          

