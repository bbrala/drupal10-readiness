diff --git a/includes/preprocess.inc b/includes/preprocess.inc
index 61a73ed..e51d870 100644
--- a/includes/preprocess.inc
+++ b/includes/preprocess.inc
@@ -108,19 +108,19 @@ function uikit_preprocess_region(&$variables) {
           switch ($navbar_alignment) {
             case 'left':
               $variables['content_left'][$id] = [
-                '#markup' => render($element),
+                '#markup' => \Drupal::service('renderer')->render($element),
               ];
               break;
 
             case 'center':
               $variables['content_center'][$id] = [
-                '#markup' => render($element),
+                '#markup' => \Drupal::service('renderer')->render($element),
               ];
               break;
 
             case 'right':
               $variables['content_right'][$id] = [
-                '#markup' => render($element),
+                '#markup' => \Drupal::service('renderer')->render($element),
               ];
               break;
           }
diff --git a/includes/theme.inc b/includes/theme.inc
index 4f51a28..a7112df 100644
--- a/includes/theme.inc
+++ b/includes/theme.inc
@@ -17,13 +17,13 @@ function uikit_theme($existing, $type, $theme, $path) {
   $items['menu__navbar'] = [
     'base hook' => 'menu',
     'variables' => ['items' => [], 'attributes' => []],
-    'path' => drupal_get_path('theme', 'uikit') . '/templates/navigation',
+    'path' => \Drupal::service('extension.list.theme')->getPath('uikit') . '/templates/navigation',
     'template' => 'menu--navbar',
   ];
   $items['menu__offcanvas'] = [
     'base hook' => 'menu',
     'variables' => ['items' => [], 'attributes' => []],
-    'path' => drupal_get_path('theme', 'uikit') . '/templates/navigation',
+    'path' => \Drupal::service('extension.list.theme')->getPath('uikit') . '/templates/navigation',
     'template' => 'menu--offcanvas',
   ];
 
diff --git a/src/UIkit.php b/src/UIkit.php
index 24a2ba0..6238920 100644
--- a/src/UIkit.php
+++ b/src/UIkit.php
@@ -96,7 +96,7 @@ class UIkit {
     }
 
     if (function_exists('drupal_get_path')) {
-      $file = DRUPAL_ROOT . '/' . drupal_get_path($project_type, $project) . "$sub_directory/$name.$type";
+      $file = DRUPAL_ROOT . '/' . \Drupal::service('extension.path.resolver')->getPath($project_type, $project) . "$sub_directory/$name.$type";
       if (is_file($file)) {
         require_once $file;
         $files[$key] = $file;
diff --git a/theme-settings.php b/theme-settings.php
index d9b1370..f460644 100644
--- a/theme-settings.php
+++ b/theme-settings.php
@@ -82,12 +82,12 @@ function uikit_form_system_theme_settings_alter(&$form, FormStateInterface $form
 
   // Create markup for UIkit theme information.
   $info_parser = new InfoParser();
-  $uikit_theme_info = $info_parser->parse(drupal_get_path('theme', 'uikit') . '/uikit.info.yml');
+  $uikit_theme_info = $info_parser->parse(\Drupal::service('extension.list.theme')->getPath('uikit') . '/uikit.info.yml');
   $uikit_version = isset($uikit_theme_info['version']) ? $uikit_theme_info['version'] : UIkit::UIKIT_PROJECT_BRANCH;
   $uikit_info = '<div class="uk-container uk-margin-top">';
   $uikit_info .= '<div class="uk-grid">';
   $uikit_info .= '<div class="uk-width-1-1">';
-  $uikit_info .= '<div class="uk-text-center"><img src="/' . drupal_get_path('theme', 'uikit') . '/images/uikit-small.png" /></div>';
+  $uikit_info .= '<div class="uk-text-center"><img src="/' . \Drupal::service('extension.list.theme')->getPath('uikit') . '/images/uikit-small.png" /></div>';
   $uikit_info .= '<blockquote class="uk-text-small">';
   $uikit_info .= '<p class="uk-text-center">';
   $uikit_info .= '<span class="uk-margin-small-right" uk-icon="quote-right"></span> ' . $uikit_theme_info['description'];
@@ -388,7 +388,7 @@ function uikit_form_system_theme_settings_alter(&$form, FormStateInterface $form
   $form['logo']['logo_preview'] = [
     '#type' => 'item',
     '#title' => t('Logo preview'),
-    '#markup' => render($render_logo),
+    '#markup' => \Drupal::service('renderer')->render($render_logo),
     '#description' => t('Preview of image to display as the site logo. The preview will be updated when the configuration is saved.'),
   ];
 
@@ -403,7 +403,7 @@ function uikit_form_system_theme_settings_alter(&$form, FormStateInterface $form
   $form['favicon']['favicon_preview'] = [
     '#type' => 'item',
     '#title' => t('Favicon preview'),
-    '#markup' => render($render_favicon),
+    '#markup' => \Drupal::service('renderer')->render($render_favicon),
     '#description' => t('Preview of favicon displayed in the address bar and bookmarks of most browsers. The preview will be updated when the configuration is saved.'),
   ];
 
