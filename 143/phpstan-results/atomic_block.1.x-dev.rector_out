modules/contrib/atomic_block/atomic_block.module
modules/contrib/atomic_block/src/Plugin/Block/AtomicBlockBlockBase.php
modules/contrib/atomic_block/src/Plugin/Block/background_image/AtomicBlockBackgroundImageBlock.php
modules/contrib/atomic_block/src/Plugin/Block/button/AtomicBlockButtonBlock.php
modules/contrib/atomic_block/src/Plugin/Block/image/AtomicBlockImageBlock.php
modules/contrib/atomic_block/src/Plugin/Block/lists/AtomicBlockListsBlock.php
modules/contrib/atomic_block/src/Plugin/Block/more/AtomicBlockMoreBlock.php
modules/contrib/atomic_block/src/Plugin/Block/text/AtomicBlockTextBlock.php
modules/contrib/atomic_block/src/Plugin/Block/title/AtomicBlockTitleBlock.php

3 files with changes
====================

1) modules/contrib/atomic_block/src/Plugin/Block/background_image/AtomicBlockBackgroundImageBlock.php:102

    ---------- begin diff ----------
@@ @@
         $image->setPermanent();
         $image->save();
         if ($this->configuration['element_properties']['image_style'] == 'none') {
-          $build['#image_url'] = Url::fromUri(file_create_url($image->getFileUri()));
+          $build['#image_url'] = \Drupal::service('file_url_generator')->generate($image->getFileUri());
         }
         else {
           $build['#image_url'] = ImageStyle::load($this->configuration['element_properties']['image_style'])->buildUrl($image->getFileUri());
    ----------- end diff -----------

Applied rules:
 * FromUriRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/atomic_block/src/Plugin/Block/AtomicBlockBlockBase.php:29

    ---------- begin diff ----------
@@ @@
     global $base_path;
     $this->base_path = $base_path;
     $this->base_url = \Drupal::request()->getSchemeAndHttpHost();
-    $this->module_path = drupal_get_path('module', 'atomic_block');
+    $this->module_path = \Drupal::service('extension.list.module')->getPath('atomic_block');
     $this->block_path = $this->getBlockPath();
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/atomic_block/atomic_block.module:5

    ---------- begin diff ----------
@@ @@
 function atomic_block_theme($existing, $type, $theme, $path) {
   // Define templates for every block plugin of this module.
   $themes = [];
-  $module_path = drupal_get_path('module', 'atomic_block');
+  $module_path = \Drupal::service('extension.list.module')->getPath('atomic_block');
   // Do not use the plugin filterer here, but still filter by contexts.
   $definitions = \Drupal::service('plugin.manager.block')->getDefinitions();
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

