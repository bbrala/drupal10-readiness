modules/contrib/media_directories/media_directories.install
modules/contrib/media_directories/modules/media_directories_ui/media_directories_ui.install
modules/contrib/media_directories/modules/media_directories_ui/src/Form/FileUploadForm.php
modules/contrib/media_directories/media_directories.module
modules/contrib/media_directories/media_directories.views.inc
modules/contrib/media_directories/modules/media_directories_editor/media_directories_editor.install
modules/contrib/media_directories/modules/media_directories_ui/media_directories_ui.module
modules/contrib/media_directories/modules/media_directories_editor/media_directories_editor.module
modules/contrib/media_directories/modules/media_directories_ui/src/Form/MediaCombinedUploadForm.php
modules/contrib/media_directories/modules/media_directories_editor/src/Plugin/Field/FieldFormatter/MediaDirectoriesImageDimensionsFormatter.php
modules/contrib/media_directories/modules/media_directories_ui/src/Form/MediaDeleteForm.php
modules/contrib/media_directories/modules/media_directories_ui/src/Form/MediaEditForm.php
modules/contrib/media_directories/modules/media_directories_ui/src/Form/OEmbedForm.php
modules/contrib/media_directories/modules/media_directories_ui/src/Ajax/LoadDirectoryContent.php
modules/contrib/media_directories/modules/media_directories_ui/src/Ajax/RefreshDirectoryTree.php
modules/contrib/media_directories/modules/media_directories_ui/src/Controller/MediaDirectoriesController.php
modules/contrib/media_directories/modules/media_directories_ui/src/MediaDirectoriesUiHelper.php
modules/contrib/media_directories/modules/media_directories_ui/src/Plugin/EntityBrowser/Widget/DirectoryBrowser.php
modules/contrib/media_directories/modules/media_directories_ui/src/Plugin/EntityBrowser/WidgetValidation/TargetBundles.php
modules/contrib/media_directories/modules/media_directories_ui/src/Plugin/views/argument/StringContainsArgument.php
modules/contrib/media_directories/src/Form/MediaDirectoriesConfigForm.php
modules/contrib/media_directories/src/Plugin/EntityReferenceSelection/DirectorySelection.php
modules/contrib/media_directories/modules/media_directories_ui/src/Form/AddMediaFormBase.php
modules/contrib/media_directories/src/Plugin/views/argument/MediaDirectoryArgument.php
modules/contrib/media_directories/src/Plugin/views/filter/MediaDirectory.php
modules/contrib/media_directories/modules/media_directories_ui/src/Form/DirectoryDeleteForm.php

3 files with changes
====================

1) modules/contrib/media_directories/modules/media_directories_editor/src/Plugin/Field/FieldFormatter/MediaDirectoriesImageDimensionsFormatter.php:212

    ---------- begin diff ----------
@@ @@
           'height' => $this->getSetting('dimensions')['image_height'],
           'class' => [],
         ],
-        '#uri' => file_create_url($file->getFileUri()),
+        '#uri' => \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri()),
       ];

       // Add cacheability of each item in the field.
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/media_directories/modules/media_directories_ui/src/Form/MediaCombinedUploadForm.php:137

    ---------- begin diff ----------
@@ @@
       $field_config = $this->entityTypeManager->getStorage('field_config')->load('media.' . $media_type->id() . '.' . $source_field_name);
       $destination = $this->getUploadLocation($field_config->getSettings());
       if ($this->fileSystem->prepareDirectory($destination, FileSystemInterface::CREATE_DIRECTORY)) {
-        $source_field_value = file_move($source_field_value, $destination);
+        $source_field_value = \Drupal::service('file.repository')->move($source_field_value, $destination);
       }

       $media[] = $this->createMediaFromValue($media_type, $media_storage, $source_field_name, $source_field_value, $form_state);
    ----------- end diff -----------

Applied rules:
 * FileMoveRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/media_directories/modules/media_directories_ui/media_directories_ui.module:49

    ---------- begin diff ----------
@@ @@
   $route = 'entity_browser.media_directories_overview';

   if (Drupal::routeMatch()->getRouteName() === $route) {
-    unset($css[drupal_get_path('module', 'entity_browser') . '/css/entity_browser.entity_browser.css']);
+    unset($css[\Drupal::service('extension.list.module')->getPath('entity_browser') . '/css/entity_browser.entity_browser.css']);
   }
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

