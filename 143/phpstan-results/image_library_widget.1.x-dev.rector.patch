diff --git a/tests/src/Functional/ImageLibraryWidgetSettingsTest.php b/tests/src/Functional/ImageLibraryWidgetSettingsTest.php
index 880f78c..878dd2c 100644
--- a/tests/src/Functional/ImageLibraryWidgetSettingsTest.php
+++ b/tests/src/Functional/ImageLibraryWidgetSettingsTest.php
@@ -36,7 +36,7 @@ class ImageLibraryWidgetSettingsTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->createImageField();
@@ -58,7 +58,7 @@ class ImageLibraryWidgetSettingsTest extends BrowserTestBase {
     $assert_session->pageTextNotContains('Image library type:');
 
     // Use the 'Image Library Widget' widget.
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'fields[image][type]' => 'image_library_widget',
     ], 'Save');
 
@@ -80,24 +80,26 @@ class ImageLibraryWidgetSettingsTest extends BrowserTestBase {
 
     // Add two media types to be used as image libraries for the widget.
     $this->clickLink('add some media types');
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'label' => 'Logo',
       'id' => 'logo',
       'source' => 'image',
     ], 'Save');
     $page->selectFieldOption('Field with source information', 'media.image_library_widget_image');
     $page->pressButton('Save');
+    $this->drupalGet('admin/structure/media/add');
 
-    $this->drupalPostForm('admin/structure/media/add', [
+    $this->submitForm([
       'label' => 'Banner',
       'id' => 'banner',
       'source' => 'image',
     ], 'Save');
     $page->selectFieldOption('Field with source information', 'media.image_library_widget_image');
     $page->pressButton('Save');
+    $this->drupalGet('admin/structure/media/add');
 
     // Add a media type that doesn't qualify as an image library for the widget.
-    $this->drupalPostForm('admin/structure/media/add', [
+    $this->submitForm([
       'label' => 'Not a widget image library',
       'id' => 'not_a_widget_image_library',
       'source' => 'file',
diff --git a/tests/src/FunctionalJavascript/ImageLibraryWidgetTest.php b/tests/src/FunctionalJavascript/ImageLibraryWidgetTest.php
index fe694e7..b8c12ff 100644
--- a/tests/src/FunctionalJavascript/ImageLibraryWidgetTest.php
+++ b/tests/src/FunctionalJavascript/ImageLibraryWidgetTest.php
@@ -40,7 +40,7 @@ class ImageLibraryWidgetTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     foreach (['logo' => 'Logo', 'banner' => 'Banner'] as $id => $label) {
@@ -79,7 +79,7 @@ class ImageLibraryWidgetTest extends WebDriverTestBase {
     $page = $session->getPage();
 
     // Check that when there are not media entries the library is not displayed.
-    $this->assertElementNotPresent('.image-library-widget');
+    $this->assertSession()->elementNotExists('.image-library-widget');
 
     // Add some pre-uploaded logos.
     $this->addMedia('logo', 30);
@@ -87,7 +87,7 @@ class ImageLibraryWidgetTest extends WebDriverTestBase {
     $session->reload();
 
     // Check that the label doesn't exist as it hasn't been configured.
-    $this->assertElementNotPresent('.image-library-widget-label');
+    $this->assertSession()->elementNotExists('.image-library-widget-label');
 
     /** @var \Drupal\Core\Entity\Display\EntityFormDisplayInterface $form_display */
     $form_display = EntityFormDisplay::load('entity_test.entity_test.default');
@@ -99,16 +99,16 @@ class ImageLibraryWidgetTest extends WebDriverTestBase {
     $session->reload();
 
     // Check that the image library is displayed.
-    $this->assertElementPresent('.image-library-widget-label');
+    $this->assertSession()->elementExists('.image-library-widget-label');
     $assert->pageTextContains('Or choose a predefined Logo');
-    $this->assertElementPresent('.image-library-widget');
+    $this->assertSession()->elementExists('.image-library-widget');
 
     $image_fid = $this->selectImageFromLibrary();
 
     // Check that after a image has been selected the browser won't show.
-    $this->assertElementNotPresent('.image-library-widget-label');
+    $this->assertSession()->elementNotExists('.image-library-widget-label');
     $assert->pageTextNotContains('Or choose a predefined Logo');
-    $this->assertElementNotPresent('.image-library-widget');
+    $this->assertSession()->elementNotExists('.image-library-widget');
 
     // Save the new entity.
     $page->pressButton('Save');
