diff --git a/src/ApidaeSync.php b/src/ApidaeSync.php
index e5000e4..1a9a2e4 100644
--- a/src/ApidaeSync.php
+++ b/src/ApidaeSync.php
@@ -679,7 +679,7 @@ class ApidaeSync {
           $this->fileSystem->mkdir($folder, NULL, TRUE);
         }
         if ($data = file_get_contents($url)) {
-          $file = file_save_data($data, $destination, FileSystemInterface::EXISTS_REPLACE);
+          $file = \Drupal::service('file.repository')->writeData($data, $destination, FileSystemInterface::EXISTS_REPLACE);
           $file->save();
           $files[] = [
             'target_id' => $file->id(),
diff --git a/src/Event/ApidaeNodePresaveEvent.php b/src/Event/ApidaeNodePresaveEvent.php
index a0e4a75..0743f6a 100644
--- a/src/Event/ApidaeNodePresaveEvent.php
+++ b/src/Event/ApidaeNodePresaveEvent.php
@@ -2,8 +2,8 @@
 
 namespace Drupal\apidae_tourisme\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\node\Entity\Node;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Event dispatched before the saving of a node.
diff --git a/src/Event/ApidaeQueryBuilderEvent.php b/src/Event/ApidaeQueryBuilderEvent.php
index 9a30ab5..fdd97f5 100644
--- a/src/Event/ApidaeQueryBuilderEvent.php
+++ b/src/Event/ApidaeQueryBuilderEvent.php
@@ -2,7 +2,7 @@
 
 namespace Drupal\apidae_tourisme\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 /**
  * Event dispatched when the query is built, before it's execution.
