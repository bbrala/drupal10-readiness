modules/contrib/coupon_for_role/coupon_for_role.install
modules/contrib/coupon_for_role/coupon_for_role.module
modules/contrib/coupon_for_role/src/CouponConstants.php
modules/contrib/coupon_for_role/src/CouponForRoleCouponManager.php
modules/contrib/coupon_for_role/src/Exception/CouponAlreadyUsedException.php
modules/contrib/coupon_for_role/src/Form/RedeemForm.php

1 file with changes
===================

1) modules/contrib/coupon_for_role/src/Form/RedeemForm.php:109

    ---------- begin diff ----------
@@ @@
     }
     catch (CouponAlreadyUsedException $e) {
       // Should really not be possible, since we check this in the validation.
-      drupal_set_message(t('The code you have entered has already been used.'));
+      $this->messenger()->addStatus(t('The code you have entered has already been used.'));
       watchdog_exception('coupon_for_role', $e);
     }
     catch (\Exception $e) {
       watchdog_exception('coupon_for_role', $e);
-      drupal_set_message(t('There was an error redeeming the code, even if the code was valid. If the problem persist, please contact the site administrator'));
+      $this->messenger()->addStatus(t('There was an error redeeming the code, even if the code was valid. If the problem persist, please contact the site administrator'));
     }
   }
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

