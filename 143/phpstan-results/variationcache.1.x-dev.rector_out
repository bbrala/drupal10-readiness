modules/contrib/variationcache/src/Cache/CacheRedirect.php
modules/contrib/variationcache/src/Cache/VariationCache.php
modules/contrib/variationcache/src/Cache/VariationCacheFactory.php
modules/contrib/variationcache/src/Cache/VariationCacheFactoryInterface.php
modules/contrib/variationcache/src/Cache/VariationCacheInterface.php
modules/contrib/variationcache/tests/src/Unit/VariationCacheTest.php

1 file with changes
===================

1) modules/contrib/variationcache/tests/src/Unit/VariationCacheTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\variationcache\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Cache\CacheableMetadata;
 use Drupal\Core\Cache\Context\CacheContextsManager;
 use Drupal\Core\Cache\Context\ContextCacheKeys;
@@ @@
  */
 class VariationCacheTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The prophesized request stack.
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->requestStack = $this->prophesize(RequestStack::class);
     $this->memoryBackend = new MemoryBackend();
@@ @@
    * @covers ::set
    */
   public function testIncompatibleVariationsException() {
-    // This should never happen. When someone first stores something in the
-    // cache using context A and then tries to store something using context B,
-    // something is wrong. There should always be at least one shared context at
-    // the top level or else the cache cannot do its job.
-    $this->setExpectedException(\LogicException::class, "The complete set of cache contexts for a variation cache item must contain all of the initial cache contexts.");
-
+    $this->expectExceptionMessage("The complete set of cache contexts for a variation cache item must contain all of the initial cache contexts.");
+    $this->expectException(\LogicException::class);
     $this->housingType = 'house';
     $house_cacheability = (new CacheableMetadata())
       ->setCacheContexts(['house.type']);
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * DelegateExceptionArgumentsRector
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

