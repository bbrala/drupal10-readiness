diff --git a/geysir.info.yml b/geysir.info.yml
index 7e24696..327abec 100644
--- a/geysir.info.yml
+++ b/geysir.info.yml
@@ -1,8 +1,7 @@
 name: "Geysir"
 type: module
 description: "Enhancing the Drupal Author Experience."
-core: '8.x'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: Author Experience
 dependencies:
   - paragraphs:paragraphs
diff --git a/src/Controller/GeysirModalController.php b/src/Controller/GeysirModalController.php
index db91bac..f6ed2e7 100644
--- a/src/Controller/GeysirModalController.php
+++ b/src/Controller/GeysirModalController.php
@@ -27,7 +27,7 @@ class GeysirModalController extends GeysirControllerBase {
         ]);
         $form = $this->entityFormBuilder()->getForm($newParagraph, 'geysir_modal_add', []);
 
-        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
       }
       else {
         $bundle_fields = $this->entityFieldManager->getFieldDefinitions($parent_entity_type, $entity->bundle());
@@ -50,7 +50,7 @@ class GeysirModalController extends GeysirControllerBase {
         ];
 
         $form = \Drupal::formBuilder()->getForm('\Drupal\geysir\Form\GeysirModalParagraphAddSelectTypeForm', $routeParams, $bundles);
-        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
       }
       return $response;
     }
@@ -75,7 +75,7 @@ class GeysirModalController extends GeysirControllerBase {
         ]);
         $form = $this->entityFormBuilder()->getForm($newParagraph, 'geysir_modal_add', []);
 
-        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
       }
       else {
 
@@ -101,7 +101,7 @@ class GeysirModalController extends GeysirControllerBase {
         ];
 
         $form = \Drupal::formBuilder()->getForm('\Drupal\geysir\Form\GeysirModalParagraphAddSelectTypeForm', $routeParams, $bundles);
-        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+        $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Add @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
       }
 
       return $response;
@@ -118,7 +118,7 @@ class GeysirModalController extends GeysirControllerBase {
       $response = new AjaxResponse();
       $form = $this->entityFormBuilder()->getForm($paragraph_revision, 'geysir_modal_edit', []);
       $paragraph_title = $this->getParagraphTitle($parent_entity_type, $parent_entity_bundle, $field);
-      $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Edit @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+      $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Edit @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
 
       return $response;
     }
@@ -136,7 +136,7 @@ class GeysirModalController extends GeysirControllerBase {
       $translated_paragraph = $paragraph->addTranslation($langcode, $paragraph->toArray());
       $form = $this->entityFormBuilder()->getForm($translated_paragraph, 'geysir_modal_edit', []);
       $paragraph_title = $this->getParagraphTitle($parent_entity_type, $parent_entity_bundle, $field);
-      $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Translate @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form)));
+      $response->addCommand(new GeysirOpenModalDialogCommand($this->t('Translate @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form)));
 
       return $response;
     }
@@ -158,7 +158,7 @@ class GeysirModalController extends GeysirControllerBase {
 
       $response = new AjaxResponse();
       $paragraph_title = $this->getParagraphTitle($parent_entity_type, $parent_entity_bundle, $field);
-      $response->addCommand(new OpenModalDialogCommand($this->t('Delete @paragraph_title', ['@paragraph_title' => $paragraph_title]), render($form), $options));
+      $response->addCommand(new OpenModalDialogCommand($this->t('Delete @paragraph_title', ['@paragraph_title' => $paragraph_title]), \Drupal::service('renderer')->render($form), $options));
       return $response;
     }
 
diff --git a/src/Form/GeysirModalParagraphAddSelectTypeForm.php b/src/Form/GeysirModalParagraphAddSelectTypeForm.php
index e71a363..7d3ac88 100644
--- a/src/Form/GeysirModalParagraphAddSelectTypeForm.php
+++ b/src/Form/GeysirModalParagraphAddSelectTypeForm.php
@@ -45,7 +45,7 @@ class GeysirModalParagraphAddSelectTypeForm extends FormBase {
     $bundles = $this->getAllowedBundles($bundles);
     $paragraphs_type_storage = \Drupal::entityTypeManager()->getStorage('paragraphs_type');
 
-    $default_icon = drupal_get_path('module', 'geysir') . '/images/geysir-puzzle.svg';
+    $default_icon = \Drupal::service('extension.list.module')->getPath('geysir') . '/images/geysir-puzzle.svg';
 
     foreach ($bundles as $bundle => $label) {
       $icon_url = $default_icon;
