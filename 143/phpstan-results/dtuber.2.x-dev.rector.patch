diff --git a/src/Form/TestUploadForm.php b/src/Form/TestUploadForm.php
index 6788ef1..6512ee3 100644
--- a/src/Form/TestUploadForm.php
+++ b/src/Form/TestUploadForm.php
@@ -98,7 +98,7 @@ class TestUploadForm extends FormBase {
   public function submitForm(array &$form, FormStateInterface $form_state) {
     $file = $form_state->getValue('video');
     $file = File::load($file[0]);
-    $path = file_create_url($file->getFileUri());
+    $path = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
     global $base_url;
 
     $options = [
diff --git a/src/Plugin/Field/FieldType/DtuberField.php b/src/Plugin/Field/FieldType/DtuberField.php
index 056ccf1..9896940 100644
--- a/src/Plugin/Field/FieldType/DtuberField.php
+++ b/src/Plugin/Field/FieldType/DtuberField.php
@@ -110,7 +110,7 @@ class DtuberField extends FieldItemBase {
     $file = File::load($file);
     if ($field_val && isset($file)) {
       // If file is there.
-      $path = file_create_url($file->getFileUri());
+      $path = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
       global $base_url;
       $dtuberYouTubeService = \Drupal::service('dtuber_youtube_service');
       $options = [
diff --git a/tests/src/Functional/BasicTestCase.php b/tests/src/Functional/BasicTestCase.php
index a8b7250..09924ab 100644
--- a/tests/src/Functional/BasicTestCase.php
+++ b/tests/src/Functional/BasicTestCase.php
@@ -30,7 +30,7 @@ class BasicTestCase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->account = $this->drupalCreateuser(['access administration pages']);
     $this->drupalLogin($this->account);
@@ -41,7 +41,7 @@ class BasicTestCase extends BrowserTestBase {
    */
   public function testHelpPage() {
     $this->drupalGet('admin/help/dtuber');
-    $this->assertText('Dtuber aka "Drupal YouTuber" - Uploads Video to a YouTube Channel. Provides a new Field type, that can be attached to a Content-type.');
+    $this->assertSession()->pageTextContains('Dtuber aka "Drupal YouTuber" - Uploads Video to a YouTube Channel. Provides a new Field type, that can be attached to a Content-type.');
   }
 
 }
