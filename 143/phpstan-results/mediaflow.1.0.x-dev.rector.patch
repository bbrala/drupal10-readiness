diff --git a/src/Service/MediaflowFetcher.php b/src/Service/MediaflowFetcher.php
index 808c558..5748b9e 100755
--- a/src/Service/MediaflowFetcher.php
+++ b/src/Service/MediaflowFetcher.php
@@ -71,7 +71,7 @@ class MediaflowFetcher extends ServiceProviderBase {
         $file_data = $response->getBody()->getContents();
         $directory = 'public://mediaflow/';
         $this->fileSystem->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY);
-        $file = file_save_data($file_data, $directory . $filename, FileSystemInterface::EXISTS_REPLACE);
+        $file = \Drupal::service('file.repository')->writeData($file_data, $directory . $filename, FileSystemInterface::EXISTS_REPLACE);
       }
     }
     return $file;
