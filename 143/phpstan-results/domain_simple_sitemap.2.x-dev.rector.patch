diff --git a/domain_simple_sitemap.info.yml b/domain_simple_sitemap.info.yml
index 6972f23..5fabe3d 100644
--- a/domain_simple_sitemap.info.yml
+++ b/domain_simple_sitemap.info.yml
@@ -1,8 +1,7 @@
 name: Domain Access Simple Sitemap
 type: module
 description: Module for generating sitemaps on domains with Domain Access module.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: SEO
 configure: domain_simple_sitemap.settings
 dependencies:
diff --git a/src/Form/DomainSimpleSitemapConfigForm.php b/src/Form/DomainSimpleSitemapConfigForm.php
index d7849f3..9e0023f 100644
--- a/src/Form/DomainSimpleSitemapConfigForm.php
+++ b/src/Form/DomainSimpleSitemapConfigForm.php
@@ -184,7 +184,7 @@ class DomainSimpleSitemapConfigForm extends ConfigFormBase {
       ->setProgressMessage($this->t('Completed @current of @total.'))
       ->setErrorMessage($this->t('An error has occurred.'));
 
-    $this->batchBuilder->setFile(drupal_get_path('module', 'domain_simple_sitemap') . '/src/Form/DomainSimpleSitemapConfigForm.php');
+    $this->batchBuilder->setFile(\Drupal::service('extension.list.module')->getPath('domain_simple_sitemap') . '/src/Form/DomainSimpleSitemapConfigForm.php');
     $this->batchBuilder->addOperation([
       $this,
       'batchProcess',
diff --git a/src/Plugin/simple_sitemap/UrlGenerator/DomainEntityUrlGenerator.php b/src/Plugin/simple_sitemap/UrlGenerator/DomainEntityUrlGenerator.php
index 3986552..7cae2ef 100644
--- a/src/Plugin/simple_sitemap/UrlGenerator/DomainEntityUrlGenerator.php
+++ b/src/Plugin/simple_sitemap/UrlGenerator/DomainEntityUrlGenerator.php
@@ -214,13 +214,13 @@ class DomainEntityUrlGenerator extends EntityUrlGenerator {
       return "";
     }
     if ($term_obj->hasField('field_image') && isset($term_obj->get('field_image')->entity)) {
-      return file_create_url($term_obj->get('field_image')->entity->getFileUri());
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($term_obj->get('field_image')->entity->getFileUri());
     }
     elseif ($term_obj->hasField('field_photo') && isset($term_obj->get('field_photo')->entity)) {
-      return file_create_url($term_obj->get('field_photo')->entity->getFileUri());
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($term_obj->get('field_photo')->entity->getFileUri());
     }
     elseif ($term_obj->hasField('field_img') && isset($term_obj->get('field_img')->entity)) {
-      return file_create_url($term_obj->get('field_img')->entity->getFileUri());
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($term_obj->get('field_img')->entity->getFileUri());
     }
   }
 
