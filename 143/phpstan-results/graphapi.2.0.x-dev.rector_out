modules/contrib/graphapi/graphapi.api.php
modules/contrib/graphapi/src/Annotation/GraphEngine.php
modules/contrib/graphapi/src/Plugin/GraphFormat/GraphvizScript.php
modules/contrib/graphapi/src/Annotation/GraphFormat.php
modules/contrib/graphapi/src/Controller/GraphAPIController.php
modules/contrib/graphapi/src/Plugin/GraphFormat/GraphvizSvg.php
modules/contrib/graphapi/graphapi.install
modules/contrib/graphapi/graphapi.module
modules/contrib/graphapi/src/Plugin/views/style/Graph.php
modules/contrib/graphapi/src/Controller/GraphFormatDefaultsFormController.php
modules/contrib/graphapi/src/Controller/GraphFormatsListController.php
modules/contrib/graphapi/tests/modules/test_graph/src/Plugin/GraphEngine/TestGraphEngine.php
modules/contrib/graphapi/tests/modules/test_graph/src/Plugin/GraphFormat/TestGraphFormat.php
modules/contrib/graphapi/tests/runTests.php
modules/contrib/graphapi/src/Element/Graph.php
modules/contrib/graphapi/src/Entity/GraphapiFormatDefaults.php
modules/contrib/graphapi/src/Entity/GraphapiFormatDefaultsInterface.php
modules/contrib/graphapi/src/Entity/Handler/GraphapiFormatDefaultsAccess.php
modules/contrib/graphapi/src/Form/EngineSettingsForm.php
modules/contrib/graphapi/tests/src/Kernel/GraphRenderElementTest.php
modules/contrib/graphapi/src/Form/GraphapiFormatDefaultsEditForm.php
modules/contrib/graphapi/src/GraphEngineManager.php
modules/contrib/graphapi/src/GraphFormatManager.php
modules/contrib/graphapi/views/graphapi.views.inc
modules/contrib/graphapi/views/graphapi.views_default.inc
modules/contrib/graphapi/src/Plugin/Filter/FilterTrivialGraphFormat.php
modules/contrib/graphapi/views/plugins/views_plugin_style_graphapi.inc
modules/contrib/graphapi/modules/graphapi_class/graphapi_class.module
modules/contrib/graphapi/views/theme/views-graphapi-style-graphapi.tpl.php
modules/contrib/graphapi/views/theme/views_graphapi_style.theme.inc
modules/contrib/graphapi/src/Plugin/GraphEngine/GraphEngineBase.php
modules/contrib/graphapi/src/Plugin/GraphEngine/GraphEngineInterface.php
modules/contrib/graphapi/src/Plugin/GraphEngine/Graphviz.php
modules/contrib/graphapi/src/Plugin/GraphFormat/GraphFormatBase.php
modules/contrib/graphapi/modules/graphapi_class/lib/Drupal/graphapi_class/Controller/GraphAPIClassController.php
modules/contrib/graphapi/src/Plugin/GraphFormat/GraphFormatInterface.php
modules/contrib/graphapi/src/Plugin/GraphFormat/GraphvizPng.php
modules/contrib/graphapi/modules/graphapi_class/lib/Drupal/graphapi_class/Plugin/Filter/FilterClassDiagram.php
modules/contrib/graphapi/modules/graphapi_demo/graphapi_demo.module
modules/contrib/graphapi/modules/graphapi_devel/graphapi_devel.module

6 files with changes
====================

1) modules/contrib/graphapi/views/theme/views_graphapi_style.theme.inc:66

    ---------- begin diff ----------
@@ @@
     $defined_fields = array_keys($view->field);
     $diff = array_diff(array_keys($fields), $defined_fields);
     if (count($diff)) {
-      drupal_set_message(t("Some fields are removed from %view. Please check it's definition.", array('%view' => $view->human_name)), 'error');
+      \Drupal::messenger()->addError(t("Some fields are removed from %view. Please check it's definition.", array('%view' => $view->human_name)));
       $vars['graph'] = array();
       $vars['graph-config'] = $vars['settings'];
       return;
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * ArgumentRemoverRector


2) modules/contrib/graphapi/views/graphapi.views.inc:10

    ---------- begin diff ----------
@@ @@
  * Implements hook_views_plugins().
  */
 function graphapi_views_plugins() {
-  $path = drupal_get_path('module', 'graphapi') . '/views';
+  $path = \Drupal::service('extension.list.module')->getPath('graphapi') . '/views';
   return array(
     'module' => 'graphapi',
     'style' => array(
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


3) modules/contrib/graphapi/modules/graphapi_devel/graphapi_devel.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Component\Graph\Graph;
+use Drupal\Component\Discovery\YamlDiscovery;
+use Fhaculty\Graph\GraphViz;
 /**
  * Implements hook_menu().
  */
@@ @@
   $graph = _graphapi_devel_system_module_install_layout();

   // Apply Graph weight algoritm
-  $g = new Drupal\Component\Graph\Graph($graph);
+  $g = new Graph($graph);
   $graph = $g->searchAndSort();
   foreach ($graph as $id => $node) {
     $graph[$id]['data']['rank'] = 1 - $graph[$id]['weight'];
@@ @@
 }

 function graphapi_devel_routing() {
-  $yaml_discovery = new \Drupal\Component\Discovery\YamlDiscovery('routing', \Drupal::moduleHandler()->getModuleDirectories());
+  $yaml_discovery = new YamlDiscovery('routing', \Drupal::moduleHandler()->getModuleDirectories());
   $yaml = $yaml_discovery->findAll();

   //$graph = graphapi_new_graph();
@@ @@
     }
   }
   $options = array(
-    Fhaculty\Graph\GraphViz::LAYOUT_GRAPH => array(
+    GraphViz::LAYOUT_GRAPH => array(
       'layout' => 'twopi',
       'ranksep' => '3',
       'ratio' => 'auto',
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


4) modules/contrib/graphapi/modules/graphapi_class/graphapi_class.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Component\Discovery\YamlDiscovery;
 use Fhaculty\Graph\Uml\ClassDiagramBuilder;
 use Fhaculty\Graph\GraphViz;
 use Fhaculty\Graph\Graph;
@@ @@
 }

 function _graphapi_class_services() {
-  $yaml_discovery = new \Drupal\Component\Discovery\YamlDiscovery('services', \Drupal::moduleHandler()->getModuleDirectories());
+  $yaml_discovery = new YamlDiscovery('services', \Drupal::moduleHandler()->getModuleDirectories());
   $yaml = $yaml_discovery->findAll();
   $classes = array();
   foreach ($yaml as $module => $services) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


5) modules/contrib/graphapi/graphapi.module:298

    ---------- begin diff ----------
@@ @@
 function graphapi_views_api() {
   return array(
     'api' => 3.0,
-    'path' => drupal_get_path('module', 'graphapi') . '/views',
+    'path' => \Drupal::service('extension.list.module')->getPath('graphapi') . '/views',
   );
 }

@@ @@
 }

 function graphapi_direct_dump($g) {
-  $graph = new Fhaculty\Graph\Graph();
+  $graph = new Graph();
   foreach ($g as $from_id => $from_data) {
     $v = $graph->createVertex($from_id);
     if (isset($from_data['data'])) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


6) modules/contrib/graphapi/graphapi.install:11

    ---------- begin diff ----------
@@ @@
     );

     if (!class_exists('\\Fhaculty\\Graph\\GraphViz')) {
-      $path = drupal_get_path('module', 'graphapi');
+      $path = \Drupal::service('extension.list.module')->getPath('graphapi');
       $requirements['graphapi']['description'] = "FIX ME"; //t('Please follow the instructions from !readme', array('!readme' => \Drupal::l("README.txt", Url::fromUri($path . "/README.txt"))));
       $requirements['graphapi']['value'] = 'Missing';
       $requirements['graphapi']['severity'] = REQUIREMENT_ERROR;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [ERROR] Could not process                                                      
         "modules/contrib/graphapi/modules/graphapi_class/lib/Drupal/graphapi_cl
         ass/Plugin/Filter/FilterClassDiagram.php" file, due to:                
         "System error: "Class                                                  
         "Drupal\graphapi_class\Plugin\Filter\FilterClassDiagram" does not      
         exist"                                                                 
         Run Rector with "--debug" option and post the report here:             
         https://github.com/rectorphp/rector/issues/new". On line: 32           

