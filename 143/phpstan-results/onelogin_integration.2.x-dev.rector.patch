diff --git a/src/UserService.php b/src/UserService.php
index 04cd5ff..2e27a73 100644
--- a/src/UserService.php
+++ b/src/UserService.php
@@ -75,7 +75,7 @@ class UserService implements UserServiceInterface {
       [
         'name'                     => $username,
         'mail'                     => $email,
-        'pass'                     => user_password(16),
+        'pass'                     => \Drupal::service('password_generator')->generate(16),
         'enforceIsNew'             => TRUE,
         'init'                     => $email,
         'defaultLangcode'          => 'en',
