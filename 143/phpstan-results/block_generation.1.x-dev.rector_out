modules/contrib/block_generation/block_generation.install
modules/contrib/block_generation/modules/block/block_generation_block.install
modules/contrib/block_generation/modules/composition/block_generation_composition.install
modules/contrib/block_generation/modules/block/block_generation_block.module
modules/contrib/block_generation/modules/image/block_generation_image.install
modules/contrib/block_generation/block_generation.module
modules/contrib/block_generation/modules/composition/block_generation_composition.module
modules/contrib/block_generation/modules/media/block_generation_media.install
modules/contrib/block_generation/modules/teaser/block_generation_teaser.install
modules/contrib/block_generation/modules/image/block_generation_image.module
modules/contrib/block_generation/modules/text/block_generation_text.install
modules/contrib/block_generation/modules/media/block_generation_media.module
modules/contrib/block_generation/src/Annotation/BlockGenerationEffect.php
modules/contrib/block_generation/modules/teaser/block_generation_teaser.module
modules/contrib/block_generation/modules/text/block_generation_text.module
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/CustomClass.php
modules/contrib/block_generation/src/BlockGenerationEffectAwareInterface.php
modules/contrib/block_generation/src/BlockGenerationEffectAwarePluginCollectionItem.php
modules/contrib/block_generation/src/BlockGenerationEffectAwareTrait.php
modules/contrib/block_generation/src/BlockGenerationEffectManager.php
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/CustomStyle.php
modules/contrib/block_generation/src/BlockGenerationEffectManagerInterface.php
modules/contrib/block_generation/src/BlockGenerationEffectPluginInterface.php
modules/contrib/block_generation/src/BlockGenerationGenerationEffectManager.php
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/AttachedLibrary.php
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/LeadingText.php
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/BackgroundColor.php
modules/contrib/block_generation/src/Plugin/DataType/BlockGenerationEffectAwarePluginInstance.php
modules/contrib/block_generation/src/Plugin/views/row/Fields.php
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/BackgroundGradient.php
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/BackgroundImage.php
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/BackgroundMedia.php
modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/BlockGenerationEffectBase.php

3 files with changes
====================

1) modules/contrib/block_generation/block_generation.module:133

    ---------- begin diff ----------
@@ @@

             // Possible file path of the template name containing the bundle name.
             $template_name = 'block--block-generation--' . strtr($bundle, '_', '-');
-            $file_path = $app_root . '/' . drupal_get_path('module', $block_generation_module) . '/templates/' . $template_name . '.html.twig';
+            $file_path = $app_root . '/' . \Drupal::service('extension.list.module')->getPath($block_generation_module) . '/templates/' . $template_name . '.html.twig';
             // If file exists then make registry changes.
             if (file_exists($file_path)) {
               // Add possible preprocesses, template with template path.
               $block_generation_theme_registry['block__block_generation__' . $bundle] = [
-                'path' => drupal_get_path('module', $block_generation_module) . '/templates',
+                'path' => \Drupal::service('extension.list.module')->getPath($block_generation_module) . '/templates',
                 'preprocess functions' => [
                   'template_preprocess',
                   'template_preprocess_block__block_generation',
@@ @@
                 ],
                 'render element' => 'elements',
                 'template' => $template_name,
-                'theme path' => drupal_get_path('module', $block_generation_module),
+                'theme path' => \Drupal::service('extension.list.module')->getPath($block_generation_module),
                 'type' => 'module',
               ];
             }
@@ @@
             foreach ($view_modes as $view_mode_name => $view_mode_definition) {
               // Possible file path of the template name containing the bundle name and view mode name.
               $template_name = 'block--block-generation--' . strtr($bundle, '_', '-') . '--' . strtr($view_mode_name, '_', '-');
-              $file_path = $app_root . '/' . drupal_get_path('module', $block_generation_module) . '/templates/' . $template_name . '.html.twig';
+              $file_path = $app_root . '/' . \Drupal::service('extension.list.module')->getPath($block_generation_module) . '/templates/' . $template_name . '.html.twig';
               // If file exists then make registry changes.
               if (file_exists($file_path)) {
                 // Add possible preprocesses, template with template path.
                 $block_generation_theme_registry['block__block_generation__' . $bundle . '__' . $view_mode_name] = [
-                  'path' => drupal_get_path('module', $block_generation_module) . '/templates',
+                  'path' => \Drupal::service('extension.list.module')->getPath($block_generation_module) . '/templates',
                   'preprocess functions' => [
                     'template_preprocess',
                     'template_preprocess_block__block_generation',
@@ @@
                   ],
                   'render element' => 'elements',
                   'template' => $template_name,
-                  'theme path' => drupal_get_path('module', $block_generation_module),
+                  'theme path' => \Drupal::service('extension.list.module')->getPath($block_generation_module),
                   'type' => 'module',
                 ];
               }
@@ @@
             foreach ($fields as $fieldName => $fieldDefinition) {
               // Possible file path of the template name containing the field name.
               $template_name = 'field--block-generation--' . strtr($fieldName, '_', '-');
-              $file_path = $app_root . '/' . drupal_get_path('module', $block_generation_module) . '/templates/' . $template_name . '.html.twig';
+              $file_path = $app_root . '/' . \Drupal::service('extension.list.module')->getPath($block_generation_module) . '/templates/' . $template_name . '.html.twig';
               // If file exists then make registry changes.
               if (file_exists($file_path)) {
                 // Add possible preprocesses, template with template path.
                 $block_generation_theme_registry['field__block_generation__' . $fieldName] = [
-                  'path' => drupal_get_path('module', $block_generation_module) . '/templates',
+                  'path' => \Drupal::service('extension.list.module')->getPath($block_generation_module) . '/templates',
                   'preprocess functions' => [
                     'template_preprocess',
                     'template_preprocess_field',
@@ @@
                   ],
                   'render element' => 'element',
                   'template' => $template_name,
-                  'theme path' => drupal_get_path('module', $block_generation_module),
+                  'theme path' => \Drupal::service('extension.list.module')->getPath($block_generation_module),
                   'type' => 'module',
                 ];
               }
@@ @@

               // Possible file path of the template name containing the field name.
               $template_name = 'field--block-generation--' . strtr($bundle, '_', '-') . '--' . strtr($fieldName, '_', '-');
-              $file_path = $app_root . '/' . drupal_get_path('module', $block_generation_module) . '/templates/' . $template_name . '.html.twig';
+              $file_path = $app_root . '/' . \Drupal::service('extension.list.module')->getPath($block_generation_module) . '/templates/' . $template_name . '.html.twig';
               // If file exists then make registry changes.
               if (file_exists($file_path)) {
                 // Add possible preprocesses, template with template path.
                 $block_generation_theme_registry['field__block_generation__' . $bundle . '__' . $fieldName] = [
-                  'path' => drupal_get_path('module', $block_generation_module) . '/templates',
+                  'path' => \Drupal::service('extension.list.module')->getPath($block_generation_module) . '/templates',
                   'preprocess functions' => [
                     'template_preprocess',
                     'template_preprocess_field',
@@ @@
                   ],
                   'render element' => 'element',
                   'template' => $template_name,
-                  'theme path' => drupal_get_path('module', $block_generation_module),
+                  'theme path' => \Drupal::service('extension.list.module')->getPath($block_generation_module),
                   'type' => 'module',
                 ];
               }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


2) modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/BackgroundMedia.php:139

    ---------- begin diff ----------
@@ @@
           $file_url = $image_style->buildUrl($file_uri);
         }
         else {
-          $file_url = file_url_transform_relative(file_create_url($file_uri));
+          $file_url = \Drupal::service('file_url_generator')->generateString($file_uri);
         }

         // Background image.
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/block_generation/src/Plugin/BlockGenerationEffect/BackgroundImage.php:135

    ---------- begin diff ----------
@@ @@

       // Apply effect.
       if ($file = \Drupal::service('entity_type.manager')->getStorage('file')->load($this->configuration['fid'])) {
-        $file_url = file_url_transform_relative(file_create_url($file->getFileUri()));
+        $file_url = \Drupal::service('file_url_generator')->generateString($file->getFileUri());

         // Background image.
         if ($file_url) {
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

