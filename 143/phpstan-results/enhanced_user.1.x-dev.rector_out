modules/contrib/enhanced_user/enhanced_user.api.php
modules/contrib/enhanced_user/enhanced_user.install
modules/contrib/enhanced_user/enhanced_user.module
modules/contrib/enhanced_user/src/Plugin/rest/resource/ResetPassword.php
modules/contrib/enhanced_user/src/Plugin/rest/resource/UploadAvatar.php
modules/contrib/enhanced_user/src/Plugin/rest/resource/UserInfo.php
modules/contrib/enhanced_user/src/Plugin/rest/resource/UserProfile.php
modules/contrib/enhanced_user/src/Routing/RouteSubscriber.php
modules/contrib/enhanced_user/src/UserCreator.php
modules/contrib/enhanced_user/src/UserCreatorInterface.php
modules/contrib/enhanced_user/tests/src/Functional/EnhancedUserFieldsTest.php
modules/contrib/enhanced_user/tests/src/Functional/Rest/UserInfoTest.php

3 files with changes
====================

1) modules/contrib/enhanced_user/tests/src/Functional/EnhancedUserFieldsTest.php:38

    ---------- begin diff ----------
@@ @@
    *
    * @throws \Drupal\Core\Entity\EntityStorageException
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(
       [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/enhanced_user/src/Plugin/rest/resource/UploadAvatar.php:142

    ---------- begin diff ----------
@@ @@
       $default_scheme = $this->configFactory->get('system.file')->get('default_scheme');
       $directory = $default_scheme . '://pictures/rest';
       $this->fileSystem->prepareDirectory($directory, FileSystemInterface::MODIFY_PERMISSIONS | FileSystemInterface::CREATE_DIRECTORY);
-      $file = file_save_data($file_data, $directory . $name);
+      $file = \Drupal::service('file.repository')->writeData($file_data, $directory . $name);

       // If user entity type has the user_picture field, save this file to it.
       if ($user->hasField('user_picture')) {
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/enhanced_user/enhanced_user.api.php:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\node\Entity\Node;
 /**
  * @file
  * Hooks provided by the EnhancedUser module.
@@ @@
  *   Cache metadata to add to the user-info rest response.
  */
 function hook_enhanced_user_user_info(array &$additional_data, CacheableMetadata &$cache_metadata) {
-  $node = \Drupal\node\Entity\Node::load(1);
+  $node = Node::load(1);
   $additional_data['something'] = ['some' => 'data'];
   $cache_metadata->addCacheableDependency($node);
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

