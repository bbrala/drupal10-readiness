modules/contrib/apptiles/apptiles.module
modules/contrib/apptiles/src/AppTilesManager.php
modules/contrib/apptiles/src/AppTilesManagerInterface.php
modules/contrib/apptiles/tests/src/Functional/ApplicationTilesTest.php
modules/contrib/apptiles/tests/src/Functional/ApplicationTilesTestBase.php

3 files with changes
====================

1) modules/contrib/apptiles/tests/src/Functional/ApplicationTilesTestBase.php:50

    ---------- begin diff ----------
@@ @@
       foreach ($dimensions as $dimension => $url) {
         $this->assertSame(
           $exists,
-          \strpos($html, \file_url_transform_relative($url)) !== FALSE,
+          \strpos($html, \Drupal::service('file_url_generator')->transformRelative($url)) !== FALSE,
           \sprintf('Metatag for "%s" with "%s" dimension%sexists on the page.', $os, $dimension, $exists ? ' ' : ' doses not ')
         );
       }
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/apptiles/tests/src/Functional/ApplicationTilesTest.php:59

    ---------- begin diff ----------
@@ @@
     // Check metatags existence on the page.
     $this->checkMetatags($exists);
     // Set option which allows to output metatags on admin pages.
-    $this->drupalPostForm(NULL, [sprintf('%s[allowed_for_admin_theme]', APPTILES_MODULE_NAME) => (int) !$exists], t('Save configuration'));
+    $this->submitForm([sprintf('%s[allowed_for_admin_theme]', APPTILES_MODULE_NAME) => (int) !$exists], t('Save configuration'));
     // Now state must be changed.
     $this->checkMetatags(!$exists);
   }
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/apptiles/apptiles.module:38

    ---------- begin diff ----------
@@ @@
         '#tag' => 'link',
         '#attributes' => $attributes + [
           'rel' => $rel,
-          'href' => \file_url_transform_relative($href),
+          'href' => \Drupal::service('file_url_generator')->transformRelative($href),
         ],
       ]);
     };
@@ @@
     $metatag('mobile-web-app-capable', 'yes');

     if (\file_exists(APPTILES_BROWSERCONFIG)) {
-      $metatag('msapplication-config', \file_url_transform_relative(\file_create_url(APPTILES_BROWSERCONFIG)));
+      $metatag('msapplication-config', \Drupal::service('file_url_generator')->generateString(APPTILES_BROWSERCONFIG));
     }

     /* @see https://developer.chrome.com/multidevice/android/installtohomescreen */
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

