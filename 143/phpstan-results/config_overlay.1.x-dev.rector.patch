diff --git a/src/Config/ExtensionStorageFactory.php b/src/Config/ExtensionStorageFactory.php
index bbcbced..27b0b58 100644
--- a/src/Config/ExtensionStorageFactory.php
+++ b/src/Config/ExtensionStorageFactory.php
@@ -45,7 +45,7 @@ class ExtensionStorageFactory {
     // If the profile has a config/sync directory add that first, so that
     // configuration there can override module-provided configuration.
     /* @see install_profile_info() */
-    $profile_sync_path = drupal_get_path('profile', $profile) . '/config/sync';
+    $profile_sync_path = \Drupal::service('extension.list.profile')->getPath($profile) . '/config/sync';
     if (is_dir($profile_sync_path)) {
       $storages[] = new FileStorage($profile_sync_path, $storage->getCollectionName());
     }
