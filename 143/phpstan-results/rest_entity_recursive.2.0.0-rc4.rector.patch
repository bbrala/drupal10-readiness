diff --git a/modules/rest_media_recursive/src/Normalizer/ImageFileNormalizer.php b/modules/rest_media_recursive/src/Normalizer/ImageFileNormalizer.php
index 23b2f47..b66e91a 100644
--- a/modules/rest_media_recursive/src/Normalizer/ImageFileNormalizer.php
+++ b/modules/rest_media_recursive/src/Normalizer/ImageFileNormalizer.php
@@ -80,7 +80,7 @@ class ImageFileNormalizer extends FileNormalizer {
     // Prepare some utils.
     $uri = $entity->getFileUri();
     $get_image_url = function ($image_style) use ($uri) {
-      return file_url_transform_relative($image_style->buildUrl($uri));
+      return \Drupal::service('file_url_generator')->transformRelative($image_style->buildUrl($uri));
     };
 
     // Generate derivatives only for the found ones.
@@ -90,7 +90,7 @@ class ImageFileNormalizer extends FileNormalizer {
     $result = array_combine($keys, $values);
 
     // Add original url to array.
-    $result['original'] = file_url_transform_relative(file_create_url($uri));
+    $result['original'] = \Drupal::service('file_url_generator')->generateString($uri);
 
     return $result;
   }
