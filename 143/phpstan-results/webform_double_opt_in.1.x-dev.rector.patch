diff --git a/composer.json b/composer.json
index f1a8c3f..b91edb5 100644
--- a/composer.json
+++ b/composer.json
@@ -12,8 +12,8 @@
     ],
     "license": "GPL-2.0-or-later",
     "require": {
-        "drupal/core": "^8.8 || ^9.0",
         "drupal/webform": "^5.2.0 || ^6.0",
-        "drupal/email_confirmer": "^1.0@beta"
+        "drupal/email_confirmer": "^1.0@beta",
+        "drupal/core": "^8.8 || ^9.0 || ^10"
     }
 }
diff --git a/src/Event/GetSubmissionStateEvent.php b/src/Event/GetSubmissionStateEvent.php
index 64a12b3..82a6373 100644
--- a/src/Event/GetSubmissionStateEvent.php
+++ b/src/Event/GetSubmissionStateEvent.php
@@ -2,8 +2,8 @@
 
 namespace Drupal\webform_double_opt_in\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\webform\WebformSubmissionInterface;
-use Symfony\Component\EventDispatcher\Event;
 
 // TODO: Add interface.
 /**
diff --git a/src/Event/GetSubmissionStateOptionsEvent.php b/src/Event/GetSubmissionStateOptionsEvent.php
index 503e6c1..9873628 100644
--- a/src/Event/GetSubmissionStateOptionsEvent.php
+++ b/src/Event/GetSubmissionStateOptionsEvent.php
@@ -2,7 +2,7 @@
 
 namespace Drupal\webform_double_opt_in\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 // TODO: Add interface.
 /**
diff --git a/src/Event/OptedInEvent.php b/src/Event/OptedInEvent.php
index a0527e1..df2d60d 100644
--- a/src/Event/OptedInEvent.php
+++ b/src/Event/OptedInEvent.php
@@ -2,7 +2,7 @@
 
 namespace Drupal\webform_double_opt_in\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 /**
  * Class OptedInEvent.
diff --git a/src/Plugin/WebformHandler/DoubleOptInCompatibleEmailWebformHandler.php b/src/Plugin/WebformHandler/DoubleOptInCompatibleEmailWebformHandler.php
index 804a27e..176ab63 100644
--- a/src/Plugin/WebformHandler/DoubleOptInCompatibleEmailWebformHandler.php
+++ b/src/Plugin/WebformHandler/DoubleOptInCompatibleEmailWebformHandler.php
@@ -523,7 +523,7 @@ class DoubleOptInCompatibleEmailWebformHandler extends EmailWebformHandler {
     ];
 
     $getSubmissionStateOptionsEvent = new GetSubmissionStateOptionsEvent($defaultStateOptions);
-    $this->eventDispatcher->dispatch(WebformDoubleOptInEvents::GET_SUBMISSION_STATE_OPTIONS, $getSubmissionStateOptionsEvent);
+    $this->eventDispatcher->dispatch($getSubmissionStateOptionsEvent, WebformDoubleOptInEvents::GET_SUBMISSION_STATE_OPTIONS);
 
     $submissionStateOptions = $getSubmissionStateOptionsEvent->getSubmissionStateOptions();
 
@@ -540,7 +540,7 @@ class DoubleOptInCompatibleEmailWebformHandler extends EmailWebformHandler {
     $state = $webformSubmission->getState();
 
     $getSubmissionStateEvent = new GetSubmissionStateEvent($webformSubmission, $state);
-    $this->eventDispatcher->dispatch(WebformDoubleOptInEvents::GET_SUBMISSION_STATE, $getSubmissionStateEvent);
+    $this->eventDispatcher->dispatch($getSubmissionStateEvent, WebformDoubleOptInEvents::GET_SUBMISSION_STATE);
 
     $state = $getSubmissionStateEvent->getState();
 
diff --git a/webform_double_opt_in.info.yml b/webform_double_opt_in.info.yml
index b60cb95..e206d5d 100644
--- a/webform_double_opt_in.info.yml
+++ b/webform_double_opt_in.info.yml
@@ -1,7 +1,7 @@
 name: Webform double opt-in
 type: module
 description: 'Provides e-mail double opt-in functionality.'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^8 || ^9 || ^10
 package: 'Webform'
 
 dependencies:
diff --git a/webform_double_opt_in.module b/webform_double_opt_in.module
index 034fd03..6212d6c 100755
--- a/webform_double_opt_in.module
+++ b/webform_double_opt_in.module
@@ -35,7 +35,7 @@ function webform_double_opt_in_email_confirmer($op, EmailConfirmationInterface $
       $confirmation->getProperty('webform_submission_source_entity_id'),
       $confirmation->getEmail()
     );
-    $event_dispatcher->dispatch(WebformDoubleOptInEvents::OPTED_IN, $opted_in_event);
+    $event_dispatcher->dispatch($opted_in_event, WebformDoubleOptInEvents::OPTED_IN);
 
     // Set the opt-in status to confirmed.
     $webform_submission_id = $confirmation->getProperty('webform_submission_id');
