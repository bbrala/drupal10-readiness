modules/contrib/entity_generic/entity_generic.module
modules/contrib/entity_generic/src/Entity/EntityLabelInterface.php
modules/contrib/entity_generic/src/Form/GenericForm.php
modules/contrib/entity_generic/src/Entity/EntityLabelTrait.php
modules/contrib/entity_generic/src/Entity/EntityOwnerTrait.php
modules/contrib/entity_generic/src/Plugin/Action/Derivative/ApproveActionDeriver.php
modules/contrib/entity_generic/src/Entity/EntityStatusInterface.php
modules/contrib/entity_generic/src/Entity/EntityStatusTrait.php
modules/contrib/entity_generic/src/Entity/EntityTypedInterface.php
modules/contrib/entity_generic/src/Entity/EntityTypedTrait.php
modules/contrib/entity_generic/src/Entity/Generic.php
modules/contrib/entity_generic/src/Plugin/views/filter/IdSelect.php
modules/contrib/entity_generic/src/Access/GenericAccessControlHandler.php
modules/contrib/entity_generic/src/Entity/GenericConfig.php
modules/contrib/entity_generic/src/Plugin/Action/Derivative/ArchiveActionDeriver.php
modules/contrib/entity_generic/src/Access/GenericConfigAccessControlHandler.php
modules/contrib/entity_generic/src/Plugin/Action/Derivative/DisableActionDeriver.php
modules/contrib/entity_generic/src/Plugin/Action/Derivative/EnableActionDeriver.php
modules/contrib/entity_generic/src/Entity/GenericConfigInterface.php
modules/contrib/entity_generic/src/Entity/GenericInterface.php
modules/contrib/entity_generic/src/Entity/GenericType.php
modules/contrib/entity_generic/src/Plugin/Action/Derivative/MarkDeletedActionDeriver.php
modules/contrib/entity_generic/src/Plugin/Action/Derivative/UnapproveActionDeriver.php
modules/contrib/entity_generic/src/Form/GenericModalForm.php
modules/contrib/entity_generic/src/Access/GenericTypeAccessControlHandler.php
modules/contrib/entity_generic/src/Controller/GenericController.php
modules/contrib/entity_generic/src/Plugin/Action/Derivative/UnarchiveActionDeriver.php
modules/contrib/entity_generic/src/Plugin/Action/Derivative/UnmarkDeletedActionDeriver.php
modules/contrib/entity_generic/src/Plugin/Action/DisableAction.php
modules/contrib/entity_generic/src/Plugin/Action/EnableAction.php
modules/contrib/entity_generic/src/Plugin/Action/MarkDeletedAction.php
modules/contrib/entity_generic/src/Plugin/Action/UnapproveAction.php
modules/contrib/entity_generic/src/Plugin/Action/UnarchiveAction.php
modules/contrib/entity_generic/src/Plugin/Action/UnmarkDeletedAction.php
modules/contrib/entity_generic/src/Plugin/LocalTask/Derivative/LocalTaskDeriver.php
modules/contrib/entity_generic/src/Controller/GenericModalController.php
modules/contrib/entity_generic/src/Form/GenericToggleStatusModalForm.php
modules/contrib/entity_generic/src/Form/GenericTypeDeleteForm.php
modules/contrib/entity_generic/src/Entity/GenericTypeInterface.php
modules/contrib/entity_generic/src/Entity/Simple.php
modules/contrib/entity_generic/src/Plugin/views/field/GenericDeleteModal.php
modules/contrib/entity_generic/src/Form/GenericTypeForm.php
modules/contrib/entity_generic/src/Plugin/views/field/GenericEditModal.php
modules/contrib/entity_generic/src/Entity/Basic.php
modules/contrib/entity_generic/src/Plugin/views/field/GenericOperationModalBase.php
modules/contrib/entity_generic/src/Entity/SimpleInterface.php
modules/contrib/entity_generic/src/Form/GenericConfigDeleteForm.php
modules/contrib/entity_generic/src/Plugin/views/field/GenericToggleStatusModal.php
modules/contrib/entity_generic/src/Routing/GenericRouteProvider.php
modules/contrib/entity_generic/src/GenericConfigListBuilder.php
modules/contrib/entity_generic/src/Form/GenericConfigForm.php
modules/contrib/entity_generic/src/GenericConfigManager.php
modules/contrib/entity_generic/src/Plugin/views/filter/IdAutocomplete.php
modules/contrib/entity_generic/src/GenericConfigManagerInterface.php
modules/contrib/entity_generic/src/GenericListBuilder.php
modules/contrib/entity_generic/src/Entity/BasicInterface.php
modules/contrib/entity_generic/src/Entity/EntityApprovedInterface.php
modules/contrib/entity_generic/src/GenericManager.php
modules/contrib/entity_generic/src/Entity/EntityApprovedTrait.php
modules/contrib/entity_generic/src/Form/GenericDeleteForm.php
modules/contrib/entity_generic/src/Entity/EntityArchivedInterface.php
modules/contrib/entity_generic/tmp/Access/GenericAccessCheck.php
modules/contrib/entity_generic/src/Entity/EntityArchivedTrait.php
modules/contrib/entity_generic/src/Entity/EntityCreatedInterface.php
modules/contrib/entity_generic/src/Entity/EntityCreatedTrait.php
modules/contrib/entity_generic/src/Entity/EntityDeletedInterface.php
modules/contrib/entity_generic/src/Entity/EntityDeletedTrait.php
modules/contrib/entity_generic/src/Form/GenericDeleteModalForm.php
modules/contrib/entity_generic/src/GenericManagerInterface.php
modules/contrib/entity_generic/src/GenericStorage.php
modules/contrib/entity_generic/tmp/Controller/GenericViewController.php
modules/contrib/entity_generic/tmp/Exception/LockException.php
modules/contrib/entity_generic/tmp/GenericServiceProvider.php
modules/contrib/entity_generic/src/Form/GenericDeleteMultipleForm.php
modules/contrib/entity_generic/src/GenericStorageInterface.php
modules/contrib/entity_generic/src/GenericStorageSchema.php
modules/contrib/entity_generic/src/GenericTypeListBuilder.php
modules/contrib/entity_generic/src/GenericViewBuilder.php
modules/contrib/entity_generic/src/GenericViewsData.php
modules/contrib/entity_generic/src/Permission/GenericPermissionProvider.php
modules/contrib/entity_generic/src/Plugin/Action/ApproveAction.php
modules/contrib/entity_generic/src/Plugin/Action/ArchiveAction.php

6 files with changes
====================

1) modules/contrib/entity_generic/entity_generic.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Entity\Display\EntityViewDisplayInterface;
 use Drupal\Core\Render\Element;
 use Drupal\Core\Url;
 use Drupal\Core\Cache\Cache;
@@ @@
  * @param \Drupal\Core\Entity\EntityInterface $entity
  * @param \Drupal\Core\Entity\Display\EntityViewDisplayInterface $display
  */
-function entity_generic_entity_view_alter(array &$build, \Drupal\Core\Entity\EntityInterface $entity, \Drupal\Core\Entity\Display\EntityViewDisplayInterface $display) {
+function entity_generic_entity_view_alter(array &$build, EntityInterface $entity, EntityViewDisplayInterface $display) {
   // Generalize the entity-type-specific defaults for easier default theming.
   if ($entity instanceof BasicInterface) {
     $app_root = \Drupal::service('app.root');
-    $file_path = $app_root . '/' . drupal_get_path('module', $entity->getEntityType()->getProvider()) . '/templates/entity-generic--' . strtr($entity->getEntityTypeId(), '_', '-') . '.html.twig';
+    $file_path = $app_root . '/' . \Drupal::service('extension.list.module')->getPath($entity->getEntityType()->getProvider()) . '/templates/entity-generic--' . strtr($entity->getEntityTypeId(), '_', '-') . '.html.twig';
     if (file_exists($file_path)) {
       $build['#theme'] = 'entity_generic__' . $entity->getEntityTypeId();
     }
@@ @@
 function entity_generic_theme_registry_alter(&$theme_registry) {
   $app_root = \Drupal::service('app.root');
   foreach (entity_generic_types() as $type => $definition) {
-    $file_path = $app_root . '/' . drupal_get_path('module', $definition->getProvider()) . '/templates/entity-generic--' . strtr($type, '_', '-') . '.html.twig';
+    $file_path = $app_root . '/' . \Drupal::service('extension.list.module')->getPath($definition->getProvider()) . '/templates/entity-generic--' . strtr($type, '_', '-') . '.html.twig';
     if (file_exists($file_path)) {
       $theme_registry['entity_generic__' . $type] = [
-        'path' => drupal_get_path('module', $definition->getProvider()) . '/templates',
+        'path' => \Drupal::service('extension.list.module')->getPath($definition->getProvider()) . '/templates',
         'preprocess functions' => [
           'template_preprocess',
           'template_preprocess_entity_generic',
@@ @@
         ],
         'render element' => 'elements',
         'template' => 'entity-generic--' . strtr($type, '_', '-'),
-        'theme path' => drupal_get_path('module', $definition->getProvider()),
+        'theme path' => \Drupal::service('extension.list.module')->getPath($definition->getProvider()),
         'type' => 'module',
       ];
     }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


2) modules/contrib/entity_generic/src/Form/GenericConfigForm.php:87

    ---------- begin diff ----------
@@ @@
     $status = $entity->save();

     if ($status == SAVED_UPDATED) {
-      drupal_set_message($this->t($entity_label . ' %label has been updated.', ['%label' => $entity->label()]));
+      $this->messenger()->addStatus($this->t($entity_label . ' %label has been updated.', ['%label' => $entity->label()]));
     }
     else {
-      drupal_set_message($this->t($entity_label . ' %label has been created.', ['%label' => $entity->label()]));
+      $this->messenger()->addStatus($this->t($entity_label . ' %label has been created.', ['%label' => $entity->label()]));
     }

     $form_state->setRedirect('entity.' . $entity_type->id() . '.collection');
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/entity_generic/src/Entity/GenericType.php:81

    ---------- begin diff ----------
@@ @@
     if ($update && $this->getOriginalId() != $this->id()) {
       $update_count = \Drupal::entityTypeManager()->getStorage($this->getOriginalId())->updateType($this->getOriginalId(), $this->id());
       if ($update_count) {
-        drupal_set_message(\Drupal::translation()->formatPlural($update_count,
+        \Drupal::messenger()->addStatus(\Drupal::translation()->formatPlural($update_count,
           'Changed the type of 1 object from %old-type to %type.',
           'Changed the type of @count objects from %old-type to %type.',
           array(
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/entity_generic/src/Plugin/views/filter/IdSelect.php:26

    ---------- begin diff ----------
@@ @@
       ->sort(\Drupal::entityTypeManager()->getDefinition($this->getEntityType())->getKey('label'));
     $entities = \Drupal::entityTypeManager()->getStorage($this->getEntityType())->loadMultiple($query->execute());
     foreach ($entities as $entity) {
-      $options[$entity->id()] = \Drupal::entityManager()->getTranslationFromContext($entity)->label();
+      $options[$entity->id()] = \Drupal::service('entity.repository')->getTranslationFromContext($entity)->label();
     }

     $default_value = (array) $this->value;
    ----------- end diff -----------

Applied rules:
 * EntityManagerRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/entity_generic/src/Form/GenericTypeForm.php:123

    ---------- begin diff ----------
@@ @@
     $status = $this->entity->save();

     if ($status == SAVED_UPDATED) {
-      drupal_set_message(t($this->entity->getEntityType()->getLabel() . ' %label has been updated.', ['%label' => $this->entity->label()]));
+      $this->messenger()->addStatus(t($this->entity->getEntityType()->getLabel() . ' %label has been updated.', ['%label' => $this->entity->label()]));
     }
     else {
-      drupal_set_message(t($this->entity->getEntityType()->getLabel() . ' %label has been created.', ['%label' => $this->entity->label()]));
+      $this->messenger()->addStatus(t($this->entity->getEntityType()->getLabel() . ' %label has been created.', ['%label' => $this->entity->label()]));
     }

     $this->entityManager->clearCachedFieldDefinitions();
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/entity_generic/src/Form/GenericForm.php:15

    ---------- begin diff ----------
@@ @@
   public function save(array $form, FormStateInterface $form_state) {
     $entity = $this->getEntity();
     $entity->save();
-    drupal_set_message($this->t('The entity %label has been successfully saved.', ['%label' => $entity->label()]));
+    $this->messenger()->addStatus($this->t('The entity %label has been successfully saved.', ['%label' => $entity->label()]));
     $form_state->setRedirect('entity.' . $entity->getEntityTypeId() . '.canonical', [$entity->getEntityTypeId() => $entity->id()]);
   }
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 6 files have been changed by Rector                                       

