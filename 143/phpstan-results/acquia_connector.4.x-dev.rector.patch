diff --git a/tests/src/Functional/AcquiaConnectorSpiTest.php b/tests/src/Functional/AcquiaConnectorSpiTest.php
index b36011d..7c7278a 100644
--- a/tests/src/Functional/AcquiaConnectorSpiTest.php
+++ b/tests/src/Functional/AcquiaConnectorSpiTest.php
@@ -207,7 +207,7 @@ class AcquiaConnectorSpiTest extends BrowserTestBase {
    *
    * @throws \Drupal\Core\Entity\EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     if (empty($_SERVER['SERVER_SOFTWARE'])) {
       $_SERVER['SERVER_SOFTWARE'] = $this->randomString();
     }
diff --git a/tests/src/Kernel/AcquiaTelemetry/HooksTest.php b/tests/src/Kernel/AcquiaTelemetry/HooksTest.php
index 6698e62..8265fd1 100644
--- a/tests/src/Kernel/AcquiaTelemetry/HooksTest.php
+++ b/tests/src/Kernel/AcquiaTelemetry/HooksTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\acquia_telemetry\Kernel;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\acquia_connector\EventSubscriber\KernelTerminate\AcquiaTelemetry;
 use Drupal\acquia_telemetry\Telemetry;
 use Drupal\KernelTests\KernelTestBase;
@@ -13,6 +14,7 @@ use Drupal\KernelTests\KernelTestBase;
  */
 class EventsTest extends KernelTestBase {
 
+  use ProphecyTrait;
   /**
    * {@inheritdoc}
    */
diff --git a/tests/src/Kernel/AcquiaTelemetry/TelemetryTest.php b/tests/src/Kernel/AcquiaTelemetry/TelemetryTest.php
index a149b6e..02e4eb5 100644
--- a/tests/src/Kernel/AcquiaTelemetry/TelemetryTest.php
+++ b/tests/src/Kernel/AcquiaTelemetry/TelemetryTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\acquia_telemetry\Kernel;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\KernelTests\KernelTestBase;
 use GuzzleHttp\ClientInterface;
 use Prophecy\Argument;
@@ -13,6 +14,7 @@ use Prophecy\Argument;
  */
 class TelemetryTest extends KernelTestBase {
 
+  use ProphecyTrait;
   /**
    * {@inheritdoc}
    */
diff --git a/tests/src/Kernel/Migrate/d7/MigrateAcquiaConnectorConfigurationTest.php b/tests/src/Kernel/Migrate/d7/MigrateAcquiaConnectorConfigurationTest.php
index fc38fc8..c7045f5 100644
--- a/tests/src/Kernel/Migrate/d7/MigrateAcquiaConnectorConfigurationTest.php
+++ b/tests/src/Kernel/Migrate/d7/MigrateAcquiaConnectorConfigurationTest.php
@@ -147,7 +147,7 @@ class MigrateAcquiaConnectorConfigurationTest extends MigrateDrupal7TestBase {
     }
     else {
       // @phpstan-ignore-next-line
-      $path = drupal_get_path('module', 'acquia_connector');
+      $path = \Drupal::service('extension.list.module')->getPath('acquia_connector');
     }
     $this->loadFixture(implode(DIRECTORY_SEPARATOR, [
       DRUPAL_ROOT,
diff --git a/tests/src/Unit/AutoConnectorTest.php b/tests/src/Unit/AutoConnectorTest.php
index a496b55..5255a5f 100644
--- a/tests/src/Unit/AutoConnectorTest.php
+++ b/tests/src/Unit/AutoConnectorTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\acquia_connector\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\acquia_connector\AutoConnector;
 use Drupal\acquia_connector\Helper\Storage;
 use Drupal\acquia_connector\Subscription;
@@ -14,6 +15,7 @@ use Drupal\Tests\UnitTestCase;
  */
 class AutoConnectorTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * Tests the happy path.
    *
