diff --git a/modules/typed_entity_example/tests/src/Unit/Render/Article/FullTest.php b/modules/typed_entity_example/tests/src/Unit/Render/Article/FullTest.php
index efa0661..cef1fa7 100644
--- a/modules/typed_entity_example/tests/src/Unit/Render/Article/FullTest.php
+++ b/modules/typed_entity_example/tests/src/Unit/Render/Article/FullTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\typed_entity_example\Unit\Render\Article;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Tests\UnitTestCase;
 use Drupal\typed_entity\WrappedEntities\WrappedEntityInterface;
@@ -16,6 +17,7 @@ use Drupal\typed_entity_example\Render\Article\Full;
  */
 class FullTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * Tests the preprocessing for articles with the full view mode.
    *
diff --git a/modules/typed_entity_example/tests/src/Unit/WrappedEntities/UserTest.php b/modules/typed_entity_example/tests/src/Unit/WrappedEntities/UserTest.php
index 0438d34..690b0bc 100644
--- a/modules/typed_entity_example/tests/src/Unit/WrappedEntities/UserTest.php
+++ b/modules/typed_entity_example/tests/src/Unit/WrappedEntities/UserTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\typed_entity_example\Unit\WrappedEntities;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\FieldableEntityInterface;
 use Drupal\Tests\UnitTestCase;
 use Drupal\typed_entity_example\WrappedEntities\User;
@@ -15,6 +16,7 @@ use Drupal\typed_entity_example\WrappedEntities\User;
  */
 class UserTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * Tests the nickname.
    *
diff --git a/modules/typed_entity_ui/src/Controller/ExploreDetails.php b/modules/typed_entity_ui/src/Controller/ExploreDetails.php
index 172a1f8..e18b4a7 100644
--- a/modules/typed_entity_ui/src/Controller/ExploreDetails.php
+++ b/modules/typed_entity_ui/src/Controller/ExploreDetails.php
@@ -47,10 +47,11 @@ class ExploreDetails extends ControllerBase {
    * @param \Drupal\typed_entity\RepositoryManager $repository_manager
    *   The repository manager.
    */
-  public function __construct(EntityTypeManagerInterface $entity_type_manager, EntityTypeBundleInfoInterface $bundle_info, RepositoryManager $repository_manager) {
+  public function __construct(EntityTypeManagerInterface $entity_type_manager, EntityTypeBundleInfoInterface $bundle_info, RepositoryManager $repository_manager, RepositoryManager $repositoryManager) {
     $this->entityTypeManager = $entity_type_manager;
     $this->bundleInfo = $bundle_info;
     $this->repositoryManager = $repository_manager;
+    $this->repositoryManager = $repositoryManager;
   }
 
   /**
@@ -60,7 +61,7 @@ class ExploreDetails extends ControllerBase {
     return new static(
       $container->get('entity_type.manager'),
       $container->get('entity_type.bundle.info'),
-      $container->get(RepositoryManager::class)
+      $this->repositoryManager
     );
   }
 
diff --git a/modules/typed_entity_ui/src/Form/ExploreForm.php b/modules/typed_entity_ui/src/Form/ExploreForm.php
index 567d874..c61ead9 100644
--- a/modules/typed_entity_ui/src/Form/ExploreForm.php
+++ b/modules/typed_entity_ui/src/Form/ExploreForm.php
@@ -64,11 +64,12 @@ class ExploreForm extends FormBase {
    * @param \Drupal\Core\State\StateInterface $state
    *   The state interface.
    */
-  public function __construct(EntityTypeManagerInterface $entityTypeManager, EntityTypeBundleInfoInterface $bundleInfo, RepositoryManager $repository_manager, StateInterface $state) {
+  public function __construct(EntityTypeManagerInterface $entityTypeManager, EntityTypeBundleInfoInterface $bundleInfo, RepositoryManager $repository_manager, StateInterface $state, RepositoryManager $repositoryManager) {
     $this->entityTypeManager = $entityTypeManager;
     $this->bundleInfo = $bundleInfo;
     $this->repositoryManager = $repository_manager;
     $this->state = $state;
+    $this->repositoryManager = $repositoryManager;
   }
 
   /**
@@ -78,7 +79,7 @@ class ExploreForm extends FormBase {
     return new static(
       $container->get('entity_type.manager'),
       $container->get('entity_type.bundle.info'),
-      $container->get(RepositoryManager::class),
+      $this->repositoryManager,
       $container->get('state')
     );
   }
diff --git a/src/Annotation/TypedRepository.php b/src/Annotation/TypedRepository.php
index 035b246..ae0c92c 100644
--- a/src/Annotation/TypedRepository.php
+++ b/src/Annotation/TypedRepository.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\typed_entity\Annotation;
 
+use Drupal\Core\Annotation\Translation;
 use Drupal\Component\Annotation\Plugin;
 use Drupal\typed_entity\TypedRepositories\TypedRepositoryBase;
 
@@ -33,7 +34,7 @@ class TypedRepository extends Plugin {
    *
    * @ingroup plugin_translatable
    */
-  public \Drupal\Core\Annotation\Translation $description;
+  public Translation $description;
 
   /**
    * The available wrappers.
diff --git a/tests/src/Unit/RepositoryManagerTest.php b/tests/src/Unit/RepositoryManagerTest.php
index f118a32..0d0c070 100644
--- a/tests/src/Unit/RepositoryManagerTest.php
+++ b/tests/src/Unit/RepositoryManagerTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\typed_entity\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Component\Plugin\Exception\PluginNotFoundException;
 use Drupal\Core\Entity\EntityTypeManager;
 use Drupal\Tests\UnitTestCase;
@@ -20,6 +21,7 @@ use Prophecy\Argument;
  */
 class RepositoryManagerTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * @covers ::get
    * @dataProvider getDataProvider
