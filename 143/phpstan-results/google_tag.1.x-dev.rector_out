modules/contrib/google_tag/google_tag.api.php
modules/contrib/google_tag/src/Entity/ContainerManager.php
modules/contrib/google_tag/google_tag.install
modules/contrib/google_tag/google_tag.module
modules/contrib/google_tag/src/ConditionBase.php
modules/contrib/google_tag/src/Entity/ContainerManagerInterface.php
modules/contrib/google_tag/src/Form/ContainerForm.php
modules/contrib/google_tag/src/ContainerAccessControlHandler.php
modules/contrib/google_tag/src/ContainerController.php
modules/contrib/google_tag/src/ContainerListBuilder.php
modules/contrib/google_tag/src/Entity/Container.php
modules/contrib/google_tag/src/Form/ContainerTrait.php
modules/contrib/google_tag/src/Form/SettingsForm.php
modules/contrib/google_tag/src/Plugin/Condition/Domain.php
modules/contrib/google_tag/src/Plugin/Condition/Language.php
modules/contrib/google_tag/tests/src/Functional/GTMMultipleTest.php
modules/contrib/google_tag/tests/src/Functional/GTMTestBase.php

3 files with changes
====================

1) modules/contrib/google_tag/src/Entity/Container.php:560

    ---------- begin diff ----------
@@ @@
       $url = $generator->transformRelative($generator->generateAbsoluteString($uri));
     }
     else {
-      $url = file_url_transform_relative(file_create_url($uri));
+      $url = \Drupal::service('file_url_generator')->generateString($uri);
     }
     $query_string = \Drupal::state()->get('system.css_js_query_string') ?: '0';
     $attachment = [
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/google_tag/tests/src/Functional/GTMTestBase.php:61

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     $this->defaultTheme = 'stark';
     parent::setUp();
     $this->basePath = $this->config('google_tag.settings')->get('uri');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/google_tag/tests/src/Functional/GTMMultipleTest.php:87

    ---------- begin diff ----------
@@ @@
           $url = $generator->transformRelative($generator->generateAbsoluteString($uri));
         }
         else {
-          $url = file_url_transform_relative(file_create_url($uri));
+          $url = \Drupal::service('file_url_generator')->generateString($uri);
         }
         $function = "verify{$type}Tag";
         $this->$function($url, $this->variables[$key]);
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

