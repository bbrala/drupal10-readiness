diff --git a/src/Entity/StaticContent.php b/src/Entity/StaticContent.php
index 17de774..22f93cb 100644
--- a/src/Entity/StaticContent.php
+++ b/src/Entity/StaticContent.php
@@ -100,7 +100,7 @@ class StaticContent extends ContentEntityBase implements StaticContentInterface
    */
   public function getUrl($real_url = FALSE) {
     $url = $this->get('url')->value;
-    return $real_url ? \file_create_url($url) : $url;
+    return $real_url ? \Drupal::service('file_url_generator')->generateAbsoluteString($url) : $url;
   }
 
   /**
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index 2022bf1..ce8754a 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -29,7 +29,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
