diff --git a/src/Services/WebServiceManager.php b/src/Services/WebServiceManager.php
index 5b3be6a..9485fc0 100755
--- a/src/Services/WebServiceManager.php
+++ b/src/Services/WebServiceManager.php
@@ -159,7 +159,7 @@ class WebServiceManager {
     $image = file_get_contents($url);
     if ($image !== FALSE) {
       $this->fileSystem->prepareDirectory($file_path, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
-      $file = file_save_data($image, $file_path . $filename);
+      $file = \Drupal::service('file.repository')->writeData($image, $file_path . $filename);
       return $file;
     }
   }
@@ -290,7 +290,7 @@ class WebServiceManager {
     $file_path = "public://wsm/endpoint_files/";
     $file_name = $entity->id();
     $this->fileSystem->prepareDirectory($file_path, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
-    file_save_data(json_encode($api_res_array), $file_path . $file_name);
+    \Drupal::service('file.repository')->writeData(json_encode($api_res_array), $file_path . $file_name);
   }
 
   /**
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index 57065a9..14196d5 100755
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -29,7 +29,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
