diff --git a/socialblue.theme b/socialblue.theme
index 7325b13..83fd5ff 100644
--- a/socialblue.theme
+++ b/socialblue.theme
@@ -30,7 +30,7 @@ function socialblue_library_info_alter(&$libraries, $extension) {
   // Add extra CSS files if specific style is chosen.
   $style = theme_get_setting('style');
   if (!empty($style) && $extension === 'socialblue') {
-    $theme_path = drupal_get_path('theme', $extension);
+    $theme_path = \Drupal::service('extension.list.theme')->getPath($extension);
     $base_path = 'assets/css/';
     foreach ($libraries as $key => $library) {
       $style_css = $base_path . $key . '--' . $style . '.css';
diff --git a/src/Plugin/Preprocess/Node.php b/src/Plugin/Preprocess/Node.php
index b14220c..1bd22ae 100644
--- a/src/Plugin/Preprocess/Node.php
+++ b/src/Plugin/Preprocess/Node.php
@@ -71,7 +71,7 @@ class Node extends NodeBase {
           break;
 
         case 'teaser':
-          $variables['label'] = render($variables['label']);
+          $variables['label'] = \Drupal::service('renderer')->render($variables['label']);
           $variables['card_link_label'] = $this->t('View album');
 
           if (views_get_view_result('albums', 'embed_album_cover', $node->id())) {
