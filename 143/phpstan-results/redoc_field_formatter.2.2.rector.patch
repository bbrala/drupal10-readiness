diff --git a/redoc_field_formatter.info.yml b/redoc_field_formatter.info.yml
index e477bac..cad6727 100644
--- a/redoc_field_formatter.info.yml
+++ b/redoc_field_formatter.info.yml
@@ -5,8 +5,7 @@ dependencies:
   - drupal:link
 type: module
 # version: '8.x-2.2'
-core: '8.x'
-core_version_requirement: '8.x || 9.x'
+core_version_requirement: ^9.3 || ^10
 # project: 'redoc_field_formatter'
 
 # Information added by Drupal.org packaging script on 2021-09-13
diff --git a/src/Plugin/Field/FieldFormatter/RedocUIFormatter.php b/src/Plugin/Field/FieldFormatter/RedocUIFormatter.php
index c938dfd..e2b98aa 100644
--- a/src/Plugin/Field/FieldFormatter/RedocUIFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/RedocUIFormatter.php
@@ -58,7 +58,7 @@ class RedocUIFormatter extends FileFormatterBase {
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $element = [];
     foreach ($this->getEntitiesToView($items, $langcode) as $delta => $file) {
-      $redoc_file = file_create_url($file->getFileUri());
+      $redoc_file = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
       $element[$delta] = [
         '#theme' => 'redoc_ui_field_item',
         '#field_name' => $this->fieldDefinition->getName(),
