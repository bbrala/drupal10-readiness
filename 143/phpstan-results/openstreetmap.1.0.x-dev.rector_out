modules/contrib/openstreetmap/modules/openstreetmap_queries/OSMQueryInterface.php
modules/contrib/openstreetmap/src/Form/OSMNodeTypeDeleteForm.php
modules/contrib/openstreetmap/openstreetmap.module
modules/contrib/openstreetmap/modules/openstreetmap_queries/openstreetmap_queries.module
modules/contrib/openstreetmap/osm_node.page.inc
modules/contrib/openstreetmap/src/Controller/OSMNodeController.php
modules/contrib/openstreetmap/src/Form/OSMNodeTypeEntityForm.php
modules/contrib/openstreetmap/modules/openstreetmap_queries/src/Entity/OSMQuery.php
modules/contrib/openstreetmap/src/Form/OSMNodeTypeForm.php
modules/contrib/openstreetmap/src/Form/OSMSettingsForm.php
modules/contrib/openstreetmap/src/Form/OSMSyncForm.php
modules/contrib/openstreetmap/src/OSMNodeAccessControlHandler.php
modules/contrib/openstreetmap/src/OSMNodeHtmlRouteProvider.php
modules/contrib/openstreetmap/modules/openstreetmap_queries/src/Form/OSMQueryExecuteForm.php
modules/contrib/openstreetmap/modules/openstreetmap_queries/src/Form/OSMQueryForm.php
modules/contrib/openstreetmap/modules/openstreetmap_queries/src/Form/OSMQuerySettingsForm.php
modules/contrib/openstreetmap/modules/openstreetmap_queries/src/OSMQueryAccessControlHandler.php
modules/contrib/openstreetmap/modules/openstreetmap_queries/src/OSMQueryInterface.php
modules/contrib/openstreetmap/modules/openstreetmap_queries/src/OSMQueryListBuilder.php
modules/contrib/openstreetmap/modules/openstreetmap_queries/src/OSMQueryViewBuilder.php
modules/contrib/openstreetmap/src/OSMNodeListBuilder.php
modules/contrib/openstreetmap/src/OSMNodeStorage.php
modules/contrib/openstreetmap/src/Controller/OSMNodeViewController.php
modules/contrib/openstreetmap/src/Entity/OSMNode.php
modules/contrib/openstreetmap/src/OSMNodeStorageInterface.php
modules/contrib/openstreetmap/src/OSMNodeTranslationHandler.php
modules/contrib/openstreetmap/src/OSMNodeTypeHtmlRouteProvider.php
modules/contrib/openstreetmap/src/OSMNodeTypeListBuilder.php
modules/contrib/openstreetmap/src/OSMNodeTypePermissions.php
modules/contrib/openstreetmap/src/Overpass.php
modules/contrib/openstreetmap/src/Entity/OSMNodeInterface.php
modules/contrib/openstreetmap/src/Entity/OSMNodeType.php
modules/contrib/openstreetmap/src/Entity/OSMNodeTypeInterface.php
modules/contrib/openstreetmap/src/Entity/OSMNodeViewsData.php
modules/contrib/openstreetmap/src/Form/OSMImportForm.php
modules/contrib/openstreetmap/src/Form/OSMNodeDeleteForm.php
modules/contrib/openstreetmap/src/Form/OSMNodeForm.php
modules/contrib/openstreetmap/src/Form/OSMNodeRevisionDeleteForm.php
modules/contrib/openstreetmap/src/Form/OSMNodeRevisionRevertForm.php
modules/contrib/openstreetmap/src/Form/OSMNodeRevisionRevertTranslationForm.php
modules/contrib/openstreetmap/src/Form/OSMNodeSettingsForm.php

5 files with changes
====================

1) modules/contrib/openstreetmap/modules/openstreetmap_queries/src/Form/OSMQueryForm.php:19

    ---------- begin diff ----------
@@ @@
     $link = $entity->toLink($this->t('View'))->toRenderable();

     $message_arguments = ['%label' => $this->entity->label()];
-    $logger_arguments = $message_arguments + ['link' => render($link)];
+    $logger_arguments = $message_arguments + ['link' => \Drupal::service('renderer')->render($link)];

     if ($result == SAVED_NEW) {
       $this->messenger()->addStatus($this->t('New overpass query %label has been created.', $message_arguments));
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/openstreetmap/src/Form/OSMNodeRevisionRevertTranslationForm.php:88

    ---------- begin diff ----------
@@ @@

     $latest_revision_translation->setNewRevision();
     $latest_revision_translation->isDefaultRevision(TRUE);
-    $revision->setRevisionCreationTime(REQUEST_TIME);
+    $revision->setRevisionCreationTime(\Drupal::time()->getRequestTime());

     return $latest_revision_translation;
   }
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/openstreetmap/src/Form/OSMNodeRevisionRevertForm.php:137

    ---------- begin diff ----------
@@ @@
   protected function prepareRevertedRevision(OSMNodeInterface $revision, FormStateInterface $form_state) {
     $revision->setNewRevision();
     $revision->isDefaultRevision(TRUE);
-    $revision->setRevisionCreationTime(REQUEST_TIME);
+    $revision->setRevisionCreationTime(\Drupal::time()->getRequestTime());

     return $revision;
   }
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/openstreetmap/src/Form/OSMNodeRevisionDeleteForm.php:56

    ---------- begin diff ----------
@@ @@
    */
   public function getQuestion() {
     return $this->t('Are you sure you want to delete the revision from %revision-date?', [
-      '%revision-date' => format_date($this->revision->getRevisionCreationTime()),
+      '%revision-date' => \Drupal::service('date.formatter')->format($this->revision->getRevisionCreationTime()),
     ]);
   }

@@ @@
       '%revision' => $this->revision->getRevisionId(),
     ]);
     $this->messenger()->addMessage(t('Revision from %revision-date of OSM Node %title has been deleted.', [
-      '%revision-date' => format_date($this->revision->getRevisionCreationTime()),
+      '%revision-date' => \Drupal::service('date.formatter')->format($this->revision->getRevisionCreationTime()),
       '%title' => $this->revision->label(),
     ]));
     $form_state->setRedirect(
    ----------- end diff -----------

Applied rules:
 * FormatDateRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/openstreetmap/src/Controller/OSMNodeController.php:128

    ---------- begin diff ----------
@@ @@
           ]));
         }
         else {
-          $link = $osm_node->link($date);
+          $link = $osm_node->toLink($date)->toString();
         }

         $row = [];
    ----------- end diff -----------

Applied rules:
 * EntityInterfaceLinkRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 5 files have been changed by Rector                                       

