diff --git a/composer.json b/composer.json
index 0f699ee..6bf34a3 100644
--- a/composer.json
+++ b/composer.json
@@ -21,6 +21,6 @@
     "source": "https://git.drupalcode.org/project/field_redirect"
   },
   "require": {
-    "drupal/core": "^8.9.0 || ^9.0"
+    "drupal/core": "^9.3 || ^10"
   }
 }
diff --git a/field_redirect.info.yml b/field_redirect.info.yml
index a0fd68d..8d0c744 100644
--- a/field_redirect.info.yml
+++ b/field_redirect.info.yml
@@ -1,7 +1,7 @@
 name: "Field Redirect"
 description: "Redirect to uri value of field of link, file or image, for drupal content entities."
 type: "module"
-core_version_requirement: "^8.9 || ^9"
+core_version_requirement: ^9.3 || ^10
 configure: "field_redirect.settings"
 dependencies:
   - "drupal:file"
diff --git a/field_redirect.module b/field_redirect.module
index 1c9ec54..3109bbd 100644
--- a/field_redirect.module
+++ b/field_redirect.module
@@ -88,7 +88,7 @@ function field_redirect_entity_insert(EntityInterface $entity) {
           if (($file = File::load($target_id)) instanceof File) {
             if ($uri = $file->get('uri')->getString()) {
               // File URL.
-              $url = \file_create_url($uri);
+              $url = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
 
               // Link text.
               $text = $file->getFilename();
@@ -222,7 +222,7 @@ function field_redirect_entity_view_alter(array &$build, EntityInterface $entity
             if (($file = File::load($target_id)) instanceof File) {
               if ($uri = $file->get('uri')->getString()) {
                 // File URL.
-                $redirect_url = \file_create_url($uri);
+                $redirect_url = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
               }
             }
           }
