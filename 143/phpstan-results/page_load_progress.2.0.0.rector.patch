diff --git a/page_load_progress.info.yml b/page_load_progress.info.yml
index d85708b..777f668 100644
--- a/page_load_progress.info.yml
+++ b/page_load_progress.info.yml
@@ -2,8 +2,7 @@ name: 'Page Load Progress'
 description: 'Locks the screen and adds a progress icon to indicate progress when a page takes a long time to reload.'
 type: module
 package: 'User interface'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 configure: page_load_progress.admin_settings
 # Information added by Drupal.org packaging script on 2020-04-17
 version: '2.0.0'
diff --git a/page_load_progress.module b/page_load_progress.module
index 0f3e4d7..fde61f3 100644
--- a/page_load_progress.module
+++ b/page_load_progress.module
@@ -32,7 +32,7 @@ function evaluate_visibility_conditions(ImmutableConfig $config) {
   $path = \Drupal::service('path.current')->getPath();
   // Do not trim a trailing slash if that is the complete path.
   $path = $path === '/' ? $path : rtrim($path, '/');
-  $path_alias = mb_strtolower(\Drupal::service('path.alias_manager')->getAliasByPath($path));
+  $path_alias = mb_strtolower(\Drupal::service('path_alias.manager')->getAliasByPath($path));
 
   $result = \Drupal::service('path.matcher')->matchPath($path_alias, $pages) || (($path != $path_alias) && \Drupal::service('path.matcher')->matchPath($path, $pages));
   return is_negated($config) ? !$result : $result;
diff --git a/tests/src/Functional/PageLoadProgressAdminSettingsFormTest.php b/tests/src/Functional/PageLoadProgressAdminSettingsFormTest.php
index 6a1c0b8..52c6a1f 100644
--- a/tests/src/Functional/PageLoadProgressAdminSettingsFormTest.php
+++ b/tests/src/Functional/PageLoadProgressAdminSettingsFormTest.php
@@ -46,7 +46,7 @@ class PageLoadProgressAdminSettingsFormTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Privileged user should only have the page_load_progress permissions.
     $this->privilegedUser = $this->drupalCreateUser(['administer page load progress']);
@@ -97,7 +97,8 @@ class PageLoadProgressAdminSettingsFormTest extends BrowserTestBase {
       'page_load_progress_internal_links' => TRUE,
       'page_load_progress_esc_key' => FALSE,
     ];
-    $this->drupalPostForm(Url::fromRoute('page_load_progress.admin_settings'), $edit, 'Save configuration');
+    $this->drupalGet(Url::fromRoute('page_load_progress.admin_settings'));
+    $this->submitForm($edit, 'Save configuration');
 
     // Load settings form page and test for new values.
     $this->drupalGet(Url::fromRoute('page_load_progress.admin_settings'));
diff --git a/tests/src/Functional/PageLoadProgressAdminSettingsTest.php b/tests/src/Functional/PageLoadProgressAdminSettingsTest.php
index 9e253e4..65a3f36 100644
--- a/tests/src/Functional/PageLoadProgressAdminSettingsTest.php
+++ b/tests/src/Functional/PageLoadProgressAdminSettingsTest.php
@@ -46,7 +46,7 @@ class PageLoadProgressAdminSettingsTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Admin user account only needs a subset of admin permissions.
     $this->adminUser = $this->drupalCreateUser([
