modules/contrib/translation_form/src/Form/TranslationFormSettingsForm.php
modules/contrib/translation_form/src/Service/TranslationFormFieldsPreviews.php
modules/contrib/translation_form/tests/src/Functional/ChangeSourceTest.php
modules/contrib/translation_form/tests/src/Functional/ConfigsTest.php
modules/contrib/translation_form/tests/src/Functional/LoadTest.php
modules/contrib/translation_form/translation_form.module

4 files with changes
====================

1) modules/contrib/translation_form/tests/src/Functional/LoadTest.php:33

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/translation_form/tests/src/Functional/ConfigsTest.php:35

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/translation_form/tests/src/Functional/ChangeSourceTest.php:37

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $langcodes = ['de', 'fr'];
@@ @@
     $edit = [
       'allow_to_change_source_language' => TRUE,
     ];
-    $this->drupalPostForm(Url::fromRoute('translation_form.settings_form'), $edit, t('Save configuration'));
+    $this->drupalGet(Url::fromRoute('translation_form.settings_form'));
+    $this->submitForm($edit, t('Save configuration'));
   }

   /**
@@ @@
     // Create a translation in German.
     $this->drupalGet($node->toUrl('drupal:content-translation-overview'));
     $this->clickLink('Add');
-    $this->drupalPostForm(NULL, [], t('Save (this translation)'));
+    $this->submitForm([], t('Save (this translation)'));

     // Create a translation in French.
     $this->drupalGet($node->toUrl('drupal:content-translation-overview'));
     $this->clickLink('Add');
-    $this->drupalPostForm(NULL, [], t('Save (this translation)'));
+    $this->submitForm([], t('Save (this translation)'));

     // Go to edit page for French language and change source language.
     $this->drupalGet($node->toUrl('drupal:content-translation-overview'));
@@ @@
     $edit = [
       'source_langcode[source]' => 'de',
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save (this translation)'));
+    $this->submitForm($edit, t('Save (this translation)'));

     // Check source language for tranlsate for node.
     $this->drupalGet($node->toUrl('drupal:content-translation-overview'));
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/translation_form/src/Service/TranslationFormFieldsPreviews.php:444

    ---------- begin diff ----------
@@ @@
       ->setRouteParameter('language', $language->getId());

     // We have different urls for translations.
-    if ($this->routeMatch->getRouteName() == $entity->urlInfo('edit-form')->getRouteName()) {
-      $form_state->setRedirect($entity->urlInfo('edit-form')->getRouteName(), [
+    if ($this->routeMatch->getRouteName() == $entity->toUrl('edit-form')->getRouteName()) {
+      $form_state->setRedirect($entity->toUrl('edit-form')->getRouteName(), [
         $entity_type_id => $entity->id(),
         'language_source' => $source,
       ]);
    ----------- end diff -----------

Applied rules:
 * EntityInterfaceUrlInfoRector
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 4 files have been changed by Rector                                       

