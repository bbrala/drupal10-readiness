diff --git a/modules/entity_share_async/tests/src/Functional/EntityShareAsyncFunctionalTest.php b/modules/entity_share_async/tests/src/Functional/EntityShareAsyncFunctionalTest.php
index 5e349f6..2b24b3a 100644
--- a/modules/entity_share_async/tests/src/Functional/EntityShareAsyncFunctionalTest.php
+++ b/modules/entity_share_async/tests/src/Functional/EntityShareAsyncFunctionalTest.php
@@ -40,7 +40,7 @@ class EntityShareAsyncFunctionalTest extends EntityShareClientFunctionalTestBase
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->postSetupFixture();
   }
diff --git a/modules/entity_share_client/src/Command/PullCommand.php b/modules/entity_share_client/src/Command/PullCommand.php
index 984f079..208c55a 100644
--- a/modules/entity_share_client/src/Command/PullCommand.php
+++ b/modules/entity_share_client/src/Command/PullCommand.php
@@ -123,7 +123,7 @@ class PullCommand extends Command {
   /**
    * {@inheritdoc}
    */
-  protected function execute(InputInterface $input, OutputInterface $output) {
+  protected function execute(InputInterface $input, OutputInterface $output): int {
     $this->setupIo($input, $output);
     try {
       // Make the magic happen.
@@ -149,6 +149,7 @@ class PullCommand extends Command {
     catch (\Exception $e) {
       $this->getIo()->error($e->getMessage());
     }
+    return 0;
   }
 
 }
diff --git a/modules/entity_share_client/src/Event/EntityAlterEvent.php b/modules/entity_share_client/src/Event/EntityAlterEvent.php
index 7a357ae..116bdb8 100644
--- a/modules/entity_share_client/src/Event/EntityAlterEvent.php
+++ b/modules/entity_share_client/src/Event/EntityAlterEvent.php
@@ -4,7 +4,7 @@ declare(strict_types = 1);
 
 namespace Drupal\entity_share_client\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\core\Entity\EntityInterface;
 use Drupal\entity_share_client\Entity\RemoteInterface;
 
diff --git a/modules/entity_share_client/src/Event/EntityInsertEvent.php b/modules/entity_share_client/src/Event/EntityInsertEvent.php
index c53514e..0987104 100644
--- a/modules/entity_share_client/src/Event/EntityInsertEvent.php
+++ b/modules/entity_share_client/src/Event/EntityInsertEvent.php
@@ -4,7 +4,7 @@ declare(strict_types = 1);
 
 namespace Drupal\entity_share_client\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\core\Entity\EntityInterface;
 use Drupal\entity_share_client\Entity\RemoteInterface;
 
diff --git a/modules/entity_share_client/src/Event/EntityListDataAlterEvent.php b/modules/entity_share_client/src/Event/EntityListDataAlterEvent.php
index bdfb260..2be9640 100644
--- a/modules/entity_share_client/src/Event/EntityListDataAlterEvent.php
+++ b/modules/entity_share_client/src/Event/EntityListDataAlterEvent.php
@@ -4,7 +4,7 @@ declare(strict_types = 1);
 
 namespace Drupal\entity_share_client\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\entity_share_client\Entity\RemoteInterface;
 
 /**
diff --git a/modules/entity_share_client/src/Event/RelationshipFieldValueEvent.php b/modules/entity_share_client/src/Event/RelationshipFieldValueEvent.php
index 0b26071..577de62 100644
--- a/modules/entity_share_client/src/Event/RelationshipFieldValueEvent.php
+++ b/modules/entity_share_client/src/Event/RelationshipFieldValueEvent.php
@@ -4,8 +4,8 @@ declare(strict_types = 1);
 
 namespace Drupal\entity_share_client\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\Core\Field\FieldItemListInterface;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Defines a RelationshipFieldValueEvent event.
diff --git a/modules/entity_share_client/src/Service/JsonapiHelper.php b/modules/entity_share_client/src/Service/JsonapiHelper.php
index 013abd1..5bf2685 100644
--- a/modules/entity_share_client/src/Service/JsonapiHelper.php
+++ b/modules/entity_share_client/src/Service/JsonapiHelper.php
@@ -343,7 +343,7 @@ class JsonapiHelper implements JsonapiHelperInterface {
 
                   // Allow to alter the field value with an event.
                   $event = new RelationshipFieldValueEvent($field, $field_value);
-                  $this->eventDispatcher->dispatch(RelationshipFieldValueEvent::EVENT_NAME, $event);
+                  $this->eventDispatcher->dispatch($event, RelationshipFieldValueEvent::EVENT_NAME);
                   $field_values[] = $event->getFieldValue();
                 }
               }
@@ -420,7 +420,7 @@ class JsonapiHelper implements JsonapiHelperInterface {
   public function importEntityListData(array $entity_list_data) {
     // Allow other modules to alter the entity data with an EventSubscriber.
     $event = new EntityListDataAlterEvent($entity_list_data, $this->remote);
-    $this->eventDispatcher->dispatch(EntityListDataAlterEvent::EVENT_NAME, $event);
+    $this->eventDispatcher->dispatch($event, EntityListDataAlterEvent::EVENT_NAME);
     $entity_list_data = $event->getEntityListData();
 
     $imported_entity_ids = [];
@@ -470,7 +470,7 @@ class JsonapiHelper implements JsonapiHelperInterface {
       if (empty($existing_entities)) {
         // Allow other modules to alter the entity with an EventSubscriber.
         $event = new EntityInsertEvent($entity, $this->remote);
-        $this->eventDispatcher->dispatch(EntityInsertEvent::EVENT_NAME, $event);
+        $this->eventDispatcher->dispatch($event, EntityInsertEvent::EVENT_NAME);
 
         $entity->save();
         $imported_entity_ids[] = $entity->id();
@@ -507,7 +507,7 @@ class JsonapiHelper implements JsonapiHelperInterface {
             }
             // Allow other modules to alter the entity with an EventSubscriber.
             $event = new EntityAlterEvent($existing_translation, $this->remote);
-            $this->eventDispatcher->dispatch(EntityAlterEvent::EVENT_NAME, $event);
+            $this->eventDispatcher->dispatch($event, EntityAlterEvent::EVENT_NAME);
             $existing_translation->save();
           }
           // Create the new translation.
@@ -517,7 +517,7 @@ class JsonapiHelper implements JsonapiHelperInterface {
             // Allow other modules to alter the entity translation with an
             // EventSubscriber.
             $event = new EntityAlterEvent($existing_entity->getTranslation($data_langcode), $this->remote);
-            $this->eventDispatcher->dispatch(EntityAlterEvent::EVENT_NAME, $event);
+            $this->eventDispatcher->dispatch($event, EntityAlterEvent::EVENT_NAME);
             $existing_entity->save();
             $existing_translation = $existing_entity->getTranslation($data_langcode);
           }
diff --git a/modules/entity_share_client/tests/src/Functional/BasicFieldsTest.php b/modules/entity_share_client/tests/src/Functional/BasicFieldsTest.php
index 3d1adae..c62b7d0 100644
--- a/modules/entity_share_client/tests/src/Functional/BasicFieldsTest.php
+++ b/modules/entity_share_client/tests/src/Functional/BasicFieldsTest.php
@@ -33,7 +33,7 @@ class BasicFieldsTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->postSetupFixture();
   }
diff --git a/modules/entity_share_client/tests/src/Functional/BcTimestampNormalizerUnixTest.php b/modules/entity_share_client/tests/src/Functional/BcTimestampNormalizerUnixTest.php
index 55d8542..c3a8fc6 100644
--- a/modules/entity_share_client/tests/src/Functional/BcTimestampNormalizerUnixTest.php
+++ b/modules/entity_share_client/tests/src/Functional/BcTimestampNormalizerUnixTest.php
@@ -34,7 +34,7 @@ class BcTimestampNormalizerUnixTest extends EntityShareClientFunctionalTestBase
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $serialization_settings = $this->config('serialization.settings');
diff --git a/modules/entity_share_client/tests/src/Functional/BlockFieldTest.php b/modules/entity_share_client/tests/src/Functional/BlockFieldTest.php
index 1a4ac03..c0b2ed8 100644
--- a/modules/entity_share_client/tests/src/Functional/BlockFieldTest.php
+++ b/modules/entity_share_client/tests/src/Functional/BlockFieldTest.php
@@ -41,7 +41,7 @@ class BlockFieldTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->entityTypeManager->getStorage('jsonapi_resource_config')->create([
diff --git a/modules/entity_share_client/tests/src/Functional/ChangedRemovedTest.php b/modules/entity_share_client/tests/src/Functional/ChangedRemovedTest.php
index 1d4d85a..1b926ee 100644
--- a/modules/entity_share_client/tests/src/Functional/ChangedRemovedTest.php
+++ b/modules/entity_share_client/tests/src/Functional/ChangedRemovedTest.php
@@ -42,7 +42,7 @@ class ChangedRemovedTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->entityTypeManager->getStorage('jsonapi_resource_config')->create([
diff --git a/modules/entity_share_client/tests/src/Functional/CliTest.php b/modules/entity_share_client/tests/src/Functional/CliTest.php
index 2b3d155..c0ece4e 100644
--- a/modules/entity_share_client/tests/src/Functional/CliTest.php
+++ b/modules/entity_share_client/tests/src/Functional/CliTest.php
@@ -47,7 +47,7 @@ class CliTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->stateInformation = $this->container->get('entity_share_client.state_information');
diff --git a/modules/entity_share_client/tests/src/Functional/ContentEntityReferenceTest.php b/modules/entity_share_client/tests/src/Functional/ContentEntityReferenceTest.php
index 1d17c93..99249f3 100644
--- a/modules/entity_share_client/tests/src/Functional/ContentEntityReferenceTest.php
+++ b/modules/entity_share_client/tests/src/Functional/ContentEntityReferenceTest.php
@@ -35,7 +35,7 @@ class ContentEntityReferenceTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->postSetupFixture();
   }
diff --git a/modules/entity_share_client/tests/src/Functional/EntityNotTranslatableEmptyLangcodeTest.php b/modules/entity_share_client/tests/src/Functional/EntityNotTranslatableEmptyLangcodeTest.php
index 7760559..5efaa86 100644
--- a/modules/entity_share_client/tests/src/Functional/EntityNotTranslatableEmptyLangcodeTest.php
+++ b/modules/entity_share_client/tests/src/Functional/EntityNotTranslatableEmptyLangcodeTest.php
@@ -39,7 +39,7 @@ class EntityNotTranslatableEmptyLangcodeTest extends EntityShareClientFunctional
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->postSetupFixture();
   }
diff --git a/modules/entity_share_client/tests/src/Functional/EntityNotTranslatableTest.php b/modules/entity_share_client/tests/src/Functional/EntityNotTranslatableTest.php
index d08c383..4815fa3 100644
--- a/modules/entity_share_client/tests/src/Functional/EntityNotTranslatableTest.php
+++ b/modules/entity_share_client/tests/src/Functional/EntityNotTranslatableTest.php
@@ -39,7 +39,7 @@ class EntityNotTranslatableTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->postSetupFixture();
   }
diff --git a/modules/entity_share_client/tests/src/Functional/EntityShareClientFunctionalTestBase.php b/modules/entity_share_client/tests/src/Functional/EntityShareClientFunctionalTestBase.php
index 53da80e..7cadd45 100644
--- a/modules/entity_share_client/tests/src/Functional/EntityShareClientFunctionalTestBase.php
+++ b/modules/entity_share_client/tests/src/Functional/EntityShareClientFunctionalTestBase.php
@@ -165,7 +165,7 @@ abstract class EntityShareClientFunctionalTestBase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Prepare users.
diff --git a/modules/entity_share_client/tests/src/Functional/FileTest.php b/modules/entity_share_client/tests/src/Functional/FileTest.php
index 5f6b2ea..41ff4d4 100644
--- a/modules/entity_share_client/tests/src/Functional/FileTest.php
+++ b/modules/entity_share_client/tests/src/Functional/FileTest.php
@@ -77,7 +77,7 @@ class FileTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->getTestFiles('image');
     // Special case for the images created using native helper method.
diff --git a/modules/entity_share_client/tests/src/Functional/InfiniteLoopTest.php b/modules/entity_share_client/tests/src/Functional/InfiniteLoopTest.php
index bc1e9c8..14e9878 100644
--- a/modules/entity_share_client/tests/src/Functional/InfiniteLoopTest.php
+++ b/modules/entity_share_client/tests/src/Functional/InfiniteLoopTest.php
@@ -34,7 +34,7 @@ class InfiniteLoopTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->postSetupFixture();
   }
diff --git a/modules/entity_share_client/tests/src/Functional/JsonApiExtrasTest.php b/modules/entity_share_client/tests/src/Functional/JsonApiExtrasTest.php
index 3baf5a8..f01b032 100644
--- a/modules/entity_share_client/tests/src/Functional/JsonApiExtrasTest.php
+++ b/modules/entity_share_client/tests/src/Functional/JsonApiExtrasTest.php
@@ -41,7 +41,7 @@ class JsonApiExtrasTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->entityTypeManager->getStorage('jsonapi_resource_config')->create([
diff --git a/modules/entity_share_client/tests/src/Functional/LinkFieldTest.php b/modules/entity_share_client/tests/src/Functional/LinkFieldTest.php
index 040a509..e60dadc 100644
--- a/modules/entity_share_client/tests/src/Functional/LinkFieldTest.php
+++ b/modules/entity_share_client/tests/src/Functional/LinkFieldTest.php
@@ -42,7 +42,7 @@ class LinkFieldTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->entityTypeManager->getStorage('jsonapi_resource_config')->create([
diff --git a/modules/entity_share_client/tests/src/Functional/MediaEntityReferenceTest.php b/modules/entity_share_client/tests/src/Functional/MediaEntityReferenceTest.php
index b5dd311..599c0e5 100644
--- a/modules/entity_share_client/tests/src/Functional/MediaEntityReferenceTest.php
+++ b/modules/entity_share_client/tests/src/Functional/MediaEntityReferenceTest.php
@@ -74,7 +74,7 @@ class MediaEntityReferenceTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->getTestFiles('image');
     // Special case for the image created using native helper method.
@@ -279,7 +279,7 @@ class MediaEntityReferenceTest extends EntityShareClientFunctionalTestBase {
   protected function getMediaEntityReferenceTestFiles($file_uuid, array $file_data) {
     /** @var \Drupal\Core\File\FileSystemInterface $file_system */
     $file_system = \Drupal::service('file_system');
-    $filepath = drupal_get_path('module', 'entity_share') . '/tests/fixtures/files/' . $file_data['filename'];
+    $filepath = \Drupal::service('extension.list.module')->getPath('entity_share') . '/tests/fixtures/files/' . $file_data['filename'];
     $file_system->copy($filepath, PublicStream::basePath());
     $this->filesSize[$file_uuid] = filesize($filepath);
   }
diff --git a/modules/entity_share_client/tests/src/Functional/MissingEntityReferenceTest.php b/modules/entity_share_client/tests/src/Functional/MissingEntityReferenceTest.php
index f249d05..e4d6a38 100644
--- a/modules/entity_share_client/tests/src/Functional/MissingEntityReferenceTest.php
+++ b/modules/entity_share_client/tests/src/Functional/MissingEntityReferenceTest.php
@@ -32,7 +32,7 @@ class MissingEntityReferenceTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $node_storage = $this->entityTypeManager->getStorage('node');
diff --git a/modules/entity_share_client/tests/src/Functional/MultilingualTest.php b/modules/entity_share_client/tests/src/Functional/MultilingualTest.php
index 9943807..d65516d 100644
--- a/modules/entity_share_client/tests/src/Functional/MultilingualTest.php
+++ b/modules/entity_share_client/tests/src/Functional/MultilingualTest.php
@@ -41,7 +41,7 @@ class MultilingualTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->stateInformation = $this->container->get('entity_share_client.state_information');
@@ -194,11 +194,11 @@ class MultilingualTest extends EntityShareClientFunctionalTestBase {
   protected function expectedState($en_expected_state, $fr_expected_state) {
     $json_data = $this->getEntityJsonData('node_es_test_en', 'es_test');
     $status = $this->stateInformation->getStatusInfo($json_data);
-    $this->assertEqual($status['info_id'], $en_expected_state);
+    $this->assertEquals($status['info_id'], $en_expected_state);
 
     $json_data = $this->getEntityJsonData('node_es_test_fr', 'es_test');
     $status = $this->stateInformation->getStatusInfo($json_data);
-    $this->assertEqual($status['info_id'], $fr_expected_state);
+    $this->assertEquals($status['info_id'], $fr_expected_state);
   }
 
 }
diff --git a/modules/entity_share_client/tests/src/Functional/ParagraphEntityReferenceTest.php b/modules/entity_share_client/tests/src/Functional/ParagraphEntityReferenceTest.php
index 932071d..88e9364 100644
--- a/modules/entity_share_client/tests/src/Functional/ParagraphEntityReferenceTest.php
+++ b/modules/entity_share_client/tests/src/Functional/ParagraphEntityReferenceTest.php
@@ -32,7 +32,7 @@ class ParagraphEntityReferenceTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->postSetupFixture();
   }
diff --git a/modules/entity_share_client/tests/src/Functional/TaxonomyEntityReferenceTest.php b/modules/entity_share_client/tests/src/Functional/TaxonomyEntityReferenceTest.php
index 64f3e09..08cc0cd 100644
--- a/modules/entity_share_client/tests/src/Functional/TaxonomyEntityReferenceTest.php
+++ b/modules/entity_share_client/tests/src/Functional/TaxonomyEntityReferenceTest.php
@@ -35,7 +35,7 @@ class TaxonomyEntityReferenceTest extends EntityShareClientFunctionalTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->postSetupFixture();
   }
diff --git a/modules/entity_share_client/tests/src/Kernel/RemoteUrlTest.php b/modules/entity_share_client/tests/src/Kernel/RemoteUrlTest.php
index 0204b3d..a2c35a9 100755
--- a/modules/entity_share_client/tests/src/Kernel/RemoteUrlTest.php
+++ b/modules/entity_share_client/tests/src/Kernel/RemoteUrlTest.php
@@ -26,7 +26,7 @@ class RemoteUrlTest extends EntityKernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installEntitySchema('remote');
   }
@@ -44,19 +44,19 @@ class RemoteUrlTest extends EntityKernelTestBase {
       'basic_auth_password' => 'test',
     ]);
     $remote->save();
-    $this->assertEqual($remote->get('url'), 'http://example.com');
+    $this->assertEquals($remote->get('url'), 'http://example.com');
 
     $remote->set('url', 'http://example.com/');
     $remote->save();
-    $this->assertEqual($remote->get('url'), 'http://example.com');
+    $this->assertEquals($remote->get('url'), 'http://example.com');
 
     $remote->set('url', 'http://example.com/subdirectory');
     $remote->save();
-    $this->assertEqual($remote->get('url'), 'http://example.com/subdirectory');
+    $this->assertEquals($remote->get('url'), 'http://example.com/subdirectory');
 
     $remote->set('url', 'http://example.com/subdirectory/');
     $remote->save();
-    $this->assertEqual($remote->get('url'), 'http://example.com/subdirectory');
+    $this->assertEquals($remote->get('url'), 'http://example.com/subdirectory');
   }
 
 }
diff --git a/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTest.php b/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTest.php
index eb0daad..394b7f7 100644
--- a/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTest.php
+++ b/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTest.php
@@ -774,7 +774,7 @@ class EntityShareServerFunctionalTest extends EntityShareServerFunctionalTestBas
         }
       }
 
-      $this->assertEqual($found, $expected, 'Expected state for entity with UUID: ' . $entity_uuid);
+      $this->assertEquals($found, $expected, 'Expected state for entity with UUID: ' . $entity_uuid);
     }
   }
 
diff --git a/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTestBase.php b/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTestBase.php
index 26b1444..c624b24 100644
--- a/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTestBase.php
+++ b/modules/entity_share_server/tests/src/Functional/EntityShareServerFunctionalTestBase.php
@@ -53,7 +53,7 @@ abstract class EntityShareServerFunctionalTestBase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->adminUser = $this->drupalCreateUser($this->getAdministratorPermissions());
