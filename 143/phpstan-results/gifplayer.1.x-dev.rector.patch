diff --git a/gifplayer.info.yml b/gifplayer.info.yml
index ee09519..0fee04d 100644
--- a/gifplayer.info.yml
+++ b/gifplayer.info.yml
@@ -1,7 +1,7 @@
 name: 'Gif Player Field'
 type: module
 description: 'Gif Player Field types'
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: gifplayer.admin_settings
 package: Field
 
diff --git a/src/Plugin/Field/FieldFormatter/GifPlayerFormatter.php b/src/Plugin/Field/FieldFormatter/GifPlayerFormatter.php
index 3c19fe3..1d818a7 100644
--- a/src/Plugin/Field/FieldFormatter/GifPlayerFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/GifPlayerFormatter.php
@@ -175,12 +175,10 @@ class GifPlayerFormatter extends EntityReferenceFormatterBase {
     // Set image cover path.
     file_put_contents("/tmp/cid", json_encode($cid));
     if ($cid !== 0 && $file = $file_storage->load($cid)) {
-      $img_cover = file_create_url($file->getFileUri());
+      $img_cover = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
     }
     else {
-      $img_cover = file_create_url(
-        drupal_get_path('module', 'gifplayer') . '/img/banana.png'
-      );
+      $img_cover = \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('gifplayer') . '/img/banana.png');
     }
 
     foreach ($this->getEntitiesToView($items, $langcode) as $delta => $file) {
@@ -194,7 +192,7 @@ class GifPlayerFormatter extends EntityReferenceFormatterBase {
         '#mode' => $settings['mode'],
         '#width' => $settings['width'],
         '#height' => $settings['height'],
-        '#gif' => file_create_url($file->getFileUri()),
+        '#gif' => \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri()),
         '#img_cover' => $img_cover,
         '#cache' => [
           'tags' => $file->getCacheTags(),
diff --git a/src/Plugin/Field/FieldFormatter/GifPlayerVideoFormatter.php b/src/Plugin/Field/FieldFormatter/GifPlayerVideoFormatter.php
index aab3288..c8490fb 100644
--- a/src/Plugin/Field/FieldFormatter/GifPlayerVideoFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/GifPlayerVideoFormatter.php
@@ -76,12 +76,10 @@ class GifPlayerVideoFormatter extends GifPlayerFormatter {
 
     // Set image cover path.
     if ($cid !== 0 && $file = $file_storage->load($cid)) {
-      $img_cover = file_create_url($file->getFileUri());
+      $img_cover = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
     }
     else {
-      $img_cover = file_create_url(
-        drupal_get_path('module', 'gifplayer') . '/img/banana.png'
-      );
+      $img_cover = \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('gifplayer') . '/img/banana.png');
     }
 
     foreach ($this->getEntitiesToView($items, $langcode) as $delta => $file) {
@@ -95,7 +93,7 @@ class GifPlayerVideoFormatter extends GifPlayerFormatter {
         '#mode' => $settings['mode'],
         '#width' => $settings['width'],
         '#height' => $settings['height'],
-        '#video' => file_create_url($file->getFileUri()),
+        '#video' => \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri()),
         '#img_cover' => $img_cover,
         '#cache' => [
           'tags' => $file->getCacheTags(),
