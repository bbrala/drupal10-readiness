diff --git a/tests/src/Functional/WebformGroupBrowserTestBase.php b/tests/src/Functional/WebformGroupBrowserTestBase.php
index 6e571be..a83b68a 100644
--- a/tests/src/Functional/WebformGroupBrowserTestBase.php
+++ b/tests/src/Functional/WebformGroupBrowserTestBase.php
@@ -27,7 +27,7 @@ abstract class WebformGroupBrowserTestBase extends GroupBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Allow all roles to view webform nodes.
@@ -42,7 +42,7 @@ abstract class WebformGroupBrowserTestBase extends GroupBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function tearDown() {
+  protected function tearDown(): void {
     $this->purgeSubmissions();
     parent::tearDown();
   }
diff --git a/tests/src/Functional/WebformGroupElementAccessTest.php b/tests/src/Functional/WebformGroupElementAccessTest.php
index 63168a3..19e2a45 100644
--- a/tests/src/Functional/WebformGroupElementAccessTest.php
+++ b/tests/src/Functional/WebformGroupElementAccessTest.php
@@ -39,33 +39,33 @@ class WebformGroupElementAccessTest extends WebformGroupBrowserTestBase {
 
     // Check that only the anonymous element is displayed.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertFieldByName('anonymous');
-    $this->assertNoFieldByName('authenticated');
-    $this->assertNoFieldByName('outsider');
-    $this->assertNoFieldByName('member');
-    $this->assertNoFieldByName('custom');
+    $this->assertSession()->fieldExists('anonymous');
+    $this->assertSession()->fieldValueNotEquals('authenticated', '');
+    $this->assertSession()->fieldValueNotEquals('outsider', '');
+    $this->assertSession()->fieldValueNotEquals('member', '');
+    $this->assertSession()->fieldValueNotEquals('custom', '');
 
     // Login as an outsider user.
     $this->drupalLogin($outsider_user);
 
     // Check that only the authenticated element is displayed.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertNoFieldByName('anonymous');
-    $this->assertFieldByName('authenticated');
-    $this->assertNoFieldByName('outsider');
-    $this->assertNoFieldByName('member');
-    $this->assertNoFieldByName('custom');
+    $this->assertSession()->fieldValueNotEquals('anonymous', '');
+    $this->assertSession()->fieldExists('authenticated');
+    $this->assertSession()->fieldValueNotEquals('outsider', '');
+    $this->assertSession()->fieldValueNotEquals('member', '');
+    $this->assertSession()->fieldValueNotEquals('custom', '');
 
     // Login as a member user.
     $this->drupalLogin($member_user);
 
     // Check that only the authenticated element is displayed.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertNoFieldByName('anonymous');
-    $this->assertFieldByName('authenticated');
-    $this->assertNoFieldByName('outsider');
-    $this->assertNoFieldByName('member');
-    $this->assertNoFieldByName('custom');
+    $this->assertSession()->fieldValueNotEquals('anonymous', '');
+    $this->assertSession()->fieldExists('authenticated');
+    $this->assertSession()->fieldValueNotEquals('outsider', '');
+    $this->assertSession()->fieldValueNotEquals('member', '');
+    $this->assertSession()->fieldValueNotEquals('custom', '');
 
     /**************************************************************************/
     // Webform node related to a group.
@@ -80,44 +80,44 @@ class WebformGroupElementAccessTest extends WebformGroupBrowserTestBase {
 
     // Check that only the anonymous element is displayed.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertFieldByName('anonymous');
-    $this->assertNoFieldByName('authenticated');
-    $this->assertNoFieldByName('outsider');
-    $this->assertNoFieldByName('member');
-    $this->assertNoFieldByName('custom');
+    $this->assertSession()->fieldExists('anonymous');
+    $this->assertSession()->fieldValueNotEquals('authenticated', '');
+    $this->assertSession()->fieldValueNotEquals('outsider', '');
+    $this->assertSession()->fieldValueNotEquals('member', '');
+    $this->assertSession()->fieldValueNotEquals('custom', '');
 
     // Login as an outsider user.
     $this->drupalLogin($outsider_user);
 
     // Check that only the authenticated and outsider element are displayed.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertNoFieldByName('anonymous');
-    $this->assertFieldByName('authenticated');
-    $this->assertFieldByName('outsider');
-    $this->assertNoFieldByName('member');
-    $this->assertNoFieldByName('custom');
+    $this->assertSession()->fieldValueNotEquals('anonymous', '');
+    $this->assertSession()->fieldExists('authenticated');
+    $this->assertSession()->fieldExists('outsider');
+    $this->assertSession()->fieldValueNotEquals('member', '');
+    $this->assertSession()->fieldValueNotEquals('custom', '');
 
     // Login as a member user.
     $this->drupalLogin($member_user);
 
     // Check that only the authenticated element is displayed.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertNoFieldByName('anonymous');
-    $this->assertFieldByName('authenticated');
-    $this->assertNoFieldByName('outsider');
-    $this->assertFieldByName('member');
-    $this->assertNoFieldByName('custom');
+    $this->assertSession()->fieldValueNotEquals('anonymous', '');
+    $this->assertSession()->fieldExists('authenticated');
+    $this->assertSession()->fieldValueNotEquals('outsider', '');
+    $this->assertSession()->fieldExists('member');
+    $this->assertSession()->fieldValueNotEquals('custom', '');
 
     // Login as a custom user.
     $this->drupalLogin($custom_user);
 
     // Check that only the authenticated element is displayed.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertNoFieldByName('anonymous');
-    $this->assertFieldByName('authenticated');
-    $this->assertNoFieldByName('outsider');
-    $this->assertFieldByName('member');
-    $this->assertFieldByName('custom');
+    $this->assertSession()->fieldValueNotEquals('anonymous', '');
+    $this->assertSession()->fieldExists('authenticated');
+    $this->assertSession()->fieldValueNotEquals('outsider', '');
+    $this->assertSession()->fieldExists('member');
+    $this->assertSession()->fieldExists('custom');
   }
 
 }
diff --git a/tests/src/Functional/WebformGroupFormAccessTest.php b/tests/src/Functional/WebformGroupFormAccessTest.php
index 2b9ec7b..b040d64 100644
--- a/tests/src/Functional/WebformGroupFormAccessTest.php
+++ b/tests/src/Functional/WebformGroupFormAccessTest.php
@@ -45,21 +45,21 @@ class WebformGroupFormAccessTest extends WebformGroupBrowserTestBase {
 
     // Check that the form is displayed to anonymous user.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertFieldByName('message');
+    $this->assertSession()->fieldExists('message');
 
     // Login as an outsider user.
     $this->drupalLogin($outsider_user);
 
     // Check that the form is displayed to outsider user.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertFieldByName('message');
+    $this->assertSession()->fieldExists('message');
 
     // Login as a member user.
     $this->drupalLogin($member_user);
 
     // Check that the form is displayed to member user.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertFieldByName('message');
+    $this->assertSession()->fieldExists('message');
 
     // Add webform node to group.
     $group->addContent($node, 'group_node:webform');
@@ -77,14 +77,14 @@ class WebformGroupFormAccessTest extends WebformGroupBrowserTestBase {
 
     // Check that the form is NOT displayed to anonymous user.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertNoFieldByName('message');
+    $this->assertSession()->fieldValueNotEquals('message', '');
 
     // Login as an outsider user.
     $this->drupalLogin($outsider_user);
 
     // Check that the form is NOT displayed to outsider user.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertNoFieldByName('message');
+    $this->assertSession()->fieldValueNotEquals('message', '');
 
     // Allow outsider to access webform.
     $access['create']['group_roles'][] = 'outsider';
@@ -93,14 +93,14 @@ class WebformGroupFormAccessTest extends WebformGroupBrowserTestBase {
 
     // Check that the form is displayed to outsider user.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertFieldByName('message');
+    $this->assertSession()->fieldExists('message');
 
     // Login as an member user.
     $this->drupalLogin($member_user);
 
     // Check that the form is NOT displayed to member user.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertNoFieldByName('message');
+    $this->assertSession()->fieldValueNotEquals('message', '');
 
     // Allow member to access webform.
     $access['create']['group_roles'][] = 'member';
@@ -109,7 +109,7 @@ class WebformGroupFormAccessTest extends WebformGroupBrowserTestBase {
 
     // Check that the form is displayed to member user.
     $this->drupalGet('/node/' . $node->id());
-    $this->assertFieldByName('message');
+    $this->assertSession()->fieldExists('message');
 
     /**************************************************************************/
     // Update any access.
@@ -119,14 +119,14 @@ class WebformGroupFormAccessTest extends WebformGroupBrowserTestBase {
 
     // Check that anonymous can't access the submission page.
     $this->drupalGet("/node/$nid/webform/results/submissions");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
 
     // Login as an member user.
     $this->drupalLogin($member_user);
 
     // Check that member can't access the submission page.
     $this->drupalGet("/node/$nid/webform/results/submissions");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
 
     // Allow member to access submissions.
     $access['view_any']['group_roles'][] = 'member';
@@ -135,7 +135,7 @@ class WebformGroupFormAccessTest extends WebformGroupBrowserTestBase {
 
     // Check that member can access the submission page.
     $this->drupalGet("/node/$nid/webform/results/submissions");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
   }
 
 }
diff --git a/tests/src/Functional/WebformGroupRolesElementTest.php b/tests/src/Functional/WebformGroupRolesElementTest.php
index 17902fa..60cba21 100644
--- a/tests/src/Functional/WebformGroupRolesElementTest.php
+++ b/tests/src/Functional/WebformGroupRolesElementTest.php
@@ -25,7 +25,7 @@ class WebformGroupRolesElementTest extends WebformGroupBrowserTestBase {
     $element = [];
     $options = WebformGroupRoles::getGroupRolesOptions($element);
     WebformElementHelper::convertRenderMarkupToStrings($options);
-    $this->assertEqual([
+    $this->assertEquals([
       'Group role types' => [
         'outsider' => 'Outsider',
         'member' => 'Member',
@@ -50,7 +50,7 @@ class WebformGroupRolesElementTest extends WebformGroupBrowserTestBase {
     ];
     $options = WebformGroupRoles::getGroupRolesOptions($element);
     WebformElementHelper::convertRenderMarkupToStrings($options);
-    $this->assertEqual([
+    $this->assertEquals([
       'Group role types' => [
         'custom' => 'Custom',
       ],
@@ -65,7 +65,7 @@ class WebformGroupRolesElementTest extends WebformGroupBrowserTestBase {
       'webform_group_roles_advanced' => 'custom',
     ];
     $this->postSubmission($webform, $edit);
-    $this->assertRaw('webform_group_roles:
+    $this->assertSession()->responseContains('webform_group_roles:
   - custom
   - member
 webform_group_roles_advanced: custom');
diff --git a/tests/src/Functional/WebformGroupTokensTest.php b/tests/src/Functional/WebformGroupTokensTest.php
index f572993..720f12b 100644
--- a/tests/src/Functional/WebformGroupTokensTest.php
+++ b/tests/src/Functional/WebformGroupTokensTest.php
@@ -62,7 +62,7 @@ class WebformGroupTokensTest extends WebformGroupBrowserTestBase {
 
     // Check [webform_group:role:member] token.
     $result = $token_manager->replace('[webform_group:role:member]', $webform_submission, $token_data);
-    $this->assertEqual(implode(',', [
+    $this->assertEquals(implode(',', [
       $owner_user->getEmail(),
       $member_user->getEmail(),
       $custom_user->getEmail(),
@@ -70,17 +70,17 @@ class WebformGroupTokensTest extends WebformGroupBrowserTestBase {
 
     // Check [webform_group:role:custom] token.
     $result = $token_manager->replace('[webform_group:role:custom]', $webform_submission, $token_data);
-    $this->assertEqual(implode(',', [
+    $this->assertEquals(implode(',', [
       $custom_user->getEmail(),
     ]), $result);
 
     // Check [webform_group:role:outsider] token returns nothing.
     $result = $token_manager->replace('[webform_group:role:outsider]', $webform_submission, $token_data);
-    $this->assertEqual('', $result);
+    $this->assertEquals('', $result);
 
     // Check [webform_group:owner:mail] token returns the group's owner email.
     $result = $token_manager->replace('[webform_group:owner:mail]', $webform_submission, $token_data);
-    $this->assertEqual($owner_user->getEmail(), $result);
+    $this->assertEquals($owner_user->getEmail(), $result);
 
   }
 
diff --git a/tests/src/Functional/WebformGroupUserInterfaceTest.php b/tests/src/Functional/WebformGroupUserInterfaceTest.php
index c0d3da1..9eed8c4 100644
--- a/tests/src/Functional/WebformGroupUserInterfaceTest.php
+++ b/tests/src/Functional/WebformGroupUserInterfaceTest.php
@@ -31,18 +31,19 @@ class WebformGroupUserInterfaceTest extends WebformGroupBrowserTestBase {
     // Check 'Webform Access' integration.
     // @see webform_group_form_webform_settings_access_form_alter()
     $this->drupalGet('/admin/structure/webform/manage/contact/access');
-    $this->assertRaw('<label for="edit-access-create-group-roles">Group (node) roles</label>');
-    $this->assertFieldByName('access[create][group_roles][]');
+    $this->assertSession()->responseContains('<label for="edit-access-create-group-roles">Group (node) roles</label>');
+    $this->assertSession()->fieldExists('access[create][group_roles][]');
+    $this->drupalGet('/admin/structure/webform/manage/contact/access');
 
     // Add create access to webform for the member group role.
-    $this->drupalPostForm('/admin/structure/webform/manage/contact/access', ['access[create][group_roles][]' => ['member']], 'Save');
+    $this->submitForm(['access[create][group_roles][]' => ['member']], 'Save');
 
     // Check create access to webform for the member group role.
     \Drupal::entityTypeManager()->getStorage('webform')->resetCache();
     $webform = Webform::load('contact');
     $access_rules = $webform->getAccessRules();
     $this->debug($access_rules);
-    $this->assertEqual($access_rules['create']['group_roles'], ['member']);
+    $this->assertEquals($access_rules['create']['group_roles'], ['member']);
 
     /**************************************************************************/
     // Element.
@@ -51,17 +52,18 @@ class WebformGroupUserInterfaceTest extends WebformGroupBrowserTestBase {
     // Check 'Element' integration.
     // @see webform_group_form_webform_ui_element_form_alter()
     $this->drupalGet('/admin/structure/webform/manage/contact/element/name/edit');
-    $this->assertFieldByName('properties[access_create_group_roles][]');
+    $this->assertSession()->fieldExists('properties[access_create_group_roles][]');
     $edit = ['properties[access_create_group_roles][]' => 'member'];
+    $this->drupalGet('/admin/structure/webform/manage/contact/element/name/edit');
 
     // Add create access to name element for the member group role.
-    $this->drupalPostForm('/admin/structure/webform/manage/contact/element/name/edit', $edit, 'Save');
+    $this->submitForm($edit, 'Save');
 
     // Check create access to name element for the member group role.
     \Drupal::entityTypeManager()->getStorage('webform')->resetCache();
     $webform = Webform::load('contact');
     $element = $webform->getElement('name');
-    $this->assertEqual($element['#access_create_group_roles'], ['member']);
+    $this->assertEquals($element['#access_create_group_roles'], ['member']);
 
     /**************************************************************************/
     // Handler.
diff --git a/webform_group_extended.module b/webform_group_extended.module
index a06d1d7..d9950db 100644
--- a/webform_group_extended.module
+++ b/webform_group_extended.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\Core\Entity\EntityFormInterface;
 /**
  * @file
  * Provides a Webform integration with the Group module.
@@ -585,7 +586,7 @@ function webform_group_extended_form_alter(array &$form, FormStateInterface $for
     return;
   }
 
-  if ($form_state->getFormObject() instanceof \Drupal\Core\Entity\EntityFormInterface) {
+  if ($form_state->getFormObject() instanceof EntityFormInterface) {
     $webform_submission = $form_state->getFormObject()->getEntity();
   } else {
     return;
