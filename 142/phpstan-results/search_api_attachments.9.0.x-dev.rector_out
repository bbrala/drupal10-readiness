modules/contrib/search_api_attachments/search_api_attachments.api.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/DocconvExtractor.php
modules/contrib/search_api_attachments/search_api_attachments.install
modules/contrib/search_api_attachments/search_api_attachments.module
modules/contrib/search_api_attachments/search_api_attachments.views.inc
modules/contrib/search_api_attachments/src/Annotation/SearchApiAttachmentsTextExtractor.php
modules/contrib/search_api_attachments/src/ExtractFileValidator.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/PdftotextExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/PythonPdf2txtExtractor.php
modules/contrib/search_api_attachments/src/Form/TextExtractorFormSettings.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/SolrExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/TikaExtractor.php
modules/contrib/search_api_attachments/src/Plugin/search_api_attachments/TikaServerExtractor.php
modules/contrib/search_api_attachments/src/Plugin/views/filter/SearchApiAttachmentsFilterPlugin.php
modules/contrib/search_api_attachments/src/Plugin/Field/FieldFormatter/ExtractedText.php
modules/contrib/search_api_attachments/src/TextExtractorPluginBase.php
modules/contrib/search_api_attachments/src/TextExtractorPluginInterface.php
modules/contrib/search_api_attachments/src/TextExtractorPluginManager.php
modules/contrib/search_api_attachments/tests/src/Unit/ExtractBody.php
modules/contrib/search_api_attachments/src/Plugin/QueueWorker/ExtractorQueue.php
modules/contrib/search_api_attachments/src/Plugin/search_api/processor/FilesExtractor.php

2 files with changes
====================

1) modules/contrib/search_api_attachments/src/Form/TextExtractorFormSettings.php:327

    ---------- begin diff ----------
@@ @@
     $file = $this->entityTypeManager->getStorage('file')->loadByProperties($values);
     if (empty($file)) {
       // Copy the source file to public directory.
-      $source = drupal_get_path('module', 'search_api_attachments');
+      $source = \Drupal::service('extension.list.module')->getPath('search_api_attachments');
       $source .= '/data/search_api_attachments_test_extraction.pdf';
       copy($source, $filepath);
       // Create the file object.
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/search_api_attachments/search_api_attachments.api.php:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\search_api\Item\ItemInterface;
+use Drupal\Core\Entity\EntityInterface;
 /**
  * @file
  * Hooks provided by the "Search API attachments" module.
@@ @@
  * @return bool|null
  *   Return FALSE if the attachment should not be indexed.
  */
-function hook_search_api_attachments_indexable($file, \Drupal\search_api\Item\ItemInterface $item, $field_name) {
+function hook_search_api_attachments_indexable($file, ItemInterface $item, $field_name) {
   // Don't index files on entities owned by our bulk upload bot accounts.
   if (in_array($item->getOriginalObject()->uid, my_module_blocked_uids())) {
     return FALSE;
@@ @@
  * @param \Drupal\Core\Entity\EntityInterface $entity
  *   The entity where the file was referenced in.
  */
-function hook_search_api_attachments_content_extracted($file, \Drupal\Core\Entity\EntityInterface $entity) {
+function hook_search_api_attachments_content_extracted($file, EntityInterface $entity) {
   // Search for nodes using media item in specific fields.
   if ($entity->getEntityTypeId() === 'media') {
     $query = \Drupal::entityQuery('node')
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 2 files have been changed by Rector                                       

