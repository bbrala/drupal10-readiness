modules/contrib/quiz/modules/ajax_quiz/ajax_quiz.module
modules/contrib/quiz/question_types/quiz_directions/quiz_directions.module
modules/contrib/quiz/question_types/quiz_directions/src/Plugin/quiz/QuizQuestion/QuizDirectionsQuestion.php
modules/contrib/quiz/question_types/quiz_long_answer/tests/src/Functional/LongAnswerTestCase.php
modules/contrib/quiz/question_types/quiz_matching/quiz_matching.module
modules/contrib/quiz/question_types/quiz_multichoice/quiz_multichoice.module
modules/contrib/quiz/question_types/quiz_short_answer/quiz_short_answer.module
modules/contrib/quiz/question_types/quiz_truefalse/src/Plugin/quiz/QuizQuestion/TrueFalseQuestion.php
modules/contrib/quiz/src/Access/QuizAccessControlHandler.php
modules/contrib/quiz/src/Entity/QuizQuestionEntityTrait.php
modules/contrib/quiz/modules/quiz_stats/quiz_stats.admin.inc
modules/contrib/quiz/src/Form/QuizQuestionFeedbackForm.php
modules/contrib/quiz/templates/quiz-report-form.tpl.php
modules/contrib/quiz/tests/src/Functional/QuizNavigationTest.php
modules/contrib/quiz/question_types/quiz_directions/src/Plugin/quiz/QuizQuestion/QuizDirectionsResponse.php
modules/contrib/quiz/question_types/quiz_matching/src/Plugin/quiz/QuizQuestion/MatchingQuestion.php
modules/contrib/quiz/src/Access/QuizResultAccessControlHandler.php
modules/contrib/quiz/question_types/quiz_directions/tests/src/Functional/QuizDirectionsTestCase.php
modules/contrib/quiz/question_types/quiz_multichoice/src/Plugin/quiz/QuizQuestion/MultichoiceQuestion.php
modules/contrib/quiz/tests/src/Functional/QuizAccessTest.php
modules/contrib/quiz/question_types/quiz_long_answer/quiz_long_answer.module
modules/contrib/quiz/question_types/quiz_short_answer/src/Plugin/quiz/QuizQuestion/ShortAnswerQuestion.php
modules/contrib/quiz/question_types/quiz_long_answer/src/Plugin/quiz/QuizQuestion/LongAnswerQuestion.php
modules/contrib/quiz/question_types/quiz_matching/src/Plugin/quiz/QuizQuestion/MatchingResponse.php
modules/contrib/quiz/src/Access/QuizResultAnswerAccessControlHandler.php
modules/contrib/quiz/question_types/quiz_truefalse/src/Plugin/quiz/QuizQuestion/TrueFalseResponse.php
modules/contrib/quiz/src/Annotation/QuizQuestion.php
modules/contrib/quiz/src/Config/Entity/QuizFeedbackTypeListBuilder.php
modules/contrib/quiz/src/Form/QuizQuestionsForm.php
modules/contrib/quiz/src/Config/Entity/QuizListBuilder.php
modules/contrib/quiz/src/Config/Entity/QuizQuestionListBuilder.php
modules/contrib/quiz/question_types/quiz_truefalse/tests/src/Functional/QuizTrueFalseTestCase.php
modules/contrib/quiz/src/Config/Entity/QuizQuestionTypeListBuilder.php
modules/contrib/quiz/src/Config/Entity/QuizResultAnswerTypeListBuilder.php
modules/contrib/quiz/src/Config/Entity/QuizResultTypeListBuilder.php
modules/contrib/quiz/modules/quiz_stats/quiz_stats.module
modules/contrib/quiz/src/Config/Entity/QuizTypeListBuilder.php
modules/contrib/quiz/src/ContextProvider/QuizRouteContext.php
modules/contrib/quiz/src/Entity/QuizQuestionRelationship.php
modules/contrib/quiz/modules/quiz_stats/theme/quiz_stats_charts.tpl.php
modules/contrib/quiz/modules/quiz_stats/theme/quiz_stats_revision_selector.tpl.php
modules/contrib/quiz/src/Controller/QuizController.php
modules/contrib/quiz/question_types/quiz_short_answer/src/Plugin/quiz/QuizQuestion/ShortAnswerResponse.php
modules/contrib/quiz/question_types/quiz_matching/tests/src/Functional/MatchingTestCase.php
modules/contrib/quiz/question_types/quiz_short_answer/tests/src/Functional/ShortAnswerTestCase.php
modules/contrib/quiz/tests/src/Functional/QuizAnonymousTest.php
modules/contrib/quiz/src/Entity/QuizQuestionType.php
modules/contrib/quiz/src/Entity/QuizResult.php
modules/contrib/quiz/question_types/quiz_long_answer/src/Plugin/quiz/QuizQuestion/LongAnswerResponse.php
modules/contrib/quiz/tests/src/Functional/QuizBuildOnLastTest.php
modules/contrib/quiz/quiz.admin.inc
modules/contrib/quiz/quiz.api.php
modules/contrib/quiz/quiz.devel.inc
modules/contrib/quiz/src/Controller/QuizQuestionController.php
modules/contrib/quiz/tests/src/Functional/QuizCategorizedRandomTest.php
modules/contrib/quiz/quiz.install
modules/contrib/quiz/quiz.module
modules/contrib/quiz/src/Form/QuizResultEntityForm.php
modules/contrib/quiz/src/Entity/Quiz.php
modules/contrib/quiz/tests/src/Functional/QuizQuestionNumberingTest.php
modules/contrib/quiz/src/Form/QuizResultTypeForm.php
modules/contrib/quiz/src/Form/QuizTypeEntityForm.php
modules/contrib/quiz/src/Plugin/Action/QuizAddQuestionAction.php
modules/contrib/quiz/tests/src/Functional/QuizQuestionTestBase.php
modules/contrib/quiz/src/Plugin/QuizQuestionInterface.php
modules/contrib/quiz/src/Plugin/QuizQuestionPluginBase.php
modules/contrib/quiz/src/Plugin/QuizQuestionPluginManager.php
modules/contrib/quiz/tests/src/Functional/QuizCreationTest.php
modules/contrib/quiz/tests/src/Functional/QuizRandomTest.php
modules/contrib/quiz/src/Plugin/views/field/QuizResultAnswerField.php
modules/contrib/quiz/tests/src/Functional/QuizDeleteTest.php
modules/contrib/quiz/tests/src/Functional/QuizEvaluationTest.php
modules/contrib/quiz/tests/src/Functional/QuizRepeatUntilCorrectTest.php
modules/contrib/quiz/tests/src/Functional/QuizFeedbackTest.php
modules/contrib/quiz/src/Plugin/views/field/QuizResultAnswersField.php
modules/contrib/quiz/src/QuizAnswerInterface.php
modules/contrib/quiz/src/QuizQuestionInterface.php
modules/contrib/quiz/src/Services/QuizSession.php
modules/contrib/quiz/tests/src/Functional/QuizResultBundleTest.php
modules/contrib/quiz/quiz.rules_defaults.inc
modules/contrib/quiz/src/Services/QuizSessionInterface.php
modules/contrib/quiz/src/Storage/QuizStorage.php
modules/contrib/quiz/tests/src/Functional/QuizResultPruningTest.php
modules/contrib/quiz/src/Entity/QuizResultAnswer.php
modules/contrib/quiz/tests/src/Functional/QuizGradingTest.php
modules/contrib/quiz/src/Util/QuizUtil.php
modules/contrib/quiz/src/Entity/QuizResultAnswerBroken.php
modules/contrib/quiz/src/Entity/QuizResultAnswerEntityTrait.php
modules/contrib/quiz/src/View/QuizResultAnswerViewBuilder.php
modules/contrib/quiz/src/Entity/QuizFeedbackType.php
modules/contrib/quiz/src/Entity/QuizResultAnswerType.php
modules/contrib/quiz/src/Entity/QuizResultListBuilder.php
modules/contrib/quiz/src/Entity/QuizQuestion.php
modules/contrib/quiz/src/Entity/QuizResultType.php
modules/contrib/quiz/src/Entity/QuizType.php
modules/contrib/quiz/src/Entity/QuizViewsData.php
modules/contrib/quiz/src/EventSubscriber/QuizEventSubscriber.php
modules/contrib/quiz/src/Entity/QuizQuestionBroken.php
modules/contrib/quiz/src/Form/QuizAdminForm.php
modules/contrib/quiz/src/View/QuizResultViewBuilder.php
modules/contrib/quiz/tests/src/Functional/QuizResultTest.php
modules/contrib/quiz/src/Form/QuizEntityForm.php
modules/contrib/quiz/src/View/QuizViewBuilder.php
modules/contrib/quiz/src/Form/QuizFeedbackConditionsForm.php
modules/contrib/quiz/question_types/quiz_multichoice/src/Plugin/quiz/QuizQuestion/MultichoiceResponse.php
modules/contrib/quiz/src/Form/QuizFeedbackTypeForm.php
modules/contrib/quiz/src/Form/QuizJumperForm.php
modules/contrib/quiz/src/Form/QuizQuestionAnsweringForm.php
modules/contrib/quiz/tests/src/Functional/QuizResumeTest.php
modules/contrib/quiz/question_types/quiz_multichoice/tests/src/Functional/QuizMultichoiceTestCase.php
modules/contrib/quiz/tests/src/Functional/QuizRevisioningTest.php
modules/contrib/quiz/src/Form/QuizQuestionEntityForm.php
modules/contrib/quiz/tests/src/Functional/QuizShuffleTest.php
modules/contrib/quiz/tests/src/Functional/QuizTakingTest.php
modules/contrib/quiz/question_types/quiz_page/quiz_page.module
modules/contrib/quiz/question_types/quiz_page/src/Plugin/quiz/QuizQuestion/QuizPageQuestion.php
modules/contrib/quiz/question_types/quiz_page/src/Plugin/quiz/QuizQuestion/QuizPageResponse.php
modules/contrib/quiz/question_types/quiz_page/tests/src/Functional/QuizPageTestCase.php
modules/contrib/quiz/tests/src/Functional/QuizTestBase.php
modules/contrib/quiz/tests/src/Functional/QuizTimerTest.php
modules/contrib/quiz/tests/src/Kernel/ContextProvider/QuizContextTest.php
modules/contrib/quiz/tests/src/Traits/QuizTestTrait.php

35 files with changes
=====================

1) modules/contrib/quiz/question_types/quiz_long_answer/tests/src/Functional/LongAnswerTestCase.php:54

    ---------- begin diff ----------
@@ @@
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 'the number two really is ridiculous',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 0%');
+    $this->assertSession()->pageTextContains('Your score: 0%');
     // Strange behavior - extra spacing in the HTML.
     //$this->assertText('Score ? of 10');
-    $this->assertText('This answer has not yet been scored.');
-    $this->assertNoFieldByName('question[0][score]');
-    $this->assertNoFieldByName('question[1][score]');
+    $this->assertSession()->pageTextContains('This answer has not yet been scored.');
+    $this->assertSession()->fieldValueNotEquals('question[0][score]', '');
+    $this->assertSession()->fieldValueNotEquals('question[1][score]', '');
     $url_of_result = $this->getUrl();

     // Test grading the question.
@@ @@
       "question[1][answer_feedback][format]" => 'basic_html',
       "question[2][answer_feedback][format]" => 'basic_html',
     ], $this->t('Save score'));
-    $this->assertText('The scoring data you provided has been saved.');
+    $this->assertSession()->pageTextContains('The scoring data you provided has been saved.');

     // Test the score and feedback are visible to the user.
     $this->drupalLogin($this->user);
     $this->drupalGet($url_of_result);
-    $this->assertText('You got 10 of 20 possible points.');
-    $this->assertText('Your score: 50%');
+    $this->assertSession()->pageTextContains('You got 10 of 20 possible points.');
+    $this->assertSession()->pageTextContains('Your score: 50%');
     // Strange behavior - extra spacing in the HTML.
     //$this->assertText('Score 3 of 10');
     //$this->assertText('Score 7 of 10');
-    $this->assertText('Feedback for answer 1.');
-    $this->assertText('Feedback for answer 2.');
+    $this->assertSession()->pageTextContains('Feedback for answer 1.');
+    $this->assertSession()->pageTextContains('Feedback for answer 2.');
   }

   /**
@@ @@
     // Login as a user and check the result.
     $this->drupalLogin($this->admin);
     $this->drupalGet("quiz/{$quiz->id()}/result/1");
-    $this->assertText('&lt;img src', 'Plain text rubric image tag did not get rendered on page');
-    $this->assertNoText('findmeRubricFiltered', 'Filtered text rubric image tag got stripped');
-    $this->assertText('findmeAnswerPlaintext', 'Plain text answer image tag did not get rendered on page');
-    $this->assertNoText('findmeAnswerFiltered', 'Filtered text answer image tag got stripped');
+    $this->assertSession()->pageTextContains('&lt;img src');
+    $this->assertSession()->pageTextNotContains('findmeRubricFiltered');
+    $this->assertSession()->pageTextContains('findmeAnswerPlaintext');
+    $this->assertSession()->pageTextNotContains('findmeAnswerFiltered');
   }

   /**
@@ @@
     ], $this->t('Finish'));

     $this->drupalGet("quiz/{$quiz->id()}/quiz-result-export-test");
-    $this->assertText('um some rule, I forget');
+    $this->assertSession()->pageTextContains('um some rule, I forget');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertNoFieldByNameRector
 * AssertNoTextRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/quiz/modules/quiz_stats/quiz_stats.module:88

    ---------- begin diff ----------
@@ @@
  * Implements hook_theme().
  */
 function quiz_stats_theme() {
-  $path = drupal_get_path('module', 'quiz_stats') . '/theme';
+  $path = \Drupal::service('extension.list.module')->getPath('quiz_stats') . '/theme';
   return [
     'quiz_stats_get_basic_stats' => [
       'variables' => ['results' => NULL],
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


3) modules/contrib/quiz/modules/quiz_stats/quiz_stats.admin.inc:70

    ---------- begin diff ----------
@@ @@
  */
 function quiz_stats_get_adv_stats($vid, $uid = 0) {
   $charts = [];
-  drupal_add_css(drupal_get_path('module', 'quiz_stats') . '/quiz_stats.css', ['type' => 'file', 'weight' => CSS_THEME]);
+  drupal_add_css(\Drupal::service('extension.list.module')->getPath('quiz_stats') . '/quiz_stats.css', ['type' => 'file', 'weight' => CSS_THEME]);
   $charts['takeup'] = _get_date_vs_takeup_count_chart($vid, $uid);
   // Line chart/graph showing quiz takeup date along x-axis and count along
   // y-axis.
@@ @@
     $header['attempt_count'] = t('Attempts');
   }

-  $p = drupal_get_path('module', 'quiz_stats');
+  $p = \Drupal::service('extension.list.module')->getPath('quiz_stats');
   $chart_icon = theme('image', [
     'path' => "$p/chart.png",
     'width' => t('Charts'),
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


4) modules/contrib/quiz/question_types/quiz_directions/tests/src/Functional/QuizDirectionsTestCase.php:40

    ---------- begin diff ----------
@@ @@

     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz->id()}/take");
-    $this->assertText('QD 1 body text.');
+    $this->assertSession()->pageTextContains('QD 1 body text.');

     return $question;
   }
    ----------- end diff -----------

Applied rules:
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/quiz/question_types/quiz_matching/tests/src/Functional/MatchingTestCase.php:69

    ---------- begin diff ----------
@@ @@

     // Test that question appears in lists.
     $this->drupalGet("quiz/{$quiz_node->id()}/questions");
-    $this->assertText('MA 1 title');
+    $this->assertSession()->pageTextContains('MA 1 title');

     // Login as non-admin.
     $this->drupalLogin($this->user);
@@ @@

     // Take the quiz.
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertNoText('MA 1 title');
-    $this->assertText('MA 1 body text');
-    $this->assertText('MAQ 1');
-    $this->assertText('MAQ 2');
-    $this->assertText('MAQ 3');
-    $this->assertText('MAA 1');
-    $this->assertText('MAA 2');
-    $this->assertText('MAA 3');
+    $this->assertSession()->pageTextNotContains('MA 1 title');
+    $this->assertSession()->pageTextContains('MA 1 body text');
+    $this->assertSession()->pageTextContains('MAQ 1');
+    $this->assertSession()->pageTextContains('MAQ 2');
+    $this->assertSession()->pageTextContains('MAQ 3');
+    $this->assertSession()->pageTextContains('MAA 1');
+    $this->assertSession()->pageTextContains('MAA 2');
+    $this->assertSession()->pageTextContains('MAA 3');

     // Test validation.
     $this->submitForm([], $this->t('Finish'));
-    $this->assertText('You need to match at least one of the items.');
+    $this->assertSession()->pageTextContains('You need to match at least one of the items.');

     // Test correct question.
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
@@ @@
     //$this->assertText('MAF 1');
     //$this->assertText('MAF 2');
     //$this->assertText('MAF 3');
-    $this->assertText('You got 3 of 3 possible points.');
+    $this->assertSession()->pageTextContains('You got 3 of 3 possible points.');

     // Test incorrect question.
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
@@ @@
     //$this->assertText('MAF 2');
     // The behavior right now is that all the feedback shows.
     //$this->assertText('MAF 3');
-    $this->assertText('You got 2 of 3 possible points.');
+    $this->assertSession()->pageTextContains('You got 2 of 3 possible points.');
   }

   /**
@@ @@
       "question[{$question_node->id()}][answer][user_answer][2]" => 1,
       "question[{$question_node->id()}][answer][user_answer][3]" => 3,
     ], $this->t('Finish'));
-    $this->assertText('You got 1 of 3 possible points.');
+    $this->assertSession()->pageTextContains('You got 1 of 3 possible points.');
   }

   /**
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/quiz/question_types/quiz_short_answer/tests/src/Functional/ShortAnswerTestCase.php:58

    ---------- begin diff ----------
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 'This is an incorrect answer.',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 0%');
+    $this->assertSession()->pageTextContains('Your score: 0%');

     // Test correct.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 'the Zero One Infinity rule',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 100%');
+    $this->assertSession()->pageTextContains('Your score: 100%');

     // Test correct.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 'the zero one Infinity rule',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 100%');
+    $this->assertSession()->pageTextContains('Your score: 100%');
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 'the zero one Infinity rule',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 0%');
+    $this->assertSession()->pageTextContains('Your score: 0%');

     // Test correct.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 'the Zero One Infinity rule',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 100%');
+    $this->assertSession()->pageTextContains('Your score: 100%');
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 'um some rule, I forget',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 0%');
+    $this->assertSession()->pageTextContains('Your score: 0%');

     // Test correct.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 'the answer is the zero one infinity rule',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 100%');
+    $this->assertSession()->pageTextContains('Your score: 100%');
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 'the number two really is ridiculous',
     ], $this->t('Finish'));
-    $this->assertText('Your score: 0%');
+    $this->assertSession()->pageTextContains('Your score: 0%');
     // Strange behavior - extra spaces in HTML.
     //$this->assertText('Score ? of 10');
-    $this->assertText('This answer has not yet been scored.');
-    $this->assertNoFieldByName('question[1][score]');
-    $this->assertNoFieldByName('question[2][score]');
-    $this->assertNoFieldByName('question[1][answer_feedback][value]');
-    $this->assertNoFieldByName('question[2][answer_feedback][value]');
-    $this->assertNoRaw($this->t('Save score'));
+    $this->assertSession()->pageTextContains('This answer has not yet been scored.');
+    $this->assertSession()->fieldValueNotEquals('question[1][score]', '');
+    $this->assertSession()->fieldValueNotEquals('question[2][score]', '');
+    $this->assertSession()->fieldValueNotEquals('question[1][answer_feedback][value]', '');
+    $this->assertSession()->fieldValueNotEquals('question[2][answer_feedback][value]', '');
+    $this->assertSession()->responseNotContains($this->t('Save score'));
     $url_of_result = $this->getUrl();

     // Test grading the question.
@@ @@
     $this->drupalLogin($this->admin);
     $this->drupalGet('admin/quiz/reports/unevaluated');
     $this->clickLink($this->t('Score'));
-    $this->assertFieldByName('question[1][score]');
-    $this->assertFieldByName('question[2][score]');
+    $this->assertSession()->fieldExists('question[1][score]');
+    $this->assertSession()->fieldExists('question[2][score]');
     $this->submitForm([
       "question[1][score]" => 2,
       "question[2][score]" => 3,
@@ @@
       "question[1][answer_feedback][format]" => 'basic_html',
       "question[2][answer_feedback][format]" => 'basic_html',
     ], $this->t('Save score'));
-    $this->assertText('The scoring data you provided has been saved.');
+    $this->assertSession()->pageTextContains('The scoring data you provided has been saved.');

     // Test the score is visible to the user.
     $this->drupalLogin($this->user);
     $this->drupalGet($url_of_result);
-    $this->assertText('You got 5 of 10 possible points.');
-    $this->assertText('Your score: 50%');
+    $this->assertSession()->pageTextContains('You got 5 of 10 possible points.');
+    $this->assertSession()->pageTextContains('Your score: 50%');
     // Strange behavior - extra spaces in HTML.
     //$this->assertText('Score 2 of 5');
     //$this->assertText('Score 3 of 5');
-    $this->assertText('Feedback for answer 1.');
-    $this->assertText('Feedback for answer 2.');
+    $this->assertSession()->pageTextContains('Feedback for answer 1.');
+    $this->assertSession()->pageTextContains('Feedback for answer 2.');
   }

   /**
@@ @@
     ], $this->t('Finish'));

     $this->drupalGet("quiz/{$quiz->id()}/quiz-result-export-test");
-    $this->assertText('um some rule, I forget');
+    $this->assertSession()->pageTextContains('um some rule, I forget');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertFieldByNameRector
 * AssertNoFieldByNameRector
 * AssertNoRawRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


7) modules/contrib/quiz/quiz.admin.inc:28

    ---------- begin diff ----------
@@ @@
 function quiz_set_auto_title() {
   $max_length = \Drupal::config('quiz.settings')->get('autotitle_length', 50);
   drupal_add_js(['quiz_max_length' => $max_length], ['type' => 'setting']);
-  drupal_add_js(drupal_get_path('module', 'quiz') . '/js/quiz.auto-title.js');
+  drupal_add_js(\Drupal::service('extension.list.module')->getPath('quiz') . '/js/quiz.auto-title.js');
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


8) modules/contrib/quiz/question_types/quiz_truefalse/tests/src/Functional/QuizTrueFalseTestCase.php:47

    ---------- begin diff ----------
@@ @@

     // Test that question appears in lists.
     $this->drupalGet("quiz/{$quiz->id()}/questions");
-    $this->assertText('TF 1 title');
+    $this->assertSession()->pageTextContains('TF 1 title');

     // Login as non-admin.
     $this->drupalLogin($this->user);
@@ @@

     // Take the quiz.
     $this->drupalGet("quiz/{$quiz->id()}/take");
-    $this->assertNoText('TF 1 title');
-    $this->assertText('TF 1 body text');
-    $this->assertText('True');
-    $this->assertText('False');
+    $this->assertSession()->pageTextNotContains('TF 1 title');
+    $this->assertSession()->pageTextContains('TF 1 body text');
+    $this->assertSession()->pageTextContains('True');
+    $this->assertSession()->pageTextContains('False');

     // Test validation.
     $this->submitForm([], $this->t('Finish'));
-    $this->assertText('You must provide an answer.');
+    $this->assertSession()->pageTextContains('You must provide an answer.');

     // Test correct question.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You got 1 of 1 possible points.');
+    $this->assertSession()->pageTextContains('You got 1 of 1 possible points.');

     // Test incorrect question.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 0,
     ], $this->t('Finish'));
-    $this->assertText('You got 0 of 1 possible points.');
+    $this->assertSession()->pageTextContains('You got 0 of 1 possible points.');
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertRaw('quiz-score-icon correct');
-    $this->assertRaw('quiz-score-icon should');
+    $this->assertSession()->responseContains('quiz-score-icon correct');
+    $this->assertSession()->responseContains('quiz-score-icon should');
     // Take the quiz.
     $this->drupalGet("quiz/{$quiz->id()}/take");
     $this->submitForm([
       "question[{$question->id()}][answer]" => 0,
     ], $this->t('Finish'));
-    $this->assertRaw('quiz-score-icon incorrect');
-    $this->assertRaw('quiz-score-icon should');
+    $this->assertSession()->responseContains('quiz-score-icon incorrect');
+    $this->assertSession()->responseContains('quiz-score-icon should');
   }

   /**
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertRawRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


9) modules/contrib/quiz/tests/src/Functional/QuizGradingTest.php:68

    ---------- begin diff ----------
@@ @@
     $this->submitForm([
       "question[{$question3->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You got 20 of 26 possible points.');
+    $this->assertSession()->pageTextContains('You got 20 of 26 possible points.');

     $quiz_result = QuizResult::load(1);
     $layout = $quiz_result->getLayout();

     // Make sure the values in the database are correct.
-    $this->assertEqual($layout[1]->get('points_awarded')->getString(), 0);
-    $this->assertEqual($layout[2]->get('points_awarded')->getString(), 0);
-    $this->assertEqual($layout[3]->get('points_awarded')->getString(), 20);
-    $this->assertEqual($layout[1]->get('is_correct')->getString(), 0);
-    $this->assertEqual($layout[2]->get('is_correct')->getString(), 0);
-    $this->assertEqual($layout[3]->get('is_correct')->getString(), 1);
+    $this->assertEquals($layout[1]->get('points_awarded')->getString(), 0);
+    $this->assertEquals($layout[2]->get('points_awarded')->getString(), 0);
+    $this->assertEquals($layout[3]->get('points_awarded')->getString(), 20);
+    $this->assertEquals($layout[1]->get('is_correct')->getString(), 0);
+    $this->assertEquals($layout[2]->get('is_correct')->getString(), 0);
+    $this->assertEquals($layout[3]->get('is_correct')->getString(), 1);

     // Total score is 20/26.
-    $this->assertEqual($quiz_result->get('score')->getString(), 77);
+    $this->assertEquals($quiz_result->get('score')->getString(), 77);
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You got 3 of 10 possible points.');
+    $this->assertSession()->pageTextContains('You got 3 of 10 possible points.');

     // Test grading the question.
     $this->drupalLogin($this->admin);
@@ @@
     $quiz_result = QuizResult::load(1);
     $layout = $quiz_result->getLayout();

-    $this->assertEqual($layout[1]->get('points_awarded')->getString(), 3);
-    $this->assertEqual($layout[2]->get('points_awarded')->getString(), 3);
+    $this->assertEquals($layout[1]->get('points_awarded')->getString(), 3);
+    $this->assertEquals($layout[2]->get('points_awarded')->getString(), 3);

     // We got 3 + 3 points out of 10.
     // Unweighted we would have received 2.14 + 1 point.
-    $this->assertEqual($quiz_result->get('score')->getString(), 60);
+    $this->assertEquals($quiz_result->get('score')->getString(), 60);
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


10) modules/contrib/quiz/tests/src/Functional/QuizFeedbackTest.php:65

    ---------- begin diff ----------
@@ @@

       // As long as there is some feedback there should be a question title
       // header.
-      $this->assertText('Question 1');
-      $this->assertNoText('Question 2');
+      $this->assertSession()->pageTextContains('Question 1');
+      $this->assertSession()->pageTextNotContains('Question 2');

-      $this->assertRaw('<th>' . $text . '</th>');
+      $this->assertSession()->responseContains('<th>' . $text . '</th>');
       foreach ($review_options as $option2 => $text2) {
         if ($option != $option2) {
-          $this->assertNoRaw('<th>' . $text2 . '</th>');
+          $this->assertSession()->responseNotContains('<th>' . $text2 . '</th>');
         }
       }
     }
@@ @@

     // Check that we can access the feedback for the final question before quiz
     // feedback is shown. Verify the first question feedback is not shown.
-    $this->assertNoText('Question 1');
-    $this->assertText('Question 2');
+    $this->assertSession()->pageTextNotContains('Question 1');
+    $this->assertSession()->pageTextContains('Question 2');

     // Press the finish button on the last question's feedback page.
     $this->submitForm([
@@ @@

       // Verify both questions appear. As long as there is some feedback there
       //should be a question title header.
-      $this->assertText('Question 1');
-      $this->assertText('Question 2');
+      $this->assertSession()->pageTextContains('Question 1');
+      $this->assertSession()->pageTextContains('Question 2');

-      $this->assertRaw('<th>' . $text . '</th>');
+      $this->assertSession()->responseContains('<th>' . $text . '</th>');
       foreach ($review_options as $option2 => $text2) {
         if ($option != $option2) {
-          $this->assertNoRaw('<th>' . $text2 . '</th>');
+          $this->assertSession()->responseNotContains('<th>' . $text2 . '</th>');
         }
       }
     }
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Next'));
-    $this->assertNoText('Feedback for TF test.');
+    $this->assertSession()->pageTextNotContains('Feedback for TF test.');
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('Feedback for TF test.');
+    $this->assertSession()->pageTextContains('Feedback for TF test.');
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You have finished this Quiz');
+    $this->assertSession()->pageTextContains('You have finished this Quiz');
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertNoText('TF 1 body text');
+    $this->assertSession()->pageTextNotContains('TF 1 body text');

     // Test full feedback.
     $quiz->review_options = ['end' => ['quiz_question_view_full' => 'quiz_question_view_full']];
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('TF 1 body text');
+    $this->assertSession()->pageTextContains('TF 1 body text');
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertNoText('Correct answer');
+    $this->assertSession()->pageTextNotContains('Correct answer');

     // Take again.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('Correct answer');
+    $this->assertSession()->pageTextContains('Correct answer');
   }

   /**
    ----------- end diff -----------

Applied rules:
 * AssertNoRawRector
 * AssertNoTextRector
 * AssertRawRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


11) modules/contrib/quiz/tests/src/Functional/QuizCreationTest.php:22

    ---------- begin diff ----------
@@ @@
     $this->drupalGet("quiz/add/quiz");

     // These are the basic system defaults.
-    $this->assertFieldChecked('edit-allow-resume-value');
-    $this->assertFieldChecked('edit-allow-skipping-value');
-    $this->assertNoFieldChecked('edit-allow-jumping-value');
-    $this->assertFieldChecked('edit-allow-change-value');
-    $this->assertFieldChecked('edit-backwards-navigation-value');
-    $this->assertNoFieldChecked('edit-repeat-until-correct-value');
-    $this->assertNoFieldChecked('edit-mark-doubtful-value');
-    $this->assertFieldChecked('edit-show-passed-value');
-    $this->assertFieldChecked('edit-status-value');
+    $this->assertSession()->checkboxChecked('edit-allow-resume-value');
+    $this->assertSession()->checkboxChecked('edit-allow-skipping-value');
+    $this->assertSession()->checkboxNotChecked('edit-allow-jumping-value');
+    $this->assertSession()->checkboxChecked('edit-allow-change-value');
+    $this->assertSession()->checkboxChecked('edit-backwards-navigation-value');
+    $this->assertSession()->checkboxNotChecked('edit-repeat-until-correct-value');
+    $this->assertSession()->checkboxNotChecked('edit-mark-doubtful-value');
+    $this->assertSession()->checkboxChecked('edit-show-passed-value');
+    $this->assertSession()->checkboxChecked('edit-status-value');

     $this->submitForm([
       'title[0][value]' => 'Test quiz creation',
       'body[0][value]' => 'Test quiz description',
     ], $this->t('Save'));
-    $this->assertText('Manage questions');
+    $this->assertSession()->pageTextContains('Manage questions');
   }

   /**
@@ @@

     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz->id()}/take");
-    $this->assertText('TF 1');
+    $this->assertSession()->pageTextContains('TF 1');
     $this->drupalGet("quiz/{$new_quiz->id()}/take");
-    $this->assertText('TF 1');
+    $this->assertSession()->pageTextContains('TF 1');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertFieldCheckedRector
 * AssertNoFieldCheckedRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


12) modules/contrib/quiz/tests/src/Functional/QuizCategorizedRandomTest.php:128

    ---------- begin diff ----------
@@ @@
     ])->id();

     $list = $quiz->buildLayout();
-    $this->assertEqual(count($list), 4, 'Quiz had 4 questions.');
+    $this->assertEquals(count($list), 4, 'Quiz had 4 questions.');
     foreach ($list as $qinfo) {
       $qq_ids[] = $qinfo['qqid'];
     }
-    $this->assertEqual(count(array_intersect($qq_ids, $questions)), 4, 'Questions were from the terms excluding 2.');
+    $this->assertEquals(count(array_intersect($qq_ids, $questions)), 4, 'Questions were from the terms excluding 2.');

     // Test number of questions.
     $num_questions = $quiz->getNumberOfQuestions();
-    $this->assertEqual($num_questions, 4);
+    $this->assertEquals($num_questions, 4);

     // Start the quiz.
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz->id()}/take");
-    $this->assertText('Page 1 of 4');
+    $this->assertSession()->pageTextContains('Page 1 of 4');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


13) modules/contrib/quiz/tests/src/Functional/QuizBuildOnLastTest.php:70

    ---------- begin diff ----------
@@ @@
     $this->submitForm([
       'build_on_last' => 'correct',
     ], $this->t('Start @quiz', ['@quiz' => QuizUtil::getQuizName()]));
-    $this->assertFieldChecked("edit-question-{$question1->id()}-answer-1");
+    $this->assertSession()->checkboxChecked("edit-question-{$question1->id()}-answer-1");
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Next'));
-    $this->assertNoFieldChecked("edit-question-{$question2->id()}-answer-1");
+    $this->assertSession()->checkboxNotChecked("edit-question-{$question2->id()}-answer-1");
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 0,
     ], $this->t('Next'));
-    $this->assertFieldChecked("edit-question-{$question3->id()}-answer-1");
+    $this->assertSession()->checkboxChecked("edit-question-{$question3->id()}-answer-1");
     $this->submitForm([
       "question[{$question3->id()}][answer]" => 1,
     ], $this->t('Next'));
-    $this->assertNoFieldChecked("edit-question-{$question4->id()}-answer-1");
+    $this->assertSession()->checkboxNotChecked("edit-question-{$question4->id()}-answer-1");
     $this->submitForm([
       "question[{$question4->id()}][answer]" => 0,
     ], $this->t('Finish'));
@@ @@
     $this->submitForm([
       'build_on_last' => 'all',
     ], $this->t('Start @quiz', ['@quiz' => QuizUtil::getQuizName()]));
-    $this->assertNoFieldChecked("edit-question-{$question1->id()}-answer-1");
-    $this->assertNoFieldChecked("edit-question-{$question1->id()}-answer-0");
+    $this->assertSession()->checkboxNotChecked("edit-question-{$question1->id()}-answer-1");
+    $this->assertSession()->checkboxNotChecked("edit-question-{$question1->id()}-answer-0");
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Next'));
-    $this->assertFieldChecked("edit-question-{$question2->id()}-answer-0");
+    $this->assertSession()->checkboxChecked("edit-question-{$question2->id()}-answer-0");
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 0,
     ], $this->t('Next'));
-    $this->assertFieldChecked("edit-question-{$question3->id()}-answer-1");
+    $this->assertSession()->checkboxChecked("edit-question-{$question3->id()}-answer-1");
     $this->submitForm([
       "question[{$question3->id()}][answer]" => 1,
     ], $this->t('Next'));
-    $this->assertFieldChecked("edit-question-{$question4->id()}-answer-0");
+    $this->assertSession()->checkboxChecked("edit-question-{$question4->id()}-answer-0");
     $this->submitForm([
       "question[{$question4->id()}][answer]" => 0,
     ], $this->t('Finish'));
    ----------- end diff -----------

Applied rules:
 * AssertFieldCheckedRector
 * AssertNoFieldCheckedRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


14) modules/contrib/quiz/tests/src/Functional/QuizAnonymousTest.php:66

    ---------- begin diff ----------
@@ @@
       "question[{$question2->id()}][answer]" => 1,
     ], $this->t('Finish'));

-    $this->assertText('You got 1 of 2 possible points.');
-    $this->assertText('Your score: 50%');
+    $this->assertSession()->pageTextContains('You got 1 of 2 possible points.');
+    $this->assertSession()->pageTextContains('Your score: 50%');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


15) modules/contrib/quiz/tests/src/Functional/QuizAccessTest.php:78

    ---------- begin diff ----------
@@ @@
     $this->drupalLogin($other);
     // Check unevaluated quiz results view.
     $this->drupalGet("user/{$other->id()}/quiz-result-score");
-    $this->assertNoLink($this->t('Score'));
+    $this->assertSession()->linkNotExists($this->t('Score'));
     $this->drupalGet("quiz/{$quiz->id()}/result/1/edit");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);

     // Score.
     $this->drupalLogin($grader);
    ----------- end diff -----------

Applied rules:
 * AssertNoLinkRector
 * AssertResponseRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


16) modules/contrib/quiz/src/View/QuizResultAnswerViewBuilder.php:59

    ---------- begin diff ----------
@@ @@
               $build[$reviewType] = [
                 '#title' => $label,
                 '#type' => 'item',
-                '#markup' => render($row[$reviewType]),
+                '#markup' => \Drupal::service('renderer')->render($row[$reviewType]),
               ];
             }
           }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


17) modules/contrib/quiz/src/Util/QuizUtil.php:81

    ---------- begin diff ----------
@@ @@
     }

     if (!empty($options['path'])) {
-      $options['path'] = drupal_get_path('module', 'quiz') . '/images/' . $options['path'];
+      $options['path'] = \Drupal::service('extension.list.module')->getPath('quiz') . '/images/' . $options['path'];
     }
     if (!empty($options['alt'])) {
       $options['title'] = $options['alt'];
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


18) modules/contrib/quiz/src/Form/QuizQuestionsForm.php:409

    ---------- begin diff ----------
@@ @@
           '#theme' => 'indentation',
           '#size' => 1,
         ];
-        $table[$id]['title']['#prefix'] = render($indentation);
+        $table[$id]['title']['#prefix'] = \Drupal::service('renderer')->render($indentation);
       }
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


19) modules/contrib/quiz/question_types/quiz_page/tests/src/Functional/QuizPageTestCase.php:79

    ---------- begin diff ----------
@@ @@
       switch ($qnr_id) {
         case 1:
         case 2:
-          $this->assertEqual($rel->qqr_pid, 4);
+          $this->assertEquals($rel->qqr_pid, 4);
           break;

         case 3:
-          $this->assertEqual($rel->qqr_pid, 5);
+          $this->assertEquals($rel->qqr_pid, 5);
           break;

         case 4:
@@ @@
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     // Questions 1 and 2 are present. Question 3 is hidden.
-    $this->assertFieldByName("question[{$question_node1->id()}][answer]");
-    $this->assertFieldByName("question[{$question_node2->id()}][answer]");
-    $this->assertNoFieldByName("question[{$question_node3->id()}][answer]");
+    $this->assertSession()->fieldExists("question[{$question_node1->id()}][answer]");
+    $this->assertSession()->fieldExists("question[{$question_node2->id()}][answer]");
+    $this->assertSession()->fieldValueNotEquals("question[{$question_node3->id()}][answer]", '');
     $this->submitForm([
       "question[{$question_node1->id()}][answer]" => 1,
       "question[{$question_node2->id()}][answer]" => 1,
     ], $this->t('Next'));
     // Questions 1 and 2 are gone. Question 3 is present.
-    $this->assertNoFieldByName("question[{$question_node1->id()}][answer]");
-    $this->assertNoFieldByName("question[{$question_node2->id()}][answer]");
-    $this->assertFieldByName("question[{$question_node3->id()}][answer]");
+    $this->assertSession()->fieldValueNotEquals("question[{$question_node1->id()}][answer]", '');
+    $this->assertSession()->fieldValueNotEquals("question[{$question_node2->id()}][answer]", '');
+    $this->assertSession()->fieldExists("question[{$question_node3->id()}][answer]");
     $this->submitForm([
       "question[{$question_node3->id()}][answer]" => 1,
     ], $this->t('Finish'));

     // Check that the results page contains all the questions.
-    $this->assertText('You got 3 of 3 possible points.');
-    $this->assertText('TF 1 body text');
-    $this->assertText('TF 2 body text');
-    $this->assertText('TF 3 body text');
+    $this->assertSession()->pageTextContains('You got 3 of 3 possible points.');
+    $this->assertSession()->pageTextContains('TF 1 body text');
+    $this->assertSession()->pageTextContains('TF 2 body text');
+    $this->assertSession()->pageTextContains('TF 3 body text');

     foreach (QuizResult::loadMultiple() as $quiz_result) {
       $quiz_result->delete();
@@ @@
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     // Questions 1 and 2 are present. Question 3 is hidden.
-    $this->assertText("Page 1 of 2");
-    $this->assertFieldByName("question[{$question_node1->id()}][answer]");
-    $this->assertFieldByName("question[{$question_node2->id()}][answer]");
-    $this->assertNoFieldByName("question[{$question_node3->id()}][answer]");
+    $this->assertSession()->pageTextContains("Page 1 of 2");
+    $this->assertSession()->fieldExists("question[{$question_node1->id()}][answer]");
+    $this->assertSession()->fieldExists("question[{$question_node2->id()}][answer]");
+    $this->assertSession()->fieldValueNotEquals("question[{$question_node3->id()}][answer]", '');
     $this->submitForm([
       "question[{$question_node1->id()}][answer]" => 1,
       "question[{$question_node2->id()}][answer]" => 1,
@@ @@
     ], $this->t('Next'));

     // Questions 1 and 2 are gone. Question 3 is present.
-    $this->assertText("Page 2 of 2");
-    $this->assertNoFieldByName("question[{$question_node1->id()}][answer]");
-    $this->assertNoFieldByName("question[{$question_node2->id()}][answer]");
-    $this->assertFieldByName("question[{$question_node3->id()}][answer]");
+    $this->assertSession()->pageTextContains("Page 2 of 2");
+    $this->assertSession()->fieldValueNotEquals("question[{$question_node1->id()}][answer]", '');
+    $this->assertSession()->fieldValueNotEquals("question[{$question_node2->id()}][answer]", '');
+    $this->assertSession()->fieldExists("question[{$question_node3->id()}][answer]");

     // Test backwards navigation.
     $this->submitForm([
     ], $this->t('Back'));
-    $this->assertText("Page 1 of 2");
+    $this->assertSession()->pageTextContains("Page 1 of 2");
     $this->submitForm([
     ], $this->t('Next'));

@@ @@
       "question[{$question_node2->id()}][answer]" => 1,
     ], $this->t('Next'));

-    $this->assertText('This is the feedback for question 1.');
-    $this->assertText('This is the feedback for question 2.');
-    $this->assertNoText('This is the feedback for question 3.');
+    $this->assertSession()->pageTextContains('This is the feedback for question 1.');
+    $this->assertSession()->pageTextContains('This is the feedback for question 2.');
+    $this->assertSession()->pageTextNotContains('This is the feedback for question 3.');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AssertFieldByNameRector
 * AssertNoFieldByNameRector
 * AssertNoTextRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


20) modules/contrib/quiz/question_types/quiz_multichoice/tests/src/Functional/QuizMultichoiceTestCase.php:87

    ---------- begin diff ----------
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer][user_answer]" => 2,
     ], $this->t('Finish'));
-    $this->assertPattern('/quiz-score-icon selected/', 'Found selected answer.');
-    $this->assertPattern('/quiz-score-icon should/', 'Found should answer.');
-    $this->assertPattern('/quiz-score-icon incorrect/', 'Found incorrect answer.');
-    $this->assertText('You did not choose A');
-    $this->assertText('You chose B');
-    $this->assertText('You did not choose C');
+    $this->assertSession()->responseMatches('/quiz-score-icon selected/', 'Found selected answer.');
+    $this->assertSession()->responseMatches('/quiz-score-icon should/', 'Found should answer.');
+    $this->assertSession()->responseMatches('/quiz-score-icon incorrect/', 'Found incorrect answer.');
+    $this->assertSession()->pageTextContains('You did not choose A');
+    $this->assertSession()->pageTextContains('You chose B');
+    $this->assertSession()->pageTextContains('You did not choose C');
   }

   /**
@@ @@
       "question[{$question->id()}][answer][user_answer][3]" => 3,
     ], $this->t('Finish'));
     // 0 of 1, because user picked a correct answer and an incorrect answer.
-    $this->assertText('You got 0 of 1 possible points.');
-    $this->assertText('Your score: 0%');
+    $this->assertSession()->pageTextContains('You got 0 of 1 possible points.');
+    $this->assertSession()->pageTextContains('Your score: 0%');

     $this->drupalGet("quiz/{$quiz->id()}/take");
     $this->submitForm([
@@ @@
       "question[{$question->id()}][answer][user_answer][1]" => 1,
     ], $this->t('Finish'));
     // 1 of 1, because user picked a correct answer and not an incorrect answer.
-    $this->assertText('You got 1 of 1 possible points.');
-    $this->assertText('Your score: 100%');
+    $this->assertSession()->pageTextContains('You got 1 of 1 possible points.');
+    $this->assertSession()->pageTextContains('Your score: 100%');
   }

   /**
@@ @@
       "question[{$question->id()}][answer][user_answer][1]" => 1,
     ], $this->t('Next'));
     $this->drupalGet("quiz/{$quiz->id()}/take/1");
-    $this->assertFieldChecked('edit-question-1-answer-user-answer-1');
+    $this->assertSession()->checkboxChecked('edit-question-1-answer-user-answer-1');
   }

   /**
@@ @@
       "question[{$question->id()}][answer][user_answer]" => 1,
     ], $this->t('Next'));
     $this->drupalGet("quiz/{$quiz->id()}/take/1");
-    $this->assertFieldChecked('edit-question-1-answer-user-answer-1');
+    $this->assertSession()->checkboxChecked('edit-question-1-answer-user-answer-1');
   }

   /**
@@ @@
       "question[{$question->id()}][answer][user_answer][1]" => 1,
       "question[{$question->id()}][answer][user_answer][3]" => 3,
     ], $this->t('Finish'));
-    $this->assertText('You got 0 of 1 possible points.');
-    $this->assertText('Your score: 0%');
+    $this->assertSession()->pageTextContains('You got 0 of 1 possible points.');
+    $this->assertSession()->pageTextContains('Your score: 0%');
     // Get the last result and make sure it is 0%.
     $efq = \Drupal::entityQuery('quiz_result');
     $result = $efq->range(0, 1)
@@ @@
       "question[{$question->id()}][answer][user_answer][1]" => 1,
       "question[{$question->id()}][answer][user_answer][2]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You got 1 of 1 possible points.');
-    $this->assertText('Your score: 100%');
+    $this->assertSession()->pageTextContains('You got 1 of 1 possible points.');
+    $this->assertSession()->pageTextContains('Your score: 100%');

     // Get the last result and make sure it is 100%, not 200%.
     $efq = \Drupal::entityQuery('quiz_result');
    ----------- end diff -----------

Applied rules:
 * AssertFieldCheckedRector
 * AssertPatternRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


21) modules/contrib/quiz/question_types/quiz_multichoice/src/Plugin/quiz/QuizQuestion/MultichoiceQuestion.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\quiz_multichoice\Plugin\quiz\QuizQuestion;

+use Drupal\Core\Url;
 use Drupal;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\paragraphs\Entity\Paragraph;
@@ @@
       }
     }
     if ($num_corrects == 1 && $this->get('choice_multi')->value == 1 || $num_corrects > 1 && $this->get('choice_multi')->value == 0) {
-      $go_back = Drupal\Core\Url::fromRoute('entity.quiz_question.canonical',  ['quiz_question' => $this->id()])->toString();
+      $go_back = Url::fromRoute('entity.quiz_question.canonical',  ['quiz_question' => $this->id()])->toString();
       if ($num_corrects == 1) {
         Drupal::messenger()->addWarning(
           $this->t("Your question allows multiple answers. Only one of the alternatives have been marked as correct. If this wasn't intended please <a href=\"@go_back\">go back</a> and correct it.", ['@go_back' => $go_back]), 'warning');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


22) modules/contrib/quiz/tests/src/Functional/QuizTimerTest.php:47

    ---------- begin diff ----------
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Next'));
-    $this->assertNoText($this->t('The last answer was not submitted, as the time ran out.'));
+    $this->assertSession()->pageTextNotContains($this->t('The last answer was not submitted, as the time ran out.'));
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 1,
     ], $this->t('Next'));
-    $this->assertNoText($this->t('The last answer was not submitted, as the time ran out.'));
+    $this->assertSession()->pageTextNotContains($this->t('The last answer was not submitted, as the time ran out.'));

     // Set the quiz result to have started 31 seconds ago.
     \Drupal::database()
@@ @@
     $this->submitForm([
       "question[{$question3->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText($this->t('The last answer was not submitted, as the time ran out.'));
-    $this->assertText('You got 2 of 3 possible points.');
+    $this->assertSession()->pageTextContains($this->t('The last answer was not submitted, as the time ran out.'));
+    $this->assertSession()->pageTextContains('You got 2 of 3 possible points.');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


23) modules/contrib/quiz/tests/src/Functional/QuizTestBase.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp($admin_permissions = [], $user_permissions = []) {
+  public function setUp($admin_permissions = [], $user_permissions = []): void {
     parent::setUp();

     $admin_permissions[] = 'administer quiz configuration';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


24) modules/contrib/quiz/tests/src/Functional/QuizTakingTest.php:37

    ---------- begin diff ----------
@@ @@
       ],
     ]);
     $this->drupalGet("quiz/{$quiz_node_open->id()}");
-    $this->assertNoText($this->t('This @quiz is closed.', ['@quiz' => QuizUtil::getQuizName()]));
-    $this->assertNoText($this->t('You are not allowed to take this @quiz.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextNotContains($this->t('This @quiz is closed.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextNotContains($this->t('You are not allowed to take this @quiz.', ['@quiz' => QuizUtil::getQuizName()]));

     // Starts in the future.
     $quiz_node_future = $this->createQuiz([
@@ @@
       ],
     ]);
     $this->drupalGet("quiz/{$quiz_node_future->id()}");
-    $this->assertText($this->t('This @quiz is not yet open.', ['@quiz' => QuizUtil::getQuizName()]));
-    $this->assertNoText($this->t('You are not allowed to take this @quiz.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextContains($this->t('This @quiz is not yet open.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextNotContains($this->t('You are not allowed to take this @quiz.', ['@quiz' => QuizUtil::getQuizName()]));
     $this->drupalGet("quiz/{$quiz_node_future->id()}/take");
-    $this->assertText($this->t('This @quiz is not yet open.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextContains($this->t('This @quiz is not yet open.', ['@quiz' => QuizUtil::getQuizName()]));

     // Ends in the past.
     $quiz_node_past = $this->createQuiz([
@@ @@
       ],
     ]);
     $this->drupalGet("quiz/{$quiz_node_past->id()}");
-    $this->assertText($this->t('This @quiz is closed.', ['@quiz' => QuizUtil::getQuizName()]));
-    $this->assertNoText($this->t('You are not allowed to take this @quiz.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextContains($this->t('This @quiz is closed.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextNotContains($this->t('You are not allowed to take this @quiz.', ['@quiz' => QuizUtil::getQuizName()]));
     $this->drupalGet("quiz/{$quiz_node_past->id()}/take");
-    $this->assertText($this->t('This @quiz is closed.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextContains($this->t('This @quiz is closed.', ['@quiz' => QuizUtil::getQuizName()]));

     // Always available.
     $quiz = $this->createQuiz([]);
     $this->drupalGet("quiz/{$quiz->id()}");
-    $this->assertNoText($this->t('This @quiz is closed.', ['@quiz' => QuizUtil::getQuizName()]));
-    $this->assertNoText($this->t('You are not allowed to take this @quiz.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextNotContains($this->t('This @quiz is closed.', ['@quiz' => QuizUtil::getQuizName()]));
+    $this->assertSession()->pageTextNotContains($this->t('You are not allowed to take this @quiz.', ['@quiz' => QuizUtil::getQuizName()]));
   }

   /**
@@ @@

     $this->drupalLogin($this->user);
     $this->drupalGet("quiz-question/{$question1->id()}");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);

     $user_with_privs = $this->drupalCreateUser([
       'view any quiz_question',
@@ @@
     ]);
     $this->drupalLogin($user_with_privs);
     $this->drupalGet("quiz-question/{$question1->id()}");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
   }

   /**
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 0,
     ], $this->t('Next'));
-    $this->assertText('Score: 0 of 1');
+    $this->assertSession()->pageTextContains('Score: 0 of 1');

     // Go back and correct the answer.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Next'));
-    $this->assertText('Score: 1 of 1');
+    $this->assertSession()->pageTextContains('Score: 1 of 1');

     // Go back and incorrect the answer.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
@@ @@
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 0,
     ], $this->t('Next'));
-    $this->assertText('Score: 0 of 1');
+    $this->assertSession()->pageTextContains('Score: 0 of 1');

     $quiz_node->set('allow_change', 0);
     $quiz_node->save();
@@ @@
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
     $this->assertSession()->fieldDisabled('edit-question-1-answer-1');
     $this->submitForm([], $this->t('Next'));
-    $this->assertText('Score: 0 of 1');
+    $this->assertSession()->pageTextContains('Score: 0 of 1');

     // Check allow change/blank behavior.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
@@ @@

     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}");
-    $this->assertText('You can only take this Quiz 2 times. You have taken it 1 time.');
+    $this->assertSession()->pageTextContains('You can only take this Quiz 2 times. You have taken it 1 time.');

     $quiz_node->set('show_attempt_stats', 0)->save();

     $this->drupalGet("quiz/{$quiz_node->id()}");
-    $this->assertNoText('You can only take this Quiz 2 times. You have taken it 1 time.');
+    $this->assertSession()->pageTextNotContains('You can only take this Quiz 2 times. You have taken it 1 time.');
   }

   public function testQuizMaxAttempts() {
@@ @@

     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}");
-    $this->assertText('You can only take this Quiz 2 times. You have taken it 1 time.');
+    $this->assertSession()->pageTextContains('You can only take this Quiz 2 times. You have taken it 1 time.');
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 0,
@@ @@

     // Make sure we can get back.
     $this->drupalGet("quiz/{$quiz_node->id()}");
-    $this->assertNoText('You can only take this Quiz 2 times. You have taken it 1 time.');
+    $this->assertSession()->pageTextNotContains('You can only take this Quiz 2 times. You have taken it 1 time.');
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
     $this->submitForm([
       "question[{$question2->id()}][answer]" => 0,
@@ @@

     // No more attempts.
     $this->drupalGet("quiz/{$quiz_node->id()}");
-    $this->assertText('You have already taken this Quiz 2 times. You may not take it again.');
+    $this->assertSession()->pageTextContains('You have already taken this Quiz 2 times. You may not take it again.');
   }

   /**
@@ @@
       "question[{$question2->id()}][answer]" => 1,
     ], $this->t('Finish'));

-    $this->assertText("Your score: 100%");
+    $this->assertSession()->pageTextContains("Your score: 100%");
   }

   /**
@@ @@
     $this->drupalGet("quiz/{$quiz_node->id()}");

     // @todo check the pager, this isn't reliable
-    $this->assertText("4");
+    $this->assertSession()->pageTextContains("4");
   }

   /**
@@ @@

     // Ensure it is on truefalse.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
-    $this->assertField("edit-question-{$question1->id()}-is-doubtful");
+    $this->assertSession()->fieldExists("edit-question-{$question1->id()}-is-doubtful");

     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
@@ @@
     ], $this->t('Next'));
     // Go back and verify it was saved.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
-    $this->assertFieldChecked("edit-question-{$question1->id()}-is-doubtful");
+    $this->assertSession()->checkboxChecked("edit-question-{$question1->id()}-is-doubtful");

     // Ensure it is not on quiz directions.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertNoField("edit-question-{$question2->id()}-is-doubtful");
+    $this->assertSession()->fieldNotExists("edit-question-{$question2->id()}-is-doubtful");
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertFieldCheckedRector
 * AssertFieldRector
 * AssertNoFieldRector
 * AssertNoTextRector
 * AssertResponseRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


25) modules/contrib/quiz/tests/src/Functional/QuizShuffleTest.php:67

    ---------- begin diff ----------
@@ @@
     }

     // Check that at least one of the orders is different.
-    $this->assertNotEqual(count(array_unique($out)), 1, $this->t('At least one set of questions was different.'));
+    $this->assertNotEquals(count(array_unique($out)), 1, $this->t('At least one set of questions was different.'));

     // Start the quiz.
     $this->drupalLogin($this->user);
@@ @@
     }

     // Check that at least one of the orders is different.
-    $this->assertNotEqual(count(array_unique($out)), 1, $this->t('At least one set of questions was different.'));
+    $this->assertNotEquals(count(array_unique($out)), 1, $this->t('At least one set of questions was different.'));

     // Start the quiz, make sure the questions stayed put on their pages.
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz->id()}/take");
-    $this->assertText('TF 1 body text');
-    $this->assertText('TF 2 body text');
-    $this->assertText('TF 3 body text');
-    $this->assertNoText('TF 4 body text');
-    $this->assertNoText('TF 5 body text');
+    $this->assertSession()->pageTextContains('TF 1 body text');
+    $this->assertSession()->pageTextContains('TF 2 body text');
+    $this->assertSession()->pageTextContains('TF 3 body text');
+    $this->assertSession()->pageTextNotContains('TF 4 body text');
+    $this->assertSession()->pageTextNotContains('TF 5 body text');

     // We know the 3 questions on the page.
     $this->submitForm([
@@ @@
       "question[{$question3->id()}][answer]" => TRUE,
     ], $this->t('Next'));

-    $this->assertNoText('TF 1 body text');
-    $this->assertNoText('TF 2 body text');
-    $this->assertNoText('TF 3 body text');
-    $this->assertText('TF 4 body text');
-    $this->assertText('TF 5 body text');
+    $this->assertSession()->pageTextNotContains('TF 1 body text');
+    $this->assertSession()->pageTextNotContains('TF 2 body text');
+    $this->assertSession()->pageTextNotContains('TF 3 body text');
+    $this->assertSession()->pageTextContains('TF 4 body text');
+    $this->assertSession()->pageTextContains('TF 5 body text');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertNotEqualRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


26) modules/contrib/quiz/tests/src/Functional/QuizRevisioningTest.php:38

    ---------- begin diff ----------
@@ @@
     // Check for first revision.
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertText("Revision 1");
+    $this->assertSession()->pageTextContains("Revision 1");

     // Attempt to update question. We have to create a new revision.
     $this->drupalLogin($this->admin);
     $this->drupalGet("quiz-question/{$question->id()}/edit");
-    $this->assertText('Warning: This question has attempts.');
+    $this->assertSession()->pageTextContains('Warning: This question has attempts.');
     $this->submitForm([
     ], $this->t('Save'));
-    $this->assertText('Create new revision field is required.');
+    $this->assertSession()->pageTextContains('Create new revision field is required.');
     $this->submitForm([
       'title[0][value]' => 'Revision 2',
       'body[0][value]' => 'Revision 2',
@@ @@
     // As the quiz taker, finish out the attempt.
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertText("Revision 1");
+    $this->assertSession()->pageTextContains("Revision 1");
     $this->submitForm([
       "question[{$question->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You got 1 of 1 possible points.');
-    $this->assertText('Question feedback for Revision 1');
+    $this->assertSession()->pageTextContains('You got 1 of 1 possible points.');
+    $this->assertSession()->pageTextContains('Question feedback for Revision 1');

     // Take quiz again. Should be on SAME revision of the question. We have not
     // yet updated the Quiz with the new revision of the Question.
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertText("Revision 1");
+    $this->assertSession()->pageTextContains("Revision 1");

     // We have an updated question and one Quiz revision with an attempt. We
     // need to update the quiz to use the new question. But there are attempts
@@ @@
     // on the quiz. Update the quiz to use the latest revision.
     $this->drupalLogin($this->admin);
     $this->drupalGet("quiz/{$quiz_node->id()}/questions");
-    $this->assertText('This quiz has been answered.');
+    $this->assertSession()->pageTextContains('This quiz has been answered.');
     $this->clickLink('create a new revision');
-    $this->assertText('Warning: This quiz has attempts.');
+    $this->assertSession()->pageTextContains('Warning: This quiz has attempts.');
     $this->submitForm([
       'revision' => TRUE,
     ], $this->t('Save'));
-    $this->assertNoText('This quiz has been answered.');
+    $this->assertSession()->pageTextNotContains('This quiz has been answered.');
     $this->submitForm([
       "question_list[{$question->getRevisionId()}][question_vid]" => TRUE,
     ], $this->t('Submit'));
@@ @@
     // this attempt.
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertText("Revision 1");
+    $this->assertSession()->pageTextContains("Revision 1");
     // Finish the attempt.
     $this->submitForm([
       "question[{$question->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You got 1 of 1 possible points.');
-    $this->assertText('Question feedback for Revision 1');
+    $this->assertSession()->pageTextContains('You got 1 of 1 possible points.');
+    $this->assertSession()->pageTextContains('Question feedback for Revision 1');

     // Take quiz again we should be on the new result, finally.
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertText("Revision 2");
+    $this->assertSession()->pageTextContains("Revision 2");
     // Finish the attempt.
     $this->submitForm([
       "question[{$question->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You got 0 of 1 possible points.');
-    $this->assertText('Question feedback for Revision 2');
+    $this->assertSession()->pageTextContains('You got 0 of 1 possible points.');
+    $this->assertSession()->pageTextContains('Question feedback for Revision 2');

     // Check admin override.
     $mega_admin = $this->createUser([
@@ @@
     $quiz_node = $this->linkQuestionToQuiz($question_node);

     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertText("Revision 1");
+    $this->assertSession()->pageTextContains("Revision 1");
     // Finish the attempt.
     $this->submitForm([
       "question[{$question_node->id()}][answer]" => 1,
@@ @@

     // Check blocked access to update quiz and question.
     $this->drupalGet("quiz/{$quiz_node->id()}/edit");
-    $this->assertText('You must delete all attempts on this quiz before editing.');
+    $this->assertSession()->pageTextContains('You must delete all attempts on this quiz before editing.');
     $this->assertSession()
       ->elementAttributeExists('css', '#edit-submit', 'disabled');

     $this->drupalGet("quiz-question/{$question_node->id()}/edit");
-    $this->assertText('You must delete all attempts on this question before editing.');
+    $this->assertSession()->pageTextContains('You must delete all attempts on this question before editing.');
     $this->assertSession()
       ->elementAttributeExists('css', '#edit-submit', 'disabled');

@@ @@
     $this->drupalLogin($mega_admin);

     $this->drupalGet("quiz/{$quiz_node->id()}/edit");
-    $this->assertText('You should delete all attempts on this quiz before editing.');
+    $this->assertSession()->pageTextContains('You should delete all attempts on this quiz before editing.');
     $this->submitForm([
     ], $this->t('Save'));

     $this->drupalGet("quiz-question/{$question_node->id()}/edit");
-    $this->assertText('You should delete all attempts on this question before editing.');
+    $this->assertSession()->pageTextContains('You should delete all attempts on this question before editing.');
     $this->submitForm([
     ], $this->t('Save'));
   }
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


27) modules/contrib/quiz/tests/src/Functional/QuizResumeTest.php:39

    ---------- begin diff ----------
@@ @@
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
@@ @@
     // Login again.
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertText('Resuming');
+    $this->assertSession()->pageTextContains('Resuming');

     // We should have been advanced to the next question.
-    $this->assertUrl("quiz/{$quiz_node->id()}/take/2");
+    $this->assertSession()->addressEquals("quiz/{$quiz_node->id()}/take/2");

     // Assert 2nd question is accessible (indicating the answer to #1 was
     // saved.)
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
   }

   /**
@@ @@
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
     $this->submitForm([
       "question[{$question1->id()}][answer]" => 1,
@@ @@
     // Login again.
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertNoText('Resuming');
+    $this->assertSession()->pageTextNotContains('Resuming');

     // Assert 2nd question is not accessible (indicating the answer to #1 was
     // not saved.)
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertResponseRector
 * AssertTextRector
 * AssertUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


28) modules/contrib/quiz/tests/src/Functional/QuizResultTest.php:101

    ---------- begin diff ----------
@@ @@
     $this->submitForm([
       "question[{$question3->id()}][answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertText('You got 90 or more on the quiz');
-    $this->assertText('This is the summary if passed');
-    $this->assertNoText('This is the default summary text');
+    $this->assertSession()->pageTextContains('You got 90 or more on the quiz');
+    $this->assertSession()->pageTextContains('This is the summary if passed');
+    $this->assertSession()->pageTextNotContains('This is the default summary text');

     // Test 66%.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question3->id()}][answer]" => 0,
     ], $this->t('Finish'));
-    $this->assertText('You got between 50 and 89');
-    $this->assertNoText('This is the summary if passed');
-    $this->assertText('This is the default summary text');
+    $this->assertSession()->pageTextContains('You got between 50 and 89');
+    $this->assertSession()->pageTextNotContains('This is the summary if passed');
+    $this->assertSession()->pageTextContains('This is the default summary text');

     // Test 33%.
     $this->drupalGet("quiz/{$quiz->id()}/take");
@@ @@
     $this->submitForm([
       "question[{$question3->id()}][answer]" => 0,
     ], $this->t('Finish'));
-    $this->assertText('You failed bro');
-    $this->assertNoText('This is the summary if passed');
-    $this->assertText('This is the default summary text');
+    $this->assertSession()->pageTextContains('You failed bro');
+    $this->assertSession()->pageTextNotContains('This is the summary if passed');
+    $this->assertSession()->pageTextContains('This is the default summary text');
   }

   /**
@@ @@
     $resultsUrl = $this->getUrl();

     $this->drupalGet($resultsUrl);
-    $this->assertResponse(200, $this->t('User can view own result'));
+    $this->assertSession()->statusCodeEquals(200, $this->t('User can view own result'));
     $this->drupalLogout();
     $this->drupalGet($resultsUrl);
     $this->assertSession()->statusCodeEquals(403);
@@ @@

     // Verify the user's answer appears on our modified report.
     $this->drupalGet("quiz/{$quiz->id()}/quiz-result-export-test");
-    $this->assertText('1. MCQ 1 Title');
-    $this->assertText('This is the A answer');
-    $this->assertNoText('This is the B answer');
+    $this->assertSession()->pageTextContains('1. MCQ 1 Title');
+    $this->assertSession()->pageTextContains('This is the A answer');
+    $this->assertSession()->pageTextNotContains('This is the B answer');
   }

   /**
@@ @@

     // And there should not be a fatal error.
     $this->drupalGet("quiz/{$quiz_node->id()}/result/1");
-    $this->assertResponse(200, 'Saw the results page.');
+    $this->assertSession()->statusCodeEquals(200, 'Saw the results page.');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertResponseRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


29) modules/contrib/quiz/tests/src/Functional/QuizResultPruningTest.php:72

    ---------- begin diff ----------
@@ @@

     // Storing all results.
     $results = QuizResult::loadMultiple();
-    $this->assertEqual(count($results), 2, 'Found 2 quiz results.');
+    $this->assertEquals(count($results), 2, 'Found 2 quiz results.');

     $quiz_node->keep_results = Quiz::KEEP_LATEST;
     $quiz_node->save();
@@ @@
     $results = Drupal::entityTypeManager()
       ->getStorage('quiz_result')
       ->loadByProperties(['is_invalid' => 1]);
-    $this->assertEqual(count($results), 2, 'Found 2 invalid quiz results');
+    $this->assertEquals(count($results), 2, 'Found 2 invalid quiz results');

     // We should only have one valid 50% result.
     $results = Drupal::entityTypeManager()
       ->getStorage('quiz_result')
       ->loadByProperties(['is_invalid' => 0]);
-    $this->assertEqual(count($results), 1, 'Found only one quiz result');
+    $this->assertEquals(count($results), 1, 'Found only one quiz result');
     $quiz_result = reset($results);
-    $this->assertEqual($quiz_result->get('score')->value, 50, 'Quiz result was 50%');
+    $this->assertEquals($quiz_result->get('score')->value, 50, 'Quiz result was 50%');

     $quiz_node->keep_results = Quiz::KEEP_BEST;
     $quiz_node->save();
@@ @@
       "question[{$question4->id()}][answer]" => 0,
     ], $this->t('Finish'));

-    $this->assertText('Your previous score on this Quiz was equal or better. This result will not be saved.');
+    $this->assertSession()->pageTextContains('Your previous score on this Quiz was equal or better. This result will not be saved.');

     // We should now have 3 invalid results.
     $results = Drupal::entityTypeManager()
       ->getStorage('quiz_result')
       ->loadByProperties(['is_invalid' => 1]);
-    $this->assertEqual(count($results), 3, 'Found 3 invalid quiz results');
+    $this->assertEquals(count($results), 3, 'Found 3 invalid quiz results');

     // And since we failed we should still have a valid 50% result.
     $results = Drupal::entityTypeManager()
@@ @@
       ->loadByProperties(['is_invalid' => 0]);
     $this->assertTrue(count($results) == 1, 'Found only one quiz result');
     $quiz_result = reset($results);
-    $this->assertEqual($quiz_result->get('score')->value, 50, 'Quiz score was 50%');
+    $this->assertEquals($quiz_result->get('score')->value, 50, 'Quiz score was 50%');

     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     $this->submitForm([
@@ @@
     $results = Drupal::entityTypeManager()
       ->getStorage('quiz_result')
       ->loadByProperties(['is_invalid' => 1]);
-    $this->assertEqual(count($results), 4, 'Found 4 invalid quiz results');
+    $this->assertEquals(count($results), 4, 'Found 4 invalid quiz results');

     // And we should have one valid 75% result.
     $results = Drupal::entityTypeManager()
       ->getStorage('quiz_result')
       ->loadByProperties(['is_invalid' => 0]);
-    $this->assertEqual(count($results), 1, 'Found only one quiz result');
+    $this->assertEquals(count($results), 1, 'Found only one quiz result');
     $quiz_result = reset($results);
-    $this->assertEqual($quiz_result->get('score')->value, 75, 'Quiz score was 75%');
+    $this->assertEquals($quiz_result->get('score')->value, 75, 'Quiz score was 75%');

     $config = \Drupal::service('config.factory')->getEditable('quiz.settings');

@@ @@
     $results = Drupal::entityTypeManager()
       ->getStorage('quiz_result')
       ->loadByProperties(['is_invalid' => 1]);
-    $this->assertEqual(count($results), 4, 'Found 4 invalid quiz results');
+    $this->assertEquals(count($results), 4, 'Found 4 invalid quiz results');
     $results = Drupal::entityTypeManager()
       ->getStorage('quiz_result')
       ->loadByProperties(['is_invalid' => 0]);
-    $this->assertEqual(count($results), 1, 'Found only one quiz result');
+    $this->assertEquals(count($results), 1, 'Found only one quiz result');
     $quiz_result = reset($results);
-    $this->assertEqual($quiz_result->get('score')->value, 75, 'Quiz score was 75%');
+    $this->assertEquals($quiz_result->get('score')->value, 75, 'Quiz score was 75%');

     // Set quiz_remove_invalid_quiz_record with a negative value to ensure
     // purging invalid results and run the cron itself. After this purge we
@@ @@
     $this->cronRun();

     $results = QuizResult::loadMultiple();
-    $this->assertEqual(count($results), 1, 'Found only one quiz result');
+    $this->assertEquals(count($results), 1, 'Found only one quiz result');
     $quiz_result = reset($results);
-    $this->assertEqual($quiz_result->get('score')->value, 75, 'Quiz score was 75%');
-    $this->assertEqual($quiz_result->get('is_invalid')->value, 0, 'Quiz score was valid');
+    $this->assertEquals($quiz_result->get('score')->value, 75, 'Quiz score was 75%');
+    $this->assertEquals($quiz_result->get('is_invalid')->value, 0, 'Quiz score was valid');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


30) modules/contrib/quiz/tests/src/Functional/QuizResultBundleTest.php:64

    ---------- begin diff ----------
@@ @@

     // Check if field shows up and user is not yet started.
     $this->drupalGet("quiz/{$quizNodeA->id()}/take");
-    $this->assertFieldById('edit-quiz-result-field-a-0-value');
+    $this->assertSession()->fieldValueEquals('edit-quiz-result-field-a-0-value', '');

     // We haven't submitted the form so we should not have a Quiz result yet.
     $quiz_result = $quizNodeA->getResumeableResult($this->user);
@@ @@
     // Submit the form.
     $this->submitForm([], $this->t('Start Quiz'));
     // Check that we hooked into Form API correctly.
-    $this->assertText('field is required');
+    $this->assertSession()->pageTextContains('field is required');

     // SUbmit the form with data.
     $this->submitForm(['quiz_result_field_a[0][value]' => 'test 123'], $this->t('Start Quiz'));
     $this->assertNotEmpty($quizNodeA->getResumeableResult($this->user), $this->t('Found quiz result.'));
     // Check the result exists now.
-    $this->assertText('Question 1');
+    $this->assertSession()->pageTextContains('Question 1');
   }

   /**
@@ @@

     // Check if field shows up and user is not yet started.
     $this->drupalGet("quiz/{$quizNodeA->id()}/take");
-    $this->assertFieldById('edit-result-field-a-0-value');
-    $this->assertNoFieldById('edit-result-field-b-0-value');
+    $this->assertSession()->fieldValueEquals('edit-result-field-a-0-value', '');
+    $this->assertSession()->fieldValueNotEquals('edit-result-field-b-0-value', '');
     $results = Drupal::entityQuery('quiz_result')
       ->condition('qid', $quizNodeA->id())
       ->condition('uid', $this->user->id())
@@ @@
     $this->submitForm([], $this->t('Start Quiz'));

     // Check that form API is working.
-    $this->assertText('field is required');
+    $this->assertSession()->pageTextContains('field is required');
     $this->submitForm(['result_field_a[0][value]' => 'test 123'], $this->t('Start Quiz'));

     // Check that a different field is on quiz B.
     $this->drupalGet("quiz/{$quizNodeB->id()}/take");
-    $this->assertFieldById('edit-result-field-b-0-value');
-    $this->assertNoFieldById('edit-result-field-a-0-value');
+    $this->assertSession()->fieldValueEquals('edit-result-field-b-0-value', '');
+    $this->assertSession()->fieldValueNotEquals('edit-result-field-a-0-value', '');

     // Mark field B to not show on result.
     $instanceb->setThirdPartySetting('quiz', 'show_field', FALSE);
     $instanceb->save();
     $this->drupalGet("quiz/{$quizNodeB->id()}/take");
-    $this->assertNoFieldById('edit-result-field-a-0-value');
-    $this->assertNoFieldById('edit-result-field-b-0-value');
+    $this->assertSession()->fieldValueNotEquals('edit-result-field-a-0-value', '');
+    $this->assertSession()->fieldValueNotEquals('edit-result-field-b-0-value', '');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertFieldByIdRector
 * AssertNoFieldByIdRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


31) modules/contrib/quiz/tests/src/Functional/QuizRepeatUntilCorrectTest.php:71

    ---------- begin diff ----------
@@ @@
     $this->submitForm([
       "question[{$question->id()}][answer][user_answer]" => 2,
     ], $this->t('Finish'));
-    $this->assertText('The answer was incorrect. Please try again.');
-    $this->assertText('You chose B');
+    $this->assertSession()->pageTextContains('The answer was incorrect. Please try again.');
+    $this->assertSession()->pageTextContains('You chose B');

     // Check that we are still on the question.
-    $this->assertUrl("quiz/{$quiz->id()}/take/1");
+    $this->assertSession()->addressEquals("quiz/{$quiz->id()}/take/1");
     $this->submitForm([
       "question[{$question->id()}][answer][user_answer]" => 1,
     ], $this->t('Finish'));
-    $this->assertNoText('The answer was incorrect. Please try again.');
+    $this->assertSession()->pageTextNotContains('The answer was incorrect. Please try again.');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertTextRector
 * AssertUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


32) modules/contrib/quiz/tests/src/Functional/QuizRandomTest.php:69

    ---------- begin diff ----------
@@ @@

     for ($i = 1; $i <= 10; $i++) {
       $questions = $quiz->buildLayout();
-      $this->assertEqual(count($questions), 3, $this->t('Quiz has 3 questions.'));
+      $this->assertEquals(count($questions), 3, $this->t('Quiz has 3 questions.'));
       // Concatenate question IDs to build a hash to check.
       $out[$i] = '';
       foreach ($questions as $question) {
         $out[$i] .= $question['qqid'];
       }
-      $this->assert(strpos($out[$i], $question['qqid']) !== FALSE, $this->t('Quiz always contains required question 1'));
+      $this->assertTrue(strpos($out[$i], $question['qqid']) !== FALSE, $this->t('Quiz always contains required question 1'));
     }

     // Also check that at least one of the orders is different.
-    $this->assertNotEqual(count(array_unique($out)), 1, $this->t('At least one set of questions were different.'));
+    $this->assertNotEquals(count(array_unique($out)), 1, $this->t('At least one set of questions were different.'));

     // Test number of questions.
     $num_questions = $quiz->getNumberOfQuestions();
-    $this->assertEqual($num_questions, 3);
+    $this->assertEquals($num_questions, 3);

     // Start the quiz.
     $this->drupalLogin($this->user);
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AssertNotEqualRector
 * AssertRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


33) modules/contrib/quiz/tests/src/Functional/QuizQuestionTestBase.php:28

    ---------- begin diff ----------
@@ @@
    *
    * @return void|false
    */
-  public function setUp($admin_permissions = [], $user_permissions = []) {
+  public function setUp($admin_permissions = [], $user_permissions = []): void {
     $admin_permissions[] = "create {$this->getQuestionType()} quiz_question";
     $admin_permissions[] = "update any {$this->getQuestionType()} quiz_question";
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


34) modules/contrib/quiz/tests/src/Functional/QuizQuestionNumberingTest.php:62

    ---------- begin diff ----------
@@ @@
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz->id()}/take");

-    $this->assertText("PG 1 body text");
+    $this->assertSession()->pageTextContains("PG 1 body text");

-    $this->assertText("Question 1");
-    $this->assertText("TF 1 body text");
+    $this->assertSession()->pageTextContains("Question 1");
+    $this->assertSession()->pageTextContains("TF 1 body text");

-    $this->assertText("Question 2");
-    $this->assertText("TF 2 body text");
+    $this->assertSession()->pageTextContains("Question 2");
+    $this->assertSession()->pageTextContains("TF 2 body text");

     // There we only 2 real questions. Verify another question is present
     // but we stopped numbering at 2.
-    $this->assertNoText("Question 3");
-    $this->assertText("QD 3 body text");
+    $this->assertSession()->pageTextNotContains("Question 3");
+    $this->assertSession()->pageTextContains("QD 3 body text");
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertNoTextRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


35) modules/contrib/quiz/tests/src/Functional/QuizNavigationTest.php:42

    ---------- begin diff ----------
@@ @@
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
-    $this->assertText("Page 1 of 3");
-    $this->assertResponse(200);
+    $this->assertSession()->pageTextContains("Page 1 of 3");
+    $this->assertSession()->statusCodeEquals(200);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/3");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);

     // Answer a question, ensure next question is available.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
@@ @@
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Next'));
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertText("Page 2 of 3");
-    $this->assertResponse(200);
+    $this->assertSession()->pageTextContains("Page 2 of 3");
+    $this->assertSession()->statusCodeEquals(200);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/3");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
   }

   /**
@@ @@
     // We should not have a selectbox
     $quiz_node->set('allow_jumping', 0)->save();
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertNoFieldById('edit-question-number', NULL);
+    $this->assertSession()->fieldNotExists('edit-question-number');

     // Now we should have a selectbox
     $quiz_node->set('allow_jumping', 1)->save();
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertFieldById('edit-question-number', NULL);
+    $this->assertSession()->fieldExists('edit-question-number');

     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/3");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);

     // We should have a selectbox right now.
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
-    $this->assertFieldById('edit-question-number', NULL);
+    $this->assertSession()->fieldExists('edit-question-number');
     // Check that the "first" pager link does not appear.
-    $this->assertNoLinkByHref("quiz/{$quiz_node->id()}/take/1");
+    $this->assertSession()->linkByHrefNotExists("quiz/{$quiz_node->id()}/take/1");

     // Test the switch between select/pager.
     $config = \Drupal::configFactory()->getEditable('quiz.settings');
@@ @@
     $config->set('pager_siblings', 2);
     $config->save();
     $this->drupalGet("quiz/{$quiz_node->id()}/take/3");
-    $this->assertNoFieldById('edit-question-number');
-    $this->assertNoLink('1');
-    $this->assertLinkByHref("quiz/{$quiz_node->id()}/take/2");
-    $this->assertNoLinkByHref("quiz/{$quiz_node->id()}/take/3");
-    $this->assertLinkByHref("quiz/{$quiz_node->id()}/take/4");
-    $this->assertNoLink('5');
+    $this->assertSession()->fieldValueNotEquals('edit-question-number', '');
+    $this->assertSession()->linkNotExists('1');
+    $this->assertSession()->linkByHrefExists("quiz/{$quiz_node->id()}/take/2");
+    $this->assertSession()->linkByHrefNotExists("quiz/{$quiz_node->id()}/take/3");
+    $this->assertSession()->linkByHrefExists("quiz/{$quiz_node->id()}/take/4");
+    $this->assertSession()->linkNotExists('5');
   }

   /**
@@ @@
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/3");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);

     // Leave a question blank.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
@@ @@
     $this->submitForm([], $this->t('Leave blank'));
     // Now question 2 is accessible.
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/3");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
   }

   /**
@@ @@
     $this->drupalLogin($this->user);
     $this->drupalGet("quiz/{$quiz_node->id()}/take");
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/3");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);

     // Answer a question, ensure next question is available. Ensure previous
     // question is not.
@@ @@
       "question[{$question1->id()}][answer]" => 1,
     ], $this->t('Next'));
     $this->drupalGet("quiz/{$quiz_node->id()}/take/2");
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
     $this->drupalGet("quiz/{$quiz_node->id()}/take/1");
-    $this->assertResponse(403);
+    $this->assertSession()->statusCodeEquals(403);
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertFieldByIdRector
 * AssertLinkByHrefRector
 * AssertNoFieldByIdRector
 * AssertNoLinkByHrefRector
 * AssertNoLinkRector
 * AssertResponseRector
 * AssertTextRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 35 files have been changed by Rector                                      

