diff --git a/src/Form/EndpointForm.php b/src/Form/EndpointForm.php
index eef709d..827d507 100644
--- a/src/Form/EndpointForm.php
+++ b/src/Form/EndpointForm.php
@@ -101,7 +101,7 @@ class EndpointForm extends ConfigFormBase {
    */
   public function submitForm(array &$form, FormStateInterface $form_state) {
     $file_data = $form_state->getValue('fid_logo_value');
-    $file = \Drupal\file\Entity\File::load( $file_data[0] );
+    $file = File::load( $file_data[0] );
     $file_name = $file->getFilename();
     $file->setPermanent();
     $file->save();
diff --git a/src/Plugin/Block/SubscribeNewsletterBlock.php b/src/Plugin/Block/SubscribeNewsletterBlock.php
index 4e0d06d..6374db1 100644
--- a/src/Plugin/Block/SubscribeNewsletterBlock.php
+++ b/src/Plugin/Block/SubscribeNewsletterBlock.php
@@ -31,7 +31,7 @@ class SubscribeNewsletterBlock extends BlockBase {
     $fid = $config->get('fid_logo');
     $file = File::load($fid);
     $file_uri = $file->getFileUri();
-    $file_path = file_create_url($file_uri);
+    $file_path = \Drupal::service('file_url_generator')->generateAbsoluteString($file_uri);
     
      $renderable = [
       '#theme' => 'subscribenewsletter_block',
diff --git a/subscribenewsletter.info.yml b/subscribenewsletter.info.yml
index d6edd75..5be716a 100644
--- a/subscribenewsletter.info.yml
+++ b/subscribenewsletter.info.yml
@@ -2,7 +2,7 @@ name: Subscribe Newsletter
 type: module
 description: 'A simple Subscribe Newsletter form'
 package: Subscribe Newsletter
-core_version_requirement: ^9
+core_version_requirement: ^9.3 || ^10
 
 # Information added by Drupal.org packaging script on 2021-08-23
 version: '1.0.0-beta1'
