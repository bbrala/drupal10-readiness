diff --git a/facebookoembed.info.yml b/facebookoembed.info.yml
index d0139df..762f4d9 100644
--- a/facebookoembed.info.yml
+++ b/facebookoembed.info.yml
@@ -1,11 +1,11 @@
-name: Facebook oEmbed Support
-description: Adds facebook video oEmbed support
-package: Media
-type: module
-# version: 1.0
-core_version_requirement: ^8.7.10 || ^9
-dependencies:
-  - drupal:media
+name: Facebook oEmbed Support
+description: Adds facebook video oEmbed support
+package: Media
+type: module
+# version: 1.0
+core_version_requirement: ^9.3 || ^10
+dependencies:
+  - drupal:media
 
 # Information added by Drupal.org packaging script on 2021-06-04
 version: '8.x-1.6'
diff --git a/src/FacebookoembedResourceFetcher.php b/src/FacebookoembedResourceFetcher.php
index 5bba1ea..748f78f 100644
--- a/src/FacebookoembedResourceFetcher.php
+++ b/src/FacebookoembedResourceFetcher.php
@@ -2,12 +2,13 @@
 
 namespace Drupal\facebookoembed;
 
+use Drupal\media\OEmbed\ResourceFetcher;
 use Drupal\media\OEmbed;
 use Drupal\Component\Serialization\Json;
 use GuzzleHttp\Exception\RequestException;
 use Drupal\media\OEmbed\ResourceException;
 
-class FacebookoembedResourceFetcher extends OEmbed\ResourceFetcher {
+class FacebookoembedResourceFetcher extends ResourceFetcher {
   private function getIdFromInput($url) {
     preg_match('/^https?:\/\/(www\.)?facebook.com\/([\w-\.]*\/videos\/|video\.php\?v\=)(?<id>[0-9]*)\/?$/', $url, $matches);
     if (!isset($matches['id'])) {
@@ -82,7 +83,7 @@ class FacebookoembedResourceFetcher extends OEmbed\ResourceFetcher {
 
 
 
-        $data["thumbnail_url"]=$base_url.'/'.drupal_get_path('module', 'facebookoembed')."/img/videothumb.png";
+        $data["thumbnail_url"]=$base_url.'/'.\Drupal::service('extension.list.module')->getPath('facebookoembed')."/img/videothumb.png";
         $imgdims=getimagesize($data["thumbnail_url"]);
         $data["thumbnail_width"]=$imgdims[0];
         $data["thumbnail_height"]=$imgdims[1];
diff --git a/src/FacebookoembedUrlResolver.php b/src/FacebookoembedUrlResolver.php
index 8964645..65fee6b 100644
--- a/src/FacebookoembedUrlResolver.php
+++ b/src/FacebookoembedUrlResolver.php
@@ -1,12 +1,13 @@
 <?php
 
 namespace Drupal\facebookoembed;
+use Drupal\media\OEmbed\UrlResolver;
 use Drupal\media\OEmbed;
 use Drupal\Component\Utility\UrlHelper;
 
 
 
-class FacebookoembedUrlResolver extends OEmbed\UrlResolver {
+class FacebookoembedUrlResolver extends UrlResolver {
 
 
   /**
