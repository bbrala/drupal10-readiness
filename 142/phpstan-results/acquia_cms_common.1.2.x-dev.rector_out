modules/contrib/acquia_cms_common/acquia_cms_common.module
modules/contrib/acquia_cms_common/src/AcmsModulesUninstallValidator.php
modules/contrib/acquia_cms_common/src/Services/ToggleModulesService.php
modules/contrib/acquia_cms_common/src/SubtypeBreadcrumb.php
modules/contrib/acquia_cms_common/src/AcquiaCmsCommonServiceProvider.php
modules/contrib/acquia_cms_common/src/Commands/AcmsCommands.php
modules/contrib/acquia_cms_common/tests/src/ExistingSite/ContentTypeListTestBase.php
modules/contrib/acquia_cms_common/src/Commands/AcmsConfigImportCommands.php
modules/contrib/acquia_cms_common/tests/src/Functional/BasicPermissionsTest.php
modules/contrib/acquia_cms_common/tests/src/Functional/ContentModelTestBase.php
modules/contrib/acquia_cms_common/tests/src/Functional/ContentTypeTestBase.php
modules/contrib/acquia_cms_common/src/Commands/Hooks.php
modules/contrib/acquia_cms_common/src/Commands/ToggleModules.php
modules/contrib/acquia_cms_common/src/Controller/CustomHttp4xxController.php
modules/contrib/acquia_cms_common/src/EventSubscriber/ConfigEventsSubscriber.php
modules/contrib/acquia_cms_common/src/Facade/MetatagFacade.php
modules/contrib/acquia_cms_common/src/Facade/SitemapFacade.php
modules/contrib/acquia_cms_common/src/Facade/WorkbenchEmailFacade.php
modules/contrib/acquia_cms_common/src/Facade/WorkflowFacade.php
modules/contrib/acquia_cms_common/src/Plugin/views/area/MainListingPagesView.php
modules/contrib/acquia_cms_common/src/ProxyClass/AcmsModulesUninstallValidator.php
modules/contrib/acquia_cms_common/src/Routing/RouteSubscriber.php
modules/contrib/acquia_cms_common/src/Services/AcmsUtilityService.php
modules/contrib/acquia_cms_common/tests/src/Functional/MediaTypeTestBase.php
modules/contrib/acquia_cms_common/tests/src/FunctionalJavascript/CkeditorConfigurationTest.php
modules/contrib/acquia_cms_common/tests/src/FunctionalJavascript/MediaEmbedTestBase.php
modules/contrib/acquia_cms_common/tests/src/Traits/AssertLinksTrait.php
modules/contrib/acquia_cms_common/tests/src/Traits/MediaTestTrait.php
modules/contrib/acquia_cms_common/tests/src/Traits/SetBackendAvailabilityTrait.php

3 files with changes
====================

1) modules/contrib/acquia_cms_common/acquia_cms_common.module:140

    ---------- begin diff ----------
@@ @@
         $wysiwyg_cache_token = \Drupal::keyValue('cohesion.wysiwyg_cache_token');
         $wysiwyg_cache_buster = $wysiwyg_cache_token->get('cache_token') ? '?_t=' . $wysiwyg_cache_token->get('cache_token') : '';
         // Reset and ckeditor specific styles.
-        $css[] = drupal_get_path('module', 'cohesion') . '/css/reset.css' . $wysiwyg_cache_buster;
-        $css[] = drupal_get_path('module', 'cohesion') . '/css/plugin-styles.css' . $wysiwyg_cache_buster;
+        $css[] = \Drupal::service('extension.list.module')->getPath('cohesion') . '/css/reset.css' . $wysiwyg_cache_buster;
+        $css[] = \Drupal::service('extension.list.module')->getPath('cohesion') . '/css/plugin-styles.css' . $wysiwyg_cache_buster;

         $default_theme_id = \Drupal::service('theme_handler')->getDefault();

@@ @@
           $css_theme_filename = \Drupal::service('cohesion.local_files_manager')
             ->getStyleSheetFilename('theme', $default_theme_id, TRUE);
           // Generated stylsheets.
-          $css[] = file_create_url($css_base_filename) . $wysiwyg_cache_buster;
-          $css[] = file_create_url($css_theme_filename) . $wysiwyg_cache_buster;
+          $css[] = \Drupal::service('file_url_generator')->generateAbsoluteString($css_base_filename) . $wysiwyg_cache_buster;
+          $css[] = \Drupal::service('file_url_generator')->generateAbsoluteString($css_theme_filename) . $wysiwyg_cache_buster;

         }
         // Add the body reset stylesheet.
-        $css[] = drupal_get_path('module', 'cohesion') . '/css/cohesion-body-reset.css' . $wysiwyg_cache_buster;
+        $css[] = \Drupal::service('extension.list.module')->getPath('cohesion') . '/css/cohesion-body-reset.css' . $wysiwyg_cache_buster;
       }
     }
     catch (\Exception $e) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector


2) modules/contrib/acquia_cms_common/src/Commands/AcmsConfigImportCommands.php:241

    ---------- begin diff ----------
@@ @@
     $acms_modules = $this->getAcmsModules();
     $acms_filtered_modules = [];
     foreach ($acms_modules as $module) {
-      $dir = drupal_get_path('module', $module);
+      $dir = \Drupal::service('extension.list.module')->getPath($module);
       $install = "$dir/config/install";
       $optional = "$dir/config/optional";
       if (is_dir($install) || is_dir($optional)) {
@@ @@
    */
   private function getConfigFiles(string $module): array {
     $config_files = [];
-    $source_install = drupal_get_path('module', $module) . '/config/install';
-    $source_optional = drupal_get_path('module', $module) . '/config/optional';
+    $source_install = \Drupal::service('extension.list.module')->getPath($module) . '/config/install';
+    $source_optional = \Drupal::service('extension.list.module')->getPath($module) . '/config/optional';

     // Get optional configuration list for specified module.
     $source_storage_dir = ConfigCommands::getDirectory(NULL, $source_optional);
@@ @@
    *   The array of site studio package.
    */
   private function getSiteStudioPackage(string $module): array {
-    $dir = drupal_get_path('module', $module);
+    $dir = \Drupal::service('extension.list.module')->getPath($module);
     $list = "$dir/config/dx8/packages.yml";
     if (file_exists($list)) {
       $list = file_get_contents($list);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/acquia_cms_common/tests/src/Functional/ContentTypeTestBase.php:442

    ---------- begin diff ----------
@@ @@

     $field->setDefaultValue($media->id())->save();

-    return file_create_url($file->getFileUri());
+    return \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
   }

   /**
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

