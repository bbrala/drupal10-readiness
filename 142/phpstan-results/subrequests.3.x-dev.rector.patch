diff --git a/composer.json b/composer.json
index efdbd46..d9d9efd 100644
--- a/composer.json
+++ b/composer.json
@@ -4,7 +4,7 @@
   "type": "drupal-module",
   "require": {
     "galbar/jsonpath": "^1.0",
-    "drupal/core": "^8 || ^9"
+    "drupal/core": "^8 || ^9 || ^10"
   },
   "require-dev": {
     "justinrainbow/json-schema": "^5.2"
diff --git a/subrequests.info.yml b/subrequests.info.yml
index 0442e96..673bbe4 100644
--- a/subrequests.info.yml
+++ b/subrequests.info.yml
@@ -1,8 +1,7 @@
 name: Subrequests
 type: module
 description: 'Add a front controller that you can use to make subrequests.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^8 || ^9 || ^10
 dependencies:
   - drupal:serialization
 package: Web services
diff --git a/tests/src/Unit/Blueprint/BlueprintManagerTest.php b/tests/src/Unit/Blueprint/BlueprintManagerTest.php
index 93c8397..50c5337 100644
--- a/tests/src/Unit/Blueprint/BlueprintManagerTest.php
+++ b/tests/src/Unit/Blueprint/BlueprintManagerTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\subrequests\Unit\Blueprint;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Cache\CacheableResponse;
 use Drupal\subrequests\Blueprint\BlueprintManager;
 use Drupal\subrequests\Normalizer\JsonBlueprintDenormalizer;
@@ -20,12 +21,13 @@ use Symfony\Component\Serializer\Serializer;
  */
 class BlueprintManagerTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * @var \Drupal\subrequests\Blueprint\BlueprintManager
    */
   protected $sut;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $denormalizer = $this->prophesize(JsonBlueprintDenormalizer::class);
     $denormalizer->denormalize(Argument::type('array'), SubrequestsTree::class, 'json', [])
diff --git a/tests/src/Unit/JsonPathReplacerTest.php b/tests/src/Unit/JsonPathReplacerTest.php
index caa8736..5f53172 100644
--- a/tests/src/Unit/JsonPathReplacerTest.php
+++ b/tests/src/Unit/JsonPathReplacerTest.php
@@ -18,7 +18,7 @@ class JsonPathReplacerTest extends UnitTestCase {
    */
   protected $sut;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->sut = new JsonPathReplacer();
   }
@@ -140,11 +140,11 @@ class JsonPathReplacerTest extends UnitTestCase {
 
     $actual = $this->sut->replaceBatch($batch, $responses);
 
-    $this->assertInternalType('int', $actual[0]->body['You are number']);
-    $this->assertInternalType('string', $actual[0]->body['Where am I']);
-    $this->assertInternalType('boolean', $actual[0]->body['World of number two']);
-    $this->assertInternalType('string', $actual[0]->body['Question']);
-    $this->assertInternalType('float', $actual[0]->body['Michael']);
+    $this->assertIsInt($actual[0]->body['You are number']);
+    $this->assertIsString($actual[0]->body['Where am I']);
+    $this->assertIsBool($actual[0]->body['World of number two']);
+    $this->assertIsString($actual[0]->body['Question']);
+    $this->assertIsFloat($actual[0]->body['Michael']);
   }
 
 }
diff --git a/tests/src/Unit/Normalizer/JsonBlueprintDenormalizerTest.php b/tests/src/Unit/Normalizer/JsonBlueprintDenormalizerTest.php
index 572ee6a..4ce2547 100644
--- a/tests/src/Unit/Normalizer/JsonBlueprintDenormalizerTest.php
+++ b/tests/src/Unit/Normalizer/JsonBlueprintDenormalizerTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\subrequests\Normalizer;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\subrequests\Normalizer\JsonBlueprintDenormalizer;
 use Drupal\subrequests\Subrequest;
 use Drupal\subrequests\SubrequestsTree;
@@ -14,12 +15,13 @@ use Psr\Log\LoggerInterface;
  */
 class JsonBlueprintDenormalizerTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * @var \Drupal\subrequests\Normalizer\JsonBlueprintDenormalizer
    */
   protected $sut;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $logger = $this->prophesize(LoggerInterface::class);
     $this->sut = new JsonBlueprintDenormalizer($logger->reveal());
diff --git a/tests/src/Unit/Normalizer/JsonSubrequestDenormalizerTest.php b/tests/src/Unit/Normalizer/JsonSubrequestDenormalizerTest.php
index 77e54a3..4a830b4 100644
--- a/tests/src/Unit/Normalizer/JsonSubrequestDenormalizerTest.php
+++ b/tests/src/Unit/Normalizer/JsonSubrequestDenormalizerTest.php
@@ -20,7 +20,7 @@ class JsonSubrequestDenormalizerTest extends UnitTestCase {
    */
   protected $sut;
 
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->sut = new JsonSubrequestDenormalizer();
   }
diff --git a/tests/src/Unit/Normalizer/MultiresponseJsonNormalizerTest.php b/tests/src/Unit/Normalizer/MultiresponseJsonNormalizerTest.php
index 80110c8..3d726ac 100644
--- a/tests/src/Unit/Normalizer/MultiresponseJsonNormalizerTest.php
+++ b/tests/src/Unit/Normalizer/MultiresponseJsonNormalizerTest.php
@@ -18,7 +18,7 @@ class MultiresponseJsonNormalizerTest extends UnitTestCase {
    */
   protected $sut;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->sut = new MultiresponseJsonNormalizer();
   }
diff --git a/tests/src/Unit/Normalizer/MultiresponseNormalizerTest.php b/tests/src/Unit/Normalizer/MultiresponseNormalizerTest.php
index f717722..bc020c0 100644
--- a/tests/src/Unit/Normalizer/MultiresponseNormalizerTest.php
+++ b/tests/src/Unit/Normalizer/MultiresponseNormalizerTest.php
@@ -17,7 +17,7 @@ class MultiresponseNormalizerTest extends UnitTestCase {
    */
   protected $sut;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->sut = new MultiresponseNormalizer();
   }
@@ -53,8 +53,8 @@ class MultiresponseNormalizerTest extends UnitTestCase {
     $delimiter = substr($parts['boundary'], 1, strlen($parts['boundary']) - 2);
     $this->assertStringStartsWith('--' . $delimiter, $actual['content']);
     $this->assertStringEndsWith('--' . $delimiter . '--', $actual['content']);
-    $this->assertRegExp("/\r\nFoo!\r\n/", $actual['content']);
-    $this->assertRegExp("/\r\nBar\r\n/", $actual['content']);
+    $this->assertMatchesRegularExpression("/\r\nFoo!\r\n/", $actual['content']);
+    $this->assertMatchesRegularExpression("/\r\nBar\r\n/", $actual['content']);
   }
 
 }
diff --git a/tests/src/Unit/SubrequestsManagerTest.php b/tests/src/Unit/SubrequestsManagerTest.php
index 679fc61..139d7ca 100644
--- a/tests/src/Unit/SubrequestsManagerTest.php
+++ b/tests/src/Unit/SubrequestsManagerTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\subrequests\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\subrequests\JsonPathReplacer;
 use Drupal\subrequests\Normalizer\JsonSubrequestDenormalizer;
 use Drupal\subrequests\Subrequest;
@@ -21,12 +22,13 @@ use Symfony\Component\Serializer\Serializer;
  */
 class SubrequestsManagerTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * @var \Drupal\subrequests\SubrequestsManager
    */
   protected $sut;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $http_kernel = $this->prophesize(HttpKernelInterface::class);
     $http_kernel
