modules/contrib/amazon_pa/amazon_pa.install
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/Plaintext.php
modules/contrib/amazon_pa/tests/src/Functional/AmazonPaRouteTest.php
modules/contrib/amazon_pa/amazon_pa.module
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/ThumbnailLarge.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/ThumbnailMedium.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/ThumbnailMediumTitle.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/ThumbnailSmall.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldType/AmazonField.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldWidget/AmazonFieldWidget.php
modules/contrib/amazon_pa/asin/src/Plugin/views/field/AmazonImage.php
modules/contrib/amazon_pa/asin/tests/src/Kernel/Field/AsinFormatterTest.php
modules/contrib/amazon_pa/includes/amazon_pa.locales.inc
modules/contrib/amazon_pa/src/Controller/AmazonPAController.php
modules/contrib/amazon_pa/src/Form/AmazonPaDatabase.php
modules/contrib/amazon_pa/src/Form/AmazonPaSettings.php
modules/contrib/amazon_pa/src/Form/AmazonPaStorage.php
modules/contrib/amazon_pa/src/Form/AmazonPaTest.php
modules/contrib/amazon_pa/src/Utils/AmazonPaUtils.php
modules/contrib/amazon_pa/amazon_pa_filter/amazon_pa_filter.module
modules/contrib/amazon_pa/amazon_pa_filter/src/Plugin/Filter/AmazonFilter.php
modules/contrib/amazon_pa/asin/asin.module
modules/contrib/amazon_pa/asin/asin.views.inc
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/Detail.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/GalleryLarge.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/GalleryMedium.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/GalleryMediumDetails.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/GallerySmall.php
modules/contrib/amazon_pa/asin/src/Plugin/Field/FieldFormatter/PageUrl.php

3 files with changes
====================

1) modules/contrib/amazon_pa/src/Utils/AmazonPaUtils.php:10

    ---------- begin diff ----------
@@ @@
    */
   private function amazon_pa_default_locales() {
     // Load default locales from includes/amazon_pa.locales.inc
-    require_once drupal_get_path('module', 'amazon_pa')
+    require_once \Drupal::service('extension.list.module')->getPath('amazon_pa')
       . '/includes/amazon_pa.locales.inc';
     $locales = _amazon_pa_load_locales();
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


2) modules/contrib/amazon_pa/asin/tests/src/Kernel/Field/AsinFormatterTest.php:51

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $amazon_pa_tables = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/amazon_pa/amazon_pa.module:87

    ---------- begin diff ----------
@@ @@
     'amazon_pa_item'               => [
       'variables' => ['item' => [], 'style' => NULL],
       'template'  => 'amazon-item',
-      'path'      => drupal_get_path('module', 'amazon_pa') . '/templates',
+      'path'      => \Drupal::service('extension.list.module')->getPath('amazon_pa') . '/templates',
     ],
     'amazon_details'                => [
       'variables'            => ['item' => [], 'detail' => NULL],
       'template'             => 'amazon-details',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     // Test for the test query page "/admin/config/services/amazon/test"
@@ @@
       'variables'            => ['item' => [], 'detail' => NULL],
       'template'             => 'amazon-item-test',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     // Thumbnail Images
@@ @@
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-thumbnail-small',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     'amazon_item_thumbnail_medium'         => [
@@ @@
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-thumbnail-medium',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     'amazon_item_thumbnail_large'         => [
@@ @@
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-thumbnail-large',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],

@@ @@
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-thumbnail-medium-title',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],

@@ @@
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-gallery-small',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     'amazon_item_gallery_medium' => [
@@ @@
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-gallery-medium',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     'amazon_item_gallery_large' => [
@@ @@
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-gallery-large',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     // gallery with details
@@ @@
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-gallery-medium-details',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     // templates for the filter
@@ @@
       'variables'            => ['item' => '', 'detail' => NULL],
       'template'             => 'amazon-detail',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],

@@ @@
  */
 function _amazon_pa_default_locales() {
   // Load default locales from includes/amazon_pa.locales.inc
-  require_once drupal_get_path('module', 'amazon_pa')
+  require_once \Drupal::service('extension.list.module')->getPath('amazon_pa')
     . '/includes/amazon_pa.locales.inc';
   $locales = _amazon_pa_load_locales();

@@ @@
 function amazon_pa_views_api() {
   return [
     'api'  => 3,
-    'path' => drupal_get_path('module', 'amazon_pa'),
+    'path' => \Drupal::service('extension.list.module')->getPath('amazon_pa'),
   ];
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

