modules/contrib/closest_zip_code/phpunit-autoload.php
modules/contrib/closest_zip_code/phpunit-bootstrap.php
modules/contrib/closest_zip_code/scripts/lib/phpstan-drupal/dummy-classes.php
modules/contrib/closest_zip_code/src/ClosestZipCode/App.php
modules/contrib/closest_zip_code/src/ClosestZipCode/DataStore.php
modules/contrib/closest_zip_code/src/ClosestZipCode/Location.php
modules/contrib/closest_zip_code/src/traits/CommonUtilities.php
modules/contrib/closest_zip_code/src/traits/Singleton.php
modules/contrib/closest_zip_code/tests/src/Unit/ClosestZipCode/AppTest.php
modules/contrib/closest_zip_code/tests/src/Unit/ClosestZipCode/DataStoreTest.php
modules/contrib/closest_zip_code/tests/src/Unit/ClosestZipCode/LocationTest.php
modules/contrib/closest_zip_code/tests/src/Unit/traits/CommonUtilitiesTest.php
modules/contrib/closest_zip_code/tests/src/Unit/traits/SingletonTest.php

4 files with changes
====================

1) modules/contrib/closest_zip_code/tests/src/Unit/ClosestZipCode/LocationTest.php:15

    ---------- begin diff ----------
@@ @@
    * Smoke test.
    */
   public function testSmoke() {
-    $object = $this->getMockBuilder(Location::class)
-      // NULL = no methods are mocked; otherwise list the methods here.
-      ->setMethods(NULL)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $object = $this->createMock(Location::class);

     $this->assertTrue(is_object($object));
   }
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/closest_zip_code/tests/src/Unit/ClosestZipCode/DataStoreTest.php:28

    ---------- begin diff ----------
@@ @@
    * @dataProvider providerLine
    */
   public function testLine(string $message, string $input, string $exception, array $expected) {
-    $object = $this->getMockBuilder(DataStore::class)
-      // NULL = no methods are mocked; otherwise list the methods here.
-      ->setMethods([
-        'lines',
-        't',
-      ])
-      ->disableOriginalConstructor()
-      ->getMock();
+    $object = $this->createMock(DataStore::class);

     $object->method('lines')
       ->willReturn([
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/closest_zip_code/tests/src/Unit/ClosestZipCode/AppTest.php:49

    ---------- begin diff ----------
@@ @@
    * @dataProvider providerClosestZipCode
    */
   public function testClosestZipCode(string $message, string $my_zip, array $all_zips, array $expected) {
-    $object = $this->getMockBuilder(App::class)
-      // NULL = no methods are mocked; otherwise list the methods here.
-      ->setMethods([
-        'dataStore',
-        'location',
-        'microtime',
-      ])
-      ->disableOriginalConstructor()
-      ->getMock();
+    $object = $this->createMock(App::class);

     $object->method('dataStore')
       ->willReturn(new class extends DataStore {
@@ @@
    * @dataProvider providerSortByDistance
    */
   public function testSortByDistance(string $message, array $input, array $expected) {
-    $object = $this->getMockBuilder(App::class)
-      // NULL = no methods are mocked; otherwise list the methods here.
-      ->setMethods(NULL)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $object = $this->createMock(App::class);

     $output = $object->sortByDistance($input);
     $this->assertTrue($output == $expected, $message);
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/closest_zip_code/src/traits/CommonUtilities.php:108

    ---------- begin diff ----------
@@ @@
    * Mockable wrapper around drupal_get_path().
    */
   public function drupalGetPath(string $type, string $name) : string {
-    $return = drupal_get_path($type, $name);
+    $return = \Drupal::service('extension.path.resolver')->getPath($type, $name);
     if (!$return) {
       throw new \Exception('drupal_get_path() returned an empty string');
     }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 4 files have been changed by Rector                                       

