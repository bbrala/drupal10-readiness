diff --git a/src/Controller/QueueImportController.php b/src/Controller/QueueImportController.php
index b97e7b7..a941a2b 100644
--- a/src/Controller/QueueImportController.php
+++ b/src/Controller/QueueImportController.php
@@ -22,7 +22,7 @@ class QueueImportController extends ControllerBase {
     if ($moduleHandler->moduleExists('media')) {
       $file = file_get_contents($uri);
       $filename = basename($uri);
-      $file = file_save_data($file, "public://$filename", FileSystemInterface::EXISTS_REPLACE);
+      $file = \Drupal::service('file.repository')->writeData($file, "public://$filename", FileSystemInterface::EXISTS_REPLACE);
       if ($file) {
         $fid = $file->id();
 
