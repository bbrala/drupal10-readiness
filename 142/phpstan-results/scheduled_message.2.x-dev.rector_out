modules/contrib/scheduled_message/scheduled_message.install
modules/contrib/scheduled_message/src/Annotation/ScheduledMessage.php
modules/contrib/scheduled_message/src/Entity/ScheduledMessage.php
modules/contrib/scheduled_message/scheduled_message.module
modules/contrib/scheduled_message/src/ScheduledMessageTypeListBuilder.php
modules/contrib/scheduled_message/scheduled_message_easy_email/scheduled_message_easy_email.module
modules/contrib/scheduled_message/scheduled_message_easy_email/src/EventSubscriber/ScheduledMessageEasyEmailSubscriber.php
modules/contrib/scheduled_message/scheduled_message_message/scheduled_message_message.module
modules/contrib/scheduled_message/scheduled_message_message/src/EventSubscriber/ScheduledMessageMessageSubscriber.php
modules/contrib/scheduled_message/src/Entity/ScheduledMessageInterface.php
modules/contrib/scheduled_message/src/Entity/ScheduledMessageType.php
modules/contrib/scheduled_message/src/Entity/ScheduledMessageTypeInterface.php
modules/contrib/scheduled_message/src/Event/ScheduledMessageEvent.php
modules/contrib/scheduled_message/src/Event/ScheduledMessageEvents.php
modules/contrib/scheduled_message/src/Form/EntityTypesForm.php
modules/contrib/scheduled_message/src/Form/ScheduledMessageAddForm.php
modules/contrib/scheduled_message/src/Form/ScheduledMessageDeleteForm.php
modules/contrib/scheduled_message/src/Form/ScheduledMessageEditForm.php
modules/contrib/scheduled_message/src/Form/ScheduledMessageForm.php
modules/contrib/scheduled_message/src/Form/ScheduledMessageFormBase.php
modules/contrib/scheduled_message/src/Form/ScheduledMessageTypeForm.php
modules/contrib/scheduled_message/src/Plugin/QueueWorker/EntityQueue.php
modules/contrib/scheduled_message/src/Plugin/QueueWorker/ScheduledMessageCronWorker.php
modules/contrib/scheduled_message/src/Plugin/QueueWorker/ScheduledMessageWorkerBase.php
modules/contrib/scheduled_message/src/QueueManager.php
modules/contrib/scheduled_message/src/ScheduledMessageAccessControlHandler.php
modules/contrib/scheduled_message/src/ScheduledMessageListBuilder.php

5 files with changes
====================

1) modules/contrib/scheduled_message/scheduled_message_message/src/EventSubscriber/ScheduledMessageMessageSubscriber.php:8

    ---------- begin diff ----------
@@ @@
 use Drupal\scheduled_message\Event\ScheduledMessageEvent;
 use Drupal\scheduled_message\Event\ScheduledMessageEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;

 /**
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector


2) modules/contrib/scheduled_message/scheduled_message.install:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\scheduled_message\Entity\ScheduledMessage;
 /**
  * Update entity field definitions to match schema.
  */
@@ @@
 function scheduled_message_update_8001(&$sandbox) {
   $dm = \Drupal::entityDefinitionUpdateManager();
   $entity_def = $dm->getEntityType('scheduled_message');
-  $base_fields = \Drupal\scheduled_message\Entity\ScheduledMessage::baseFieldDefinitions($entity_def);
+  $base_fields = ScheduledMessage::baseFieldDefinitions($entity_def);

   $remove = ['message_module', 'message_template', 'send_at', 'sent'];
   foreach ($remove as $field) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


3) modules/contrib/scheduled_message/src/Plugin/QueueWorker/ScheduledMessageWorkerBase.php:72

    ---------- begin diff ----------
@@ @@
     $schedule = $message->get('bundle')->entity;

     $event = new ScheduledMessageEvent($message, $schedule);
-    $this->eventDispatcher->dispatch(ScheduledMessageEvents::SEND_MESSAGE, $event);
+    $this->eventDispatcher->dispatch($event, ScheduledMessageEvents::SEND_MESSAGE);
   }

 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/scheduled_message/src/Form/ScheduledMessageForm.php:19

    ---------- begin diff ----------
@@ @@
     $link = $entity->toLink($this->t('View'))->toRenderable();

     $message_arguments = ['%label' => $this->entity->label()];
-    $logger_arguments = $message_arguments + ['link' => render($link)];
+    $logger_arguments = $message_arguments + ['link' => \Drupal::service('renderer')->render($link)];

     if ($result == SAVED_NEW) {
       $this->messenger()->addStatus($this->t('New scheduled message %label has been created.', $message_arguments));
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/scheduled_message/src/Event/ScheduledMessageEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\scheduled_message\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\scheduled_message\Entity\ScheduledMessageInterface;
 use Drupal\scheduled_message\Entity\ScheduledMessageTypeInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Scheduled Message event.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 5 files have been changed by Rector                                       

