modules/contrib/ip_login/ip_login.module
modules/contrib/ip_login/src/EventSubscriber/IpLoginSubscriber.php
modules/contrib/ip_login/src/Form/IpLoginSettingsForm.php
modules/contrib/ip_login/src/IpLoginController.php
modules/contrib/ip_login/src/IpLoginPageCacheRequestPolicy.php
modules/contrib/ip_login/src/IpLoginServiceProvider.php
modules/contrib/ip_login/src/StackMiddleware/EarlyIpLoginMiddleware.php
modules/contrib/ip_login/src/StackMiddleware/IpLoginMiddleware.php

2 files with changes
====================

1) modules/contrib/ip_login/src/StackMiddleware/EarlyIpLoginMiddleware.php:104

    ---------- begin diff ----------
@@ @@
     // If we determined that we can't auto-login the user, set a session cookie
     // so we don't repeat the user IP check for this browser session.
     if (empty($matched_uid)) {
-      $response->headers->setCookie(new Cookie('ipLoginAttempted', 1));
+      $response->headers->setCookie(Cookie::create('ipLoginAttempted', 1));
     }
     return $response;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * NewToStaticCallRector


2) modules/contrib/ip_login/src/EventSubscriber/IpLoginSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\ip_login\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\ResponseEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\Cookie;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;

 /**
@@ @@
   /**
    * Clears various IP Login cookies if needed.
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
    *   The response event.
    */
-  public function onKernelResponse(FilterResponseEvent $event) {
+  public function onKernelResponse(ResponseEvent $event) {
     if (!$event->isMasterRequest()) {
       return;
     }
@@ @@

     $response = $event->getResponse();
     if ($event->getRequest()->attributes->get('ip_login_user_login')) {
-      $response->headers->setCookie(new Cookie('ipLoginAttempted', '', 1));
-      $response->headers->setCookie(new Cookie('ipLoginAsDifferentUser', '', 1));
+      $response->headers->setCookie(Cookie::create('ipLoginAttempted', '', 1));
+      $response->headers->setCookie(Cookie::create('ipLoginAsDifferentUser', '', 1));
     }

     $can_login_as_another_user = $event->getRequest()->attributes->get('ip_login_can_login_as_another_user');
     if ($can_login_as_another_user !== NULL) {
-      $response->headers->setCookie(new Cookie('ipLoginAsDifferentUser', $can_login_as_another_user));
+      $response->headers->setCookie(Cookie::create('ipLoginAsDifferentUser', $can_login_as_another_user));
     }
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * NewToStaticCallRector


 [OK] 2 files have been changed by Rector                                       

