diff --git a/clever_reach.module b/clever_reach.module
index ef4d7fd..832a945 100644
--- a/clever_reach.module
+++ b/clever_reach.module
@@ -15,7 +15,7 @@ use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\user\UserInterface;
 
-require_once drupal_get_path('module', 'clever_reach') . '/lib/CoreAutoloader.php';
+require_once \Drupal::service('extension.list.module')->getPath('clever_reach') . '/lib/CoreAutoloader.php';
 
 $autoloader = new CoreAutoloader();
 $autoloader->load();
diff --git a/src/Component/Utility/ArticleSearch/FieldType/ImageType.php b/src/Component/Utility/ArticleSearch/FieldType/ImageType.php
index 4910ad6..a1ecf66 100644
--- a/src/Component/Utility/ArticleSearch/FieldType/ImageType.php
+++ b/src/Component/Utility/ArticleSearch/FieldType/ImageType.php
@@ -122,7 +122,7 @@ class ImageType extends BaseField {
       return '';
     }
 
-    return file_create_url($file->getFileUri());
+    return \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
   }
 
 }
diff --git a/src/Controller/View/CleverreachResolveStateController.php b/src/Controller/View/CleverreachResolveStateController.php
index 08a24a6..c0aad09 100644
--- a/src/Controller/View/CleverreachResolveStateController.php
+++ b/src/Controller/View/CleverreachResolveStateController.php
@@ -85,7 +85,7 @@ class CleverreachResolveStateController implements ContainerInjectionInterface {
    *   Base path to provided resource.
    */
   protected function getThemePath($resourcePath) {
-    return file_create_url(drupal_get_path('module', 'clever_reach') . "/theme/$resourcePath");
+    return \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('clever_reach') . "/theme/$resourcePath");
   }
 
   /**
