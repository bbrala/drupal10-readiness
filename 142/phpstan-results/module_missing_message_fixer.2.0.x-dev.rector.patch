diff --git a/composer.json b/composer.json
index 730c371..b83c48c 100644
--- a/composer.json
+++ b/composer.json
@@ -6,7 +6,7 @@
   "license": "GPL-2.0+",
   "homepage": "https://www.drupal.org/project/module_missing_message_fixer",
   "require": {
-    "drupal/core": "~9"
+    "drupal/core": "^9.3 || ^10"
   },
   "authors": [
     {
diff --git a/module_missing_message_fixer.info.yml b/module_missing_message_fixer.info.yml
index 04652c4..75e69ba 100644
--- a/module_missing_message_fixer.info.yml
+++ b/module_missing_message_fixer.info.yml
@@ -2,6 +2,6 @@ name: 'Module Missing Message Fixer'
 description: 'This module displays a list of missing modules that appear on your site and lets you fix the entries.'
 package: Administration
 type: module
-core_version_requirement: ^9
+core_version_requirement: ^9.3 || ^10
 
 configure: module_missing_message_fixer.form
diff --git a/src/ModuleMissingMessageFixer.php b/src/ModuleMissingMessageFixer.php
index 3d48fb4..9084205 100644
--- a/src/ModuleMissingMessageFixer.php
+++ b/src/ModuleMissingMessageFixer.php
@@ -91,7 +91,7 @@ class ModuleMissingMessageFixer {
       }
 
       // Grab the checker.
-      $filename = drupal_get_filename('module', $record->name);
+      $filename = \Drupal::service('extension.list.module')->getPathname($record->name);
 
       if ($filename === NULL) {
         // Report this module in the table.
