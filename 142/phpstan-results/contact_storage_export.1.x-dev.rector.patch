diff --git a/contact_storage_export.info.yml b/contact_storage_export.info.yml
index e1e1837..1462478 100644
--- a/contact_storage_export.info.yml
+++ b/contact_storage_export.info.yml
@@ -1,8 +1,7 @@
 name: Contact Storage Export
 type: module
 description: Provides a way to export Contact Form submissions to CSV.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:contact
   - contact_storage:contact_storage
diff --git a/src/Form/ContactStorageExportForm.php b/src/Form/ContactStorageExportForm.php
index a129e91..df135fe 100644
--- a/src/Form/ContactStorageExportForm.php
+++ b/src/Form/ContactStorageExportForm.php
@@ -224,7 +224,7 @@ class ContactStorageExportForm extends FormBase {
   public function submitForm(array &$form, FormStateInterface $form_state) {
 
     // Path to the batch processing.
-    $path = drupal_get_path('module', 'contact_storage_export');
+    $path = \Drupal::service('extension.list.module')->getPath('contact_storage_export');
     $path .= '/src/ContactStorageExportBatches.php';
 
     // Information to pass to the batch processing.
diff --git a/tests/src/Kernel/ContactStorageExportBrowserTest.php b/tests/src/Kernel/ContactStorageExportBrowserTest.php
index 6f706a7..3e9016e 100644
--- a/tests/src/Kernel/ContactStorageExportBrowserTest.php
+++ b/tests/src/Kernel/ContactStorageExportBrowserTest.php
@@ -63,9 +63,9 @@ class ContactStorageExportBrowserTest extends BrowserTestBase {
       'columns[id]' => 1,
       'filename' => 'test.csv',
     ];
-    $this->drupalPostForm(NULL, [], t('Export'));
+    $this->submitForm([], t('Export'));
     $this->drupalGet("admin/structure/contact/manage/export-download/$contact_form_id/0");
-    $this->assertText(t('Your export is ready for download.'));
+    $this->assertSession()->pageTextContains(t('Your export is ready for download.'));
   }
 
 }
diff --git a/tests/src/Kernel/ContactStorageExportServiceKernelTest.php b/tests/src/Kernel/ContactStorageExportServiceKernelTest.php
index 7ce5c56..07dedfd 100644
--- a/tests/src/Kernel/ContactStorageExportServiceKernelTest.php
+++ b/tests/src/Kernel/ContactStorageExportServiceKernelTest.php
@@ -36,7 +36,7 @@ class ContactStorageExportServiceKernelTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installEntitySchema('contact_message');
     $this->installEntitySchema('user');
