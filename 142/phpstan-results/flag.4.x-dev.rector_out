modules/contrib/flag/flag.api.php
modules/contrib/flag/modules/flag_bookmark/flag_bookmark.module
modules/contrib/flag/src/ActionLink/ActionLinkTypeBase.php
modules/contrib/flag/modules/flag_bookmark/tests/src/FunctionalJavascript/FlagBookmarkUITest.php
modules/contrib/flag/src/FlagInterface.php
modules/contrib/flag/flag.install
modules/contrib/flag/src/Form/UnflagConfirmForm.php
modules/contrib/flag/src/Plugin/views/relationship/FlagViewsRelationship.php
modules/contrib/flag/tests/src/Functional/LinkTypeConfirmFormTest.php
modules/contrib/flag/src/FlagLinkBuilder.php
modules/contrib/flag/tests/src/Traits/FlagPermissionsTrait.php
modules/contrib/flag/flag.module
modules/contrib/flag/src/FlagLinkBuilderInterface.php
modules/contrib/flag/src/FlagService.php
modules/contrib/flag/src/ActionLink/ActionLinkTypePluginInterface.php
modules/contrib/flag/src/Ajax/ActionLinkFlashCommand.php
modules/contrib/flag/tests/src/Unit/Ajax/ActionLinkFlashCommandTest.php
modules/contrib/flag/src/Annotation/ActionLinkType.php
modules/contrib/flag/src/Annotation/FlagType.php
modules/contrib/flag/src/Controller/ActionLinkController.php
modules/contrib/flag/src/Form/UnflaggingForm.php
modules/contrib/flag/modules/flag_bookmark/tests/src/Kernel/FlagBookmarkInstallUninstallTest.php
modules/contrib/flag/src/Permissions/FlagPermissions.php
modules/contrib/flag/tests/src/Unit/Plugin/Action/FlagActionTest.php
modules/contrib/flag/src/Plugin/Action/DeleteFlaggingAction.php
modules/contrib/flag/src/Controller/ActionLinkNoJsController.php
modules/contrib/flag/src/Plugin/Action/FlagAction.php
modules/contrib/flag/src/Plugin/ActionLink/AJAXactionLink.php
modules/contrib/flag/src/Controller/FieldEntryFormController.php
modules/contrib/flag/modules/flag_count/flag_count.module
modules/contrib/flag/modules/flag_count/src/Plugin/ActionLink/CountLink.php
modules/contrib/flag/modules/flag_follower/flag_follower.module
modules/contrib/flag/modules/flag_follower/tests/src/Functional/FlagFollowerUITest.php
modules/contrib/flag/src/Plugin/ActionLink/ConfirmForm.php
modules/contrib/flag/src/Plugin/ActionLink/FieldEntry.php
modules/contrib/flag/src/Controller/FlagListBuilder.php
modules/contrib/flag/src/Plugin/ActionLink/FormEntryInterface.php
modules/contrib/flag/src/Plugin/ActionLink/FormEntryTypeBase.php
modules/contrib/flag/tests/src/Functional/LinkTypeFieldEntryTest.php
modules/contrib/flag/src/FlagServiceInterface.php
modules/contrib/flag/src/Plugin/views/sort/FlagViewsSortFlagged.php
modules/contrib/flag/modules/flag_follower/tests/src/Kernel/FlagFollowerInstallUninstallTest.php
modules/contrib/flag/src/FlagServiceProvider.php
modules/contrib/flag/src/Entity/Flag.php
modules/contrib/flag/src/Access/CsrfAccessCheck.php
modules/contrib/flag/src/TwigExtension/FlagCount.php
modules/contrib/flag/src/FlagType/FlagTypeBase.php
modules/contrib/flag/src/Plugin/ActionLink/Reload.php
modules/contrib/flag/tests/modules/flag_event_test/src/EventSubscriber/FlagEvents.php
modules/contrib/flag/src/Access/FlagAccessCheck.php
modules/contrib/flag/src/Plugin/Derivative/EntityFlagActionDeriver.php
modules/contrib/flag/src/Access/UnFlagAccessCheck.php
modules/contrib/flag/src/ActionLink/ActionLinkPluginManager.php
modules/contrib/flag/src/Plugin/Derivative/EntityFlagTypeDeriver.php
modules/contrib/flag/tests/modules/flag_test_plugins/src/Plugin/Flag/AccessDenied.php
modules/contrib/flag/tests/src/Functional/LinkTypeReloadTest.php
modules/contrib/flag/src/Plugin/Field/FlaggedEntityFieldItemList.php
modules/contrib/flag/tests/modules/flag_test_plugins/src/Plugin/Flag/AccessGranted.php
modules/contrib/flag/src/FlagType/FlagTypePluginInterface.php
modules/contrib/flag/tests/src/Functional/AdminUITest.php
modules/contrib/flag/src/FlagType/FlagTypePluginManager.php
modules/contrib/flag/src/Plugin/Flag/CommentFlagType.php
modules/contrib/flag/src/FlaggingInterface.php
modules/contrib/flag/tests/src/Functional/OutputLocationEntityFormAccessTest.php
modules/contrib/flag/src/FlaggingViewsData.php
modules/contrib/flag/flag.post_update.php
modules/contrib/flag/src/Plugin/Flag/EntityFlagType.php
modules/contrib/flag/src/Form/FlagAddForm.php
modules/contrib/flag/flag.tokens.inc
modules/contrib/flag/src/Form/FlagAddPageForm.php
modules/contrib/flag/src/Entity/Flagging.php
modules/contrib/flag/flag.views.inc
modules/contrib/flag/tests/src/Functional/ShowOnEntityFormTest.php
modules/contrib/flag/flag.views_execution.inc
modules/contrib/flag/src/Form/FlagConfirmForm.php
modules/contrib/flag/src/Form/FlagConfirmFormBase.php
modules/contrib/flag/src/Form/FlagDisableConfirmForm.php
modules/contrib/flag/tests/src/Functional/UserFlagTypeTest.php
modules/contrib/flag/src/Form/FlagEditForm.php
modules/contrib/flag/src/Plugin/Flag/UserFlagType.php
modules/contrib/flag/src/Form/FlagFormBase.php
modules/contrib/flag/tests/src/FunctionalJavascript/AjaxLinkTest.php
modules/contrib/flag/src/Plugin/views/field/FlagViewsFlaggedField.php
modules/contrib/flag/tests/src/Functional/AjaxLinkNoJsTest.php
modules/contrib/flag/tests/src/FunctionalJavascript/FlagContextualLinksTest.php
modules/contrib/flag/src/Plugin/views/field/FlagViewsLinkField.php
modules/contrib/flag/tests/src/Functional/AnonymousFlagTest.php
modules/contrib/flag/src/Entity/Storage/FlaggingStorage.php
modules/contrib/flag/src/Form/FlagResetForm.php
modules/contrib/flag/src/Form/FlaggingForm.php
modules/contrib/flag/tests/src/FunctionalJavascript/FlagCountExtensionTest.php
modules/contrib/flag/tests/src/FunctionalJavascript/FlagJsTestBase.php
modules/contrib/flag/tests/src/FunctionalJavascript/LinkTypeAjaxTest.php
modules/contrib/flag/src/Plugin/views/filter/FlagViewsFilter.php
modules/contrib/flag/tests/src/Functional/FlagPermissionsTest.php
modules/contrib/flag/tests/src/Functional/FlagTestBase.php
modules/contrib/flag/tests/src/FunctionalJavascript/LinkTypeConfirmFormTest.php
modules/contrib/flag/src/Entity/Storage/FlaggingStorageInterface.php
modules/contrib/flag/tests/src/Functional/LinkHtmlTest.php
modules/contrib/flag/src/Entity/Storage/FlaggingStorageSchema.php
modules/contrib/flag/tests/src/FunctionalJavascript/ModalFormTest.php
modules/contrib/flag/src/Event/FlagEventBase.php
modules/contrib/flag/src/Event/FlagEvents.php
modules/contrib/flag/src/Event/FlaggingEvent.php
modules/contrib/flag/src/Event/UnflaggingEvent.php
modules/contrib/flag/src/FlagCountManager.php
modules/contrib/flag/tests/src/Functional/LinkOutputLocationTest.php
modules/contrib/flag/tests/src/Kernel/AccessTest.php
modules/contrib/flag/tests/src/Functional/LinkOwnershipAccessTest.php
modules/contrib/flag/src/FlagCountManagerInterface.php
modules/contrib/flag/tests/src/Functional/LinkTypeAjaxTest.php
modules/contrib/flag/tests/src/Kernel/FlagActionTest.php
modules/contrib/flag/tests/src/Kernel/FlagCountsTest.php
modules/contrib/flag/tests/src/Kernel/FlagKernelTestBase.php
modules/contrib/flag/tests/src/Kernel/FlagServiceTest.php
modules/contrib/flag/tests/src/Kernel/FlaggingStorageTest.php
modules/contrib/flag/tests/src/Traits/FlagCreateTrait.php

4 files with changes
====================

1) modules/contrib/flag/tests/src/Unit/Plugin/Action/FlagActionTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\flag\Unit\Plugin\Action;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Access\AccessResult;
 use Drupal\Core\Access\AccessResultForbidden;
 use Drupal\Core\Entity\EntityInterface;
@@ @@
  */
 class FlagActionTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Mock flag.
    *
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/flag/flag.post_update.php:43

    ---------- begin diff ----------
@@ @@
     $action_names[] = 'flag_action.' . $flag->id() . '.flag';
     $action_names[] = 'flag_action.' . $flag->id() . '.unflag';
   }
-  $actions = Drupal\system\Entity\Action::loadMultiple($action_names);
+  $actions = Action::loadMultiple($action_names);
   foreach ($actions as $old_id => $action) {
     if (preg_match('/\.(un)?flag$/', $old_id)) {
       // Update the plugin ID and the action ID.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


3) modules/contrib/flag/flag.module:543

    ---------- begin diff ----------
@@ @@
 /**
  * Implements hook_entity_operation().
  */
-function flag_entity_operation(\Drupal\Core\Entity\EntityInterface $entity) {
+function flag_entity_operation(EntityInterface $entity) {
   $operations = [];

-  if ($entity instanceof \Drupal\flag\FlagInterface) {
+  if ($entity instanceof FlagInterface) {
     if (!$entity->status()) {
       $operations['enable'] = [
         'title' => t('Enable'),
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


4) modules/contrib/flag/flag.install:103

    ---------- begin diff ----------
@@ @@
   $bundle_schema = [
     'description' => 'The Flag ID.',
     'type' => 'varchar_ascii',
-    'length' => \Drupal\Core\Entity\EntityTypeInterface::BUNDLE_MAX_LENGTH,
+    'length' => EntityTypeInterface::BUNDLE_MAX_LENGTH,
     // 'binary' => FALSE,
     'not null' => TRUE,
   ];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 4 files have been changed by Rector                                       

