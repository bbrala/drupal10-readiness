diff --git a/combinary.info.yml b/combinary.info.yml
index dcfe69b..cc074b1 100644
--- a/combinary.info.yml
+++ b/combinary.info.yml
@@ -3,8 +3,7 @@ type: module
 description: 'combinary fb block for drupal'
 package: Custom
 version: 8.x
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - node
   - block
diff --git a/src/Controller/CombinaryItemsController.php b/src/Controller/CombinaryItemsController.php
index 3c413ab..e434bbe 100644
--- a/src/Controller/CombinaryItemsController.php
+++ b/src/Controller/CombinaryItemsController.php
@@ -6,6 +6,7 @@
 
 namespace Drupal\combinary\Controller;
 
+use Drupal\block\Entity\Block;
 use Drupal\Core\Controller\ControllerBase;
 use \Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ -39,7 +40,7 @@ class CombinaryItemsController extends ControllerBase {
    */
   public function render($combinary_block_id, $limit, $offset) {
 
-    $block = \Drupal\block\Entity\Block::load( $combinary_block_id );
+    $block = Block::load( $combinary_block_id );
     if ($block) {
       $config = $block->get('settings');
     }
@@ -52,7 +53,7 @@ class CombinaryItemsController extends ControllerBase {
       '#settings' => $config,
     ];
 
-    return new Response(render($build));
+    return new Response(\Drupal::service('renderer')->render($build));
 
   }
 
