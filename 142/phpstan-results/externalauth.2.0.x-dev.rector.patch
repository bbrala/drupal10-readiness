diff --git a/tests/src/Unit/AuthmapTest.php b/tests/src/Unit/AuthmapTest.php
index 5a88fe8..2ac7794 100644
--- a/tests/src/Unit/AuthmapTest.php
+++ b/tests/src/Unit/AuthmapTest.php
@@ -51,19 +51,13 @@ class AuthmapTest extends UnitTestCase {
     parent::setUp();
 
     // Create a Mock database connection object.
-    $this->connection = $this->getMockBuilder('Drupal\Core\Database\Connection')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->connection = $this->createMock('Drupal\Core\Database\Connection');
 
     // Create a Mock Statement object.
-    $this->statement = $this->getMockBuilder('Drupal\Core\Database\Driver\sqlite\Statement')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->statement = $this->createMock('Drupal\Core\Database\Driver\sqlite\Statement');
 
     // Create a Mock Select object and set expectations.
-    $this->select = $this->getMockBuilder('Drupal\Core\Database\Query\Select')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->select = $this->createMock('Drupal\Core\Database\Query\Select');
 
     $this->select->expects($this->any())
       ->method('fields')
@@ -87,9 +81,7 @@ class AuthmapTest extends UnitTestCase {
       ->will($this->returnValue($this->select));
 
     // Create a Mock Delete object and set expectations.
-    $this->delete = $this->getMockBuilder('Drupal\Core\Database\Query\Delete')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->delete = $this->createMock('Drupal\Core\Database\Query\Delete');
 
     $this->delete->expects($this->any())
       ->method('condition')
@@ -109,9 +101,7 @@ class AuthmapTest extends UnitTestCase {
   public function testSave() {
     $account = $this->createMock('Drupal\user\UserInterface');
 
-    $merge = $this->getMockBuilder('Drupal\Core\Database\Query\Merge')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $merge = $this->createMock('Drupal\Core\Database\Query\Merge');
 
     $merge->expects($this->any())
       ->method('keys')
@@ -249,9 +239,7 @@ class AuthmapTest extends UnitTestCase {
    */
   public function testDeleteWithProvider() {
     // Create a Mock Delete object and set expectations.
-    $this->delete = $this->getMockBuilder('Drupal\Core\Database\Query\Delete')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->delete = $this->createMock('Drupal\Core\Database\Query\Delete');
 
     $this->delete->expects($this->exactly(2))
       ->method('condition')
diff --git a/tests/src/Unit/ExternalAuthTest.php b/tests/src/Unit/ExternalAuthTest.php
index 008a3f7..3ffd5bc 100644
--- a/tests/src/Unit/ExternalAuthTest.php
+++ b/tests/src/Unit/ExternalAuthTest.php
@@ -56,19 +56,13 @@ class ExternalAuthTest extends UnitTestCase {
     $this->entityTypeManager = $this->createMock(EntityTypeManagerInterface::class);
 
     // Create a Mock Logger object.
-    $this->logger = $this->getMockBuilder('\Psr\Log\LoggerInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->logger = $this->createMock('\Psr\Log\LoggerInterface');
 
     // Create a Mock EventDispatcher object.
-    $this->eventDispatcher = $this->getMockBuilder('\Symfony\Component\EventDispatcher\EventDispatcherInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->eventDispatcher = $this->createMock('\Symfony\Component\EventDispatcher\EventDispatcherInterface');
 
     // Create a Mock Authmap object.
-    $this->authmap = $this->getMockBuilder('\Drupal\externalauth\Authmap')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->authmap = $this->createMock('\Drupal\externalauth\Authmap');
   }
 
   /**
@@ -80,10 +74,7 @@ class ExternalAuthTest extends UnitTestCase {
   public function testLoad() {
     // Set up a mock for Authmap class,
     // mocking getUid() method.
-    $authmap = $this->getMockBuilder('\Drupal\externalauth\Authmap')
-      ->disableOriginalConstructor()
-      ->onlyMethods(['getUid'])
-      ->getMock();
+    $authmap = $this->createMock('\Drupal\externalauth\Authmap');
 
     $authmap->expects($this->once())
       ->method('getUid')
@@ -176,17 +167,12 @@ class ExternalAuthTest extends UnitTestCase {
 
     // Set up a mock for Authmap class,
     // mocking getUid() method.
-    $authmap = $this->getMockBuilder('\Drupal\externalauth\Authmap')
-      ->disableOriginalConstructor()
-      ->onlyMethods(['save'])
-      ->getMock();
+    $authmap = $this->createMock('\Drupal\externalauth\Authmap');
 
     $authmap->expects($this->once())
       ->method('save');
 
-    $dispatched_event = $this->getMockBuilder('\Drupal\externalauth\Event\ExternalAuthAuthmapAlterEvent')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $dispatched_event = $this->createMock('\Drupal\externalauth\Event\ExternalAuthAuthmapAlterEvent');
 
     $dispatched_event->expects($this->any())
       ->method('getUsername')
@@ -317,10 +303,7 @@ class ExternalAuthTest extends UnitTestCase {
 
     // Set up a mock for Authmap class,
     // mocking get() & save() methods.
-    $authmap = $this->getMockBuilder('\Drupal\externalauth\Authmap')
-      ->disableOriginalConstructor()
-      ->onlyMethods(['save', 'get'])
-      ->getMock();
+    $authmap = $this->createMock('\Drupal\externalauth\Authmap');
 
     $authmap->expects($this->once())
       ->method('get')
@@ -329,9 +312,7 @@ class ExternalAuthTest extends UnitTestCase {
     $authmap->expects($this->once())
       ->method('save');
 
-    $dispatched_event = $this->getMockBuilder('\Drupal\externalauth\Event\ExternalAuthAuthmapAlterEvent')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $dispatched_event = $this->createMock('\Drupal\externalauth\Event\ExternalAuthAuthmapAlterEvent');
 
     $dispatched_event->expects($this->any())
       ->method('getUsername')
