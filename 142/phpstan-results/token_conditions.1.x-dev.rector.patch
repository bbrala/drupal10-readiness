diff --git a/src/Tests/TokenMatcherTest.php b/src/Tests/TokenMatcherTest.php
index a8a5d36..0cc59fd 100644
--- a/src/Tests/TokenMatcherTest.php
+++ b/src/Tests/TokenMatcherTest.php
@@ -52,7 +52,7 @@ class TokenMatcherTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Get the token service.
     $this->tokenService = \Drupal::token();
@@ -75,9 +75,9 @@ class TokenMatcherTest extends BrowserTestBase {
     $default_theme = $this->config('system.theme')->get('default');
     $this->drupalGet('admin/structure/block/add/system_powered_by_block' . '/' . $default_theme);
     // Check for token matcher field.
-    $this->assertField('visibility[token_matcher][token_match]', 'Token matcher field is available.');
+    $this->assertSession()->fieldExists('visibility[token_matcher][token_match]', 'Token matcher field is available.');
     // Check for token matcher field.
-    $this->assertField('visibility[token_matcher][value_match]', 'Token value field is available.');
+    $this->assertSession()->fieldExists('visibility[token_matcher][value_match]', 'Token value field is available.');
 
     // Enable a standard block and set the visibility setting for node title.
     $edit = [
@@ -86,13 +86,14 @@ class TokenMatcherTest extends BrowserTestBase {
       'id' => strtolower($this->randomMachineName(8)),
       'region' => 'sidebar_first',
     ];
-    $this->drupalPostForm('admin/structure/block/add/system_powered_by_block' . '/' . $default_theme, $edit, t('Save block'));
+    $this->drupalGet('admin/structure/block/add/system_powered_by_block' . '/' . $default_theme);
+    $this->submitForm($edit, t('Save block'));
 
     $this->drupalGet('node/' . $this->node1->id());
-    $this->assertText('Powered by Drupal', 'The block appears on the page.');
+    $this->assertSession()->pageTextContains('Powered by Drupal');
 
     $this->drupalGet('node/' . $this->node2->id());
-    $this->assertNoText('Powered by Drupal', 'The block does not appear on the page.');
+    $this->assertSession()->pageTextNotContains('Powered by Drupal');
   }
 
 }
diff --git a/token_conditions.info.yml b/token_conditions.info.yml
index 56f47c5..57aa456 100644
--- a/token_conditions.info.yml
+++ b/token_conditions.info.yml
@@ -1,6 +1,6 @@
 name: Token Conditions
 type: module
 description: Creates conditions for Blocks based on Tokens
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 package: Token
 
