modules/contrib/hours_minutes_seconds/hours_minutes_seconds.migrate.inc
modules/contrib/hours_minutes_seconds/hours_minutes_seconds.module
modules/contrib/hours_minutes_seconds/src/Element/HoursMinutesSeconds.php
modules/contrib/hours_minutes_seconds/src/HoursMinutesSecondsService.php
modules/contrib/hours_minutes_seconds/src/HoursMinutesSecondsServiceInterface.php
modules/contrib/hours_minutes_seconds/src/Plugin/Field/FieldFormatter/HoursMinutesSecondsFormatter.php
modules/contrib/hours_minutes_seconds/src/Plugin/Field/FieldFormatter/HoursMinutesSecondsNaturalLanguageFormatter.php
modules/contrib/hours_minutes_seconds/src/Plugin/Field/FieldType/HoursMinutesSecondsFieldItem.php
modules/contrib/hours_minutes_seconds/src/Plugin/Field/FieldWidget/HoursMinutesSecondsFieldWidget.php

1 file with changes
===================

1) modules/contrib/hours_minutes_seconds/hours_minutes_seconds.module:64

    ---------- begin diff ----------
@@ @@
     // The next second h needs to update.
     // Be sure to pass running_since as time() (== GMT time)
     if ($variables['running_since'] < 0) {
-      $variables['running_since'] = REQUEST_TIME;
+      $variables['running_since'] = \Drupal::time()->getRequestTime();
     }
     $classes[] = 'hour_minutes_seconds-since-' . $variables['running_since'];
     $classes[] = 'hour_minutes_seconds-offset-' . $offset;
     $classes[] = 'hour_minutes_seconds-leading_zero-' . $variables['leading_zero'];
     if ($offset) {
-      $value = (REQUEST_TIME - $variables['running_since']) + $offset;
+      $value = (\Drupal::time()->getRequestTime() - $variables['running_since']) + $offset;
     }
     $variables['#attached']['library'][] = 'hours_minutes_seconds/hours_minutes_seconds';
-    $variables['#attached']['drupalSettings']['hours_minutes_seconds']['servertime'] = REQUEST_TIME;
+    $variables['#attached']['drupalSettings']['hours_minutes_seconds']['servertime'] = \Drupal::time()->getRequestTime();
     $variables['#attached']['drupalSettings']['hours_minutes_seconds']['factor_map'] = \Drupal::service('hours_minutes_seconds.hour_minutes_seconds')->factor_map();
   }
   $variables['classes'] = implode(' ' , $classes);
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector


 [OK] 1 file has been changed by Rector                                         

