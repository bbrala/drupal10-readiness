diff --git a/amazon_pa.module b/amazon_pa.module
index 72357ba..07bab82 100644
--- a/amazon_pa.module
+++ b/amazon_pa.module
@@ -88,13 +88,13 @@ function amazon_pa_theme($existing, $type, $theme, $path) {
     'amazon_pa_item'               => [
       'variables' => ['item' => [], 'style' => NULL],
       'template'  => 'amazon-item',
-      'path'      => drupal_get_path('module', 'amazon_pa') . '/templates',
+      'path'      => \Drupal::service('extension.list.module')->getPath('amazon_pa') . '/templates',
     ],
     'amazon_details'                => [
       'variables'            => ['item' => [], 'detail' => NULL],
       'template'             => 'amazon-details',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     // Test for the test query page "/admin/config/services/amazon/test"
@@ -102,7 +102,7 @@ function amazon_pa_theme($existing, $type, $theme, $path) {
       'variables'            => ['item' => [], 'detail' => NULL],
       'template'             => 'amazon-item-test',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     // Thumbnail Images
@@ -110,21 +110,21 @@ function amazon_pa_theme($existing, $type, $theme, $path) {
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-thumbnail-small',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     'amazon_item_thumbnail_medium'         => [
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-thumbnail-medium',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     'amazon_item_thumbnail_large'         => [
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-thumbnail-large',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
 
@@ -133,7 +133,7 @@ function amazon_pa_theme($existing, $type, $theme, $path) {
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-thumbnail-medium-title',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
 
@@ -142,21 +142,21 @@ function amazon_pa_theme($existing, $type, $theme, $path) {
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-gallery-small',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     'amazon_item_gallery_medium' => [
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-gallery-medium',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     'amazon_item_gallery_large' => [
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-gallery-large',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     // gallery with details
@@ -164,7 +164,7 @@ function amazon_pa_theme($existing, $type, $theme, $path) {
       'variables'            => ['item' => []],
       'template'             => 'amazon-item-gallery-medium-details',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
     // templates for the filter
@@ -172,7 +172,7 @@ function amazon_pa_theme($existing, $type, $theme, $path) {
       'variables'            => ['item' => '', 'detail' => NULL],
       'template'             => 'amazon-detail',
       'preprocess functions' => ['template_preprocess_amazon_pa_item'],
-      'path'                 => drupal_get_path('module', 'amazon_pa')
+      'path'                 => \Drupal::service('extension.list.module')->getPath('amazon_pa')
         . '/templates',
     ],
 
@@ -1150,7 +1150,7 @@ function amazon_pa_get_invalid_asins() {
  */
 function _amazon_pa_default_locales() {
   // Load default locales from includes/amazon_pa.locales.inc
-  require_once drupal_get_path('module', 'amazon_pa')
+  require_once \Drupal::service('extension.list.module')->getPath('amazon_pa')
     . '/includes/amazon_pa.locales.inc';
   $locales = _amazon_pa_load_locales();
 
@@ -1244,7 +1244,7 @@ function amazon_pa_cron() {
 function amazon_pa_views_api() {
   return [
     'api'  => 3,
-    'path' => drupal_get_path('module', 'amazon_pa'),
+    'path' => \Drupal::service('extension.list.module')->getPath('amazon_pa'),
   ];
 }
 
diff --git a/asin/tests/src/Kernel/Field/AsinFormatterTest.php b/asin/tests/src/Kernel/Field/AsinFormatterTest.php
index 157d3e1..5774485 100644
--- a/asin/tests/src/Kernel/Field/AsinFormatterTest.php
+++ b/asin/tests/src/Kernel/Field/AsinFormatterTest.php
@@ -52,7 +52,7 @@ class AsinFormatterTest extends EntityKernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $amazon_pa_tables = [
diff --git a/src/Utils/AmazonPaUtils.php b/src/Utils/AmazonPaUtils.php
index 60c89cd..c845e86 100644
--- a/src/Utils/AmazonPaUtils.php
+++ b/src/Utils/AmazonPaUtils.php
@@ -11,7 +11,7 @@ class AmazonPaUtils {
    */
   private function amazon_pa_default_locales() {
     // Load default locales from includes/amazon_pa.locales.inc
-    require_once drupal_get_path('module', 'amazon_pa')
+    require_once \Drupal::service('extension.list.module')->getPath('amazon_pa')
       . '/includes/amazon_pa.locales.inc';
     $locales = _amazon_pa_load_locales();
 
