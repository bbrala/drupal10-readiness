diff --git a/nopremium.info.yml b/nopremium.info.yml
index de5f959..08109fc 100644
--- a/nopremium.info.yml
+++ b/nopremium.info.yml
@@ -1,8 +1,7 @@
 name: Node Option Premium
 type: module
 description: 'Shows only the teasers of premium contents to unprivileged users.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 configure: nopremium.admin_settings
 dependencies:
   - node
diff --git a/tests/src/Functional/Form/NodeTypeFormTest.php b/tests/src/Functional/Form/NodeTypeFormTest.php
index 129a748..5eab51d 100644
--- a/tests/src/Functional/Form/NodeTypeFormTest.php
+++ b/tests/src/Functional/Form/NodeTypeFormTest.php
@@ -23,7 +23,8 @@ class NodeTypeFormTest extends NopremiumBrowserTestBase {
       'type' => 'foo',
       'options[premium]' => TRUE,
     ];
-    $this->drupalPostForm('admin/structure/types/add', $edit, 'Save content type');
+    $this->drupalGet('admin/structure/types/add');
+    $this->submitForm($edit, 'Save content type');
 
     // Assert that premium was enabled for this content type.
     $config = $this->config('core.base_field_override.node.foo.premium');
@@ -45,7 +46,8 @@ class NodeTypeFormTest extends NopremiumBrowserTestBase {
     $edit = [
       'options[premium]' => TRUE,
     ];
-    $this->drupalPostForm('admin/structure/types/manage/foo', $edit, 'Save content type');
+    $this->drupalGet('admin/structure/types/manage/foo');
+    $this->submitForm($edit, 'Save content type');
 
     // Assert that premium was enabled for this content type.
     $config = $this->config('core.base_field_override.node.foo.premium');
diff --git a/tests/src/Functional/Form/SettingsFormTest.php b/tests/src/Functional/Form/SettingsFormTest.php
index e3297eb..3b076d3 100644
--- a/tests/src/Functional/Form/SettingsFormTest.php
+++ b/tests/src/Functional/Form/SettingsFormTest.php
@@ -21,7 +21,7 @@ class SettingsFormTest extends NopremiumBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create an user with admin privileges.
@@ -43,9 +43,10 @@ class SettingsFormTest extends NopremiumBrowserTestBase {
    */
   public function testNew() {
     $this->drupalLogin($this->adminUser);
+    $this->drupalGet('/admin/config/content/nopremium');
 
     // Test submitting form without changing anything.
-    $this->drupalPostForm('/admin/config/content/nopremium', [], 'Save configuration');
+    $this->submitForm([], 'Save configuration');
 
     $expected = [
       'default_message' => 'The full content of this page is available to premium users only.',
@@ -71,7 +72,8 @@ class SettingsFormTest extends NopremiumBrowserTestBase {
       'view_modes[teaser]' => '',
       'teaser_view_mode' => 'rss',
     ];
-    $this->drupalPostForm('/admin/config/content/nopremium', $edit, 'Save configuration');
+    $this->drupalGet('/admin/config/content/nopremium');
+    $this->submitForm($edit, 'Save configuration');
 
     $expected = [
       'default_message' => 'This is premium content.',
@@ -95,9 +97,10 @@ class SettingsFormTest extends NopremiumBrowserTestBase {
     // Create two content types.
     $this->drupalCreateContentType(['type' => 'bar']);
     $this->drupalCreateContentType(['type' => 'foo']);
+    $this->drupalGet('/admin/config/content/nopremium');
 
     // Test submitting form without changing anything.
-    $this->drupalPostForm('/admin/config/content/nopremium', [], 'Save configuration');
+    $this->submitForm([], 'Save configuration');
 
     $expected = [
       'default_message' => 'The full content of this page is available to premium users only.',
@@ -129,7 +132,8 @@ class SettingsFormTest extends NopremiumBrowserTestBase {
       'message_bar' => 'This is the message for the bar content type.',
       'message_foo' => 'This is the message for the foo content type.',
     ];
-    $this->drupalPostForm('/admin/config/content/nopremium', $edit, 'Save configuration');
+    $this->drupalGet('/admin/config/content/nopremium');
+    $this->submitForm($edit, 'Save configuration');
 
     $expected = [
       'default_message' => 'This is premium content.',
@@ -167,9 +171,10 @@ class SettingsFormTest extends NopremiumBrowserTestBase {
       ])
       ->set('teaser_view_mode', 'rss')
       ->save();
+    $this->drupalGet('/admin/config/content/nopremium');
 
     // Test submitting form without changing anything.
-    $this->drupalPostForm('/admin/config/content/nopremium', [], 'Save configuration');
+    $this->submitForm([], 'Save configuration');
 
     // Assert that the configuration stayed the same.
     $expected = [
diff --git a/tests/src/Functional/InstallTest.php b/tests/src/Functional/InstallTest.php
index 1a12d7d..49fe5a0 100644
--- a/tests/src/Functional/InstallTest.php
+++ b/tests/src/Functional/InstallTest.php
@@ -38,7 +38,7 @@ class InstallTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->moduleHandler = $this->container->get('module_handler');
     $this->moduleInstaller = $this->container->get('module_installer');
diff --git a/tests/src/Functional/NodeEditTest.php b/tests/src/Functional/NodeEditTest.php
index e8fdb47..97f114c 100644
--- a/tests/src/Functional/NodeEditTest.php
+++ b/tests/src/Functional/NodeEditTest.php
@@ -14,7 +14,7 @@ class NodeEditTest extends NopremiumBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create a content type.
@@ -63,7 +63,8 @@ class NodeEditTest extends NopremiumBrowserTestBase {
       'title[0][value]' => 'Lorem ipsum',
       'premium[value]' => 1,
     ];
-    $this->drupalPostForm('node/add/article', $edit, 'Save');
+    $this->drupalGet('node/add/article');
+    $this->submitForm($edit, 'Save');
 
     // Assert that a node was created and premium is enabled.
     $node = Node::load(1);
@@ -75,7 +76,8 @@ class NodeEditTest extends NopremiumBrowserTestBase {
     $edit = [
       'premium[value]' => 1,
     ];
-    $this->drupalPostForm(sprintf('node/%s/edit', $node->id()), $edit, 'Save');
+    $this->drupalGet(sprintf('node/%s/edit', $node->id()));
+    $this->submitForm($edit, 'Save');
 
     // Assert that the node is now premium.
     $node = $this->reloadEntity($node);
@@ -105,7 +107,8 @@ class NodeEditTest extends NopremiumBrowserTestBase {
       'title[0][value]' => 'Lorem ipsum',
       'premium[value]' => 1,
     ];
-    $this->drupalPostForm('node/add/article', $edit, 'Save');
+    $this->drupalGet('node/add/article');
+    $this->submitForm($edit, 'Save');
 
     // Assert that a node was created and premium is enabled.
     $node = Node::load(1);
@@ -117,7 +120,8 @@ class NodeEditTest extends NopremiumBrowserTestBase {
     $edit = [
       'premium[value]' => 1,
     ];
-    $this->drupalPostForm(sprintf('node/%s/edit', $node->id()), $edit, 'Save');
+    $this->drupalGet(sprintf('node/%s/edit', $node->id()));
+    $this->submitForm($edit, 'Save');
 
     // Assert that the node is now premium.
     $node = $this->reloadEntity($node);
diff --git a/tests/src/Functional/NodeViewTest.php b/tests/src/Functional/NodeViewTest.php
index dad8256..408f2f9 100644
--- a/tests/src/Functional/NodeViewTest.php
+++ b/tests/src/Functional/NodeViewTest.php
@@ -12,7 +12,7 @@ class NodeViewTest extends NopremiumBrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create a content type and enable premium for this type.
diff --git a/tests/src/Functional/NopremiumBrowserTestBase.php b/tests/src/Functional/NopremiumBrowserTestBase.php
index c02a8fc..97c8120 100644
--- a/tests/src/Functional/NopremiumBrowserTestBase.php
+++ b/tests/src/Functional/NopremiumBrowserTestBase.php
@@ -32,7 +32,7 @@ abstract class NopremiumBrowserTestBase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->admin = $this->drupalCreateUser([
diff --git a/tests/src/Functional/UninstallTest.php b/tests/src/Functional/UninstallTest.php
index fce2763..a09f248 100644
--- a/tests/src/Functional/UninstallTest.php
+++ b/tests/src/Functional/UninstallTest.php
@@ -38,7 +38,7 @@ class UninstallTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->moduleHandler = $this->container->get('module_handler');
     $this->moduleInstaller = $this->container->get('module_installer');
diff --git a/tests/src/Kernel/Migrate/MigrateNodeTest.php b/tests/src/Kernel/Migrate/MigrateNodeTest.php
index 07fa244..d8b4259 100644
--- a/tests/src/Kernel/Migrate/MigrateNodeTest.php
+++ b/tests/src/Kernel/Migrate/MigrateNodeTest.php
@@ -36,7 +36,7 @@ class MigrateNodeTest extends MigrateDrupal7TestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Add Nopremium D7 data.
diff --git a/tests/src/Kernel/NodeViewTest.php b/tests/src/Kernel/NodeViewTest.php
index c77a564..92d026d 100644
--- a/tests/src/Kernel/NodeViewTest.php
+++ b/tests/src/Kernel/NodeViewTest.php
@@ -29,7 +29,7 @@ class NodeViewTest extends NopremiumKernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create an administrative user.
diff --git a/tests/src/Kernel/NopremiumKernelTestBase.php b/tests/src/Kernel/NopremiumKernelTestBase.php
index 2003b9f..c654848 100644
--- a/tests/src/Kernel/NopremiumKernelTestBase.php
+++ b/tests/src/Kernel/NopremiumKernelTestBase.php
@@ -34,7 +34,7 @@ abstract class NopremiumKernelTestBase extends EntityKernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Install database schemes.
diff --git a/tests/src/Unit/NodeOptionPremiumHelperTest.php b/tests/src/Unit/NodeOptionPremiumHelperTest.php
index 618aef4..fd74843 100644
--- a/tests/src/Unit/NodeOptionPremiumHelperTest.php
+++ b/tests/src/Unit/NodeOptionPremiumHelperTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\nopremium\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\ContentEntityInterface;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\node\NodeInterface;
@@ -16,6 +17,7 @@ use Prophecy\Argument;
  */
 class NodeOptionPremiumHelperTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * The service under test.
    *
@@ -40,7 +42,7 @@ class NodeOptionPremiumHelperTest extends UnitTestCase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create the service to test.
