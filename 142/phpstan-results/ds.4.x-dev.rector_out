modules/contrib/ds/ds.api.php
modules/contrib/ds/includes/field_ui.inc
modules/contrib/ds/modules/ds_extras/src/ExtrasPermissions.php
modules/contrib/ds/src/Form/SettingsForm.php
modules/contrib/ds/src/Plugin/DsField/Comment/CommentUser.php
modules/contrib/ds/src/Plugin/DsField/Node/NodeTitle.php
modules/contrib/ds/ds.install
modules/contrib/ds/src/Plugin/views/Entity/Render/CurrentLanguageRenderer.php
modules/contrib/ds/tests/modules/ds_test/ds_test.module
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestFieldZeroFloat.php
modules/contrib/ds/src/Plugin/views/Entity/Render/DefaultLanguageRenderer.php
modules/contrib/ds/tests/src/Functional/DsTestTrait.php
modules/contrib/ds/src/Plugin/DsField/Taxonomy/TaxonomyTermLink.php
modules/contrib/ds/src/Plugin/DsField/Taxonomy/TaxonomyTermTitle.php
modules/contrib/ds/src/Plugin/DsField/ThemePluginBase.php
modules/contrib/ds/tests/src/Unit/DsServiceTest.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestFieldZeroInt.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestFieldZeroString.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestMultipleEntityTypeField.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestMultipleField.php
modules/contrib/ds/src/Plugin/DsField/Title.php
modules/contrib/ds/src/Plugin/views/Entity/Render/RendererBase.php
modules/contrib/ds/src/Plugin/DsField/TokenBase.php
modules/contrib/ds/src/Form/TokenFieldForm.php
modules/contrib/ds/ds.module
modules/contrib/ds/modules/ds_extras/src/Plugin/DsField/SwitchField.php
modules/contrib/ds/src/Form/TwigFieldForm.php
modules/contrib/ds/src/Plugin/DsField/User/User.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsFieldTemplate/TestLayout.php
modules/contrib/ds/tests/src/Functional/BlockFieldPluginTest.php
modules/contrib/ds/src/Plugin/Derivative/BundleField.php
modules/contrib/ds/src/Plugin/DsField/User/UserMail.php
modules/contrib/ds/src/Plugin/Derivative/DsEntityRow.php
modules/contrib/ds/src/Plugin/DsField/User/UserSignature.php
modules/contrib/ds/src/Plugin/DsField/Comment/CommentUserSignature.php
modules/contrib/ds/src/Plugin/DsField/User/Username.php
modules/contrib/ds/src/Plugin/DsFieldTemplate/DefaultField.php
modules/contrib/ds/src/Plugin/DsFieldTemplate/DsFieldTemplateBase.php
modules/contrib/ds/tests/src/Functional/DynamicFieldPluginTest.php
modules/contrib/ds/src/Plugin/DsFieldTemplate/DsFieldTemplateInterface.php
modules/contrib/ds/src/Plugin/DsFieldTemplate/Expert.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/Block/DsCacheTestBlock.php
modules/contrib/ds/src/Plugin/DsField/Date.php
modules/contrib/ds/src/Plugin/Derivative/DsLocalTask.php
modules/contrib/ds/src/Plugin/DsField/DsFieldBase.php
modules/contrib/ds/src/Plugin/Derivative/DynamicBlockField.php
modules/contrib/ds/src/Plugin/Derivative/DynamicCopyField.php
modules/contrib/ds/src/Plugin/Derivative/DynamicField.php
modules/contrib/ds/src/Plugin/DsField/DsFieldInterface.php
modules/contrib/ds/src/Plugin/DsField/DynamicBlockField.php
modules/contrib/ds/modules/ds_switch_view_mode/ds_switch_view_mode.module
modules/contrib/ds/tests/src/Functional/BlockTest.php
modules/contrib/ds/src/Plugin/DsField/DynamicCopyField.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/Block/DsTestBlock.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestCachingField.php
modules/contrib/ds/src/Plugin/DsField/DynamicTokenField.php
modules/contrib/ds/src/Plugin/DsField/DynamicTwigField.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestField.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestField2.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestFieldEmptyString.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestFieldFalse.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestFieldNothing.php
modules/contrib/ds/tests/modules/ds_test/src/Plugin/DsField/TestFieldNull.php
modules/contrib/ds/src/Plugin/DsField/Entity.php
modules/contrib/ds/tests/src/Functional/CacheTagsTest.php
modules/contrib/ds/tests/src/Functional/EntitiesTest.php
modules/contrib/ds/src/Plugin/DsFieldTemplate/Minimal.php
modules/contrib/ds/src/Plugin/DsFieldTemplate/Reset.php
modules/contrib/ds/src/Plugin/DsField/Field.php
modules/contrib/ds/tests/src/Functional/CloneTest.php
modules/contrib/ds/modules/ds_switch_view_mode/src/Permissions.php
modules/contrib/ds/src/Plugin/DsFieldTemplatePluginManager.php
modules/contrib/ds/src/Annotation/DsField.php
modules/contrib/ds/src/Annotation/DsFieldTemplate.php
modules/contrib/ds/src/Controller/DsController.php
modules/contrib/ds/tests/src/Functional/CommentTest.php
modules/contrib/ds/src/Plugin/views/Entity/Render/TranslationLanguageRenderer.php
modules/contrib/ds/src/Plugin/Derivative/DynamicTokenField.php
modules/contrib/ds/src/Plugin/Derivative/DynamicTwigField.php
modules/contrib/ds/src/Plugin/DsLayout.php
modules/contrib/ds/src/Plugin/DsField/Block/BlockDescription.php
modules/contrib/ds/src/Plugin/DsField/Link.php
modules/contrib/ds/src/Plugin/DsField/Markup.php
modules/contrib/ds/src/Plugin/views/row/EntityRow.php
modules/contrib/ds/src/Plugin/DsField/Media/MediaName.php
modules/contrib/ds/src/Plugin/DsField/Node/NodeAuthor.php
modules/contrib/ds/src/Plugin/DsField/Block/BlockTitle.php
modules/contrib/ds/src/Plugin/DsField/BlockBase.php
modules/contrib/ds/src/Plugin/DsField/Node/NodeChangedDate.php
modules/contrib/ds/src/Plugin/DsField/Node/NodeLink.php
modules/contrib/ds/src/Plugin/DsField/Node/NodeLinks.php
modules/contrib/ds/src/Plugin/DsField/Node/NodePostDate.php
modules/contrib/ds/src/Plugin/DsField/Node/NodeSubmittedBy.php
modules/contrib/ds/tests/src/Functional/DsFieldCacheTest.php
modules/contrib/ds/src/Plugin/DsPluginManager.php
modules/contrib/ds/src/Plugin/DsField/Book/BookNavigation.php
modules/contrib/ds/src/Plugin/views/Entity/Render/ConfigurableLanguageRenderer.php
modules/contrib/ds/src/Plugin/DsField/BundleField.php
modules/contrib/ds/src/Plugin/DsField/Comment/CommentAuthor.php
modules/contrib/ds/src/Plugin/DsField/Comment/CommentChangedDate.php
modules/contrib/ds/src/Plugin/DsField/Comment/CommentPostDate.php
modules/contrib/ds/src/Plugin/DsField/Comment/CommentTitle.php
modules/contrib/ds/tests/src/Functional/ExportablesTest.php
modules/contrib/ds/src/Routing/RouteSubscriber.php
modules/contrib/ds/src/Controller/FieldController.php
modules/contrib/ds/src/Ds.php
modules/contrib/ds/tests/src/Functional/FieldGroupTest.php
modules/contrib/ds/tests/src/Functional/FieldPermissionsTest.php
modules/contrib/ds/src/DsAttribute.php
modules/contrib/ds/tests/src/Functional/FieldPluginTest.php
modules/contrib/ds/src/Form/BlockFieldConfigForm.php
modules/contrib/ds/src/Form/BlockFieldForm.php
modules/contrib/ds/tests/src/Functional/FieldTemplateLayoutBuilderTest.php
modules/contrib/ds/src/Form/ChangeLayoutForm.php
modules/contrib/ds/tests/src/Functional/FieldTemplateTest.php
modules/contrib/ds/src/Form/ClassesForm.php
modules/contrib/ds/src/Form/CopyFieldForm.php
modules/contrib/ds/src/Form/EmergencyForm.php
modules/contrib/ds/src/Form/FieldDeleteForm.php
modules/contrib/ds/src/Form/FieldFormBase.php
modules/contrib/ds/modules/ds_devel/ds_devel.module
modules/contrib/ds/modules/ds_devel/src/Controller/DsDevelController.php
modules/contrib/ds/modules/ds_devel/src/Plugin/Derivative/DsDevelLocalTask.php
modules/contrib/ds/modules/ds_devel/src/Routing/RouteSubscriber.php
modules/contrib/ds/modules/ds_extras/ds_extras.install
modules/contrib/ds/modules/ds_extras/ds_extras.module
modules/contrib/ds/tests/src/Functional/HiddenRegionTest.php
modules/contrib/ds/modules/ds_extras/src/Controller/DsExtrasController.php
modules/contrib/ds/tests/src/Functional/LayoutClassesTest.php
modules/contrib/ds/modules/ds_extras/src/EventSubscriber/RouteSubscriber.php
modules/contrib/ds/tests/src/Functional/LayoutFluidTest.php
modules/contrib/ds/tests/src/Functional/LayoutPluginTest.php
modules/contrib/ds/tests/src/Functional/ManageDisplayTabTest.php
modules/contrib/ds/tests/src/Functional/RdfTest.php
modules/contrib/ds/tests/src/Functional/TestBase.php
modules/contrib/ds/tests/src/Functional/TwigRenderTest.php
modules/contrib/ds/tests/src/Functional/UserTest.php
modules/contrib/ds/tests/src/Functional/ViewsTest.php
modules/contrib/ds/tests/src/FunctionalJavascript/JavascriptTest.php

15 files with changes
=====================

1) modules/contrib/ds/tests/src/Functional/DsFieldCacheTest.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->drupalLogin($this->adminUser);
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/ds/tests/src/Functional/CommentTest.php:39

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Create a test user.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/ds/tests/src/Functional/BlockTest.php:38

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Create a test user.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/ds/tests/src/Functional/BlockFieldPluginTest.php:36

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Ensure that the plugin definitions are cleared.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/ds/ds.module:57

    ---------- begin diff ----------
@@ @@
           'render element' => 'elements',
           'template' => strtr($plugin['theme'], '_', '-'),
           'base hook' => 'field',
-          'path' => drupal_get_path('module', $plugin['provider']) . '/templates',
+          'path' => \Drupal::service('extension.list.module')->getPath($plugin['provider']) . '/templates',
         ];

         if (!empty($plugin['path'])) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


6) modules/contrib/ds/src/Form/ChangeLayoutForm.php:161

    ---------- begin diff ----------
@@ @@
         '#suffix' => '</div>',
       ];

-      $fallback_image = drupal_get_path('module', 'ds') . '/images/preview.png';
+      $fallback_image = \Drupal::service('extension.list.module')->getPath('ds') . '/images/preview.png';
       $old_image = $old_layout_info->getIconPath() ?: $fallback_image;
       $new_image = $new_layout->getIconPath() ?: $fallback_image;
-      $arrow = drupal_get_path('module', 'ds') . '/images/arrow.png';
+      $arrow = \Drupal::service('extension.list.module')->getPath('ds') . '/images/arrow.png';

       $form['preview']['old_layout'] = [
         '#markup' => '<div class="ds-layout-preview-image"><img src="' . base_path() . $old_image . '"/></div>',
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


7) modules/contrib/ds/modules/ds_switch_view_mode/ds_switch_view_mode.module:120

    ---------- begin diff ----------
@@ @@
       $layout_settings = $chosen_layout->getThirdPartySettings('ds');

       $ds_layouts = Ds::getLayouts();
-      $fallback_image = drupal_get_path('module', 'ds') . '/images/preview.png';
+      $fallback_image = \Drupal::service('extension.list.module')->getPath('ds') . '/images/preview.png';

       if (isset($layout_settings['layout'])) {
         /** @var \Drupal\Core\Layout\LayoutDefinition $chosen_layout */
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


8) modules/contrib/ds/includes/field_ui.inc:986

    ---------- begin diff ----------
@@ @@
     }

     if ($form_state->hasValue('ds_layout') || (!empty($layout) && isset($layout['regions'])) && (!empty($chosen_layout))) {
-      $fallback_image = drupal_get_path('module', 'ds') . '/images/preview.png';
+      $fallback_image = \Drupal::service('extension.list.module')->getPath('ds') . '/images/preview.png';
       $current_layout = $form_state->hasValue('ds_layout') && (!isset($layout->layout) || $form_state->getValue('ds_layout') != $layout->layout) ? t('Current layout (after save)') : t('Current layout');
       $image = $chosen_layout->getIconPath();
       if (empty($image)) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


9) modules/contrib/ds/tests/src/FunctionalJavascript/JavascriptTest.php:33

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Create a test user.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/ds/tests/src/Functional/ViewsTest.php:37

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Ensure that the plugin definitions are cleared.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/ds/tests/src/Functional/TestBase.php:82

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('system_breadcrumb_block');
     $this->drupalPlaceBlock('local_tasks_block');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/ds/tests/src/Functional/LayoutClassesTest.php:11

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setup() {
+  protected function setup(): void {
     parent::setup();

     // Set extra fields.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/ds/tests/src/Functional/FieldTemplateTest.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setup() {
+  protected function setup(): void {
     parent::setup();

     // Enable field templates.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/ds/tests/src/Functional/FieldTemplateLayoutBuilderTest.php:32

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setup() {
+  protected function setup(): void {
     parent::setup();

     // Enable field templates.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/ds/tests/src/Functional/EntitiesTest.php:26

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setup() {
+  protected function setup(): void {
     parent::setup();

     // Enable field templates.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 15 files have been changed by Rector                                      

