diff --git a/src/Controller/ReaderNodeAjaxController.php b/src/Controller/ReaderNodeAjaxController.php
index 8a3487e..efff447 100644
--- a/src/Controller/ReaderNodeAjaxController.php
+++ b/src/Controller/ReaderNodeAjaxController.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\epub_reader_framework\Controller;
 
+use Drupal\Core\Cache\CacheableAjaxResponse;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\Core\Ajax\ReplaceCommand;
 use Drupal\Core\Controller\ControllerBase;
@@ -55,7 +56,7 @@ class ReaderNodeAjaxController extends ControllerBase {
         if (class_exists('\Drupal\Core\Cache\CacheableAjaxResponse')) {
           // Cannot use 'Use' statement as we are unsure if this will exist.
           // @see https://www.drupal.org/project/drupal/issues/2701085.
-          $response = new \Drupal\Core\Cache\CacheableAjaxResponse();
+          $response = new CacheableAjaxResponse();
         }
         else {
           $response = new AjaxResponse();
diff --git a/src/Epub/ReaderEpubXhtmlConverter.php b/src/Epub/ReaderEpubXhtmlConverter.php
index 55182c3..bb91cfc 100644
--- a/src/Epub/ReaderEpubXhtmlConverter.php
+++ b/src/Epub/ReaderEpubXhtmlConverter.php
@@ -112,7 +112,7 @@ class ReaderEpubXhtmlConverter {
         // Get the event_dispatcher service and dispatch the event.
         $event_name = ReaderEpubXhmlConverterEvent::EVENT_NAME;
         $event_dispatcher = $this->eventDispatcher;
-        $event_dispatcher->dispatch($event_name, $event);
+        $event_dispatcher->dispatch($event, $event_name);
       }
     }
 
diff --git a/src/Event/ReaderEpubXhmlConverterEvent.php b/src/Event/ReaderEpubXhmlConverterEvent.php
index 5047c3c..7bf1a35 100644
--- a/src/Event/ReaderEpubXhmlConverterEvent.php
+++ b/src/Event/ReaderEpubXhmlConverterEvent.php
@@ -2,9 +2,9 @@
 
 namespace Drupal\epub_reader_framework\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\node\NodeInterface;
 use Wa72\HtmlPageDom\HtmlPageCrawler;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Event that is fired when the batch is processing a particular chapter.
diff --git a/src/Event/ReaderNodeAjaxControllerResponseEvent.php b/src/Event/ReaderNodeAjaxControllerResponseEvent.php
index 7efdc89..f49610f 100644
--- a/src/Event/ReaderNodeAjaxControllerResponseEvent.php
+++ b/src/Event/ReaderNodeAjaxControllerResponseEvent.php
@@ -2,9 +2,9 @@
 
 namespace Drupal\epub_reader_framework\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\node\NodeInterface;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Event that is fired before the ajax response is returned.
diff --git a/tests/src/Functional/ReaderChapterNavigationTest.php b/tests/src/Functional/ReaderChapterNavigationTest.php
index 7b7edf5..5100e10 100644
--- a/tests/src/Functional/ReaderChapterNavigationTest.php
+++ b/tests/src/Functional/ReaderChapterNavigationTest.php
@@ -39,7 +39,7 @@ class ReaderChapterNavigationTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $admin_user = $this->drupalCreateUser([], NULL, TRUE);
     $this->drupalLogin($admin_user);
@@ -54,7 +54,7 @@ class ReaderChapterNavigationTest extends BrowserTestBase {
 
     // Create the reader publication.
     $this->drupalGet('node/add/reader_publication');
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Test EPUB',
     ], t('Save'));
 
@@ -66,7 +66,7 @@ class ReaderChapterNavigationTest extends BrowserTestBase {
     $this->assertSession()->pageTextContains('Create Reader chapter');
 
     // Create a chapter.
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Chapter One',
     ], t('Save'));
 
@@ -74,7 +74,7 @@ class ReaderChapterNavigationTest extends BrowserTestBase {
     $this->clickLink(t('Add Chapter'));
 
     // Create a chapter.
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Chapter Two',
     ], t('Save'));
 
diff --git a/tests/src/Functional/ReaderPreviousNextTest.php b/tests/src/Functional/ReaderPreviousNextTest.php
index 6ee9803..8c1c7fb 100644
--- a/tests/src/Functional/ReaderPreviousNextTest.php
+++ b/tests/src/Functional/ReaderPreviousNextTest.php
@@ -39,7 +39,7 @@ class ReaderPreviousNextTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $admin_user = $this->drupalCreateUser([], NULL, TRUE);
     $this->drupalLogin($admin_user);
@@ -54,7 +54,7 @@ class ReaderPreviousNextTest extends BrowserTestBase {
 
     // Create the reader publication.
     $this->drupalGet('node/add/reader_publication');
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Test EPUB',
     ], t('Save'));
 
@@ -66,7 +66,7 @@ class ReaderPreviousNextTest extends BrowserTestBase {
     $this->assertSession()->pageTextContains('Create Reader chapter');
 
     // Create a chapter.
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Chapter One',
     ], t('Save'));
 
@@ -74,7 +74,7 @@ class ReaderPreviousNextTest extends BrowserTestBase {
     $this->clickLink(t('Add Chapter'));
 
     // Create a chapter.
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Chapter Two',
     ], t('Save'));
 
diff --git a/tests/src/Functional/ReaderSubchapterHeadingsTest.php b/tests/src/Functional/ReaderSubchapterHeadingsTest.php
index f0091da..761565e 100644
--- a/tests/src/Functional/ReaderSubchapterHeadingsTest.php
+++ b/tests/src/Functional/ReaderSubchapterHeadingsTest.php
@@ -40,7 +40,7 @@ class ReaderSubchapterHeadingsTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $admin_user = $this->drupalCreateUser([], NULL, TRUE);
     $this->drupalLogin($admin_user);
@@ -59,7 +59,7 @@ class ReaderSubchapterHeadingsTest extends BrowserTestBase {
 
     // Create the reader publication.
     $this->drupalGet('node/add/reader_publication');
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Test EPUB',
     ], t('Save'));
 
@@ -68,7 +68,7 @@ class ReaderSubchapterHeadingsTest extends BrowserTestBase {
     $this->clickLink(t('Add Chapter'));
 
     // Create a chapter.
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Chapter One',
       'body[0][value]' => '
         <h2>Chapter One Subheading One</h2>
diff --git a/tests/src/FunctionalJavascript/ReaderUploadEpubTest.php b/tests/src/FunctionalJavascript/ReaderUploadEpubTest.php
index 8da5d64..da36d12 100644
--- a/tests/src/FunctionalJavascript/ReaderUploadEpubTest.php
+++ b/tests/src/FunctionalJavascript/ReaderUploadEpubTest.php
@@ -45,7 +45,7 @@ class ReaderUploadEpubTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $admin_user = $this->drupalCreateUser([], NULL, TRUE);
     $this->drupalLogin($admin_user);
@@ -60,14 +60,14 @@ class ReaderUploadEpubTest extends BrowserTestBase {
     $this->drupalGet('media/add/epub');
 
     // Add an EPUB file.
-    $filepath = drupal_get_path('module', 'epub_reader_framework');
+    $filepath = \Drupal::service('extension.list.module')->getPath('epub_reader_framework');
     $filepath .= '/tests/fixtures/epubs/trees.epub';
     $this->getSession()->getPage()->attachFileToField('files[field_media_file_0]', $filepath);
-    $this->drupalPostForm(NULL, [], t('Save'));
+    $this->submitForm([], t('Save'));
 
     // Create the reader publication.
     $this->drupalGet('node/add/reader_publication');
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Test EPUB',
       'field_reader_file[0][target_id]' => 'trees.epub (1)',
     ], t('Save'));
