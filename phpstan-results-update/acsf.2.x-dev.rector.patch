diff --git a/acsf.api.php b/acsf.api.php
index 99234b1..d7104d7 100644
--- a/acsf.api.php
+++ b/acsf.api.php
@@ -20,7 +20,7 @@ function hook_acsf_registry() {
         // contain a namespace declaration.
         'class' => '\Drupal\your_module\YourClassName',
         // 'path' is necessary only if the location is non-standard:
-        'path' => drupal_get_path('module', 'your_module') . '/classes',
+        'path' => \Drupal::service('extension.list.module')->getPath('your_module') . '/classes',
       ],
     ],
   ];
diff --git a/acsf_init/src/Commands/AcsfInitCommands.php b/acsf_init/src/Commands/AcsfInitCommands.php
index 3e3ab02..bcfb26a 100644
--- a/acsf_init/src/Commands/AcsfInitCommands.php
+++ b/acsf_init/src/Commands/AcsfInitCommands.php
@@ -463,7 +463,7 @@ class AcsfInitCommands extends DrushCommands {
     $admin_account->setLastLoginTime(1)
       ->setUsername('Site Factory admin')
       ->setEmail($site_admin_mail)
-      ->setPassword(user_password())
+      ->setPassword(\Drupal::service('password_generator')->generate())
       ->activate()
       ->save();
 
@@ -487,7 +487,7 @@ class AcsfInitCommands extends DrushCommands {
     $site_owner_account->setLastLoginTime(1)
       ->setUsername($site_owner_name)
       ->setEmail($site_owner_mail)
-      ->setPassword(user_password())
+      ->setPassword(\Drupal::service('password_generator')->generate())
       ->activate()
       ->save();
 
diff --git a/acsf_sj/src/Api/SjApiClient.php b/acsf_sj/src/Api/SjApiClient.php
index 7c13f7b..250e7be 100644
--- a/acsf_sj/src/Api/SjApiClient.php
+++ b/acsf_sj/src/Api/SjApiClient.php
@@ -189,7 +189,7 @@ class SjApiClient implements SjClientInterface {
 
     $exit_code = -1;
     if (!$error) {
-      $command = sprintf('%s %s', $this->binary, $command_arguments);
+      $command = [$this->binary, $command_arguments];
       // Possibly one retry.
       for ($retry = 0; $retry < 2 && $exit_code !== 0; $retry++) {
         if ($retry) {
diff --git a/src/EventSubscriber/AcsfMaintenanceModeSubscriber.php b/src/EventSubscriber/AcsfMaintenanceModeSubscriber.php
index 873ad3a..8448ddd 100644
--- a/src/EventSubscriber/AcsfMaintenanceModeSubscriber.php
+++ b/src/EventSubscriber/AcsfMaintenanceModeSubscriber.php
@@ -2,9 +2,9 @@
 
 namespace Drupal\acsf\EventSubscriber;
 
+use Symfony\Component\HttpKernel\Event\ResponseEvent;
 use Drupal\Core\State\StateInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;
 
 /**
@@ -37,10 +37,10 @@ class AcsfMaintenanceModeSubscriber implements EventSubscriberInterface {
   /**
    * Sets SF maintenance mode header (on successful responses).
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
    *   The event to process.
    */
-  public function onRespond(FilterResponseEvent $event) {
+  public function onRespond(ResponseEvent $event) {
     if (!$event->isMasterRequest()) {
       return;
     }
diff --git a/tests/AcsfConfigTest.php b/tests/AcsfConfigTest.php
index b7ad5a1..67ed719 100644
--- a/tests/AcsfConfigTest.php
+++ b/tests/AcsfConfigTest.php
@@ -17,7 +17,7 @@ class AcsfConfigTest extends TestCase {
   /**
    * Setup.
    */
-  public function setUp() {
+  public function setUp(): void {
     // The files in this directory can't be autoloaded as long as they don't
     // match their classes' namespaces.
     $files = [
diff --git a/tests/AcsfEventsTest.php b/tests/AcsfEventsTest.php
index 0e54834..a90576b 100644
--- a/tests/AcsfEventsTest.php
+++ b/tests/AcsfEventsTest.php
@@ -31,7 +31,7 @@ class UnitTest extends TestCase {
   /**
    * Setup.
    */
-  public function setUp() {
+  public function setUp(): void {
     // The files in this directory can't be autoloaded as long as they don't
     // match their classes' namespaces.
     $files = [
diff --git a/tests/AcsfMessageTest.php b/tests/AcsfMessageTest.php
index 50e8a78..8536081 100644
--- a/tests/AcsfMessageTest.php
+++ b/tests/AcsfMessageTest.php
@@ -18,7 +18,7 @@ class AcsfMessageTest extends TestCase {
   /**
    * Setup.
    */
-  public function setUp() {
+  public function setUp(): void {
     // The files in this directory can't be autoloaded as long as they don't
     // match their classes' namespaces.
     $files = [
diff --git a/tests/AcsfSiteTest.php b/tests/AcsfSiteTest.php
index dbb10e6..0f1e965 100644
--- a/tests/AcsfSiteTest.php
+++ b/tests/AcsfSiteTest.php
@@ -30,7 +30,7 @@ class AcsfSiteTest extends TestCase {
   /**
    * Setup.
    */
-  public function setUp() {
+  public function setUp(): void {
     // Simulate the sites.json configuration.
     $GLOBALS['gardens_site_settings']['conf']['acsf_site_id'] = $this->site_id;
 
@@ -162,7 +162,7 @@ class AcsfSiteTest extends TestCase {
   /**
    * Cleanup Mockery on each test. (PHPUnit 5 does not support listeners.)
    */
-  public function tearDown() {
+  public function tearDown(): void {
     Mockery::close();
   }
 
