diff --git a/bootstrap_forms.theme b/bootstrap_forms.theme
index 671c007..4de8dc7 100644
--- a/bootstrap_forms.theme
+++ b/bootstrap_forms.theme
@@ -222,7 +222,7 @@ function bootstrap_forms_preprocess_form_element_label(&$variables) {
 
   if (isset($element['#tooltip_expand'])) {
     $tip = ['#theme' => 'tooltip'];
-    $variables['title']['#markup'] .= drupal_render($tip);
+    $variables['title']['#markup'] .= \Drupal::service('renderer')->render($tip);
 
   }
 
@@ -481,7 +481,7 @@ function bootstrap_forms_theme($existing, $type, $theme, $path) {
         'links' => array()
       ),
       'template' => 'dropbutton',
-      'path' => drupal_get_path('theme','bootstrap_forms') . '/templates/bootstrap'
+      'path' => \Drupal::service('extension.list.theme')->getPath('bootstrap_forms') . '/templates/bootstrap'
     ),
     'tooltip' => array(
       'variables' => array(
@@ -491,7 +491,7 @@ function bootstrap_forms_theme($existing, $type, $theme, $path) {
         'title' => ''
       ),
       'template' => 'tooltip',
-      'path' => drupal_get_path('theme','bootstrap_forms') . '/templates/bootstrap'
+      'path' => \Drupal::service('extension.list.theme')->getPath('bootstrap_forms') . '/templates/bootstrap'
     ),
     'popover' => array(
       'variables' => array(
@@ -502,7 +502,7 @@ function bootstrap_forms_theme($existing, $type, $theme, $path) {
         'content' => ''
       ),
       'template' => 'popover',
-      'path' => drupal_get_path('theme','bootstrap_forms') . '/templates/bootstrap'
+      'path' => \Drupal::service('extension.list.theme')->getPath('bootstrap_forms') . '/templates/bootstrap'
     ),
     'options_fieldset' => [
       'render element' => 'element',
