diff --git a/composer.json b/composer.json
index 34715e1..e4ce197 100644
--- a/composer.json
+++ b/composer.json
@@ -22,6 +22,6 @@
         "source": "https://git.drupalcode.org/project/gmap_store_locator"
     },
     "require": {
-        "drupal/core": "^8.8 || ^9.0"
+        "drupal/core": "^9.3 || ^10"
     }
 }
diff --git a/src/Helper/LocationDataHelper.php b/src/Helper/LocationDataHelper.php
index 695b3ba..4697f54 100755
--- a/src/Helper/LocationDataHelper.php
+++ b/src/Helper/LocationDataHelper.php
@@ -135,7 +135,7 @@ class LocationDataHelper {
       if (!empty($fid)) {
         $file = File::load($fid);
         $path = $file->getFileUri();
-        $marker_path = Url::fromUri(file_create_url($path))->toString();
+        $marker_path = \Drupal::service('file_url_generator')->generate($path)->toString();
       }
     }
 
diff --git a/store_locator.info.yml b/store_locator.info.yml
index 494b38d..06136a7 100755
--- a/store_locator.info.yml
+++ b/store_locator.info.yml
@@ -3,4 +3,4 @@ type: module
 description: 'Store Locator with Google Maps integration.'
 package: 'Location & Map'
 configure: store_locator.settings_form
-core_version_requirement: ^8.8 || ^9.0
+core_version_requirement: ^9.3 || ^10
diff --git a/store_locator.module b/store_locator.module
index fe1f183..67a4afe 100755
--- a/store_locator.module
+++ b/store_locator.module
@@ -53,7 +53,7 @@ function store_locator_entity_view_alter(array &$build, EntityInterface $entity,
     $icon_url = '';
     if (!is_null($fid)) {
       $file_entity = File::load($fid);
-      $icon_url = file_create_url($file_entity->getFileUri());
+      $icon_url = \Drupal::service('file_url_generator')->generateAbsoluteString($file_entity->getFileUri());
     }
     $lat = $build['name']['#object']->get('latitude')->value;
     $lng = $build['name']['#object']->get('longitude')->value;
