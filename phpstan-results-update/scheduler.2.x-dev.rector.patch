diff --git a/plugins/content_types/scheduler_form_pane.inc b/plugins/content_types/scheduler_form_pane.inc
index 2972187..9e6e978 100644
--- a/plugins/content_types/scheduler_form_pane.inc
+++ b/plugins/content_types/scheduler_form_pane.inc
@@ -18,7 +18,7 @@ $plugin = [
   'edit form' => 'scheduler_form_pane_node_form_menu_content_type_edit_form',
   'render callback' => 'scheduler_form_pane_content_type_render',
   'title' => t('Node form scheduler'),
-  'icon' => drupal_get_path('module', 'ctools') . '/plugins/content_types/node_form/icon_node_form.png',
+  'icon' => \Drupal::service('extension.list.module')->getPath('ctools') . '/plugins/content_types/node_form/icon_node_form.png',
   'description' => t('Scheduler date options on the Node form.'),
   'required context' => new ctools_context_required(t('Form'), 'node_form'),
   'category' => t('Form'),
diff --git a/scheduler.module b/scheduler.module
index f7897eb..33ffa06 100644
--- a/scheduler.module
+++ b/scheduler.module
@@ -31,7 +31,7 @@ function scheduler_help($route_name, RouteMatchInterface $route_match) {
       $output = '<h3>' . t('About') . '</h3>';
       $output .= '<p>' . t('The Scheduler module provides the functionality for automatic publishing and unpublishing of entities, such and nodes and media items, at specified future dates.') . '</p>';
       $output .= '<p>' . t('You can read more in the <a href="@readme">readme</a> file or our <a href="@project">project page on Drupal.org</a>.', [
-        '@readme' => $GLOBALS['base_url'] . '/' . drupal_get_path('module', 'scheduler') . '/README.md',
+        '@readme' => $GLOBALS['base_url'] . '/' . \Drupal::service('extension.list.module')->getPath('scheduler') . '/README.md',
         '@project' => 'https://drupal.org/project/scheduler',
       ]) . '</p>';
       break;
diff --git a/src/SchedulerManager.php b/src/SchedulerManager.php
index 9e84c75..58a25e4 100644
--- a/src/SchedulerManager.php
+++ b/src/SchedulerManager.php
@@ -142,7 +142,7 @@ class SchedulerManager {
     }
     else {
       // Replicate the existing dispatch signature.
-      $this->eventDispatcher->dispatch($event_name, $event);
+      $this->eventDispatcher->dispatch($event, $event_name);
     }
   }
 
@@ -1189,10 +1189,10 @@ class SchedulerManager {
 
       // Read the view definition from the .yml file. First try the /optional
       // folder, then the main /config folder.
-      $optional_folder = drupal_get_path('module', 'scheduler') . '/config/optional';
+      $optional_folder = \Drupal::service('extension.list.module')->getPath('scheduler') . '/config/optional';
       $source_storage = new FileStorage($optional_folder);
       if (!$source = $source_storage->read($full_name)) {
-        $install_folder = drupal_get_path('module', 'scheduler') . '/config/install';
+        $install_folder = \Drupal::service('extension.list.module')->getPath('scheduler') . '/config/install';
         $source_storage = new FileStorage($install_folder);
         if (!$source = $source_storage->read($full_name)) {
           throw new \Exception(sprintf('Failed to read source file for %s from either %s or %s folders', $full_name, $install_folder, $optional_folder));
diff --git a/tests/src/Kernel/MigrateSchedulerNodeTypeConfigTest.php b/tests/src/Kernel/MigrateSchedulerNodeTypeConfigTest.php
index 3e1f890..3205909 100644
--- a/tests/src/Kernel/MigrateSchedulerNodeTypeConfigTest.php
+++ b/tests/src/Kernel/MigrateSchedulerNodeTypeConfigTest.php
@@ -30,7 +30,7 @@ class MigrateSchedulerNodeTypeConfigTest extends MigrateDrupal7TestBase {
     parent::setUp();
     $this->loadFixture(implode(DIRECTORY_SEPARATOR, [
       DRUPAL_ROOT,
-      drupal_get_path('module', 'scheduler'),
+      \Drupal::service('extension.list.module')->getPath('scheduler'),
       'tests',
       'fixtures',
       'node_type_config.php',
diff --git a/tests/src/Kernel/MigrateSchedulerTest.php b/tests/src/Kernel/MigrateSchedulerTest.php
index 5f88574..7120ce1 100644
--- a/tests/src/Kernel/MigrateSchedulerTest.php
+++ b/tests/src/Kernel/MigrateSchedulerTest.php
@@ -26,7 +26,7 @@ class MigrateSchedulerTest extends MigrateDrupal7TestBase {
     parent::setUp();
     $this->loadFixture(implode(DIRECTORY_SEPARATOR, [
       DRUPAL_ROOT,
-      drupal_get_path('module', 'scheduler'),
+      \Drupal::service('extension.list.module')->getPath('scheduler'),
       'tests',
       'fixtures',
       'drupal7.php',
