diff --git a/imager_widget/src/Plugin/Field/FieldWidget/ImagerWidget.php b/imager_widget/src/Plugin/Field/FieldWidget/ImagerWidget.php
index 4db5786..a01de19 100644
--- a/imager_widget/src/Plugin/Field/FieldWidget/ImagerWidget.php
+++ b/imager_widget/src/Plugin/Field/FieldWidget/ImagerWidget.php
@@ -92,7 +92,7 @@ class ImagerWidget extends ImageWidget {
             list(, $mimetype) = explode(':', $type);
    
            // Save new file to drupal file managed.
-            $file = file_save_data($data_decoded, 'public://' . $original_file_name, FileSystemInterface::EXISTS_RENAME);
+            $file = \Drupal::service('file.repository')->writeData($data_decoded, 'public://' . $original_file_name, FileSystemInterface::EXISTS_RENAME);
           
             $file->setMimeType($mimetype);
             $file->save();
