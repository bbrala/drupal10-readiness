modules/contrib/subgroup/src/Access/InheritedGroupPermissionCalculator.php
modules/contrib/subgroup/tests/src/Kernel/GroupTypeSubgroupHandlerTest.php
modules/contrib/subgroup/tests/modules/subgroup_test_events/src/EventSubscriber/LeafEventsSubscriber.php
modules/contrib/subgroup/src/EventSubscriber/TreeCacheTagInvalidator.php
modules/contrib/subgroup/tests/src/Kernel/GroupContentDeleteTest.php
modules/contrib/subgroup/src/Form/SubgroupSettingsForm.php
modules/contrib/subgroup/src/Entity/GroupSubgroupHandler.php
modules/contrib/subgroup/tests/src/Kernel/GroupContentInsertTest.php
modules/contrib/subgroup/src/Entity/GroupTypeSubgroupHandler.php
modules/contrib/subgroup/tests/src/Kernel/GroupCreateTest.php
modules/contrib/subgroup/tests/src/Kernel/GroupDeleteTest.php
modules/contrib/subgroup/src/Entity/RoleInheritance.php
modules/contrib/subgroup/src/Entity/RoleInheritanceAccessControlHandler.php
modules/contrib/subgroup/src/Entity/RoleInheritanceInterface.php
modules/contrib/subgroup/src/Entity/RoleInheritanceStorage.php
modules/contrib/subgroup/tests/src/Kernel/GroupLeafTest.php
modules/contrib/subgroup/src/GroupLeaf.php
modules/contrib/subgroup/src/Entity/RoleInheritanceStorageInterface.php
modules/contrib/subgroup/src/Entity/SubgroupHandlerBase.php
modules/contrib/subgroup/tests/src/Kernel/GroupSubgroupHandlerTest.php
modules/contrib/subgroup/src/GroupTypeLeaf.php
modules/contrib/subgroup/src/InvalidInheritanceException.php
modules/contrib/subgroup/src/InvalidLeafException.php
modules/contrib/subgroup/src/InvalidParentException.php
modules/contrib/subgroup/src/InvalidRootException.php
modules/contrib/subgroup/src/LeafInterface.php
modules/contrib/subgroup/src/MalformedLeafException.php
modules/contrib/subgroup/src/Plugin/GroupContentEnabler/Subgroup.php
modules/contrib/subgroup/src/Plugin/GroupContentEnabler/SubgroupDeriver.php
modules/contrib/subgroup/src/Plugin/SubgroupAccessControlHandler.php
modules/contrib/subgroup/src/Plugin/SubgroupPermissionProvider.php
modules/contrib/subgroup/src/SubgroupFieldManager.php
modules/contrib/subgroup/src/SubgroupFieldManagerInterface.php
modules/contrib/subgroup/subgroup.module
modules/contrib/subgroup/tests/src/Kernel/GroupViewTest.php
modules/contrib/subgroup/src/Entity/SubgroupHandlerInterface.php
modules/contrib/subgroup/src/Event/GroupLeafEvent.php
modules/contrib/subgroup/src/Event/GroupTypeLeafEvent.php
modules/contrib/subgroup/src/Event/LeafEvents.php
modules/contrib/subgroup/src/EventSubscriber/GroupTypeLeafSubscriber.php
modules/contrib/subgroup/tests/src/Kernel/InheritedGroupPermissionCalculatorTest.php
modules/contrib/subgroup/tests/src/Kernel/GroupTypeDeleteTest.php
modules/contrib/subgroup/tests/src/Kernel/GroupTypeLeafImportTest.php
modules/contrib/subgroup/tests/src/Kernel/GroupTypeLeafTest.php
modules/contrib/subgroup/tests/src/Kernel/LeafEventsTest.php
modules/contrib/subgroup/tests/src/Kernel/RoleInheritanceAccessControlHandlerTest.php
modules/contrib/subgroup/tests/src/Kernel/RoleInheritanceStorageTest.php
modules/contrib/subgroup/tests/src/Kernel/RoleInheritanceTest.php
modules/contrib/subgroup/tests/src/Kernel/SubgroupAccessControlHandlerTest.php
modules/contrib/subgroup/tests/src/Kernel/SubgroupEntityTypeAlterTest.php
modules/contrib/subgroup/tests/src/Kernel/SubgroupFieldManagerTest.php
modules/contrib/subgroup/tests/src/Kernel/SubgroupKernelTestBase.php
modules/contrib/subgroup/tests/src/Kernel/SubgroupPermissionProviderTest.php
modules/contrib/subgroup/tests/src/Unit/GroupTypeLeafSubscriberTest.php
modules/contrib/subgroup/tests/src/Unit/SubgroupHandlerBaseTest.php
modules/contrib/subgroup/tests/src/Unit/TreeCacheTagInvalidatorTest.php

23 files with changes
=====================

1) modules/contrib/subgroup/subgroup.module:89

    ---------- begin diff ----------
@@ @@
     $event_dispatcher = \Drupal::service('event_dispatcher');
     $event = new GroupLeafEvent($group);
     if ($current_is_leaf) {
-      $event_dispatcher->dispatch(LeafEvents::GROUP_LEAF_ADD, $event);
+      $event_dispatcher->dispatch($event, LeafEvents::GROUP_LEAF_ADD);
     }
     else {
-      $event_dispatcher->dispatch(LeafEvents::GROUP_LEAF_REMOVE, $event);
+      $event_dispatcher->dispatch($event, LeafEvents::GROUP_LEAF_REMOVE);
     }
   }
 }
@@ @@
     /** @var \Drupal\Component\EventDispatcher\ContainerAwareEventDispatcher $event_dispatcher */
     $event_dispatcher = \Drupal::service('event_dispatcher');
     $event = new GroupTypeLeafEvent($group_type);
-    $event_dispatcher->dispatch(LeafEvents::GROUP_TYPE_LEAF_IMPORT, $event);
+    $event_dispatcher->dispatch($event, LeafEvents::GROUP_TYPE_LEAF_IMPORT);
   }
 }

@@ @@
     $event_dispatcher = \Drupal::service('event_dispatcher');
     $event = new GroupTypeLeafEvent($group_type);
     if ($group_type->isSyncing()) {
-      $event_dispatcher->dispatch(LeafEvents::GROUP_TYPE_LEAF_IMPORT, $event);
+      $event_dispatcher->dispatch($event, LeafEvents::GROUP_TYPE_LEAF_IMPORT);
     }
     elseif ($current_is_leaf) {
-      $event_dispatcher->dispatch(LeafEvents::GROUP_TYPE_LEAF_ADD, $event);
+      $event_dispatcher->dispatch($event, LeafEvents::GROUP_TYPE_LEAF_ADD);
     }
     else {
-      $event_dispatcher->dispatch(LeafEvents::GROUP_TYPE_LEAF_REMOVE, $event);
+      $event_dispatcher->dispatch($event, LeafEvents::GROUP_TYPE_LEAF_REMOVE);
     }
   }
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector


2) modules/contrib/subgroup/src/Event/GroupTypeLeafEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\subgroup\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\group\Entity\GroupTypeInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Defines the event for group type leaf status changes.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/subgroup/src/Event/GroupLeafEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\subgroup\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\group\Entity\GroupInterface;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Defines the event for group leaf status changes.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/subgroup/tests/src/Kernel/GroupTypeLeafTest.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $group_type = $this->createGroupType([
       'third_party_settings' => [
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/subgroup/tests/src/Kernel/GroupTypeLeafImportTest.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // The system.site key is required for import validation.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/subgroup/tests/src/Kernel/GroupTypeDeleteTest.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->subgroupHandler = $this->entityTypeManager->getHandler('group_type', 'subgroup');
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/subgroup/tests/src/Kernel/GroupSubgroupHandlerTest.php:86

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->subgroupHandler = $this->entityTypeManager->getHandler('group', 'subgroup');
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/subgroup/tests/src/Kernel/GroupLeafTest.php:22

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $group_type = $this->createGroupType();
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/subgroup/tests/src/Kernel/GroupDeleteTest.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->subgroupHandler = $this->entityTypeManager->getHandler('group', 'subgroup');
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/subgroup/tests/src/Kernel/GroupCreateTest.php:20

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->accessControlHandler = $this->entityTypeManager->getAccessControlHandler('group');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/subgroup/tests/src/Kernel/GroupContentInsertTest.php:32

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->groupSubgroupHandler = $this->entityTypeManager->getHandler('group', 'subgroup');
     $this->groupTypeSubgroupHandler = $this->entityTypeManager->getHandler('group_type', 'subgroup');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/subgroup/tests/src/Kernel/GroupContentDeleteTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->subgroupHandler = $this->entityTypeManager->getHandler('group_type', 'subgroup');
     $this->storage = $this->entityTypeManager->getStorage('group_content');
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/subgroup/tests/src/Unit/TreeCacheTagInvalidatorTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\subgroup\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Cache\CacheTagsInvalidatorInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\group\Entity\GroupInterface;
@@ @@
  */
 class TreeCacheTagInvalidatorTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The event subscriber to test.
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->groupSubgroupHandler = $this->prophesize(SubgroupHandlerInterface::class);
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/subgroup/tests/src/Unit/SubgroupHandlerBaseTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\subgroup\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityStorageInterface;
 use Drupal\Core\Entity\EntityTypeInterface;
@@ @@
  */
 class SubgroupHandlerBaseTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The base subgroup handler.
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->entity = $this->prophesize(EntityInterface::class);
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/subgroup/tests/src/Unit/GroupTypeLeafSubscriberTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\subgroup\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\group\Entity\GroupContentTypeInterface;
 use Drupal\group\Entity\GroupTypeInterface;
@@ @@
  */
 class GroupTypeLeafSubscriberTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The event subscriber to test.
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->subgroupHandler = $this->prophesize(SubgroupHandlerInterface::class);
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/subgroup/tests/src/Kernel/SubgroupKernelTestBase.php:32

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->installEntitySchema('group');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/subgroup/tests/src/Kernel/SubgroupFieldManagerTest.php:33

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->fieldManager = $this->container->get('subgroup.field_manager');
     $this->groupType = $this->createGroupType();
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/subgroup/tests/src/Kernel/RoleInheritanceTest.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Set up two group types to form a tree.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


19) modules/contrib/subgroup/tests/src/Kernel/RoleInheritanceStorageTest.php:38

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Set up two group types to form a tree.
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


20) modules/contrib/subgroup/tests/src/Kernel/RoleInheritanceAccessControlHandlerTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->accessControlHandler = $this->entityTypeManager->getAccessControlHandler('subgroup_role_inheritance');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


21) modules/contrib/subgroup/tests/src/Kernel/InheritedGroupPermissionCalculatorTest.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Set up some group types to form a tree.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/subgroup/tests/src/Kernel/GroupViewTest.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->installConfig('subgroup_test_views');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


23) modules/contrib/subgroup/tests/src/Kernel/GroupTypeSubgroupHandlerTest.php:63

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->subgroupHandler = $this->entityTypeManager->getHandler('group_type', 'subgroup');
    ----------- end diff -----------

Applied rules:
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 23 files have been changed by Rector                                      

