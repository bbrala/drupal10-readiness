diff --git a/src/Manager/UserManager.php b/src/Manager/UserManager.php
index 2e12777..aa1460f 100644
--- a/src/Manager/UserManager.php
+++ b/src/Manager/UserManager.php
@@ -90,7 +90,7 @@ class UserManager {
       'name' => $this->generateUniqueUsername($username),
       'mail' => $email,
       'init' => $email,
-      'pass' => user_password(48),
+      'pass' => \Drupal::service('password_generator')->generate(48),
       'status' => $this->getNewUserStatus(),
       'user_picture' => $this->getImageForUser($picture),
     ];
