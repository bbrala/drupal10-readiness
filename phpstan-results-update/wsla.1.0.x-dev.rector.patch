diff --git a/src/EventSubscriber/WebformFileUploadToSalesforceSubscriber.php b/src/EventSubscriber/WebformFileUploadToSalesforceSubscriber.php
index 34c22a2..fbf4368 100755
--- a/src/EventSubscriber/WebformFileUploadToSalesforceSubscriber.php
+++ b/src/EventSubscriber/WebformFileUploadToSalesforceSubscriber.php
@@ -58,7 +58,7 @@ class WebformFileUploadToSalesforceSubscriber implements EventSubscriberInterfac
                 if(isset($fValue['#custom_lead']) && ($leadFlag == false)){
                     $leadFlag = true;
                     $file = File::load($data[$fld]);
-                    $path = file_create_url($file->getFileUri());
+                    $path = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
                     $fileName = $file->getFilename();
                     $this->handleFile($path, $mappedObject, $fileName);
                 }
