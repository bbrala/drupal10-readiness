diff --git a/modules/xp_block/tests/src/Functional/XpBlockTest.php b/modules/xp_block/tests/src/Functional/XpBlockTest.php
index f179b3c..5ff2d63 100755
--- a/modules/xp_block/tests/src/Functional/XpBlockTest.php
+++ b/modules/xp_block/tests/src/Functional/XpBlockTest.php
@@ -123,10 +123,11 @@ class XpBlockTest extends XpBlockTestBase {
     $assert->linkByHrefExists('/block/' . $block_content->id() . '?destination=/test');
     $assert->linkByHrefExists('/block/' . $block_content->id() . '/xp?destination=/test');
     $assert->linkByHrefExists('/block/' . $block_content->id() . '/delete?destination=/test');
+    $this->drupalGet('/block/' . $block_content->id());
 
     // Check that XP block saving redirects to the XP block library page.
     // @eee xp_block_form_block_content_form_alter().
-    $this->drupalPostForm('/block/' . $block_content->id(), [], 'Save');
+    $this->submitForm([], 'Save');
     $assert->addressEquals('/admin/structure/block/xp-block');
 
     // Check that XP block delete form has update title..
@@ -135,10 +136,11 @@ class XpBlockTest extends XpBlockTestBase {
     $assert->responseContains('<h1>Are you sure you want to delete the XP block <em class="placeholder">Basic Example</em>?</h1>');
     $assert->linkNotExists('/admin/structure/block/block-content');
     $assert->linkByHrefExists('/admin/structure/block/xp-block');
+    $this->drupalGet('/block/' . $block_content->id() . '/delete');
 
     // Check that XP block deleting redirects to the XP block library page.
     // @eee xp_block_form_block_content_form_alter().
-    $this->drupalPostForm('/block/' . $block_content->id() . '/delete', [], 'Delete');
+    $this->submitForm([], 'Delete');
     $assert->addressEquals('/admin/structure/block/xp-block');
   }
 
diff --git a/modules/xp_demo_block/src/XpDemoBlockSetup.php b/modules/xp_demo_block/src/XpDemoBlockSetup.php
index fcc0314..5ffe7bd 100644
--- a/modules/xp_demo_block/src/XpDemoBlockSetup.php
+++ b/modules/xp_demo_block/src/XpDemoBlockSetup.php
@@ -251,7 +251,7 @@ class XpDemoBlockSetup implements XpSetupModuleInterface {
     ];
     $values = [];
     foreach ($variants as $id => $text) {
-      $source = drupal_get_path('module', 'xp_demo_block') . '/images/' . $id . '.jpeg';
+      $source = \Drupal::service('extension.list.module')->getPath('xp_demo_block') . '/images/' . $id . '.jpeg';
       $destination = 'public://xp_demo_block-' . $id . '.jpeg';
       $file = $this->setup->createFile($source, $destination);
       $values[] = Paragraph::create([
diff --git a/modules/xp_demo_block/tests/src/Functional/XpDemoBlockInstallTest.php b/modules/xp_demo_block/tests/src/Functional/XpDemoBlockInstallTest.php
index 2a9b32f..aa392b0 100755
--- a/modules/xp_demo_block/tests/src/Functional/XpDemoBlockInstallTest.php
+++ b/modules/xp_demo_block/tests/src/Functional/XpDemoBlockInstallTest.php
@@ -51,10 +51,11 @@ class XpDemoBlockInstallTest extends XpBrowserTestBase {
       'blocks[6]' => '1',
       'blocks[7]' => 'dog',
     ];
-    $this->drupalPostForm('<front>', $edit, 'Display variants');
-    $this->assertOptionSelected('blocks[1]', 'a');
-    $this->assertOptionSelected('blocks[6]', '1');
-    $this->assertOptionSelected('blocks[7]', 'dog');
+    $this->drupalGet('<front>');
+    $this->submitForm($edit, 'Display variants');
+    $this->assertTrue($this->assertSession()->optionExists('blocks[1]', 'a')->hasAttribute('selected'));
+    $this->assertTrue($this->assertSession()->optionExists('blocks[6]', '1')->hasAttribute('selected'));
+    $this->assertTrue($this->assertSession()->optionExists('blocks[7]', 'dog')->hasAttribute('selected'));
   }
 
   /**
diff --git a/modules/xp_example_integration/tests/src/Functional/XpExampleIntegrationTest.php b/modules/xp_example_integration/tests/src/Functional/XpExampleIntegrationTest.php
index 1459c42..067fe91 100755
--- a/modules/xp_example_integration/tests/src/Functional/XpExampleIntegrationTest.php
+++ b/modules/xp_example_integration/tests/src/Functional/XpExampleIntegrationTest.php
@@ -55,7 +55,8 @@ class XpExampleIntegrationTest extends XpBlockTestBase {
       'xp_example_integration[environment]' => 'test',
       'xp_example_integration[environments][test][debug]' => TRUE,
     ];
-    $this->drupalPostForm('/admin/config/content/xp', $edit, 'Save configuration');
+    $this->drupalGet('/admin/config/content/xp');
+    $this->submitForm($edit, 'Save configuration');
     $this->drupalLogout();
 
     // Check that js and settings are updated to version 2.0.0.
diff --git a/tests/src/Functional/XpSettingsTest.php b/tests/src/Functional/XpSettingsTest.php
index e209dc1..2a475da 100755
--- a/tests/src/Functional/XpSettingsTest.php
+++ b/tests/src/Functional/XpSettingsTest.php
@@ -32,7 +32,8 @@ class XpSettingsTest extends XpBrowserTestBase {
     // Disable External Personalization (XP) integration.
     $admin_user = $this->createUser(['administer site configuration']);
     $this->drupalLogin($admin_user);
-    $this->drupalPostForm('/admin/config/content/xp', ['status' => FALSE], 'Save configuration');
+    $this->drupalGet('/admin/config/content/xp');
+    $this->submitForm(['status' => FALSE], 'Save configuration');
     $this->drupalLogout();
 
     // Check that xp_example_integration.module js is being included.
