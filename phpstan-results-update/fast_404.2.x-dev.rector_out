modules/contrib/fast_404/example.settings.fast404.php
modules/contrib/fast_404/fast404.inc
modules/contrib/fast_404/src/EventSubscriber/Fast404EventSubscriber.php
modules/contrib/fast_404/src/Fast404.php
modules/contrib/fast_404/tests/src/Functional/Fast404ExtensionTest.php
modules/contrib/fast_404/tests/src/Functional/Fast404PathTest.php
modules/contrib/fast_404/tests/src/Unit/Fast404EventSubscriberTest.php
modules/contrib/fast_404/tests/src/Unit/Fast404Test.php

4 files with changes
====================

1) modules/contrib/fast_404/tests/src/Unit/Fast404Test.php:18

    ---------- begin diff ----------
@@ @@
    *   A mock fast404 object to test.
    */
   protected function getFast404() {
-    $requestStub = $this->getMockBuilder('\Symfony\Component\HttpFoundation\Request')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $requestStub = $this->createMock('\Symfony\Component\HttpFoundation\Request');
     $fast404 = $this->getMockBuilder('\Drupal\fast404\Fast404')
       ->setConstructorArgs([$requestStub])
       ->setMethods(['isCli'])
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/fast_404/tests/src/Unit/Fast404EventSubscriberTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\fast404\Unit;

+use Symfony\Component\HttpKernel\Event\ExceptionEvent;
 use Drupal\fast404\EventSubscriber\Fast404EventSubscriber;
 use Drupal\Tests\UnitTestCase;
 use Symfony\Component\HttpFoundation\Request;
-use Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent;
 use Symfony\Component\HttpKernel\Exception\NotFoundHttpException;
 use Symfony\Component\HttpKernel\HttpKernelInterface;

@@ @@
   /**
    * The event.
    *
-   * @var \Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent
+   * @var \Symfony\Component\HttpKernel\Event\ExceptionEvent
    */
   protected $event;

@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $kernel = $this->createMock('\Symfony\Component\HttpKernel\HttpKernelInterface');
     $request = new Request();
-    $this->event = new GetResponseForExceptionEvent($kernel, $request, HttpKernelInterface::MASTER_REQUEST, new NotFoundHttpException());
+    $this->event = new ExceptionEvent($kernel, $request, HttpKernelInterface::MASTER_REQUEST, new NotFoundHttpException());
   }

   /**
@@ @@
   public function testOnNotFoundException() {
     $subscriber = $this->getFast404EventSubscriber();
     $subscriber->onNotFoundException($this->event);
-    $e = $this->event->getException();
+    $e = $this->event->getThrowable();
     $this->assertInstanceOf(NotFoundHttpException::class, $e);
   }

@@ @@
    *   A mock Fast404EventSubscriber object to test.
    */
   protected function getFast404EventSubscriber() {
-    $requestStackStub = $this->getMockBuilder('\Symfony\Component\HttpFoundation\RequestStack')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $requestStackStub = $this->createMock('\Symfony\Component\HttpFoundation\RequestStack');
     $subscriber = $this->getMockBuilder('\Drupal\fast404\EventSubscriber\Fast404EventSubscriber')
       ->setConstructorArgs([$requestStackStub])
       ->getMock();
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * RenameMethodRector
 * RenameClassRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/fast_404/tests/src/Functional/Fast404PathTest.php:29

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Create Basic page and Article node types.
@@ @@
     // Create alias.
     $edit = [];
     $edit['path[0][alias]'] = '/' . $this->randomMachineName(8);
-    $this->drupalPostForm('node/' . $node1->id() . '/edit', $edit, $this->t('Save'));
+    $this->drupalGet('node/' . $node1->id() . '/edit');
+    $this->submitForm($edit, $this->t('Save'));

     // Confirm that the alias works.
     $this->drupalGet($edit['path[0][alias]']);
-    $this->assertText($node1->label(), 'Alias works.');
-    $this->assertResponse(200);
+    $this->assertSession()->pageTextContains($node1->label());
+    $this->assertSession()->statusCodeEquals(200);

     // Confirm that the alias with a trailing slash works.
     $this->drupalGet($edit['path[0][alias]'] . '/');
-    $this->assertText($node1->label(), 'Alias works.');
-    $this->assertResponse(200);
+    $this->assertSession()->pageTextContains($node1->label());
+    $this->assertSession()->statusCodeEquals(200);

     // Ensure terms with URL aliases are not blocked.
     $vocabulary = Vocabulary::create([
@@ @@
       'description[0][value]' => $description,
       'path[0][alias]' => '/' . $this->randomMachineName(),
     ];
-    $this->drupalPostForm('admin/structure/taxonomy/manage/' . $vocabulary->id() . '/add', $edit, $this->t('Save'));
+    $this->drupalGet('admin/structure/taxonomy/manage/' . $vocabulary->id() . '/add');
+    $this->submitForm($edit, $this->t('Save'));

     // Confirm that the alias works.
     $this->drupalGet($edit['path[0][alias]']);
-    $this->assertText($description, 'Term can be accessed on URL alias.');
+    $this->assertSession()->pageTextContains($description);

   }
    ----------- end diff -----------

Applied rules:
 * AssertResponseRector
 * AssertTextRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/fast_404/src/EventSubscriber/Fast404EventSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\fast404\EventSubscriber;

-use Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent;
+use Symfony\Component\HttpKernel\Event\RequestEvent;
+use Symfony\Component\HttpKernel\Event\ExceptionEvent;
 use Symfony\Component\HttpKernel\Exception\NotFoundHttpException;
 use Symfony\Component\HttpKernel\KernelEvents;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\RequestStack;
 use Drupal\Core\Site\Settings;
@@ @@
   /**
    * Ensures Fast 404 output returned if applicable.
    */
-  public function onKernelRequest(GetResponseEvent $event) {
+  public function onKernelRequest(RequestEvent $event) {
     $request = $this->requestStack->getCurrentRequest();
     $fast_404 = new Fast404($request);

@@ @@
   /**
    * Ensures Fast 404 output returned upon NotFoundHttpException.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ExceptionEvent $event
    *   The response for exception event.
    */
-  public function onNotFoundException(GetResponseForExceptionEvent $event) {
+  public function onNotFoundException(ExceptionEvent $event) {
     // Check to see if we will completely replace the Drupal 404 page.
     if (Settings::get('fast404_not_found_exception', FALSE)) {
-      if ($event->getException() instanceof NotFoundHttpException) {
+      if ($event->getThrowable() instanceof NotFoundHttpException) {
         $fast_404 = new Fast404($event->getRequest());
         $event->setResponse($fast_404->response(TRUE));
       }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameMethodRector
 * RenameClassRector
 * WrapReturnRector


 [OK] 4 files have been changed by Rector                                       

