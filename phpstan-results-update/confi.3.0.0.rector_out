modules/contrib/confi/config_import.api.php
modules/contrib/confi/config_import.drush.inc
modules/contrib/confi/src/ConfigFeaturesImporterService.php
modules/contrib/confi/src/ConfigFeaturesImporterServiceInterface.php
modules/contrib/confi/src/ConfigImportServiceProvider.php
modules/contrib/confi/src/ConfigImporterService.php
modules/contrib/confi/src/ConfigImporterServiceInterface.php
modules/contrib/confi/src/ConfigParamUpdaterService.php
modules/contrib/confi/src/Drush/Command.php
modules/contrib/confi/tests/modules/config_import_test/config_import_test.module
modules/contrib/confi/tests/src/Unit/ConfigFeaturesImporterServiceTest.php
modules/contrib/confi/tests/src/Unit/ConfigImporterServiceTest.php
modules/contrib/confi/tests/src/Unit/ConfigImporterServiceTestBase.php

3 files with changes
====================

1) modules/contrib/confi/tests/src/Unit/ConfigImporterServiceTestBase.php:30

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->configImporter = $this->container->get('config_import.importer');
@@ @@
     foreach ($arguments as $i => $argument) {
       $arguments[$i] = preg_quote($argument, '/');
     }
-
-    $this->setExpectedExceptionRegExp($class, sprintf('/^%s$/', vsprintf($regex, $arguments)));
+    $this->expectExceptionMessageMatches(sprintf('/^%s$/', vsprintf($regex, $arguments)));
+    $this->expectException($class);
   }

   /**
    ----------- end diff -----------

Applied rules:
 * DelegateExceptionArgumentsRector
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * RenameMethodRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/confi/tests/src/Unit/ConfigImporterServiceTest.php:86

    ---------- begin diff ----------
@@ @@
     // Remember the value before import which potentially can overwrite it.
     $original_value = $config_storage->read(static::TEST_CONFIG);
     // Set the directory to import configurations from.
-    $this->configImporter->setDirectory(drupal_get_path('module', 'config_import') . '/tests/config/import');
+    $this->configImporter->setDirectory(\Drupal::service('extension.list.module')->getPath('config_import') . '/tests/config/import');
     // Doing the import.
     $this->configImporter->importConfigs([static::TEST_CONFIG]);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/confi/src/ConfigImporterService.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\config_import;

+use Drupal\Core\Site\Settings;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\Core\Config\CachedStorage;
 use Drupal\Core\Config\ConfigImporterException;
@@ @@
     // @see https://www.drupal.org/node/2758325
     FileCacheFactory::setConfiguration([FileCacheFactory::DISABLE_CACHE => TRUE]);
     // Sync directory must be configured.
-    $this->setDirectory(\Drupal\Core\Site\Settings::get('config_sync_directory') );
+    $this->setDirectory(Settings::get('config_sync_directory') );
   }

   /**
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 3 files have been changed by Rector                                       

