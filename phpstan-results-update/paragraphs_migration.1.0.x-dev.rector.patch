diff --git a/tests/src/Functional/Migrate/MigrateUiParagraphsTestBase.php b/tests/src/Functional/Migrate/MigrateUiParagraphsTestBase.php
index cd73ed1..29d649d 100644
--- a/tests/src/Functional/Migrate/MigrateUiParagraphsTestBase.php
+++ b/tests/src/Functional/Migrate/MigrateUiParagraphsTestBase.php
@@ -32,14 +32,14 @@ abstract class MigrateUiParagraphsTestBase extends MigrateUpgradeTestBase {
    * {@inheritdoc}
    */
   protected function getSourceBasePath() {
-    return drupal_get_path('module', 'paragraphs_migration') . '/tests/fixtures';
+    return \Drupal::service('extension.list.module')->getPath('paragraphs_migration') . '/tests/fixtures';
   }
 
   /**
    * {@inheritdoc}
    */
   protected function getSourcePrivateFilesPath() {
-    return drupal_get_path('module', 'paragraphs_migration') . '/tests/fixtures';
+    return \Drupal::service('extension.list.module')->getPath('paragraphs_migration') . '/tests/fixtures';
   }
 
   /**
@@ -490,10 +490,10 @@ abstract class MigrateUiParagraphsTestBase extends MigrateUpgradeTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
-    $this->loadFixture(drupal_get_path('module', 'paragraphs_migration') . '/tests/fixtures/drupal7.php');
+    $this->loadFixture(\Drupal::service('extension.list.module')->getPath('paragraphs_migration') . '/tests/fixtures/drupal7.php');
   }
 
   /**
@@ -506,7 +506,7 @@ abstract class MigrateUiParagraphsTestBase extends MigrateUpgradeTestBase {
 
     // ID conflict form.
     $session->buttonExists($this->t('I acknowledge I may lose data. Continue anyway.'));
-    $this->drupalPostForm(NULL, [], $this->t('I acknowledge I may lose data. Continue anyway.'));
+    $this->submitForm([], $this->t('I acknowledge I may lose data. Continue anyway.'));
     $session->statusCodeEquals(200);
 
     // Perform the upgrade.
diff --git a/tests/src/Kernel/migrate/MultifieldTest.php b/tests/src/Kernel/migrate/MultifieldTest.php
index c7e56b7..872d421 100644
--- a/tests/src/Kernel/migrate/MultifieldTest.php
+++ b/tests/src/Kernel/migrate/MultifieldTest.php
@@ -52,7 +52,7 @@ class MultifieldTest extends MigrateDrupalTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     MigrateDrupalTestBase::setUp();
 
     $this->installEntitySchema('file');
@@ -67,14 +67,14 @@ class MultifieldTest extends MigrateDrupalTestBase {
     $this->installConfig(['comment', 'node']);
 
     $this->loadFixture(implode(DIRECTORY_SEPARATOR, [
-      drupal_get_path('module', 'migrate_drupal'),
+      \Drupal::service('extension.list.module')->getPath('migrate_drupal'),
       'tests',
       'fixtures',
       'drupal7.php',
     ]));
 
     $this->loadFixture(implode(DIRECTORY_SEPARATOR, [
-      drupal_get_path('module', 'paragraphs_migration'),
+      \Drupal::service('extension.list.module')->getPath('paragraphs_migration'),
       'tests',
       'fixtures',
       'drupal7_multifield_on_core_fixture.php',
@@ -90,7 +90,7 @@ class MultifieldTest extends MigrateDrupalTestBase {
     // migrate the public files.
     $fs_fixture_path = implode(DIRECTORY_SEPARATOR, [
       DRUPAL_ROOT,
-      drupal_get_path('module', 'paragraphs_migration'),
+      \Drupal::service('extension.list.module')->getPath('paragraphs_migration'),
       'tests',
       'fixtures',
     ]);
diff --git a/tests/src/Kernel/migrate/ParagraphContentMigrationTest.php b/tests/src/Kernel/migrate/ParagraphContentMigrationTest.php
index 14be91b..d3c0110 100644
--- a/tests/src/Kernel/migrate/ParagraphContentMigrationTest.php
+++ b/tests/src/Kernel/migrate/ParagraphContentMigrationTest.php
@@ -43,7 +43,7 @@ class ParagraphContentMigrationTest extends ParagraphsMigrationTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->installEntitySchema('file');
@@ -68,7 +68,7 @@ class ParagraphContentMigrationTest extends ParagraphsMigrationTestBase {
     // migrate the public files.
     $fs_fixture_path = implode(DIRECTORY_SEPARATOR, [
       DRUPAL_ROOT,
-      drupal_get_path('module', 'paragraphs_migration'),
+      \Drupal::service('extension.list.module')->getPath('paragraphs_migration'),
       'tests',
       'fixtures',
     ]);
diff --git a/tests/src/Kernel/migrate/ParagraphsMigrationTestBase.php b/tests/src/Kernel/migrate/ParagraphsMigrationTestBase.php
index 95b400e..f4c9f36 100644
--- a/tests/src/Kernel/migrate/ParagraphsMigrationTestBase.php
+++ b/tests/src/Kernel/migrate/ParagraphsMigrationTestBase.php
@@ -29,7 +29,7 @@ abstract class ParagraphsMigrationTestBase extends MigrateDrupalTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->loadFixture(__DIR__ . '/../../../fixtures/drupal7.php');
 
diff --git a/tests/src/Unit/migrate/FieldCollectionFieldSettingsTest.php b/tests/src/Unit/migrate/FieldCollectionFieldSettingsTest.php
index bd323ee..aac2591 100644
--- a/tests/src/Unit/migrate/FieldCollectionFieldSettingsTest.php
+++ b/tests/src/Unit/migrate/FieldCollectionFieldSettingsTest.php
@@ -16,7 +16,7 @@ class FieldCollectionFieldSettingsTest extends MigrateProcessTestCase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     $this->plugin = new FieldCollectionFieldSettings([], 'pm_field_collection_field_settings', []);
     parent::setUp();
 
diff --git a/tests/src/Unit/migrate/FieldCollectionsFieldInstanceSettingsTest.php b/tests/src/Unit/migrate/FieldCollectionsFieldInstanceSettingsTest.php
index a9311b5..9a092b8 100644
--- a/tests/src/Unit/migrate/FieldCollectionsFieldInstanceSettingsTest.php
+++ b/tests/src/Unit/migrate/FieldCollectionsFieldInstanceSettingsTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\paragraphs_migration\Unit\migrate;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\migrate\MigrateLookupInterface;
 use Drupal\migrate\MigrateSkipRowException;
 use Drupal\paragraphs_migration\Plugin\migrate\process\FieldCollectionFieldInstanceSettings;
@@ -15,6 +16,7 @@ use Prophecy\Argument;
  */
 class FieldCollectionsFieldInstanceSettingsTest extends ProcessTestCase {
 
+  use ProphecyTrait;
   /**
    * MigrateLookup object prophecy.
    *
@@ -25,7 +27,7 @@ class FieldCollectionsFieldInstanceSettingsTest extends ProcessTestCase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->lookup = $this->prophesize(MigrateLookupInterface::class);
diff --git a/tests/src/Unit/migrate/MigrationPluginsAltererTest.php b/tests/src/Unit/migrate/MigrationPluginsAltererTest.php
index 890df44..2b9f938 100644
--- a/tests/src/Unit/migrate/MigrationPluginsAltererTest.php
+++ b/tests/src/Unit/migrate/MigrationPluginsAltererTest.php
@@ -26,7 +26,7 @@ class MigrationPluginsAltererTest extends UnitTestCase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->paragraphsMigrationPluginsAlterer = new MigrationPluginsAlterer();
diff --git a/tests/src/Unit/migrate/ParagraphsFieldInstanceSettingsTest.php b/tests/src/Unit/migrate/ParagraphsFieldInstanceSettingsTest.php
index c591c14..9edb360 100644
--- a/tests/src/Unit/migrate/ParagraphsFieldInstanceSettingsTest.php
+++ b/tests/src/Unit/migrate/ParagraphsFieldInstanceSettingsTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\paragraphs_migration\Unit\migrate;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\migrate\MigrateLookupInterface;
 use Drupal\paragraphs_migration\Plugin\migrate\process\ParagraphsFieldInstanceSettings;
 use Prophecy\Argument;
@@ -14,10 +15,11 @@ use Prophecy\Argument;
  */
 class ParagraphsFieldInstanceSettingsTest extends ProcessTestCase {
 
+  use ProphecyTrait;
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->row->expects($this->any())
       ->method('getSourceProperty')
diff --git a/tests/src/Unit/migrate/ParagraphsFieldSettingsTest.php b/tests/src/Unit/migrate/ParagraphsFieldSettingsTest.php
index ff53dd1..cf2291e 100644
--- a/tests/src/Unit/migrate/ParagraphsFieldSettingsTest.php
+++ b/tests/src/Unit/migrate/ParagraphsFieldSettingsTest.php
@@ -16,7 +16,7 @@ class ParagraphsFieldSettingsTest extends MigrateProcessTestCase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     $this->plugin = new ParagraphsFieldSettings([], 'pm_paragraphs_field_settings', []);
     parent::setUp();
 
diff --git a/tests/src/Unit/migrate/ParagraphsProcessOnValueTest.php b/tests/src/Unit/migrate/ParagraphsProcessOnValueTest.php
index 825b66b..75ff4b2 100644
--- a/tests/src/Unit/migrate/ParagraphsProcessOnValueTest.php
+++ b/tests/src/Unit/migrate/ParagraphsProcessOnValueTest.php
@@ -26,7 +26,7 @@ class ParagraphsProcessOnValueTest extends ProcessTestCase {
   /**
    * {@inheritdoc}
    */
-  public function setup() {
+  public function setup(): void {
     parent::setup();
     $configuration = [
       'source_value' => 'source',
diff --git a/tests/src/Unit/migrate/ProcessTestCase.php b/tests/src/Unit/migrate/ProcessTestCase.php
index 0ebfbd3..1ee00f2 100644
--- a/tests/src/Unit/migrate/ProcessTestCase.php
+++ b/tests/src/Unit/migrate/ProcessTestCase.php
@@ -13,19 +13,17 @@ abstract class ProcessTestCase extends MigrateProcessTestCase {
   /**
    * The entity bundle info service.
    *
-   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface|\PHPUnit_Framework_MockObject_InvocationMocker
+   * @var \Drupal\Core\Entity\EntityTypeBundleInfoInterface|\PHPUnit\Framework\MockObject\InvocationMocker
    */
   protected $entityTypeBundleInfo;
 
   /**
    * {@inheritdoc}
    */
-  protected function setup() {
+  protected function setup(): void {
     parent::setUp();
 
-    $this->entityTypeBundleInfo = $this->getMockBuilder(EntityTypeBundleInfo::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->entityTypeBundleInfo = $this->createMock(EntityTypeBundleInfo::class);
     $bundles = [
       'paragraph_bundle_one' => [],
       'paragraph_bundle_two' => [],
