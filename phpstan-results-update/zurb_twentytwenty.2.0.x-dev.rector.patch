diff --git a/src/Plugin/Field/FieldFormatter/TwentyTwentyFieldFormatter.php b/src/Plugin/Field/FieldFormatter/TwentyTwentyFieldFormatter.php
index f7bf1b5..7e17d50 100644
--- a/src/Plugin/Field/FieldFormatter/TwentyTwentyFieldFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/TwentyTwentyFieldFormatter.php
@@ -255,7 +255,7 @@ class TwentyTwentyFieldFormatter extends ImageFormatterBase implements Container
     foreach ($files as $delta => $file) {
       /** @var \Drupal\file\FileInterface $file */
       $image_uri = $file->getFileUri();
-      $url = Url::fromUri(file_create_url($image_uri));
+      $url = \Drupal::service('file_url_generator')->generate($image_uri);
 
       $cache_tags = Cache::mergeTags($cache_tags, $file->getCacheTags());
 
@@ -279,7 +279,7 @@ class TwentyTwentyFieldFormatter extends ImageFormatterBase implements Container
 
     return array(
       '#theme' => 'zurb_twentytwenty',
-      '#images' =>  render($images),
+      '#images' =>  \Drupal::service('renderer')->render($images),
       '#attached' => [
         'drupalSettings' => [
           'twentytwenty' => [
