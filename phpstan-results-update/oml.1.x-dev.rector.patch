diff --git a/outgoing_mail_logger.module b/outgoing_mail_logger.module
index 9b0d78c..8bf6248 100644
--- a/outgoing_mail_logger.module
+++ b/outgoing_mail_logger.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\outgoing_mail_logger\OmlSwiftmailEventListener;
 /**
  * @file
  * Primary module hooks for outgoing_mail_logger module.
@@ -79,7 +80,7 @@ function outgoing_mail_logger_swiftmailer_alter(Swift_Mailer &$swiftMailer, Swif
     drush_cache_set('oml-swiftmailer-tracking', $tracker, 'default', time() + 300);
   }
 
-  $swiftMailer->getTransport()->registerPlugin(new Drupal\outgoing_mail_logger\OmlSwiftmailEventListener);
+  $swiftMailer->getTransport()->registerPlugin(new OmlSwiftmailEventListener);
 
 }
 
diff --git a/src/Event/LogCreatedEvent.php b/src/Event/LogCreatedEvent.php
index 6220dff..114c351 100644
--- a/src/Event/LogCreatedEvent.php
+++ b/src/Event/LogCreatedEvent.php
@@ -2,8 +2,8 @@
 
 namespace Drupal\outgoing_mail_logger\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\outgoing_mail_logger\Model\OutgoingMailLog;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Class LogCreatedEvent
diff --git a/src/Event/LogUpdatedEvent.php b/src/Event/LogUpdatedEvent.php
index 2bfe51a..c3e9afe 100644
--- a/src/Event/LogUpdatedEvent.php
+++ b/src/Event/LogUpdatedEvent.php
@@ -2,8 +2,8 @@
 
 namespace Drupal\outgoing_mail_logger\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\outgoing_mail_logger\Model\OutgoingMailLog;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Class LogUpdatedEvent
diff --git a/src/Event/MailSentEvent.php b/src/Event/MailSentEvent.php
index 113a2c8..397680a 100644
--- a/src/Event/MailSentEvent.php
+++ b/src/Event/MailSentEvent.php
@@ -2,7 +2,7 @@
 
 namespace Drupal\outgoing_mail_logger\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 /**
  * Class MailSentEvent
diff --git a/src/Form/ResendForm.php b/src/Form/ResendForm.php
index 9fb5d4f..f8b8b40 100644
--- a/src/Form/ResendForm.php
+++ b/src/Form/ResendForm.php
@@ -8,6 +8,7 @@
 namespace Drupal\outgoing_mail_logger\Form;
 
 
+use Drupal\Core\Form\FormBase;
 use Drupal\Core\Ajax\AjaxResponse;
 use Drupal\Core\Ajax\CloseModalDialogCommand;
 use Drupal\Core\Ajax\MessageCommand;
@@ -18,7 +19,7 @@ use Drupal\outgoing_mail_logger\OutgoingMailLogger;
 use Drupal\Core\Url;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 
-class ResendForm extends \Drupal\Core\Form\FormBase {
+class ResendForm extends FormBase {
 
   /** @var OutgoingMailLogger */
   protected $outgoing_mail_logger;
diff --git a/src/OutgoingMailLogger.php b/src/OutgoingMailLogger.php
index 7fd822a..32fdbc9 100644
--- a/src/OutgoingMailLogger.php
+++ b/src/OutgoingMailLogger.php
@@ -325,7 +325,7 @@ class OutgoingMailLogger {
           ->fields($data)
           ->execute();
         $log->setId($result);
-        $this->event_dispatcher->dispatch(OutgoingMailLoggerEvents::OML_EVENT_LOG_CREATED, new LogCreatedEvent($log));
+        $this->event_dispatcher->dispatch(new LogCreatedEvent($log), OutgoingMailLoggerEvents::OML_EVENT_LOG_CREATED);
       }
       else {
         unset($data['id']);
@@ -334,7 +334,7 @@ class OutgoingMailLogger {
           ->condition('id', $log->getId())
           ->fields($data)
           ->execute();
-        $this->event_dispatcher->dispatch(OutgoingMailLoggerEvents::OML_EVENT_LOG_UPDATED, new LogUpdatedEvent($log));
+        $this->event_dispatcher->dispatch(new LogUpdatedEvent($log), OutgoingMailLoggerEvents::OML_EVENT_LOG_UPDATED);
       }
 
     } catch (\Exception $e) {
diff --git a/tests/src/Functional/OutgoingMailLoggerTest.php b/tests/src/Functional/OutgoingMailLoggerTest.php
index f8898fa..0e4bf9d 100644
--- a/tests/src/Functional/OutgoingMailLoggerTest.php
+++ b/tests/src/Functional/OutgoingMailLoggerTest.php
@@ -29,7 +29,7 @@ class OutgoingMailLoggerTest extends FunctionsTest {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 //    $config_map = [
 //      'outgoing_mail_logger.settings' => [
