diff --git a/visually_impaired_theme.theme b/visually_impaired_theme.theme
index 22bd1af..e82dacb 100644
--- a/visually_impaired_theme.theme
+++ b/visually_impaired_theme.theme
@@ -63,7 +63,7 @@ function visually_impaired_theme_library_info_alter(&$libraries, $extension) {
       }
 
       // Get relative path to custom.css.
-      $customCSSrelative = file_create_url(\Drupal::config('system.file')->get('default_scheme') . "://") . 'visually_impaired_theme/custom.css';
+      $customCSSrelative = \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::config('system.file')->get('default_scheme') . "://") . 'visually_impaired_theme/custom.css';
       // Attach css to pages.
       unset($libraries['customcss']['css']['theme']['custom.css']);
       $libraries['customcss']['css']['theme'][$customCSSrelative] = [];
