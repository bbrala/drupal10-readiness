modules/contrib/theme_compiler/src/Compiler.php
modules/contrib/theme_compiler/src/CompilerException.php
modules/contrib/theme_compiler/src/Controller/ThemeCompilerController.php
modules/contrib/theme_compiler/src/Event/OnDemandCompileEvent.php
modules/contrib/theme_compiler/src/EventSubscriber/CompileSubscriber.php
modules/contrib/theme_compiler/src/Routing/RouteHelper.php
modules/contrib/theme_compiler/src/ThemeCompilerControllerInterface.php
modules/contrib/theme_compiler/theme_compiler.module

2 files with changes
====================

1) modules/contrib/theme_compiler/src/Routing/RouteHelper.php:85

    ---------- begin diff ----------
@@ @@
     $options['theme_compiler']['theme'] = $theme;

     // Compute the target URI for this context and hash it for an ID.
-    $options['theme_compiler']['uri'] = '/' . drupal_get_path('theme', $theme) . '/' . $path;
+    $options['theme_compiler']['uri'] = '/' . \Drupal::service('extension.list.theme')->getPath($theme) . '/' . $path;
     $options['theme_compiler']['id'] = hash('sha384', $options['theme_compiler']['uri']);

     // Iterate over each defined theme-relative file path for processing.
     foreach ($files as $index => $file) {
-      if (empty($result = realpath(\DRUPAL_ROOT . '/' . drupal_get_path('theme', $theme) . '/' . $file))) {
+      if (empty($result = realpath(\DRUPAL_ROOT . '/' . \Drupal::service('extension.list.theme')->getPath($theme) . '/' . $file))) {
         throw new \InvalidArgumentException('Unable to resolve theme-relative file path at index ' . var_export($index, TRUE) . ': ' . var_export($file, TRUE));
       }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


2) modules/contrib/theme_compiler/src/Compiler.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\theme_compiler;

+use function Sabre\Uri\resolve;
+use function Sabre\Uri\normalize;
 use Drupal\Core\Cache\CacheTagsInvalidatorInterface;
 use Drupal\Core\DependencyInjection\ContainerInjectionInterface;
 use Drupal\Core\File\FileSystemInterface;
@@ @@
    */
   public function normalizeAndResolveTargetPath(string $target): string {
     // Attempt to resolve the supplied target path relative to the sandbox.
-    $target = \Sabre\Uri\resolve(self::SANDBOX, \Sabre\Uri\normalize($target));
+    $target = resolve(self::SANDBOX, normalize($target));

     // Ensure that the resulting target path is beneath the sandbox path.
     if (strpos($target, self::SANDBOX) !== 0 || $target === self::SANDBOX) {
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 2 files have been changed by Rector                                       

