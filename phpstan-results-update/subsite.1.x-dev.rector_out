modules/contrib/subsite/src/BaseSubsitePlugin.php
modules/contrib/subsite/subsite.module
modules/contrib/subsite/src/Cache/SubsiteCacheContext.php
modules/contrib/subsite/src/Controller/SubsiteController.php
modules/contrib/subsite/src/Form/SubsiteSettingsForm.php
modules/contrib/subsite/src/PathProcessor/SubsitePathProcessor.php
modules/contrib/subsite/src/Plugin/Block/BookMainNavigationBlock.php
modules/contrib/subsite/src/Plugin/Block/SubsiteFooterLinksBlock.php
modules/contrib/subsite/src/Plugin/Block/SubsiteSocialLinksBlock.php
modules/contrib/subsite/src/Plugin/Field/FieldType/Subsite.php
modules/contrib/subsite/src/Plugin/Subsite/BookSubsitePlugin.php
modules/contrib/subsite/src/Plugin/Subsite/BrandingSubsitePlugin.php
modules/contrib/subsite/src/Plugin/Subsite/SocialMediaPlugin.php
modules/contrib/subsite/src/Plugin/Subsite/ThemeSubsitePlugin.php
modules/contrib/subsite/src/SubsiteBookManager.php
modules/contrib/subsite/src/SubsiteManager.php
modules/contrib/subsite/src/SubsiteManagerInterface.php
modules/contrib/subsite/src/SubsitePluginInterface.php
modules/contrib/subsite/src/SubsitePluginManager.php
modules/contrib/subsite/src/Theme/SubsiteNegotiator.php

7 files with changes
====================

1) modules/contrib/subsite/subsite.module:0

    ---------- begin diff ----------
@@ @@
 <?php
+use Drupal\Core\Block\BlockPluginInterface;
 /**
  * Created by PhpStorm.
  * User: andy
@@ @@
  *
  * @param $attachments
  */
-function subsite_block_view_alter(array &$build, \Drupal\Core\Block\BlockPluginInterface $block) {
+function subsite_block_view_alter(array &$build, BlockPluginInterface $block) {
   $subsite_manager = \Drupal::service('subsite.manager');
   $subsite_manager->blockViewAlter($build, $block);
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


2) modules/contrib/subsite/src/SubsiteManagerInterface.php:7

    ---------- begin diff ----------
@@ @@

 namespace Drupal\subsite;

+use Drupal\Core\Block\BlockPluginInterface;
 use Drupal\Core\Entity\Display\EntityViewDisplayInterface;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ @@
   public function validateFormElements(array $form, FormStateInterface $form_state, NodeInterface $node, AccountInterface $account);
   public function getFormValues(array $form, FormStateInterface $form_state);

-  public function blockViewAlter(array &$build, \Drupal\Core\Block\BlockPluginInterface $block);
+  public function blockViewAlter(array &$build, BlockPluginInterface $block);
   public function nodeViewAlter(array &$build, EntityInterface $node, EntityViewDisplayInterface $display);
   public function pageAttachmentsAlter(array &$attachments);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector


3) modules/contrib/subsite/src/SubsiteManager.php:7

    ---------- begin diff ----------
@@ @@

 namespace Drupal\subsite;

+use Drupal\Core\Block\BlockPluginInterface;
 use Drupal\Core\Cache\Cache;
 use Drupal\Core\Entity\Display\EntityViewDisplayInterface;
 use Drupal\Core\Entity\EntityInterface;
@@ @@

     if ($current_bid) {
       /** @var Node $subsite_node */
-      $subsite_node = \Drupal\node\Entity\Node::load($current_bid);
+      $subsite_node = Node::load($current_bid);
       if ($this->getSubsiteField($subsite_node)) {
         return $subsite_node;
       }
@@ @@
    * @param array $build
    * @param \Drupal\Core\Block\BlockPluginInterface $block
    */
-  public function blockViewAlter(array &$build, \Drupal\Core\Block\BlockPluginInterface $block) {
+  public function blockViewAlter(array &$build, BlockPluginInterface $block) {
     $prerender_plugins = $this->getBlockPrerenderPluginIds($block->getPluginId());
     if (!empty($prerender_plugins)) {
       $build['#pre_render'][] = '\Drupal\subsite\SubsiteManager::blockPrerender';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector


4) modules/contrib/subsite/src/Plugin/Subsite/BrandingSubsitePlugin.php:15

    ---------- begin diff ----------
@@ @@
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\subsite\BaseSubsitePlugin;
 use Drupal\subsite\SubsitePluginInterface;
-use Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface;

 /**
  * @Plugin(
@@ @@
     }

     if (!empty($branding_configuration['logo_path'])) {
-      $logo_url = file_create_url($branding_configuration['logo_path']);
+      $logo_url = \Drupal::service('file_url_generator')->generateAbsoluteString($branding_configuration['logo_path']);
       $build['content']['site_logo']['#uri'] = $logo_url;
     }

@@ @@
     $branding_configuration = $this->getConfiguration();

     if (!empty($branding_configuration['favicon_path'])) {
-      /** @var MimeTypeGuesserInterface $mime_type_guesser */
+      /** @var \Symfony\Component\Mime\MimeTypesInterface $mime_type_guesser */
       $mime_type_guesser = \Drupal::service('file.mime_type.guesser');
       $mime_type = $mime_type_guesser->guess($branding_configuration['favicon_path']);
-      $favicon_url = file_create_url($branding_configuration['favicon_path']);
+      $favicon_url = \Drupal::service('file_url_generator')->generateAbsoluteString($branding_configuration['favicon_path']);
       foreach ($attachments['#attached']['html_head_link'] as $key => $value) {
         foreach ($value as $inner_key => $inner_value) {
           if (!empty($inner_value['rel']) && $inner_value['rel'] == 'shortcut icon') {
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/subsite/src/Plugin/Subsite/BookSubsitePlugin.php:6

    ---------- begin diff ----------
@@ @@
  */

 namespace Drupal\subsite\Plugin\Subsite;
+use Drupal\node\Entity\Node;
 use Drupal\Component\Plugin\PluginBase;
 use Drupal\Core\Entity\Display\EntityViewDisplayInterface;
 use Drupal\Core\Entity\EntityInterface;
@@ @@
                 }

                 if (!empty($child_nids)) {
-                  $nodes = \Drupal\node\Entity\Node::loadMultiple($child_nids);
+                  $nodes = Node::loadMultiple($child_nids);
                   $built_child_nodes = \Drupal::entityTypeManager()->getViewBuilder('node')->viewMultiple($nodes, 'teaser');
                   $built_child_nodes['#weight'] = 200;
                   $build['subsite_touts'] = $built_child_nodes;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/subsite/src/Plugin/Block/SubsiteSocialLinksBlock.php:6

    ---------- begin diff ----------
@@ @@

 namespace Drupal\subsite\Plugin\Block;

+use Drupal\node\Entity\Node;
 use Drupal\Core\Block\BlockBase;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ @@

     if ($current_bid) {
       /** @var \Drupal\node\Entity\Node $theme_node */
-      $subsite_node = \Drupal\node\Entity\Node::load($current_bid);
+      $subsite_node = Node::load($current_bid);

       if ($subsite_node->getType() == 'sub_site') {
         // Expect theme ref field.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


7) modules/contrib/subsite/src/Plugin/Block/SubsiteFooterLinksBlock.php:6

    ---------- begin diff ----------
@@ @@

 namespace Drupal\subsite\Plugin\Block;

+use Drupal\node\Entity\Node;
 use Drupal\Core\Block\BlockBase;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ @@

     if ($current_bid) {
       /** @var \Drupal\node\Entity\Node $theme_node */
-      $subsite_node = \Drupal\node\Entity\Node::load($current_bid);
+      $subsite_node = Node::load($current_bid);

       if ($subsite_node->getType() == 'sub_site') {
         // Expect theme ref field.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 7 files have been changed by Rector                                       

