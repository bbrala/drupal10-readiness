diff --git a/config_overlay.info.yml b/config_overlay.info.yml
index 2084298..7ae493e 100644
--- a/config_overlay.info.yml
+++ b/config_overlay.info.yml
@@ -1,7 +1,7 @@
 name: 'Config Overlay'
 description: 'Manages exported configuration as an overlay of the exported files with module-provided configuration.'
 type: module
-core_version_requirement: ^8.7.7 || ^9
+core_version_requirement: ^9.3 || ^10
 package: Config
 dependencies:
   - drupal:config_filter
diff --git a/src/Config/ExtensionStorageFactory.php b/src/Config/ExtensionStorageFactory.php
index bbcbced..27b0b58 100644
--- a/src/Config/ExtensionStorageFactory.php
+++ b/src/Config/ExtensionStorageFactory.php
@@ -45,7 +45,7 @@ class ExtensionStorageFactory {
     // If the profile has a config/sync directory add that first, so that
     // configuration there can override module-provided configuration.
     /* @see install_profile_info() */
-    $profile_sync_path = drupal_get_path('profile', $profile) . '/config/sync';
+    $profile_sync_path = \Drupal::service('extension.list.profile')->getPath($profile) . '/config/sync';
     if (is_dir($profile_sync_path)) {
       $storages[] = new FileStorage($profile_sync_path, $storage->getCollectionName());
     }
