diff --git a/modules/audio_embed_media/audio_embed_media.install b/modules/audio_embed_media/audio_embed_media.install
index b9bc83b..4fd529c 100644
--- a/modules/audio_embed_media/audio_embed_media.install
+++ b/modules/audio_embed_media/audio_embed_media.install
@@ -10,7 +10,7 @@
  */
 function audio_embed_media_install() {
   // Copy the audio icons into the right place.
-  $icon_folder = drupal_get_path('module', 'audio_embed_media') . '/images/icons';
+  $icon_folder = \Drupal::service('extension.list.module')->getPath('audio_embed_media') . '/images/icons';
   $destination = \Drupal::config('media_entity.settings')->get('icon_base');
   media_entity_copy_icons($icon_folder, $destination);
 }
diff --git a/modules/audio_embed_media/src/Plugin/MediaEntity/Type/AudioEmbedField.php b/modules/audio_embed_media/src/Plugin/MediaEntity/Type/AudioEmbedField.php
index d3b4929..cac5ba2 100644
--- a/modules/audio_embed_media/src/Plugin/MediaEntity/Type/AudioEmbedField.php
+++ b/modules/audio_embed_media/src/Plugin/MediaEntity/Type/AudioEmbedField.php
@@ -213,13 +213,13 @@ class AudioEmbedField extends MediaTypeBase {
     ])->save();
 
     // Make the field visible on the form display.
-    $form_display = entity_get_form_display('media', $media_bundle_id, 'default');
+    $form_display = \Drupal::service('entity_display.repository')->getFormDisplay('media', $media_bundle_id, 'default');
     $form_display->setComponent(static::AUDIO_EMBED_FIELD_DEFAULT_NAME, [
       'type' => 'audio_embed_field_textfield',
     ])->save();
 
     // Make the field visible on the media entity itself.
-    $display = entity_get_display('media', $media_bundle_id, 'default');
+    $display = \Drupal::service('entity_display.repository')->getViewDisplay('media', $media_bundle_id, 'default');
     $display->setComponent(static::AUDIO_EMBED_FIELD_DEFAULT_NAME, [
       'type' => 'audio_embed_field_audio',
     ])->save();
