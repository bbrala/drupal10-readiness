diff --git a/modules/lightning_scheduler/lightning_scheduler.module b/modules/lightning_scheduler/lightning_scheduler.module
index cce3235..8ed86a1 100644
--- a/modules/lightning_scheduler/lightning_scheduler.module
+++ b/modules/lightning_scheduler/lightning_scheduler.module
@@ -22,7 +22,7 @@ use Drupal\lightning_scheduler\Plugin\Field\FieldWidget\ModerationStateWidget;
  */
 function lightning_scheduler_library_info_alter(array &$libraries, $extension) {
   if ($extension === 'seven') {
-    $dir = drupal_get_path('module', 'lightning_scheduler');
+    $dir = \Drupal::service('extension.list.module')->getPath('lightning_scheduler');
 
     $libraries['lightning_scheduler.widget'] = [
       'css' => [
diff --git a/modules/lightning_scheduler/tests/src/Functional/InlineEntityFormTest.php b/modules/lightning_scheduler/tests/src/Functional/InlineEntityFormTest.php
index d93941f..77a94a2 100644
--- a/modules/lightning_scheduler/tests/src/Functional/InlineEntityFormTest.php
+++ b/modules/lightning_scheduler/tests/src/Functional/InlineEntityFormTest.php
@@ -36,7 +36,7 @@ class InlineEntityFormTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->createContentType(['type' => 'alpha']);
diff --git a/modules/lightning_scheduler/tests/src/Functional/ScheduledTransitionTest.php b/modules/lightning_scheduler/tests/src/Functional/ScheduledTransitionTest.php
index 12df8b0..6a077a7 100644
--- a/modules/lightning_scheduler/tests/src/Functional/ScheduledTransitionTest.php
+++ b/modules/lightning_scheduler/tests/src/Functional/ScheduledTransitionTest.php
@@ -33,7 +33,7 @@ class ScheduledTransitionTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // The editorial workflow is packaged with Lightning Workflow, so install
diff --git a/modules/lightning_scheduler/tests/src/FunctionalJavascript/TransitionTest.php b/modules/lightning_scheduler/tests/src/FunctionalJavascript/TransitionTest.php
index 2e6acbf..82f5bc0 100644
--- a/modules/lightning_scheduler/tests/src/FunctionalJavascript/TransitionTest.php
+++ b/modules/lightning_scheduler/tests/src/FunctionalJavascript/TransitionTest.php
@@ -38,7 +38,7 @@ class TransitionTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
 
diff --git a/modules/lightning_scheduler/tests/src/FunctionalJavascript/UiTest.php b/modules/lightning_scheduler/tests/src/FunctionalJavascript/UiTest.php
index 32439ef..ea404ec 100644
--- a/modules/lightning_scheduler/tests/src/FunctionalJavascript/UiTest.php
+++ b/modules/lightning_scheduler/tests/src/FunctionalJavascript/UiTest.php
@@ -32,7 +32,7 @@ class UiTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
     $this->setUpTimeZone();
diff --git a/modules/lightning_scheduler/tests/src/Kernel/TransitionManagerTest.php b/modules/lightning_scheduler/tests/src/Kernel/TransitionManagerTest.php
index c56649d..3be8101 100644
--- a/modules/lightning_scheduler/tests/src/Kernel/TransitionManagerTest.php
+++ b/modules/lightning_scheduler/tests/src/Kernel/TransitionManagerTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\lightning_scheduler\Kernel;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Component\Serialization\Json;
 use Drupal\Core\Form\FormInterface;
 use Drupal\Core\Form\FormState;
@@ -17,6 +18,7 @@ use Drupal\lightning_scheduler\TransitionManager;
  */
 class TransitionManagerTest extends KernelTestBase {
 
+  use ProphecyTrait;
   /**
    * {@inheritdoc}
    */
diff --git a/tests/src/Functional/AutosaveIntegrationTest.php b/tests/src/Functional/AutosaveIntegrationTest.php
index 270e3da..4cf558c 100644
--- a/tests/src/Functional/AutosaveIntegrationTest.php
+++ b/tests/src/Functional/AutosaveIntegrationTest.php
@@ -26,7 +26,7 @@ class AutosaveIntegrationTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
   }
diff --git a/tests/src/Functional/ContentTypeModerationTest.php b/tests/src/Functional/ContentTypeModerationTest.php
index 2988ae7..83519d9 100644
--- a/tests/src/Functional/ContentTypeModerationTest.php
+++ b/tests/src/Functional/ContentTypeModerationTest.php
@@ -30,7 +30,7 @@ class ContentTypeModerationTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
 
diff --git a/tests/src/Functional/DiffTest.php b/tests/src/Functional/DiffTest.php
index 0fa46df..fd6acca 100644
--- a/tests/src/Functional/DiffTest.php
+++ b/tests/src/Functional/DiffTest.php
@@ -28,7 +28,7 @@ class DiffTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->drupalCreateContentType([
diff --git a/tests/src/Functional/ModerationDashboardTest.php b/tests/src/Functional/ModerationDashboardTest.php
index 8207cff..c8ce457 100644
--- a/tests/src/Functional/ModerationDashboardTest.php
+++ b/tests/src/Functional/ModerationDashboardTest.php
@@ -28,7 +28,7 @@ class ModerationDashboardTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // At least one moderated content type must exist in order for the dashboard
diff --git a/tests/src/Functional/ModerationHistoryTest.php b/tests/src/Functional/ModerationHistoryTest.php
index 0a97c8e..5cb4543 100644
--- a/tests/src/Functional/ModerationHistoryTest.php
+++ b/tests/src/Functional/ModerationHistoryTest.php
@@ -28,7 +28,7 @@ class ModerationHistoryTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
   }
diff --git a/tests/src/Functional/ModerationTest.php b/tests/src/Functional/ModerationTest.php
index 82e9946..7629a03 100644
--- a/tests/src/Functional/ModerationTest.php
+++ b/tests/src/Functional/ModerationTest.php
@@ -29,7 +29,7 @@ class ModerationTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->drupalCreateContentType([
diff --git a/tests/src/FunctionalJavascript/AutosaveTest.php b/tests/src/FunctionalJavascript/AutosaveTest.php
index 8e68220..2e65727 100644
--- a/tests/src/FunctionalJavascript/AutosaveTest.php
+++ b/tests/src/FunctionalJavascript/AutosaveTest.php
@@ -29,7 +29,7 @@ class AutosaveTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->drupalCreateContentType([
diff --git a/tests/src/FunctionalJavascript/ModerationSidebarTest.php b/tests/src/FunctionalJavascript/ModerationSidebarTest.php
index 97e3e3f..78bb825 100644
--- a/tests/src/FunctionalJavascript/ModerationSidebarTest.php
+++ b/tests/src/FunctionalJavascript/ModerationSidebarTest.php
@@ -28,7 +28,7 @@ class ModerationSidebarTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->drupalCreateContentType([
diff --git a/tests/src/FunctionalJavascript/QuickEditTest.php b/tests/src/FunctionalJavascript/QuickEditTest.php
index e261ae8..764a558 100644
--- a/tests/src/FunctionalJavascript/QuickEditTest.php
+++ b/tests/src/FunctionalJavascript/QuickEditTest.php
@@ -29,7 +29,7 @@ class QuickEditTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
     $this->drupalPlaceBlock('system_main_block');
diff --git a/tests/src/Kernel/ModerationControlTest.php b/tests/src/Kernel/ModerationControlTest.php
index 6523507..92b454c 100644
--- a/tests/src/Kernel/ModerationControlTest.php
+++ b/tests/src/Kernel/ModerationControlTest.php
@@ -32,7 +32,7 @@ class ModerationControlTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig('lightning_workflow');
     $this->installConfig('node');
diff --git a/tests/src/Kernel/Update230Test.php b/tests/src/Kernel/Update230Test.php
index 4aef94a..9a24585 100644
--- a/tests/src/Kernel/Update230Test.php
+++ b/tests/src/Kernel/Update230Test.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\lightning_workflow\Kernel;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Serialization\Yaml;
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\lightning_workflow\Update\Update230;
@@ -18,6 +19,7 @@ use Symfony\Component\Console\Style\StyleInterface;
  */
 class Update230Test extends KernelTestBase {
 
+  use ProphecyTrait;
   use ContentTypeCreationTrait;
 
   /**
@@ -40,7 +42,7 @@ class Update230Test extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->update = $this->container->get('class_resolver')
diff --git a/tests/src/Kernel/Update330Test.php b/tests/src/Kernel/Update330Test.php
index cce14b0..f19dbf4 100644
--- a/tests/src/Kernel/Update330Test.php
+++ b/tests/src/Kernel/Update330Test.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\lightning_workflow\Kernel;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\lightning_workflow\Update\Update330;
 use Drupal\Tests\node\Traits\ContentTypeCreationTrait;
@@ -17,6 +18,7 @@ use Drupal\views\Entity\View;
  */
 class Update330Test extends KernelTestBase {
 
+  use ProphecyTrait;
   use ContentTypeCreationTrait;
 
   /**
@@ -37,7 +39,7 @@ class Update330Test extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->installConfig('lightning_workflow');
