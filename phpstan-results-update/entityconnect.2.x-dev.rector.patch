diff --git a/entityconnect.module b/entityconnect.module
index 542b22f..fb68544 100644
--- a/entityconnect.module
+++ b/entityconnect.module
@@ -14,7 +14,7 @@ use Drupal\entityconnect\EntityconnectFormUtils;
  * Implements hook_help().
  */
 function entityconnect_help($route_name, RouteMatchInterface $route_match) {
-  $module_path = drupal_get_path('module', 'entityconnect');
+  $module_path = \Drupal::service('extension.list.module')->getPath('entityconnect');
   switch ($route_name) {
     // Main module help for the entityconnect module.
     case 'help.page.entityconnect':
diff --git a/tests/src/Functional/EntityconnectAddTest.php b/tests/src/Functional/EntityconnectAddTest.php
index 9aa0369..0852cae 100644
--- a/tests/src/Functional/EntityconnectAddTest.php
+++ b/tests/src/Functional/EntityconnectAddTest.php
@@ -15,7 +15,7 @@ class EntityconnectAddTest extends EntityconnectTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Grant the add button permission for the ecUser.
@@ -47,7 +47,7 @@ class EntityconnectAddTest extends EntityconnectTestBase {
     $this->assertSession()->fieldValueEquals('title[0][value]', '');
 
     // Test Cancel.
-    $this->drupalPostForm(NULL, [], 'Cancel');
+    $this->submitForm([], 'Cancel');
     $this->assertSession()->fieldValueEquals('title[0][value]', 'Base ' . $this->testContentType->label());
 
     // Test Create reference Node.
diff --git a/tests/src/Functional/EntityconnectAdminTest.php b/tests/src/Functional/EntityconnectAdminTest.php
index 7369ae3..0ec8149 100644
--- a/tests/src/Functional/EntityconnectAdminTest.php
+++ b/tests/src/Functional/EntityconnectAdminTest.php
@@ -16,7 +16,7 @@ class EntityconnectAdminTest extends EntityconnectTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // EC user needs both EC roles.
@@ -76,7 +76,7 @@ class EntityconnectAdminTest extends EntityconnectTestBase {
       'third_party_settings[entityconnect][buttons][button_add]' => '0',
       'third_party_settings[entityconnect][buttons][button_edit]' => '0',
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save settings');
+    $this->submitForm($edit, 'Save settings');
     $this->drupalLogout();
 
     // Open the create test page.
diff --git a/tests/src/Functional/EntityconnectEditTest.php b/tests/src/Functional/EntityconnectEditTest.php
index c7ca639..1d4abf7 100644
--- a/tests/src/Functional/EntityconnectEditTest.php
+++ b/tests/src/Functional/EntityconnectEditTest.php
@@ -15,7 +15,7 @@ class EntityconnectEditTest extends EntityconnectTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Grant the edit button permission for the ecUser.
diff --git a/tests/src/Functional/EntityconnectTestBase.php b/tests/src/Functional/EntityconnectTestBase.php
index b0cfab8..8e170b0 100644
--- a/tests/src/Functional/EntityconnectTestBase.php
+++ b/tests/src/Functional/EntityconnectTestBase.php
@@ -61,7 +61,7 @@ abstract class EntityconnectTestBase extends BrowserTestBase {
   /**
    * {@inheritDoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     // Create a test content type.
