diff --git a/src/ApidaeSync.php b/src/ApidaeSync.php
index 39311b3..6cb9178 100644
--- a/src/ApidaeSync.php
+++ b/src/ApidaeSync.php
@@ -846,13 +846,13 @@ class ApidaeSync {
         }
         if ($data = file_get_contents($url)) {
           if ($this->mediaImageStyle !== NULL) {
-            $file = file_save_data($data, $temporarydDestination, FileSystemInterface::EXISTS_REPLACE);
+            $file = \Drupal::service('file.repository')->writeData($data, $temporarydDestination, FileSystemInterface::EXISTS_REPLACE);
             $style->createDerivative($temporarydDestination, $destination);
             unlink($temporarydDestination);
             $file->setFileUri($destination);
           }
           else {
-            $file = file_save_data($data, $destination, FileSystemInterface::EXISTS_REPLACE);
+            $file = \Drupal::service('file.repository')->writeData($data, $destination, FileSystemInterface::EXISTS_REPLACE);
           }
           $file->save();
           $files[] = [
diff --git a/src/Event/ApidaeNodePresaveEvent.php b/src/Event/ApidaeNodePresaveEvent.php
index a0e4a75..0743f6a 100644
--- a/src/Event/ApidaeNodePresaveEvent.php
+++ b/src/Event/ApidaeNodePresaveEvent.php
@@ -2,8 +2,8 @@
 
 namespace Drupal\apidae_tourisme\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\node\Entity\Node;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Event dispatched before the saving of a node.
diff --git a/src/Event/ApidaeQueryBuilderEvent.php b/src/Event/ApidaeQueryBuilderEvent.php
index 9a30ab5..fdd97f5 100644
--- a/src/Event/ApidaeQueryBuilderEvent.php
+++ b/src/Event/ApidaeQueryBuilderEvent.php
@@ -2,7 +2,7 @@
 
 namespace Drupal\apidae_tourisme\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 /**
  * Event dispatched when the query is built, before it's execution.
