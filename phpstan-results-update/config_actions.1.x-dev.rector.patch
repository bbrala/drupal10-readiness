diff --git a/config_actions.module b/config_actions.module
index 20ce5cc..409b502 100644
--- a/config_actions.module
+++ b/config_actions.module
@@ -19,7 +19,7 @@ function config_actions_modules_installed($modules) {
     return;
   }
   foreach ($modules as $module_name) {
-    $action_dir = DRUPAL_ROOT . '/' . drupal_get_path('module', $module_name) . '/' . ConfigActionsServiceInterface::CONFIG_ACTIONS_CONFIG_DIR;
+    $action_dir = DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath($module_name) . '/' . ConfigActionsServiceInterface::CONFIG_ACTIONS_CONFIG_DIR;
     if (is_dir($action_dir)) {
       $configActions = \Drupal::service('config_actions');
       // Enable autoExecute mode to skip any actions marked with "auto:false"
diff --git a/src/ConfigActionsPluginBase.php b/src/ConfigActionsPluginBase.php
index 3d7604e..452a480 100644
--- a/src/ConfigActionsPluginBase.php
+++ b/src/ConfigActionsPluginBase.php
@@ -284,7 +284,7 @@ class ConfigActionsPluginBase extends PluginBase implements ConfigActionsPluginI
     $result = [];
 
     if (!empty($this->module)) {
-      $this->base = DRUPAL_ROOT . '/' . drupal_get_path('module', $this->module);
+      $this->base = DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath($this->module);
     }
 
     // Perform any property substitution in the loaded defaults.
diff --git a/src/ConfigActionsService.php b/src/ConfigActionsService.php
index 23a296a..ad1109c 100644
--- a/src/ConfigActionsService.php
+++ b/src/ConfigActionsService.php
@@ -361,7 +361,7 @@ class ConfigActionsService implements ConfigActionsServiceInterface {
         $actions = $this->readActions($action_file['path']);
         // Rebase so any includes look in the specified module.
         $actions['module'] = !empty($actions['module']) ? $actions['module'] : $action_file['module'];
-        $actions['base'] = DRUPAL_ROOT . '/' . drupal_get_path('module', $actions['module']);
+        $actions['base'] = DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath($actions['module']);
         // Use file key as default source.
         $actions['source'] = !empty($actions['source']) ? $actions['source'] : $action_file['file'];
 
diff --git a/tests/src/Kernel/ConfigActionsModuleTest.php b/tests/src/Kernel/ConfigActionsModuleTest.php
index 7ae29ec..9e4b478 100644
--- a/tests/src/Kernel/ConfigActionsModuleTest.php
+++ b/tests/src/Kernel/ConfigActionsModuleTest.php
@@ -39,7 +39,7 @@ class ConfigActionsModuleTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->configActions = \Drupal::service('config_actions');
     parent::installConfig(['system']);
diff --git a/tests/src/Kernel/ConfigActionsPluginTest.php b/tests/src/Kernel/ConfigActionsPluginTest.php
index aacea7a..541af46 100644
--- a/tests/src/Kernel/ConfigActionsPluginTest.php
+++ b/tests/src/Kernel/ConfigActionsPluginTest.php
@@ -37,7 +37,7 @@ class ConfigActionsPluginTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig('system');
     $this->installConfig('node');
@@ -565,7 +565,7 @@ class ConfigActionsPluginTest extends KernelTestBase {
       'replace' => $replace,
     ];
 
-    $path = drupal_get_path('module', 'test_config_actions') . '/config/templates';
+    $path = \Drupal::service('extension.list.module')->getPath('test_config_actions') . '/config/templates';
     $source = $path . '/field.storage.node.image.yml';
     $orig_config = Yaml::decode(file_get_contents($source));
     $orig_config = ConfigActionsTransform::replace($orig_config, $replace);
@@ -598,7 +598,7 @@ class ConfigActionsPluginTest extends KernelTestBase {
       'replace' => $replace,
     ];
 
-    $path = drupal_get_path('module', 'test_config_actions') . '/config/templates';
+    $path = \Drupal::service('extension.list.module')->getPath('test_config_actions') . '/config/templates';
     $source = $path . '/field.field.node.image.yml';
     $orig_config = Yaml::decode(file_get_contents($source));
     $orig_config_article = ConfigActionsTransform::replace($orig_config, $replace_article);
diff --git a/tests/src/Kernel/ConfigActionsServiceTest.php b/tests/src/Kernel/ConfigActionsServiceTest.php
index 5b6753d..bd7550f 100644
--- a/tests/src/Kernel/ConfigActionsServiceTest.php
+++ b/tests/src/Kernel/ConfigActionsServiceTest.php
@@ -38,7 +38,7 @@ class ConfigActionsServiceTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig('system');
     $this->installConfig('node');
diff --git a/tests/src/Kernel/ConfigActionsSourceTest.php b/tests/src/Kernel/ConfigActionsSourceTest.php
index 8373999..9c01138 100644
--- a/tests/src/Kernel/ConfigActionsSourceTest.php
+++ b/tests/src/Kernel/ConfigActionsSourceTest.php
@@ -50,7 +50,7 @@ class ConfigActionsSourceTest extends KernelTestBase {
    */
   protected $logger;
 
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->installConfig('system');
     $this->sourceManager = $this->container->get('plugin.manager.config_actions_source');
@@ -136,7 +136,7 @@ class ConfigActionsSourceTest extends KernelTestBase {
     $source = 'field.field.node.image.yml';
     $options = [
       'source' => $source,
-      'base' => DRUPAL_ROOT . '/' . drupal_get_path('module', 'test_config_actions'),
+      'base' => DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath('test_config_actions'),
 
     ];
     /** @var \Drupal\config_actions\ConfigActionsSourceInterface $plugin */
@@ -147,7 +147,7 @@ class ConfigActionsSourceTest extends KernelTestBase {
     $this->assertEquals('node.@bundle@.@field_name@', $data['id']);
 
     // Test file saving
-    $path = DRUPAL_ROOT . drupal_get_path('module', 'test_config_actions');
+    $path = DRUPAL_ROOT . \Drupal::service('extension.list.module')->getPath('test_config_actions');
     $config_file = 'myactions.yml';
     $filename = $path . '/' . $config_file;
     if (file_exists($filename)) {
@@ -172,7 +172,7 @@ class ConfigActionsSourceTest extends KernelTestBase {
 
     // Next, perform the same test but instead of using the base_path, use
     // an absolute path in the source filename.
-    $base_path = $path . '/' . drupal_get_path('module', 'test_config_actions');
+    $base_path = $path . '/' . \Drupal::service('extension.list.module')->getPath('test_config_actions');
     $config_file = 'myactions.yml';
     $options = [
       'source' => $base_path . '/' . $config_file,
@@ -199,7 +199,7 @@ class ConfigActionsSourceTest extends KernelTestBase {
     ];
     $options = [
       'source' => $source,
-      'base' => DRUPAL_ROOT . '/' . drupal_get_path('module', 'test_config_actions'),
+      'base' => DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath('test_config_actions'),
     ];
 
     // First, test that the File is loaded first
@@ -217,7 +217,7 @@ class ConfigActionsSourceTest extends KernelTestBase {
     ];
     $options = [
       'source' => $source,
-      'base' => DRUPAL_ROOT . '/' . drupal_get_path('module', 'test_config_actions'),
+      'base' => DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath('test_config_actions'),
     ];
 
     /** @var \Drupal\config_actions\ConfigActionsSourceInterface $plugin */
@@ -234,7 +234,7 @@ class ConfigActionsSourceTest extends KernelTestBase {
     ];
     $options = [
       'source' => $source,
-      'base' => DRUPAL_ROOT . '/' . drupal_get_path('module', 'test_config_actions'),
+      'base' => DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath('test_config_actions'),
     ];
 
     /** @var \Drupal\config_actions\ConfigActionsSourceInterface $plugin */
@@ -251,7 +251,7 @@ class ConfigActionsSourceTest extends KernelTestBase {
     ];
     $options = [
       'source' => $source,
-      'base' => DRUPAL_ROOT . '/' . drupal_get_path('module', 'test_config_actions'),
+      'base' => DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath('test_config_actions'),
     ];
 
     /** @var \Drupal\config_actions\ConfigActionsSourceInterface $plugin */
diff --git a/tests/src/Unit/ConfigActionsPluginBaseTest.php b/tests/src/Unit/ConfigActionsPluginBaseTest.php
index 57494d2..82d3d58 100644
--- a/tests/src/Unit/ConfigActionsPluginBaseTest.php
+++ b/tests/src/Unit/ConfigActionsPluginBaseTest.php
@@ -16,7 +16,7 @@ use Drupal\Core\DependencyInjection\ContainerBuilder;
 class ConfigActionsPluginBaseTest extends UnitTestCase {
 
   /**
-   * @var \Drupal\config_actions\ConfigActionsServiceInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @var \Drupal\config_actions\ConfigActionsServiceInterface|\PHPUnit\Framework\MockObject\MockObject
    */
   protected $configActions;
 
@@ -26,7 +26,7 @@ class ConfigActionsPluginBaseTest extends UnitTestCase {
    */
   protected $definition;
 
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $container = new ContainerBuilder();
