modules/contrib/ldap_sso/ldap_sso.install
modules/contrib/ldap_sso/ldap_sso.module
modules/contrib/ldap_sso/src/Controller/LoginController.php
modules/contrib/ldap_sso/src/Form/LdapSsoAdminForm.php
modules/contrib/ldap_sso/src/LdapSsoBootSubscriber.php
modules/contrib/ldap_sso/src/RedirectResponseWithCookie.php
modules/contrib/ldap_sso/src/ServerVariableLookup.php
modules/contrib/ldap_sso/src/ServerVariableLookupInterface.php
modules/contrib/ldap_sso/tests/modules/ldap_sso_dummy_ldap/src/FakeBridgeFunctional.php
modules/contrib/ldap_sso/tests/modules/ldap_sso_dummy_ldap/src/ServerVariableLookup.php
modules/contrib/ldap_sso/tests/src/Functional/LdapSsoBrowserTest.php

2 files with changes
====================

1) modules/contrib/ldap_sso/src/LdapSsoBootSubscriber.php:3

    ---------- begin diff ----------
@@ @@

 namespace Drupal\ldap_sso;

+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\Core\Config\ConfigFactory;
 use Drupal\Core\Routing\RedirectDestinationInterface;
 use Drupal\Core\Path\CurrentPathStack;
@@ @@
 use Drupal\ldap_servers\Logger\LdapDetailLog;
 use Symfony\Component\HttpFoundation\RequestStack;
 use Symfony\Component\HttpKernel\KernelEvents;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\Cookie;

@@ @@
   /**
    * Determine if we should attempt SSO.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   Event to act upon.
    */
-  public function checkSsoLoad(GetResponseEvent $event): void {
+  public function checkSsoLoad(RequestEvent $event): void {
     if ((PHP_SAPI === 'cli') || $this->account->isAuthenticated()) {
       $this->detailLog->log('CLI or logged in user, no SSO.', [], 'ldap_sso');
       return;
@@ @@
     }
     else {
       // Compatibility support for Drupal 8.9.
-      $cookie = new Cookie('sso_login_running', 'true', 0, base_path());
+      $cookie = Cookie::create('sso_login_running', 'true', 0, base_path());
     }
     $response = new RedirectResponseWithCookie($pathWithDestination, 302, [$cookie]);
     $response->send();
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * NewToStaticCallRector


2) modules/contrib/ldap_sso/src/Controller/LoginController.php:185

    ---------- begin diff ----------
@@ @@
     }
     else {
       // Compatibility support for Drupal 8.9.
-      $cookies[] = new Cookie('sso_login_running', '', $this->time->getRequestTime() - 3600, base_path());
+      $cookies[] = Cookie::create('sso_login_running', '', $this->time->getRequestTime() - 3600, base_path());
     }

     return new RedirectResponseWithCookie($finalDestination->toString(), 302, $cookies);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * NewToStaticCallRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

