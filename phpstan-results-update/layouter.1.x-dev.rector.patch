diff --git a/src/Form/LayouterForm.php b/src/Form/LayouterForm.php
index 4d27e6e..443ebf8 100644
--- a/src/Form/LayouterForm.php
+++ b/src/Form/LayouterForm.php
@@ -358,7 +358,7 @@ class LayouterForm extends FormBase {
           }
           $image_content['#uri'] = $image->getFileUri();
           $image_content['#alt'] = $form_state->getValue($field_name . '_alt');
-          $content['#' . $field_name] = render($image_content);
+          $content['#' . $field_name] = \Drupal::service('renderer')->render($image_content);
           break;
 
         case 'text':
@@ -367,7 +367,7 @@ class LayouterForm extends FormBase {
 
       }
     }
-    return render($content);
+    return \Drupal::service('renderer')->render($content);
   }
 
   /**
diff --git a/src/LayouterTextFormat.php b/src/LayouterTextFormat.php
index a399685..5017539 100644
--- a/src/LayouterTextFormat.php
+++ b/src/LayouterTextFormat.php
@@ -75,7 +75,7 @@ class LayouterTextFormat implements RenderCallbackInterface {
         'title' => t('Click to select the text template with a simplified form of layout'),
       ],
     ];
-    $link = render($link);
+    $link = \Drupal::service('renderer')->render($link);
     $suffix = '<div class="filter-wrapper layouter-link-wrapper">'
       . $link . '</div>';
 
