modules/contrib/menu_item_limit/menu_item_limit.module
modules/contrib/menu_item_limit/src/Plugin/Validation/Constraint/MenuItemOverLimit.php
modules/contrib/menu_item_limit/src/Plugin/Validation/Constraint/MenuItemOverLimitValidator.php
modules/contrib/menu_item_limit/tests/src/Functional/MenuItemLimitTest.php

2 files with changes
====================

1) modules/contrib/menu_item_limit/tests/src/Functional/MenuItemLimitTest.php:77

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Create users.
@@ @@
       'description' => '',
       'label' => $label,
     ];
-    $this->drupalPostForm('admin/structure/menu/add', $edit, $this->t('Save'));
+    $this->drupalGet('admin/structure/menu/add');
+    $this->submitForm($edit, $this->t('Save'));
     return Menu::load($menu_name);
   }

@@ @@
       'menu_item_limit' => '2',
     ];
     $this->assertSession()->pageTextContains($this->t('Item Limitation'));
-    $this->drupalPostForm('admin/structure/menu/manage/' . $menu->id(), $edit, $this->t('Save'));
+    $this->drupalGet('admin/structure/menu/manage/' . $menu->id());
+    $this->submitForm($edit, $this->t('Save'));
     return Menu::load($menu->id());

   }
@@ @@
     ];

     // Add menu link.
-    $this->drupalPostForm(NULL, $edit, $this->t('Save'));
+    $this->submitForm($edit, $this->t('Save'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('The menu link has been saved.');
+    $this->assertSession()->pageTextContains('The menu link has been saved.');

     $menu_links = \Drupal::entityTypeManager()->getStorage('menu_link_content')->loadByProperties(['title' => $title]);

@@ @@
     ];

     // Add menu link.
-    $this->drupalPostForm(NULL, $edit, $this->t('Save'));
+    $this->submitForm($edit, $this->t('Save'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText($this->t('New link cannot be added because the menu item limit has been reached.'));
+    $this->assertSession()->pageTextContains($this->t('New link cannot be added because the menu item limit has been reached.'));
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertTextRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/menu_item_limit/menu_item_limit.module:0

    ---------- begin diff ----------
@@ @@
 <?php

+use Drupal\Core\Form\FormStateInterface;
+use Drupal\menu_ui\MenuForm;
 use Drupal\Core\Menu\MenuLinkTreeInterface;


@@ @@
 /**
  * Implements hook_form_alter().
  */
-function menu_item_limit_form_alter(&$form, \Drupal\Core\Form\FormStateInterface &$form_state, $form_id) {
+function menu_item_limit_form_alter(&$form, FormStateInterface &$form_state, $form_id) {
   switch ($form_id) {
     case 'menu_edit_form':
       // Extend menu_edit_menu with the limit form.
@@ @@
  * @return array
  *   The prefilled form element.
  */
-function menu_item_limit_config_menu($form, \Drupal\menu_ui\MenuForm $menu_form) {
+function menu_item_limit_config_menu($form, MenuForm $menu_form) {
   $menu_name = empty($menu_form->getEntity()->id()) ? 'new' : $menu_form->getEntity()->id();
   // Try to get the current limit of the menu.
   $config = \Drupal::service('config.factory')->getEditable('menu_item_limit.settings');
@@ @@
  * @param array $form_state
  *   The current state of the menu edit form.
  */
-function menu_item_limit_config_menu_validate($form, \Drupal\Core\Form\FormStateInterface &$form_state) {
+function menu_item_limit_config_menu_validate($form, FormStateInterface &$form_state) {
   // Check if the entered limit is set to a value of 0 or higher.
   $limit = $form_state->getValue('menu_item_limit');
   if ((!is_numeric($limit)) || ($limit < 0)) {
@@ @@
  * @param array $form_state
  *   The current state of the menu edit form.
  */
-function menu_item_limit_config_menu_submit($form, \Drupal\Core\Form\FormStateInterface &$form_state) {
+function menu_item_limit_config_menu_submit($form, FormStateInterface &$form_state) {
   // Set the limit for the menu.
   \Drupal::logger('menu_item_limit')->notice('mymodule submit ') ;
   $limit = $form_state->getValue('menu_item_limit');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 2 files have been changed by Rector                                       

