modules/contrib/field_zip_file/field_zip_file.install
modules/contrib/field_zip_file/field_zip_file.module
modules/contrib/field_zip_file/src/Plugin/Field/FieldFormatter/ZipFileBase.php
modules/contrib/field_zip_file/src/Plugin/Field/FieldFormatter/ZipFileHTML.php
modules/contrib/field_zip_file/src/Plugin/Field/FieldFormatter/ZipFileIFrame.php
modules/contrib/field_zip_file/src/Plugin/Field/FieldType/ZipFileItem.php
modules/contrib/field_zip_file/src/Plugin/Field/FieldWidget/ZipFileWidget.php

2 files with changes
====================

1) modules/contrib/field_zip_file/src/Plugin/Field/FieldFormatter/ZipFileBase.php:63

    ---------- begin diff ----------
@@ @@
     $url = NULL;
     if ($file = $zip_file->get('entity')->getValue()) {
       if ($file_info = _field_zip_file($file)) {
-        $url = file_create_url($file_info['folder_uri']);
+        $url = \Drupal::service('file_url_generator')->generateAbsoluteString($file_info['folder_uri']);
       }
     }
     if ($this->getSetting('default_index')) {
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/field_zip_file/field_zip_file.module:0

    ---------- begin diff ----------
@@ @@
 <?php

-function _field_zip_file(\Drupal\file\Entity\File $file) {
+use Drupal\file\Entity\File;
+use Drupal\Core\Archiver\Zip;
+function _field_zip_file(File $file) {
   $uri = $file->getFileUri();
   if (file_exists($uri)) {
     $realPath = \Drupal::service('file_system')->realpath($uri);
-    $zipFile = new \Drupal\Core\Archiver\Zip($realPath);
+    $zipFile = new Zip($realPath);
     $pathinfo = pathinfo($uri);
     $folderUri = $pathinfo['dirname'];
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector


 [OK] 2 files have been changed by Rector                                       

