modules/contrib/instapage/instapage.install
modules/contrib/instapage/tests/modules/instapage_test/src/Api.php
modules/contrib/instapage/instapage.module
modules/contrib/instapage/src/Api.php
modules/contrib/instapage/tests/src/Functional/PageFormAccessTest.php
modules/contrib/instapage/src/ApiInterface.php
modules/contrib/instapage/src/Controller/FormsAccessCheck.php
modules/contrib/instapage/src/Controller/PageDisplayController.php
modules/contrib/instapage/src/Controller/PageSettingsController.php
modules/contrib/instapage/tests/src/FunctionalJavascript/PageSettingsControllerTest.php
modules/contrib/instapage/src/Form/PageDeleteForm.php
modules/contrib/instapage/tests/src/Kernel/ApiTest.php
modules/contrib/instapage/src/Form/PageEditForm.php
modules/contrib/instapage/src/Form/PageNewForm.php
modules/contrib/instapage/src/Form/SettingsForm.php
modules/contrib/instapage/src/Routing/PagesRoutes.php
modules/contrib/instapage/tests/src/Kernel/PageDeleteFormTest.php
modules/contrib/instapage/tests/src/Kernel/PageEditFormTest.php
modules/contrib/instapage/tests/src/Kernel/PageNewFormTest.php
modules/contrib/instapage/tests/src/Kernel/SettingsFormTest.php

8 files with changes
====================

1) modules/contrib/instapage/src/Controller/PageSettingsController.php:134

    ---------- begin diff ----------
@@ @@
                   ],
                 ],
               ];
-              $op_links = render($links);
+              $op_links = \Drupal::service('renderer')->render($links);

               // The current url alias of the page.
               $path_url = Url::fromUri('internal:/' . $path, ['attributes' => ['target' => '_blank']]);
@@ @@

     // Render the rable.
     $table['#rows'] = $rows;
-    $table_render = render($table);
+    $table_render = \Drupal::service('renderer')->render($table);

     $add_new = [
       '#type' => 'link',
@@ @@
     $add_new['#attributes']['class'][] = 'instapage-add-new';

     // Render the 'Add new page' link.
-    $add_new_render = render($add_new);
+    $add_new_render = \Drupal::service('renderer')->render($add_new);

     $build['#markup'] = $markup . $add_new_render . $table_render;
     $build['#attached']['library'][] = 'core/drupal.dialog.ajax';
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/instapage/tests/src/Kernel/SettingsFormTest.php:68

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
-    $this->mockClient = $this->getMockBuilder(Client::class)->disableOriginalConstructor()->getMock();
+    $this->mockClient = $this->createMock(Client::class);
     $this->container->set('http_client', $this->mockClient);
     $this->token = 'iuaphdsaihdhjsdikbfhdsjbfhskfius744758ogf83bfi3bbfbf88ob3zbfsdf3';
     $this->email = 'testing@testing.com';
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/instapage/tests/src/Kernel/PageNewFormTest.php:70

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
-    $this->mockClient = $this->getMockBuilder(Client::class)->disableOriginalConstructor()->getMock();
+    $this->mockClient = $this->createMock(Client::class);
     $this->mockClient
       ->method('request')
       ->will($this->onConsecutiveCalls(
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/instapage/tests/src/Kernel/PageEditFormTest.php:78

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
-    $this->mockClient = $this->getMockBuilder(Client::class)->disableOriginalConstructor()->getMock();
+    $this->mockClient = $this->createMock(Client::class);
     $this->mockClient
       ->method('request')
       ->will($this->onConsecutiveCalls(
@@ @@
         new Response(200, [], '{"success":true,"error":false,"data":{"accountkeys":["auihldailbdaibd287z738g3vb39b3z9bzigb9gf3gbfi3bf83gf8383gh38g8b3","ajsibdu28orh3obfo3bfo38fb3ozbf3izfb3zbf3zb3zbf3ib3ib3zibf3zibf33","ahsuh2o8hc3gtb3z80f38bz3b3oh8v3biz3bfu83hb3zbvhbu83bvz3bvz3bvb3b","fb3ibf389hf3bfz839hbf3bf3ufb3ubf3bf3bu3bf3bfu3bfuz3bz3bf3bf3f3bf"]},"message":"Found 4 keys"}', '1.1', 'OK'),
         new Response(200, [], '{"success":true,"error":false}', '1.1', 'OK')
       ));
-    $this->mockRequestStack = $this->getMockBuilder(RequestStack::class)->disableOriginalConstructor()->getMock();
+    $this->mockRequestStack = $this->createMock(RequestStack::class);
     $this->mockRequestStack
       ->method('getCurrentRequest')
       ->willReturn(new Request([], [], ['instapage_id' => '234567'], [], []));
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/instapage/tests/src/Kernel/PageDeleteFormTest.php:78

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
-    $this->mockClient = $this->getMockBuilder(Client::class)->disableOriginalConstructor()->getMock();
+    $this->mockClient = $this->createMock(Client::class);
     $this->mockClient
       ->method('request')
       ->will($this->onConsecutiveCalls(
@@ @@
         new Response(200, [], '{"success":true,"error":false,"data":{"accountkeys":["auihldailbdaibd287z738g3vb39b3z9bzigb9gf3gbfi3bf83gf8383gh38g8b3","ajsibdu28orh3obfo3bfo38fb3ozbf3izfb3zbf3zb3zbf3ib3ib3zibf3zibf33","ahsuh2o8hc3gtb3z80f38bz3b3oh8v3biz3bfu83hb3zbvhbu83bvz3bvz3bvb3b","fb3ibf389hf3bfz839hbf3bf3ufb3ubf3bf3bu3bf3bfu3bfuz3bz3bf3bf3f3bf"]},"message":"Found 4 keys"}', '1.1', 'OK'),
         new Response(200, [], '{"success":true,"error":false}', '1.1', 'OK')
       ));
-    $this->mockRequestStack = $this->getMockBuilder(RequestStack::class)->disableOriginalConstructor()->getMock();
+    $this->mockRequestStack = $this->createMock(RequestStack::class);
     $this->mockRequestStack
       ->method('getCurrentRequest')
       ->willReturn(new Request([], [], ['instapage_id' => '234567'], [], []));
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/instapage/tests/src/Kernel/ApiTest.php:72

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->settingsConfig = $this->config('instapage.settings');
     $this->pagesConfig = $this->config('instapage.pages');
-    $this->mockClient = $this->getMockBuilder(Client::class)->disableOriginalConstructor()->getMock();
+    $this->mockClient = $this->createMock(Client::class);
     $this->container->set('http_client', $this->mockClient);
     $this->api = $this->container->get('instapage.api');
     $this->token = 'iuaphdsaihdhjsdikbfhdsjbfhskfius744758ogf83bfi3bbfbf88ob3zbfsdf3';
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/instapage/tests/src/FunctionalJavascript/PageSettingsControllerTest.php:58

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser([
       'administer instapage settings',
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/instapage/tests/src/Functional/PageFormAccessTest.php:48

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->settingsConfig = $this->config('instapage.settings');
     $this->pagesConfig = $this->config('instapage.pages');
@@ @@
     $this->loginCreateUser(['administer instapage landing pages']);
     if (!empty($this->settingsConfig->get('instapage_user_token'))) {
       $this->drupalGet(Url::fromRoute('instapage.page_new'));
-      $this->assertField('page');
-      $this->assertField('path');
+      $this->assertSession()->fieldExists('page');
+      $this->assertSession()->fieldExists('path');
     }
     else {
       $this->drupalGet(Url::fromRoute('instapage.page_new'));
-      $this->assertNoField('page');
-      $this->assertNoField('path');
+      $this->assertSession()->fieldNotExists('page');
+      $this->assertSession()->fieldNotExists('path');
     }
   }
    ----------- end diff -----------

Applied rules:
 * AssertFieldRector
 * AssertNoFieldRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 8 files have been changed by Rector                                       

