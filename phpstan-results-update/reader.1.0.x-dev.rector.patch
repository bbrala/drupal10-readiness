diff --git a/src/Controller/ReaderController.php b/src/Controller/ReaderController.php
index 17001f2..4ffeec6 100644
--- a/src/Controller/ReaderController.php
+++ b/src/Controller/ReaderController.php
@@ -85,7 +85,7 @@ class ReaderController extends ControllerBase {
     $manifest['start_url'] = $url;
     $manifest['display'] = $pwa_display;
     $manifest['icons'][] = (object) [
-      'src' => file_create_url(drupal_get_path('theme', 'reader_theme') . '/images/icon.png'),
+      'src' => \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.theme')->getPath('reader_theme') . '/images/icon.png'),
       'sizes' => '192x192',
       'type' => 'image/png',
     ];
diff --git a/tests/modules/reader_test/src/Controller/ReaderTestController.php b/tests/modules/reader_test/src/Controller/ReaderTestController.php
index f4d4f0a..1f1ca4a 100644
--- a/tests/modules/reader_test/src/Controller/ReaderTestController.php
+++ b/tests/modules/reader_test/src/Controller/ReaderTestController.php
@@ -11,7 +11,7 @@ class ReaderTestController extends ControllerBase {
    * Routing callback: return a feed.
    */
   public function feed() {
-    $content = file_get_contents(drupal_get_path('module', 'reader_test') . '/assets/rss_template.xml');
+    $content = file_get_contents(\Drupal::service('extension.list.module')->getPath('reader_test') . '/assets/rss_template.xml');
     $date1 = date('M Y', strtotime( "-1 month"));
     $date2 = date('M Y', strtotime( "-2 month"));
     $content = str_replace (["[MONTHYEAR1]", "[MONTHYEAR2]"] , [$date1, $date2], $content);
