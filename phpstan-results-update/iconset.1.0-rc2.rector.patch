diff --git a/modules/iconset_embed/src/Plugin/CKEditorPlugin/Iconset.php b/modules/iconset_embed/src/Plugin/CKEditorPlugin/Iconset.php
index 2f93983..3e0f17c 100644
--- a/modules/iconset_embed/src/Plugin/CKEditorPlugin/Iconset.php
+++ b/modules/iconset_embed/src/Plugin/CKEditorPlugin/Iconset.php
@@ -23,7 +23,7 @@ class Iconset extends CKEditorPluginBase {
    *   Relative Drupal path to the iconset module.
    */
   protected function getModulePath() {
-    return base_path() . drupal_get_path('module', 'iconset_embed');
+    return base_path() . \Drupal::service('extension.list.module')->getPath('iconset_embed');
   }
 
   /**
diff --git a/src/Plugin/IconHandlerFileBase.php b/src/Plugin/IconHandlerFileBase.php
index 87ccb6e..f35f383 100644
--- a/src/Plugin/IconHandlerFileBase.php
+++ b/src/Plugin/IconHandlerFileBase.php
@@ -129,7 +129,7 @@ abstract class IconHandlerFileBase extends PluginBase implements IconHandlerFile
     }
     else {
       $pluginDef = $iconset->getPluginDefinition();
-      $filepath = drupal_get_path($pluginDef['type'], $pluginDef['provider']) . '/' . $uri;
+      $filepath = \Drupal::service('extension.path.resolver')->getPath($pluginDef['type'], $pluginDef['provider']) . '/' . $uri;
     }
 
     if (!file_exists($filepath)) {
