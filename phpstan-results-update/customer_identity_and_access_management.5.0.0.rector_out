modules/contrib/customer_identity_and_access_management/lr_ciam/ciam_lang.php
modules/contrib/customer_identity_and_access_management/lr_ciam/src/Routing/RouteSubscriber.php
modules/contrib/customer_identity_and_access_management/lr_identity_experience_framework/lr_identity_experience_framework.install
modules/contrib/customer_identity_and_access_management/lr_identity_experience_framework/lr_identity_experience_framework.module
modules/contrib/customer_identity_and_access_management/lr_ciam/customhttpclient.php
modules/contrib/customer_identity_and_access_management/lr_identity_experience_framework/src/Form/IdentityExperienceFrameworkSettingsForm.php
modules/contrib/customer_identity_and_access_management/lr_simple_oauth/lr_simple_oauth.module
modules/contrib/customer_identity_and_access_management/lr_simple_oauth/src/LrSimpleOauthServiceProvider.php
modules/contrib/customer_identity_and_access_management/lr_simple_oauth/src/UserAuth.php
modules/contrib/customer_identity_and_access_management/lr_sso/lr_sso.install
modules/contrib/customer_identity_and_access_management/lr_sso/lr_sso.module
modules/contrib/customer_identity_and_access_management/lr_sso/src/Form/SSOSettingsForm.php
modules/contrib/customer_identity_and_access_management/lr_ciam/lr_ciam.install
modules/contrib/customer_identity_and_access_management/lr_ciam/lr_ciam.module
modules/contrib/customer_identity_and_access_management/lr_ciam/src/CiamUserManager.php
modules/contrib/customer_identity_and_access_management/lr_ciam/src/Controller/CiamController.php
modules/contrib/customer_identity_and_access_management/lr_ciam/src/Form/AdvancedSettingsForm.php
modules/contrib/customer_identity_and_access_management/lr_ciam/src/Form/AuthenticationSettingsForm.php
modules/contrib/customer_identity_and_access_management/lr_ciam/src/Form/CiamSettingsForm.php
modules/contrib/customer_identity_and_access_management/lr_ciam/src/Plugin/Block/UserForgotPassBlock.php
modules/contrib/customer_identity_and_access_management/lr_ciam/src/Plugin/Block/UserRegistrationBlock.php
modules/contrib/customer_identity_and_access_management/lr_ciam/src/Plugin/Block/UserSocialLoginBlock.php

3 files with changes
====================

1) modules/contrib/customer_identity_and_access_management/lr_ciam/src/CiamUserManager.php:524

    ---------- begin diff ----------
@@ @@
       $request = @file_get_contents($picture_url);
       if ($request) {
      //   $picture_file_data = file_save_data($request, $destination, FILE_EXISTS_REPLACE);
-        $picture_file_data = file_save_data($request, $destination, FileSystemInterface::EXISTS_REPLACE);
+        $picture_file_data = \Drupal::service('file.repository')->writeData($request, $destination, FileSystemInterface::EXISTS_REPLACE);
         $maxResolution = $picture_config->get('settings.max_resolution');
         $minResolution = $picture_config->get('settings.min_resolution');
         file_validate_image_resolution($picture_file_data, $maxResolution, $minResolution);
@@ @@
         }
         $data = $this->checkUserName($userprofile);
         // Set up the user fields.
-        $password = user_password(32);
+        $password = \Drupal::service('password_generator')->generate(32);

         $fields = [
           'name' => ($this->moduleconfig->get('ciam_save_name_in_db') == 'false') ? $userprofile->ID : $data['username'],
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * UserPasswordRector
 * ArgumentRemoverRector
 * WrapReturnRector


2) modules/contrib/customer_identity_and_access_management/lr_ciam/lr_ciam.module:75

    ---------- begin diff ----------
@@ @@
  * Implements hook_theme().
  */
 function lr_ciam_theme() {
-  $path = drupal_get_path('module', 'lr_ciam') . '/theme';
+  $path = \Drupal::service('extension.list.module')->getPath('lr_ciam') . '/theme';
   $theme = [
     'user_login_form' => [
       'template' => 'user_login_form',
@@ @@
  */
 function template_preprocess_lr_ciam_linked(&$vars) {
   global $base_url;
-  $vars['image_url'] = $base_url . '/' . drupal_get_path('module', 'lr_ciam') . '/images';
+  $vars['image_url'] = $base_url . '/' . \Drupal::service('extension.list.module')->getPath('lr_ciam') . '/images';
   $vars['callback'] = lr_ciam_get_callback_url();
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


3) modules/contrib/customer_identity_and_access_management/lr_ciam/customhttpclient.php:93

    ---------- begin diff ----------
@@ @@
       $logData['data'] = !empty($requestedData) ? json_encode($requestedData) : '';
       $logData['response'] = json_encode($response);
       $logData['response_type'] = ucfirst($response_type);
-      $logData['created_date'] = REQUEST_TIME;
+      $logData['created_date'] = \Drupal::time()->getRequestTime();

       if ($response_type != 'success') {
         \Drupal::logger('ciam')->error(serialize($logData));
    ----------- end diff -----------

Applied rules:
 * RequestTimeConstRector
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 3 files have been changed by Rector                                       

