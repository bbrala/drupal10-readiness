diff --git a/photogenic_theme.theme b/photogenic_theme.theme
index 6771a62..55c52f3 100644
--- a/photogenic_theme.theme
+++ b/photogenic_theme.theme
@@ -1136,7 +1136,7 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['header_contact_image'] = file_create_url($uri);
+      $variables['header_contact_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   $variables['header_contact'] = theme_get_setting('header_contact');
@@ -1145,7 +1145,7 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['header_email_image'] = file_create_url($uri);
+      $variables['header_email_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   $variables['header_email'] = theme_get_setting('header_email');
@@ -1179,11 +1179,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['service_one_image'] = file_create_url($uri);
+      $variables['service_one_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['service_one_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/leaf.png';
+    $variables['service_one_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/leaf.png';
   }
 
   $variables['service_one_heading'] = theme_get_setting('service_one_heading');
@@ -1205,11 +1205,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['service_two_image'] = file_create_url($uri);
+      $variables['service_two_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['service_two_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/mobile.png';
+    $variables['service_two_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/mobile.png';
   }
   
   $variables['service_two_heading'] = theme_get_setting('service_two_heading');
@@ -1231,11 +1231,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['service_three_image'] = file_create_url($uri);
+      $variables['service_three_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['service_three_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/battery.png';
+    $variables['service_three_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/battery.png';
   } 
   $variables['service_three_heading'] = theme_get_setting('service_three_heading');
   $description3 = theme_get_setting('service_three_description');
@@ -1257,11 +1257,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['team_one_person_image'] = file_create_url($uri);
+      $variables['team_one_person_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['team_one_person_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/member1.jpg';
+    $variables['team_one_person_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/member1.jpg';
   }
   $variables['team_one_person_name'] = theme_get_setting('team_one_person_name');
   $variables['team_one_person_profession'] = theme_get_setting('team_one_person_profession');
@@ -1271,11 +1271,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['team_two_person_image'] = file_create_url($uri);
+      $variables['team_two_person_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['team_two_person_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/member2.jpg';
+    $variables['team_two_person_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/member2.jpg';
   }
   $variables['team_two_person_name'] = theme_get_setting('team_two_person_name');
   $variables['team_two_person_profession'] = theme_get_setting('team_two_person_profession');
@@ -1285,11 +1285,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['team_three_person_image'] = file_create_url($uri);
+      $variables['team_three_person_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['team_three_person_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/member3.jpg';
+    $variables['team_three_person_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/member3.jpg';
   }
   $variables['team_three_person_name'] = theme_get_setting('team_three_person_name');
   $variables['team_three_person_profession'] = theme_get_setting('team_three_person_profession');
@@ -1299,11 +1299,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['team_four_person_image'] = file_create_url($uri);
+      $variables['team_four_person_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['team_four_person_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/member4.jpg';
+    $variables['team_four_person_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/member4.jpg';
   }
   $variables['team_four_person_name'] = theme_get_setting('team_four_person_name');
   $variables['team_four_person_profession'] = theme_get_setting('team_four_person_profession');
@@ -1322,11 +1322,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_one_image'] = file_create_url($uri);
+      $variables['portfolio_one_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_one_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-1.jpg';
+    $variables['portfolio_one_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-1.jpg';
   }
   $variables['portfolio_one_overlay_heading_one'] = theme_get_setting('portfolio_one_overlay_heading_one');
   $variables['portfolio_one_overlay_heading_two'] = theme_get_setting('portfolio_one_overlay_heading_two');
@@ -1337,11 +1337,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_two_image'] = file_create_url($uri);
+      $variables['portfolio_two_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_two_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-2.jpg';
+    $variables['portfolio_two_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-2.jpg';
   }
   $variables['portfolio_two_overlay_heading_one'] = theme_get_setting('portfolio_two_overlay_heading_one');
   $variables['portfolio_two_overlay_heading_two'] = theme_get_setting('portfolio_two_overlay_heading_two');
@@ -1352,11 +1352,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_three_image'] = file_create_url($uri);
+      $variables['portfolio_three_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_three_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-3.jpg';
+    $variables['portfolio_three_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-3.jpg';
   }
   $variables['portfolio_three_overlay_heading_one'] = theme_get_setting('portfolio_three_overlay_heading_one');
   $variables['portfolio_three_overlay_heading_two'] = theme_get_setting('portfolio_three_overlay_heading_two');
@@ -1367,11 +1367,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_four_image'] = file_create_url($uri);
+      $variables['portfolio_four_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_four_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-4.jpg';
+    $variables['portfolio_four_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-4.jpg';
   }
   $variables['portfolio_four_overlay_heading_one'] = theme_get_setting('portfolio_four_overlay_heading_one');
   $variables['portfolio_four_overlay_heading_two'] = theme_get_setting('portfolio_four_overlay_heading_two');
@@ -1382,11 +1382,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_five_image'] = file_create_url($uri);
+      $variables['portfolio_five_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_five_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-5.jpg';
+    $variables['portfolio_five_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-5.jpg';
   }
   $variables['portfolio_five_overlay_heading_one'] = theme_get_setting('portfolio_five_overlay_heading_one');
   $variables['portfolio_five_overlay_heading_two'] = theme_get_setting('portfolio_five_overlay_heading_two');
@@ -1397,11 +1397,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_six_image'] = file_create_url($uri);
+      $variables['portfolio_six_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_six_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-6.jpg';
+    $variables['portfolio_six_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-6.jpg';
   }
   $variables['portfolio_six_overlay_heading_one'] = theme_get_setting('portfolio_six_overlay_heading_one');
   $variables['portfolio_six_overlay_heading_two'] = theme_get_setting('portfolio_six_overlay_heading_two');
@@ -1412,11 +1412,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_seven_image'] = file_create_url($uri);
+      $variables['portfolio_seven_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_seven_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-7.jpg';
+    $variables['portfolio_seven_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-7.jpg';
   }
   $variables['portfolio_seven_overlay_heading_one'] = theme_get_setting('portfolio_seven_overlay_heading_one');
   $variables['portfolio_seven_overlay_heading_two'] = theme_get_setting('portfolio_seven_overlay_heading_two');
@@ -1427,11 +1427,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_eight_image'] = file_create_url($uri);
+      $variables['portfolio_eight_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_eight_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-8.jpg';
+    $variables['portfolio_eight_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-8.jpg';
   }
   $variables['portfolio_eight_overlay_heading_one'] = theme_get_setting('portfolio_eight_overlay_heading_one');
   $variables['portfolio_eight_overlay_heading_two'] = theme_get_setting('portfolio_eight_overlay_heading_two');
@@ -1442,11 +1442,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_nine_image'] = file_create_url($uri);
+      $variables['portfolio_nine_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_nine_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-9.jpg';
+    $variables['portfolio_nine_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-9.jpg';
   }
   $variables['portfolio_nine_overlay_heading_one'] = theme_get_setting('portfolio_nine_overlay_heading_one');
   $variables['portfolio_nine_overlay_heading_two'] = theme_get_setting('portfolio_nine_overlay_heading_two');
@@ -1457,11 +1457,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['portfolio_ten_image'] = file_create_url($uri);
+      $variables['portfolio_ten_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['portfolio_ten_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/gallery-image-10.jpg';
+    $variables['portfolio_ten_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/gallery-image-10.jpg';
   }
   $variables['portfolio_ten_overlay_heading_one'] = theme_get_setting('portfolio_ten_overlay_heading_one');
   $variables['portfolio_ten_overlay_heading_two'] = theme_get_setting('portfolio_ten_overlay_heading_two');
@@ -1475,22 +1475,22 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['contact_address_icon'] = file_create_url($uri);
+      $variables['contact_address_icon'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['contact_address_icon'] = drupal_get_path('theme', 'photogenic_theme') . '/images/location.png';
+    $variables['contact_address_icon'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/location.png';
   }
   $variables['contact_address'] = theme_get_setting('contact_address');
   $fid = theme_get_setting("contact_phone_icon", "photogenic_theme");
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['contact_phone_icon'] = file_create_url($uri);
+      $variables['contact_phone_icon'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['contact_phone_icon'] = drupal_get_path('theme', 'photogenic_theme') . '/images/phone1.png';
+    $variables['contact_phone_icon'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/phone1.png';
   }
   $variables['contact_phone_number'] = theme_get_setting('contact_phone_number');
   $variables['contact_button_title'] = theme_get_setting('contact_button_title');
@@ -1500,11 +1500,11 @@ function photogenic_theme_preprocess_page(&$variables) {
   if (!empty($fid)) {
     $file = File::load($fid[0]);
     if ($file && $uri = $file->getFileUri()) {
-      $variables['tweet_image'] = file_create_url($uri);
+      $variables['tweet_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
   else {
-    $variables['tweet_image'] = drupal_get_path('theme', 'photogenic_theme') . '/images/quote.png';
+    $variables['tweet_image'] = \Drupal::service('extension.list.theme')->getPath('photogenic_theme') . '/images/quote.png';
   }
   $variables['tweet_message'] = theme_get_setting('tweet_message');
   $variables['tweet_user'] = theme_get_setting('tweet_user');
