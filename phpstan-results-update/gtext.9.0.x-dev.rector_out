modules/contrib/gtext/gtext.install
modules/contrib/gtext/src/Utility/HelpTemplate.php
modules/contrib/gtext/gtext.module
modules/contrib/gtext/src/Controller/APIController.php
modules/contrib/gtext/src/Controller/TranslateController.php
modules/contrib/gtext/src/Form/SettingsForm.php
modules/contrib/gtext/src/Form/TranslateFilterForm.php
modules/contrib/gtext/src/Form/TranslateForm.php
modules/contrib/gtext/src/Form/TranslateStringForm.php
modules/contrib/gtext/src/GoogleTranslate.php
modules/contrib/gtext/src/TextTranslationFactory.php
modules/contrib/gtext/src/TextTranslationWrapper.php
modules/contrib/gtext/src/Twig/TwigTranslateExtension.php

3 files with changes
====================

1) modules/contrib/gtext/src/Utility/HelpTemplate.php:55

    ---------- begin diff ----------
@@ @@
    *   Path string.
    */
   public static function getDescriptionTemplatePath() {
-    return drupal_get_path('module', self::getModuleName()) . "/templates/help.html.twig";
+    return \Drupal::service('extension.list.module')->getPath(self::getModuleName()) . "/templates/help.html.twig";
   }

 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


2) modules/contrib/gtext/src/Form/TranslateForm.php:394

    ---------- begin diff ----------
@@ @@
         '#attributes'  => [
           'title'        => t('Click to copy code for Twig'),
           'class'        => ['gtext-click-copy'],
-          'src'          => '/' . drupal_get_path('module', 'gtext') . '/misc/img/twig.svg',
+          'src'          => '/' . \Drupal::service('extension.list.module')->getPath('gtext') . '/misc/img/twig.svg',
         ]
       ];
       $form['strings'][$string->lid]['original']['copy']['code'] = [
@@ @@
         '#attributes'  => [
           'title'        => t('Click to copy code for PHP'),
           'class'        => ['gtext-click-copy'],
-          'src'          => '/' . drupal_get_path('module', 'gtext') . '/misc/img/php.svg',
+          'src'          => '/' . \Drupal::service('extension.list.module')->getPath('gtext') . '/misc/img/php.svg',
         ]
       ];
       $context = str_replace('\'', '\\\'', $string->context);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/gtext/gtext.module:172

    ---------- begin diff ----------
@@ @@
     \Drupal::service('event_dispatcher')->dispatch(new LocaleEvent($langcodes, $lids), LocaleEvents::SAVE_TRANSLATION);
   } else
   if ( interface_exists(ComponentEventDispatcherInterface::class) && \Drupal::service('event_dispatcher') instanceof ComponentEventDispatcherInterface ){
-    \Drupal::service('event_dispatcher')->dispatch(LocaleEvents::SAVE_TRANSLATION, new LocaleEvent($langcodes, $lids));
+    \Drupal::service('event_dispatcher')->dispatch(new LocaleEvent($langcodes, $lids), LocaleEvents::SAVE_TRANSLATION);
   } else {
     \Drupal::messenger()->addError( t('Error calling event. It is possible that the changes will be applied only after the cache is cleared'));
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector


 [OK] 3 files have been changed by Rector                                       

