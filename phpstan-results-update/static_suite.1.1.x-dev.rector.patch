diff --git a/modules/static_export/modules/static_export_data_resolver_graphql/tests/src/Unit/JsonGraphqlDataIncludeLoaderTest.php b/modules/static_export/modules/static_export_data_resolver_graphql/tests/src/Unit/JsonGraphqlDataIncludeLoaderTest.php
index 9942b3d..17d6049 100644
--- a/modules/static_export/modules/static_export_data_resolver_graphql/tests/src/Unit/JsonGraphqlDataIncludeLoaderTest.php
+++ b/modules/static_export/modules/static_export_data_resolver_graphql/tests/src/Unit/JsonGraphqlDataIncludeLoaderTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\static_export_data_resolver_graphql\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\DependencyInjection\ContainerBuilder;
 use Drupal\static_export\Exporter\Output\Uri\Uri;
 use Drupal\static_export\Exporter\Output\Uri\UriFactoryInterface;
@@ -237,6 +238,7 @@ class JsonGraphqlDataIncludeLoaderTest extends UnitTestCase {
       ],
     ],
   ];
+  use ProphecyTrait;
 
   /**
    * JsonGraphqlDataIncludeLoader Plugin.
diff --git a/modules/static_export/src/Controller/ExportableConfigList.php b/modules/static_export/src/Controller/ExportableConfigList.php
index 8113f85..f97e464 100644
--- a/modules/static_export/src/Controller/ExportableConfigList.php
+++ b/modules/static_export/src/Controller/ExportableConfigList.php
@@ -78,7 +78,7 @@ class ExportableConfigList extends ControllerBase {
             'view' => [
               'title' => $this->t('View'),
               'weight' => 10,
-              'url' => Url::fromUri(file_create_url($exportUri)),
+              'url' => \Drupal::service('file_url_generator')->generate($exportUri),
               'attributes' => [
                 'target' => '_blank',
               ],
diff --git a/modules/static_export/src/Controller/ExportableLocaleList.php b/modules/static_export/src/Controller/ExportableLocaleList.php
index 5b18b2e..9beb4d0 100644
--- a/modules/static_export/src/Controller/ExportableLocaleList.php
+++ b/modules/static_export/src/Controller/ExportableLocaleList.php
@@ -113,7 +113,7 @@ class ExportableLocaleList extends ControllerBase {
                 'view' => [
                   'title' => $this->t('View'),
                   'weight' => 10,
-                  'url' => Url::fromUri(file_create_url($exportUri)),
+                  'url' => \Drupal::service('file_url_generator')->generate($exportUri),
                   'attributes' => [
                     'target' => '_blank',
                   ],
diff --git a/modules/static_export/src/Controller/FileViewerController.php b/modules/static_export/src/Controller/FileViewerController.php
index 4096de6..13eb6f2 100644
--- a/modules/static_export/src/Controller/FileViewerController.php
+++ b/modules/static_export/src/Controller/FileViewerController.php
@@ -2,13 +2,13 @@
 
 namespace Drupal\static_export\Controller;
 
+use Symfony\Component\Mime\MimeTypesInterface;
 use Drupal\Core\Controller\ControllerBase;
 use Drupal\Core\Session\AccountProxyInterface;
 use Drupal\static_export\Exporter\Data\Includes\Loader\DataIncludeLoaderInterface;
 use Drupal\static_export\Exporter\Output\Formatter\OutputFormatterPluginManagerInterface;
 use Drupal\static_export\Exporter\Output\Uri\UriFactoryInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
-use Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface;
 use Symfony\Component\HttpFoundation\Request;
 use Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\HttpKernel\Exception\NotFoundHttpException;
@@ -30,7 +30,7 @@ class FileViewerController extends ControllerBase {
   /**
    * The mime type guesser.
    *
-   * @var \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface
+   * @var \Symfony\Component\Mime\MimeTypesInterface
    */
   protected $mimeTypeGuesser;
 
@@ -60,7 +60,7 @@ class FileViewerController extends ControllerBase {
    *
    * @param \Drupal\Core\Session\AccountProxyInterface $current_user
    *   The current user.
-   * @param \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface $mimeTypeGuesser
+   * @param \Symfony\Component\Mime\MimeTypesInterface $mimeTypeGuesser
    *   The mime type guesser.
    * @param \Drupal\static_export\Exporter\Output\Uri\UriFactoryInterface $uriFactory
    *   The URI factory.
@@ -71,7 +71,7 @@ class FileViewerController extends ControllerBase {
    */
   public function __construct(
     AccountProxyInterface $current_user,
-    MimeTypeGuesserInterface $mimeTypeGuesser,
+    MimeTypesInterface $mimeTypeGuesser,
     UriFactoryInterface $uriFactory,
     OutputFormatterPluginManagerInterface $outputFormatterManager,
     DataIncludeLoaderInterface $dataIncludeLoader
diff --git a/modules/static_export/src/Exporter/Data/Includes/Loader/DataIncludeLoader.php b/modules/static_export/src/Exporter/Data/Includes/Loader/DataIncludeLoader.php
index 5e07759..e652a5f 100644
--- a/modules/static_export/src/Exporter/Data/Includes/Loader/DataIncludeLoader.php
+++ b/modules/static_export/src/Exporter/Data/Includes/Loader/DataIncludeLoader.php
@@ -13,7 +13,7 @@ class DataIncludeLoader implements DataIncludeLoaderInterface {
   /**
    * The mime type guesser.
    *
-   * @var \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface
+   * @var \Symfony\Component\Mime\MimeTypesInterface
    */
   protected $mimeTypeGuesser;
 
diff --git a/modules/static_export/src/ProxyClass/Extension/OutputFormatterUninstallValidator.php b/modules/static_export/src/ProxyClass/Extension/OutputFormatterUninstallValidator.php
index c56a465..c6b0855 100644
--- a/modules/static_export/src/ProxyClass/Extension/OutputFormatterUninstallValidator.php
+++ b/modules/static_export/src/ProxyClass/Extension/OutputFormatterUninstallValidator.php
@@ -7,15 +7,18 @@
 
 namespace Drupal\static_export\ProxyClass\Extension {
 
+    use Drupal\Core\Extension\ModuleUninstallValidatorInterface;
+    use Drupal\Core\DependencyInjection\DependencySerializationTrait;
+    use Symfony\Component\DependencyInjection\ContainerInterface;
     /**
      * Provides a proxy class for \Drupal\static_export\Extension\OutputFormatterUninstallValidator.
      *
      * @see \Drupal\Component\ProxyBuilder
      */
-    class OutputFormatterUninstallValidator implements \Drupal\Core\Extension\ModuleUninstallValidatorInterface
+    class OutputFormatterUninstallValidator implements ModuleUninstallValidatorInterface
     {
 
-        use \Drupal\Core\DependencyInjection\DependencySerializationTrait;
+        use DependencySerializationTrait;
 
         /**
          * The id of the original proxied service.
@@ -46,7 +49,7 @@ namespace Drupal\static_export\ProxyClass\Extension {
          * @param string $drupal_proxy_original_service_id
          *   The service ID of the original service.
          */
-        public function __construct(\Symfony\Component\DependencyInjection\ContainerInterface $container, $drupal_proxy_original_service_id)
+        public function __construct(ContainerInterface $container, $drupal_proxy_original_service_id)
         {
             $this->container = $container;
             $this->drupalProxyOriginalServiceId = $drupal_proxy_original_service_id;
diff --git a/modules/static_export/static_export.module b/modules/static_export/static_export.module
index 6f197a9..650c26d 100644
--- a/modules/static_export/static_export.module
+++ b/modules/static_export/static_export.module
@@ -397,7 +397,7 @@ function static_export_form_node_form_alter(&$form, FormStateInterface $form_sta
             '#title' => str_replace('/', '/â€‹', $exportedUriTarget),
             '#type' => 'link',
             '#attributes' => ['target' => '_blank'],
-            '#url' => Url::fromUri(file_create_url($uri)),
+            '#url' => \Drupal::service('file_url_generator')->generate($uri),
           ],
         ];
       }
diff --git a/tests/src/Unit/TaskFactoryTest.php b/tests/src/Unit/TaskFactoryTest.php
index e2adc26..4e92b11 100644
--- a/tests/src/Unit/TaskFactoryTest.php
+++ b/tests/src/Unit/TaskFactoryTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\static_suite\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\static_suite\Release\Task\TaskFactory;
 use Drupal\Tests\UnitTestCase;
@@ -15,6 +16,7 @@ use Drupal\Tests\UnitTestCase;
  */
 class TaskFactoryTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * @covers ::create
    *
diff --git a/tests/src/Unit/TaskTest.php b/tests/src/Unit/TaskTest.php
index d1b013e..df26829 100644
--- a/tests/src/Unit/TaskTest.php
+++ b/tests/src/Unit/TaskTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\static_suite\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\File\FileSystemInterface;
 use Drupal\static_suite\Release\Task\Task;
 use Drupal\static_suite\Release\Task\TaskInterface;
@@ -21,6 +22,7 @@ use Symfony\Component\Finder\Iterator\RecursiveDirectoryIterator;
  */
 class TaskTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * Task service.
    *
