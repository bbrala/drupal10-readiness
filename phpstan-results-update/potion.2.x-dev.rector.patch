diff --git a/tests/src/Kernel/Extractor/AnnotationExtractorTest.php b/tests/src/Kernel/Extractor/AnnotationExtractorTest.php
index cf8b146..dac22c2 100644
--- a/tests/src/Kernel/Extractor/AnnotationExtractorTest.php
+++ b/tests/src/Kernel/Extractor/AnnotationExtractorTest.php
@@ -55,7 +55,7 @@ class AnnotationExtractorTest extends KernelTestBase {
     parent::setUp();
 
     /** @var string $extractionPath */
-    $this->extractionPath = drupal_get_path('module', 'potion_test');
+    $this->extractionPath = \Drupal::service('extension.list.module')->getPath('potion_test');
 
     /** @var \Drupal\potion\Extractor\AnnotationExtractor $annotationExtractor */
     $this->annotationExtractor = $this->container->get('potion.extractor.annotation');
diff --git a/tests/src/Kernel/Extractor/PhpExtractorTest.php b/tests/src/Kernel/Extractor/PhpExtractorTest.php
index fd819f6..9cb95d0 100644
--- a/tests/src/Kernel/Extractor/PhpExtractorTest.php
+++ b/tests/src/Kernel/Extractor/PhpExtractorTest.php
@@ -55,7 +55,7 @@ class PhpExtractorTest extends KernelTestBase {
     parent::setUp();
 
     /** @var string $extractionPath */
-    $this->extractionPath = drupal_get_path('module', 'potion_test');
+    $this->extractionPath = \Drupal::service('extension.list.module')->getPath('potion_test');
 
     /** @var \Drupal\potion\Extractor\PhpExtractor $phpExtractor */
     $this->phpExtractor = $this->container->get('potion.extractor.php');
diff --git a/tests/src/Kernel/Extractor/TwigExtractorTest.php b/tests/src/Kernel/Extractor/TwigExtractorTest.php
index 2d26711..43b3c2d 100644
--- a/tests/src/Kernel/Extractor/TwigExtractorTest.php
+++ b/tests/src/Kernel/Extractor/TwigExtractorTest.php
@@ -59,7 +59,7 @@ class TwigExtractorTest extends KernelTestBase {
     $this->twig = $this->container->get('twig');
 
     /** @var string $extractionPath */
-    $this->extractionPath = drupal_get_path('module', 'potion_test') . DIRECTORY_SEPARATOR . 'templates';
+    $this->extractionPath = \Drupal::service('extension.list.module')->getPath('potion_test') . DIRECTORY_SEPARATOR . 'templates';
 
     $po_items = [
       [
diff --git a/tests/src/Kernel/Extractor/YamlExtractorTest.php b/tests/src/Kernel/Extractor/YamlExtractorTest.php
index 412b3d6..00babe8 100644
--- a/tests/src/Kernel/Extractor/YamlExtractorTest.php
+++ b/tests/src/Kernel/Extractor/YamlExtractorTest.php
@@ -55,7 +55,7 @@ class YamlExtractorTest extends KernelTestBase {
     parent::setUp();
 
     /** @var string $extractionPath */
-    $this->extractionPath = drupal_get_path('module', 'potion_test');
+    $this->extractionPath = \Drupal::service('extension.list.module')->getPath('potion_test');
 
     /** @var \Drupal\potion\Extractor\YamlExtractor $yamlExtractor */
     $this->yamlExtractor = $this->container->get('potion.extractor.yaml');
diff --git a/tests/src/Kernel/TranslationsExtractorTest.php b/tests/src/Kernel/TranslationsExtractorTest.php
index 137a01a..a9c6495 100644
--- a/tests/src/Kernel/TranslationsExtractorTest.php
+++ b/tests/src/Kernel/TranslationsExtractorTest.php
@@ -59,7 +59,7 @@ class TranslationsExtractorTest extends TranslationsTestsBase {
     $this->fileSystem = $this->container->get('file_system');
 
     /** @var string $extractionPath */
-    $this->extractionPath = drupal_get_path('module', 'potion_test');
+    $this->extractionPath = \Drupal::service('extension.list.module')->getPath('potion_test');
   }
 
   /**
diff --git a/tests/src/Kernel/TranslationsFillTest.php b/tests/src/Kernel/TranslationsFillTest.php
index 6f1124d..4bfe1e0 100644
--- a/tests/src/Kernel/TranslationsFillTest.php
+++ b/tests/src/Kernel/TranslationsFillTest.php
@@ -48,7 +48,7 @@ class TranslationsFillTest extends TranslationsTestsBase {
     $this->translationsFill = $this->container->get('potion.translations.fill');
 
     /** @var string $translationsPath */
-    $this->translationsPath = drupal_get_path('module', 'potion_test') . DIRECTORY_SEPARATOR . 'assets';
+    $this->translationsPath = \Drupal::service('extension.list.module')->getPath('potion_test') . DIRECTORY_SEPARATOR . 'assets';
   }
 
   /**
diff --git a/tests/src/Kernel/TranslationsImportTest.php b/tests/src/Kernel/TranslationsImportTest.php
index 61a4198..a777c1d 100644
--- a/tests/src/Kernel/TranslationsImportTest.php
+++ b/tests/src/Kernel/TranslationsImportTest.php
@@ -47,7 +47,7 @@ class TranslationsImportTest extends TranslationsTestsBase {
     $this->translationsImport = $this->container->get('potion.translations.import');
 
     /** @var string $translationsPath */
-    $this->translationsPath = drupal_get_path('module', 'potion_test') . DIRECTORY_SEPARATOR . 'assets';
+    $this->translationsPath = \Drupal::service('extension.list.module')->getPath('potion_test') . DIRECTORY_SEPARATOR . 'assets';
   }
 
   /**
diff --git a/tests/src/Unit/UtilityTestBase.php b/tests/src/Unit/UtilityTestBase.php
index f566b13..c7e6b78 100644
--- a/tests/src/Unit/UtilityTestBase.php
+++ b/tests/src/Unit/UtilityTestBase.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\potion\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Tests\UnitTestCase;
 use Drupal\potion\Utility;
 use Drupal\potion\GettextWrapper;
@@ -16,6 +17,7 @@ use Drupal\Core\StreamWrapper\StreamWrapperManagerInterface;
  */
 abstract class UtilityTestBase extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * The Utility service of Potion.
    *
