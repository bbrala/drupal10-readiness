modules/contrib/restrict_ip/restrict_ip.api.php
modules/contrib/restrict_ip/src/Service/RestrictIpService.php
modules/contrib/restrict_ip/restrict_ip.install
modules/contrib/restrict_ip/restrict_ip.module
modules/contrib/restrict_ip/src/Access/RestrictIpPermissions.php
modules/contrib/restrict_ip/src/Access/RestrictIpPermissionsInterface.php
modules/contrib/restrict_ip/src/Controller/PageController.php
modules/contrib/restrict_ip/src/Service/RestrictIpServiceInterface.php
modules/contrib/restrict_ip/src/Controller/PageControllerInterface.php
modules/contrib/restrict_ip/src/EventSubscriber/RestrictIpEventSubscriber.php
modules/contrib/restrict_ip/tests/src/Functional/RestrictIpAccessTest.php
modules/contrib/restrict_ip/src/Form/ConfigForm.php
modules/contrib/restrict_ip/tests/src/Functional/RestrictIpAdminUiTest.php
modules/contrib/restrict_ip/tests/src/Functional/RestrictIpBrowserTestBase.php
modules/contrib/restrict_ip/tests/src/Unit/Service/RestrictIpServiceTest.php
modules/contrib/restrict_ip/src/Mapper/RestrictIpMapper.php
modules/contrib/restrict_ip/src/Mapper/RestrictIpMapperInterface.php
modules/contrib/restrict_ip/src/RestrictIpServiceProvider.php

3 files with changes
====================

1) modules/contrib/restrict_ip/src/EventSubscriber/RestrictIpEventSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\restrict_ip\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Extension\ModuleHandlerInterface;
 use Drupal\Core\Logger\LoggerChannelFactoryInterface;
@@ @@
 use Drupal\restrict_ip\Service\RestrictIpServiceInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Component\HttpFoundation\RedirectResponse;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\KernelEvents;

 class RestrictIpEventSubscriber implements EventSubscriberInterface
@@ @@
 		return $events;
 	}

-	public function checkIpRestricted(GetResponseEvent $event)
+	public function checkIpRestricted(RequestEvent $event)
 	{
 		unset($_SESSION['restrict_ip']);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector


2) modules/contrib/restrict_ip/restrict_ip.module:110

    ---------- begin diff ----------
@@ @@
 		$whitelisted_js_keys = [
 			'core/assets/vendor/jquery/jquery.min.js',
 			'core/assets/vendor/jquery/jquery.js',
-			drupal_get_path('module', 'restrict_ip') . '/js/mail_fix.js',
+			\Drupal::service('extension.list.module')->getPath('restrict_ip') . '/js/mail_fix.js',
 		];

 		$whitelisted_js_keys += Drupal::service('module_handler')->invokeAll('restrict_ip_whitelisted_js_keys');
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


3) modules/contrib/restrict_ip/tests/src/Unit/Service/RestrictIpServiceTest.php:21

    ---------- begin diff ----------
@@ @@
 	/**
 	 * {@inheritdoc}
 	 */
-	public function setUp()
+	public function setUp(): void
 	{
-		$this->currentUser = $this->getMockBuilder('Drupal\Core\Session\AccountProxyInterface')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->currentUser = $this->createMock('Drupal\Core\Session\AccountProxyInterface');

-		$this->currentPathStack = $this->getMockBuilder('Drupal\Core\Path\CurrentPathStack')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->currentPathStack = $this->createMock('Drupal\Core\Path\CurrentPathStack');

-		$this->requestStack = $this->getMockBuilder('Symfony\Component\HttpFoundation\RequestStack')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->requestStack = $this->createMock('Symfony\Component\HttpFoundation\RequestStack');

-		$this->request = $this->getMockBuilder('Symfony\Component\HttpFoundation\Request')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->request = $this->createMock('Symfony\Component\HttpFoundation\Request');

-		$this->mapper = $this->getMockBuilder('Drupal\restrict_ip\Mapper\RestrictIpMapper')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->mapper = $this->createMock('Drupal\restrict_ip\Mapper\RestrictIpMapper');

 		$this->mapper->expects($this->any())
 			->method('getWhitelistedPaths')
@@ @@
 			->method('getBlacklistedPaths')
 			->willReturn(['/node/1']);

-		$this->pathMatcher = $this->getMockbuilder('Drupal\Core\Path\PathMatcherInterface')
-			->disableOriginalConstructor()
-			->getMock();
+		$this->pathMatcher = $this->createMock('Drupal\Core\Path\PathMatcherInterface');
 	}

 	/**
@@ @@
 			'white_black_list' => 0,
 		]);

-		$mapper = $this->getMockBuilder('Drupal\restrict_ip\Mapper\RestrictIpMapper')
-			->disableOriginalConstructor()
-			->getMock();
+		$mapper = $this->createMock('Drupal\restrict_ip\Mapper\RestrictIpMapper');

 		$mapper->expects($this->any())
 			->method('getWhitelistedIpAddresses')
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

