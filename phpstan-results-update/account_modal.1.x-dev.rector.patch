diff --git a/account_modal.info.yml b/account_modal.info.yml
index 7d501cb..5087235 100644
--- a/account_modal.info.yml
+++ b/account_modal.info.yml
@@ -1,7 +1,6 @@
 name: Account Modal
 type: module
 description: Adds the ability to open account links in a modal window.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^8 || ^9 || ^10
 package: User interface
 configure: account_modal.admin_settings
diff --git a/account_modal.module b/account_modal.module
index cd86323..eeb8fd7 100644
--- a/account_modal.module
+++ b/account_modal.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\Component\Serialization\Json;
 use Drupal\account_modal\AccountModalAjaxHelper;
 use Drupal\account_modal\AccountPageHelper;
 use Drupal\Core\Form\FormStateInterface;
@@ -57,7 +58,7 @@ function account_modal_link_alter(&$variables) {
 
   $variables['options']['attributes']['class'][] = 'use-ajax';
   $variables['options']['attributes']['data-dialog-type'] = 'modal';
-  $variables['options']['attributes']['data-dialog-options'] = \Drupal\Component\Serialization\Json::encode([
+  $variables['options']['attributes']['data-dialog-options'] = Json::encode([
     'width' => $dialog_width,
     'height' => $dialog_height,
     'dialogClass' => 'account-modal account-modal--' . $page,
diff --git a/src/AccountPageHelper.php b/src/AccountPageHelper.php
index 6a8ac04..374ead1 100644
--- a/src/AccountPageHelper.php
+++ b/src/AccountPageHelper.php
@@ -66,7 +66,7 @@ class AccountPageHelper {
     $event = new PagesEvent($pages);
     /** @var \Symfony\Component\EventDispatcher\EventDispatcherInterface $eventDispatcher */
     $eventDispatcher = \Drupal::service('event_dispatcher');
-    $eventDispatcher->dispatch(AccountModalEvents::PAGES, $event);
+    $eventDispatcher->dispatch($event, AccountModalEvents::PAGES);
     return $event->getPages();
   }
 
diff --git a/src/Event/PagesEvent.php b/src/Event/PagesEvent.php
index 2a53d57..8d0e6a3 100644
--- a/src/Event/PagesEvent.php
+++ b/src/Event/PagesEvent.php
@@ -2,7 +2,7 @@
 
 namespace Drupal\account_modal\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 /**
  * Defines the cart empty event.
