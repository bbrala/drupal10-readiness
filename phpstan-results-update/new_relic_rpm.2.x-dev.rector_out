modules/contrib/new_relic_rpm/new_relic_rpm.install
modules/contrib/new_relic_rpm/src/ExtensionAdapter/NewRelicAdapterInterface.php
modules/contrib/new_relic_rpm/src/ExtensionAdapter/NullAdapter.php
modules/contrib/new_relic_rpm/src/Form/NewRelicRpmDeploy.php
modules/contrib/new_relic_rpm/new_relic_rpm.module
modules/contrib/new_relic_rpm/src/Client/NewRelicApiClient.php
modules/contrib/new_relic_rpm/src/Form/NewRelicRpmSettings.php
modules/contrib/new_relic_rpm/src/Logger/NewRelicLogger.php
modules/contrib/new_relic_rpm/src/Commands/NewRelicRpmCommands.php
modules/contrib/new_relic_rpm/src/RouteEnhancer/TransactionNameEnhancer.php
modules/contrib/new_relic_rpm/src/EventSubscriber/ExceptionSubscriber.php
modules/contrib/new_relic_rpm/src/EventSubscriber/NewRelicConfigSubscriber.php
modules/contrib/new_relic_rpm/tests/src/Functional/AdminUiTest.php
modules/contrib/new_relic_rpm/src/EventSubscriber/NewRelicRequestSubscriber.php
modules/contrib/new_relic_rpm/src/EventSubscriber/RoutingTransactionNameSubscriber.php
modules/contrib/new_relic_rpm/tests/src/Unit/EventListener/RoutingTransactionNameSubscriberTest.php
modules/contrib/new_relic_rpm/src/ExtensionAdapter/AdapterFactory.php
modules/contrib/new_relic_rpm/src/ExtensionAdapter/ExtensionAdapter.php
modules/contrib/new_relic_rpm/tests/src/Unit/Logger/NewRelicLoggerTest.php
modules/contrib/new_relic_rpm/tests/src/Unit/RouteEnhancer/TransactionNameEnhancerTest.php

6 files with changes
====================

1) modules/contrib/new_relic_rpm/src/EventSubscriber/NewRelicRequestSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\new_relic_rpm\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Path\CurrentPathStack;
 use Drupal\Core\Path\PathMatcherInterface;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\new_relic_rpm\ExtensionAdapter\NewRelicAdapterInterface;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 use Symfony\Component\HttpKernel\HttpKernelInterface;
 use Symfony\Component\HttpKernel\KernelEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
@@ @@
    *
    * Naming is based on the current path and route.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The current response event for the page.
    */
-  public function onRequest(GetResponseEvent $event) {
+  public function onRequest(RequestEvent $event) {

     // If this is a sub request, only process it if there was no master
     // request yet. In that case, it is probably a page not found or access
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector


2) modules/contrib/new_relic_rpm/src/EventSubscriber/ExceptionSubscriber.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\new_relic_rpm\EventSubscriber;

+use Symfony\Component\HttpKernel\Event\ExceptionEvent;
 use Drupal\new_relic_rpm\ExtensionAdapter\NewRelicAdapterInterface;
-use Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent;
 use Symfony\Component\HttpKernel\Exception\HttpExceptionInterface;
 use Symfony\Component\HttpKernel\KernelEvents;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
@@ @@
   /**
    * Handles errors for this subscriber.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ExceptionEvent $event
    *   The event to process.
    */
-  public function onException(GetResponseForExceptionEvent $event) {
+  public function onException(ExceptionEvent $event) {
     // Don't log http exceptions.
-    if ($event->getException() instanceof HttpExceptionInterface) {
+    if ($event->getThrowable() instanceof HttpExceptionInterface) {
       return;
     }
     if (\Drupal::config('new_relic_rpm.settings')->get('override_exception_handler')) {
       // Forward the exception to New Relic.
-      $this->adapter->logException($event->getException());
+      $this->adapter->logException($event->getThrowable());
     }
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameMethodRector
 * RenameClassRector
 * WrapReturnRector


3) modules/contrib/new_relic_rpm/tests/src/Unit/RouteEnhancer/TransactionNameEnhancerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\new_relic_rpm\Unit\RouteEnhancer;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Controller\ControllerResolverInterface;
 use Drupal\new_relic_rpm\RouteEnhancer\TransactionNameEnhancer;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class TransactionNameEnhancerTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Test callback for _translation_name_callback with known response.
    *
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/new_relic_rpm/tests/src/Unit/Logger/NewRelicLoggerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\new_relic_rpm\Unit\Logger;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Logger\LogMessageParser;
 use Drupal\Core\Logger\RfcLogLevel;
 use Drupal\new_relic_rpm\ExtensionAdapter\NewRelicAdapterInterface;
@@ @@
  */
 class NewRelicLoggerTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The default request context for tests.
    *
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/new_relic_rpm/tests/src/Unit/EventListener/RoutingTransactionNameSubscriberTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\new_relic_rpm\Unit\EventListener;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Routing\RouteBuildEvent;
 use Drupal\new_relic_rpm\EventSubscriber\RoutingTransactionNameSubscriber;
@@ @@
  */
 class RoutingTransactionNameSubscriberTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * @covers ::addTransactionNamesToRoutes
    */
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/new_relic_rpm/tests/src/Functional/AdminUiTest.php:35

    ---------- begin diff ----------
@@ @@
    *
    * @throws \Drupal\Core\Entity\EntityStorageException
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $admin = $this->createUser([], NULL, TRUE);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 6 files have been changed by Rector                                       

