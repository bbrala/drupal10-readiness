modules/contrib/audiofield/audiofield.install
modules/contrib/audiofield/src/Plugin/Field/FieldFormatter/AudioFieldFieldFormatter.php
modules/contrib/audiofield/audiofield.module
modules/contrib/audiofield/src/Annotation/AudioPlayer.php
modules/contrib/audiofield/src/AudioFieldPlayerManager.php
modules/contrib/audiofield/src/AudioFieldPluginBase.php
modules/contrib/audiofield/src/Commands/AudiofieldCommands.php
modules/contrib/audiofield/src/Plugin/AudioPlayer/AudioJsAudioPlayer.php
modules/contrib/audiofield/src/Plugin/AudioPlayer/DefaultMp3Player.php
modules/contrib/audiofield/src/Plugin/AudioPlayer/JPlayerAudioPlayer.php
modules/contrib/audiofield/src/Plugin/AudioPlayer/MediaElementAudioPlayer.php
modules/contrib/audiofield/src/Plugin/AudioPlayer/ProjekktorAudioPlayer.php
modules/contrib/audiofield/src/Plugin/AudioPlayer/SoundManagerAudioPlayer.php
modules/contrib/audiofield/src/Plugin/AudioPlayer/WavesurferAudioPlayer.php
modules/contrib/audiofield/src/Plugin/AudioPlayer/WordPressAudioPlayer.php

3 files with changes
====================

1) modules/contrib/audiofield/src/Plugin/AudioPlayer/WavesurferAudioPlayer.php:154

    ---------- begin diff ----------
@@ @@

         // If the file exists, add it to the jQuery and template settings.
         if (file_exists($peakData['url'])) {
-          $renderInfo->peakpath = $fileSettings['peakpath'] = file_create_url($peakData['url']);
+          $renderInfo->peakpath = $fileSettings['peakpath'] = \Drupal::service('file_url_generator')->generateAbsoluteString($peakData['url']);
         }
       }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/audiofield/src/AudioFieldPluginBase.php:459

    ---------- begin diff ----------
@@ @@
       // Load the associated file.
       $file = $this->loadFileFromItem($item);
       // Get the file URL.
-      return Url::fromUri(file_create_url($file->getFileUri()));
+      return \Drupal::service('file_url_generator')->generate($file->getFileUri());
     }
     // Handle Link entity.
     elseif ($this->getClassType($item) == 'LinkItem') {
    ----------- end diff -----------

Applied rules:
 * FromUriRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/audiofield/audiofield.module:97

    ---------- begin diff ----------
@@ @@
    * By default, Drupal 8 does not include theme suggestions from inside the
    * module in which they were created, so we must add them manually here.
    */
-  $path = drupal_get_path('module', 'audiofield');
+  $path = \Drupal::service('extension.list.module')->getPath('audiofield');
   $audioplayer_templates = drupal_find_theme_templates($theme_registry, '.html.twig', $path);
   foreach ($audioplayer_templates as &$audioplayer_template) {
     $audioplayer_template['type'] = 'module';
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 3 files have been changed by Rector                                       

