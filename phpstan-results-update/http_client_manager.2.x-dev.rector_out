modules/contrib/http_client_manager/modules/http_client_manager_example/src/EventSubscriber/HttpClientManagerExampleSubscriber.php
modules/contrib/http_client_manager/http_client_manager.module
modules/contrib/http_client_manager/src/HttpClientManagerFactory.php
modules/contrib/http_client_manager/modules/http_client_manager_example/src/Controller/ExampleController.php
modules/contrib/http_client_manager/src/HttpClientManagerFactoryInterface.php
modules/contrib/http_client_manager/modules/http_client_manager_example/src/Plugin/HttpServiceApiWrapper/HttpServiceApiWrapperPosts.php
modules/contrib/http_client_manager/src/HttpConfigRequestHtmlRouteProvider.php
modules/contrib/http_client_manager/modules/http_client_manager_example/src/api/Commands/Posts.php
modules/contrib/http_client_manager/src/Controller/HttpClientManagerPreview.php
modules/contrib/http_client_manager/src/HttpConfigRequestListBuilder.php
modules/contrib/http_client_manager/src/Controller/HttpConfigRequestController.php
modules/contrib/http_client_manager/src/Entity/HttpConfigRequest.php
modules/contrib/http_client_manager/src/HttpServiceApiHandler.php
modules/contrib/http_client_manager/src/Entity/HttpConfigRequestInterface.php
modules/contrib/http_client_manager/src/Event/HttpClientCallPreExecuteEvent.php
modules/contrib/http_client_manager/src/Event/HttpClientEvents.php
modules/contrib/http_client_manager/src/Event/HttpClientHandlerStackEvent.php
modules/contrib/http_client_manager/src/Form/HttpClientManagerConfigForm.php
modules/contrib/http_client_manager/src/HttpServiceApiHandlerInterface.php
modules/contrib/http_client_manager/src/HttpServiceApiWrapperFactory.php
modules/contrib/http_client_manager/src/HttpServiceApiWrapperFactoryInterface.php
modules/contrib/http_client_manager/src/Plugin/HttpServiceApiWrapper/HttpServiceApiWrapperBase.php
modules/contrib/http_client_manager/src/Form/HttpConfigRequestDeleteForm.php
modules/contrib/http_client_manager/src/Form/HttpConfigRequestForm.php
modules/contrib/http_client_manager/src/Plugin/HttpServiceApiWrapper/HttpServiceApiWrapperInterface.php
modules/contrib/http_client_manager/src/Request/HttpRequestBase.php
modules/contrib/http_client_manager/src/Request/HttpRequestInterface.php
modules/contrib/http_client_manager/tests/src/Unit/HttpClientManagerFactoryTest.php
modules/contrib/http_client_manager/tests/src/Unit/HttpClientTest.php
modules/contrib/http_client_manager/src/Form/HttpServiceApiPreviewForm.php
modules/contrib/http_client_manager/src/HttpClient.php
modules/contrib/http_client_manager/src/HttpClientInterface.php

5 files with changes
====================

1) modules/contrib/http_client_manager/tests/src/Unit/HttpClientTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\http_client_manager\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\http_client_manager\HttpClient;
 use Drupal\http_client_manager\HttpServiceApiHandlerInterface;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class HttpClientTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * The client.
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->initClient('test', $this->getServiceApiInfo());
   }
@@ @@
    * Tests HttpClient::getCommand() with wrong argument.
    *
    * @covers ::getCommand
-   *
-   * @expectedException \InvalidArgumentException
-   * @expectedExceptionMessage No operation found named Missing
    */
   public function testGetCommandWhichDoesNotExists() {
+    $this->expectException(\InvalidArgumentException::class);
+    $this->expectExceptionMessage('No operation found named Missing');
     $command = $this->client->getCommand('Missing');
     $this->assertEmpty($command);
   }
@@ @@
    * Tests HttpClient::call() with wrong command name.
    *
    * @covers ::call
-   *
-   * @expectedException \InvalidArgumentException
-   * @expectedExceptionMessage No operation found named Missing
    */
   public function testCallWithWrongCommandName() {
+    $this->expectException(\InvalidArgumentException::class);
+    $this->expectExceptionMessage('No operation found named Missing');
     $this->client->call('Missing');
   }

@@ @@
    * Tests HttpClient::__call() with wrong command name.
    *
    * @covers ::__call
-   *
-   * @expectedException \InvalidArgumentException
-   * @expectedExceptionMessage No operation found named Missing
    */
   public function testMagicMethodCallWithWrongCommandName() {
+    $this->expectException(\InvalidArgumentException::class);
+    $this->expectExceptionMessage('No operation found named Missing');
     $this->client->missing();
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector (https://thephp.cc/news/2016/02/questioning-phpunit-best-practices)
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/http_client_manager/tests/src/Unit/HttpClientManagerFactoryTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\http_client_manager\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\DependencyInjection\ContainerBuilder;
 use Drupal\http_client_manager\HttpServiceApiHandlerInterface;
 use Drupal\Tests\UnitTestCase;
@@ @@
  */
 class HttpClientManagerFactoryTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Tests HttpClientManagerFactory::get().
    *
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/http_client_manager/src/HttpClient.php:233

    ---------- begin diff ----------
@@ @@
     }

     $event = new HttpClientHandlerStackEvent($config['handler'], $this->serviceApi);
-    $this->eventDispatcher->dispatch(HttpClientEvents::HANDLER_STACK, $event);
+    $this->eventDispatcher->dispatch($event, HttpClientEvents::HANDLER_STACK);
     return $config;
   }

@@ @@
     $client = $this->getClientByCommand($commandName);
     $command = $client->getCommand($commandName, $params);
     $event = new HttpClientCallPreExecuteEvent($client, $command);
-    $this->eventDispatcher->dispatch(HttpClientEvents::CALL_PRE_EXECUTE, $event);
+    $this->eventDispatcher->dispatch($event, HttpClientEvents::CALL_PRE_EXECUTE);
     return $client->execute($command);
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector


4) modules/contrib/http_client_manager/src/Event/HttpClientHandlerStackEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\http_client_manager\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use GuzzleHttp\HandlerStack;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Class HttpClientHandlerStackEvent.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/http_client_manager/src/Event/HttpClientCallPreExecuteEvent.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\http_client_manager\Event;

+use Symfony\Contracts\EventDispatcher\Event;
 use GuzzleHttp\Command\Command;
 use GuzzleHttp\Command\Guzzle\GuzzleClient;
-use Symfony\Component\EventDispatcher\Event;

 /**
  * Class HttpClientCallPreExecuteEvent.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 5 files have been changed by Rector                                       

