diff --git a/pdf.info.yml b/pdf.info.yml
index cf1829b..0a6c24f 100755
--- a/pdf.info.yml
+++ b/pdf.info.yml
@@ -1,7 +1,6 @@
 name: PDF
 description: 'Display PDF file in Drupal without external readers and plugins.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:file
 type: module
diff --git a/src/Plugin/Field/FieldFormatter/PdfDefault.php b/src/Plugin/Field/FieldFormatter/PdfDefault.php
index 8f1c342..6d1f851 100755
--- a/src/Plugin/Field/FieldFormatter/PdfDefault.php
+++ b/src/Plugin/Field/FieldFormatter/PdfDefault.php
@@ -166,8 +166,8 @@ class PdfDefault extends FormatterBase {
     $query = UrlHelper::buildQuery($extra_options);
     foreach ($items as $delta => $item) {
       if ($item->entity->getMimeType() == 'application/pdf') {
-        $file_url = file_create_url($item->entity->getFileUri());
-        $iframe_src = file_create_url($viewer_path) . '?file=' . rawurlencode($file_url);
+        $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($item->entity->getFileUri());
+        $iframe_src = \Drupal::service('file_url_generator')->generateAbsoluteString($viewer_path) . '?file=' . rawurlencode($file_url);
         $iframe_src = !empty($query) && $keep_pdfjs ? $iframe_src . '#' . $query : $iframe_src;
         $html = [
           '#theme' => 'file_pdf',
diff --git a/src/Plugin/Field/FieldFormatter/PdfPages.php b/src/Plugin/Field/FieldFormatter/PdfPages.php
index 8bfff4b..008f051 100755
--- a/src/Plugin/Field/FieldFormatter/PdfPages.php
+++ b/src/Plugin/Field/FieldFormatter/PdfPages.php
@@ -50,7 +50,7 @@ class PdfPages extends FormatterBase {
     foreach ($items as $delta => $item) {
       if ($item->entity->getMimeType() == 'application/pdf') {
         $scale = $this->getSetting('scale');
-        $file_url = file_create_url($item->entity->getFileUri());
+        $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($item->entity->getFileUri());
         $html = [
           '#type' => 'html_tag',
           '#tag' => 'div',
@@ -72,7 +72,7 @@ class PdfPages extends FormatterBase {
       }
     }
     $elements['#attached']['library'][] = 'pdf/drupal.pdf';
-    $worker = file_create_url(base_path() . 'libraries/pdf.js/build/pdf.worker.js');
+    $worker = \Drupal::service('file_url_generator')->generateAbsoluteString(base_path() . 'libraries/pdf.js/build/pdf.worker.js');
     $elements['#attached']['drupalSettings'] = [
       'pdf' => [
         'workerSrc' => $worker,
diff --git a/src/Plugin/Field/FieldFormatter/PdfThumbnail.php b/src/Plugin/Field/FieldFormatter/PdfThumbnail.php
index c2db851..92bdbd3 100755
--- a/src/Plugin/Field/FieldFormatter/PdfThumbnail.php
+++ b/src/Plugin/Field/FieldFormatter/PdfThumbnail.php
@@ -69,7 +69,7 @@ class PdfThumbnail extends FormatterBase {
     $elements = [];
     foreach ($items as $delta => $item) {
       if ($item->entity->getMimeType() == 'application/pdf') {
-        $file_url = file_create_url($item->entity->getFileUri());
+        $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($item->entity->getFileUri());
         $html = [
           '#type' => 'html_tag',
           '#tag' => 'canvas',
@@ -92,7 +92,7 @@ class PdfThumbnail extends FormatterBase {
       }
     }
     $elements['#attached']['library'][] = 'pdf/drupal.pdf';
-    $worker = file_create_url(base_path() . 'libraries/pdf.js/build/pdf.worker.js');
+    $worker = \Drupal::service('file_url_generator')->generateAbsoluteString(base_path() . 'libraries/pdf.js/build/pdf.worker.js');
     $elements['#attached']['drupalSettings'] = [
       'pdf' => [
         'workerSrc' => $worker,
