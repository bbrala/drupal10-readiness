diff --git a/layout_settings.info.yml b/layout_settings.info.yml
index 2e1c65c..aa6533e 100644
--- a/layout_settings.info.yml
+++ b/layout_settings.info.yml
@@ -1,7 +1,7 @@
 name: 'Layout Settings'
 type: module
 description: 'Standarize/reusable settings for layouts'
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: 'Layout'
 dependencies:
   - drupal:layout_discovery
diff --git a/src/Plugin/LayoutSettings/Background.php b/src/Plugin/LayoutSettings/Background.php
index 90356b5..4a73bbf 100644
--- a/src/Plugin/LayoutSettings/Background.php
+++ b/src/Plugin/LayoutSettings/Background.php
@@ -292,14 +292,14 @@ class Background extends LayoutSettingsBase {
       $file_url = $style->buildUrl($file->getFileUri());
     }
     elseif ($file !== NULL) {
-      $file_url = file_create_url($file->getFileUri());
+      $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
     }
     else {
       $file_url = NULL;
     }
 
     if ($file_url !== NULL) {
-      $image_url = $path_format === 'absolute' ? $file_url : file_url_transform_relative($file_url);
+      $image_url = $path_format === 'absolute' ? $file_url : \Drupal::service('file_url_generator')->transformRelative($file_url);
     }
     else {
       $image_url = NULL;
