modules/contrib/widget_engine/modules/widget_engine_domain_access/src/WidgetEngineDomainAccessManager.php
modules/contrib/widget_engine/includes/widget_engine.theme.inc
modules/contrib/widget_engine/modules/widget_engine_entity_form/tests/src/FunctionalJavascript/WidgetEngineEntityBrowserEntityFormTest.php
modules/contrib/widget_engine/src/Form/WidgetInlineForm.php
modules/contrib/widget_engine/tests/src/Traits/EntityAddWidgetFieldTrait.php
modules/contrib/widget_engine/modules/node_type_custom_page/node_type_custom_page.module
modules/contrib/widget_engine/modules/widget_engine_domain_access/src/Plugin/EntityReferenceSelection/WidgetSelection.php
modules/contrib/widget_engine/modules/widget_engine_domain_access/src/WidgetEngineDomainAccessPermissions.php
modules/contrib/widget_engine/src/Form/WidgetSettingsForm.php
modules/contrib/widget_engine/tests/src/Traits/WidgetTypeCreationTrait.php
modules/contrib/widget_engine/src/Form/WidgetTypeDeleteForm.php
modules/contrib/widget_engine/modules/widget_engine_domain_access/tests/src/Functional/WidgetEngineDomainBaseTest.php
modules/contrib/widget_engine/src/Form/WidgetTypeForm.php
modules/contrib/widget_engine/widget_engine.install
modules/contrib/widget_engine/src/Plugin/Field/FieldWidget/WidgetReferenceIEFComplex.php
modules/contrib/widget_engine/modules/widget_engine_domain_access/src/Plugin/views/filter/WidgetEngineDomainAccessCurrentAllFilter.php
modules/contrib/widget_engine/modules/widget_engine_entity_form/widget_engine_entity_form.module
modules/contrib/widget_engine/modules/widget_engine_domain_access/src/WidgetDomainAccessControlHandler.php
modules/contrib/widget_engine/src/Controller/WidgetController.php
modules/contrib/widget_engine/src/Controller/WidgetPreviewController.php
modules/contrib/widget_engine/modules/widget_engine_domain_access/tests/src/Kernel/WidgetEngineDomainAccessPermissionsTest.php
modules/contrib/widget_engine/widget_engine.module
modules/contrib/widget_engine/modules/widget_engine_domain_access/widget_engine_domain_access.install
modules/contrib/widget_engine/modules/widget_engine_domain_access/widget_engine_domain_access.module
modules/contrib/widget_engine/modules/widget_engine_entity_form/includes/widget_engine_entity_form.theme.inc
modules/contrib/widget_engine/modules/widget_engine_entity_form/src/Ajax/WidgetPreviewRebuildCommand.php
modules/contrib/widget_engine/modules/widget_engine_entity_form/src/Controller/WidgetEntityBrowserController.php
modules/contrib/widget_engine/src/Entity/Widget.php
modules/contrib/widget_engine/modules/widget_engine_entity_form/src/Plugin/EntityBrowser/WidgetSelector/SelectAddTabs.php
modules/contrib/widget_engine/src/Entity/WidgetInterface.php
modules/contrib/widget_engine/src/Entity/WidgetType.php
modules/contrib/widget_engine/src/Entity/WidgetTypeInterface.php
modules/contrib/widget_engine/src/Entity/WidgetViewsData.php
modules/contrib/widget_engine/src/Form/WidgetDeleteForm.php
modules/contrib/widget_engine/src/Form/WidgetForm.php
modules/contrib/widget_engine/modules/widget_engine_entity_form/src/Plugin/Field/FieldWidget/WidgetEngineEntityReferenceBrowserWidget.php
modules/contrib/widget_engine/src/WidgetAccessControlHandler.php
modules/contrib/widget_engine/src/WidgetEngineViewBuilder.php
modules/contrib/widget_engine/src/WidgetHtmlRouteProvider.php
modules/contrib/widget_engine/src/WidgetListBuilder.php
modules/contrib/widget_engine/src/WidgetTranslationHandler.php
modules/contrib/widget_engine/src/WidgetTypeAccessControlHandler.php
modules/contrib/widget_engine/src/WidgetTypeHtmlRouteProvider.php
modules/contrib/widget_engine/src/WidgetTypeListBuilder.php
modules/contrib/widget_engine/tests/src/FunctionalJavascript/WidgetReferenceIEFComplexTest.php
modules/contrib/widget_engine/tests/src/Kernel/WidgetIsPublishedTest.php
modules/contrib/widget_engine/modules/widget_engine_entity_form/src/Routing/RouteSubscriber.php

2 files with changes
====================

1) modules/contrib/widget_engine/src/Controller/WidgetPreviewController.php:52

    ---------- begin diff ----------
@@ @@
         // Prepare directory.
         $directory = "public://widget_engine_preview/{$widget->getType()}/";
         \Drupal::service('file_system')->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
-        $file = file_save_data($data, $directory . $file_name, FileSystemInterface::EXISTS_REPLACE);
+        $file = \Drupal::service('file.repository')->writeData($data, $directory . $file_name, FileSystemInterface::EXISTS_REPLACE);

         try {
           $widget->set('widget_preview', ['target_id' => $file->id()]);
@@ @@
     $output = [
       '#type' => 'html_tag',
       '#tag' => 'div',
-      '#value' => render($progress_bar),
+      '#value' => \Drupal::service('renderer')->render($progress_bar),
       '#attributes' => [
         'id' => 'widget-generate-preview',
         'class' => 'widget-generate-preview',
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/widget_engine/tests/src/FunctionalJavascript/WidgetReferenceIEFComplexTest.php:102

    ---------- begin diff ----------
@@ @@
       'widgets[form][inline_entity_form][body][0][value]' => $body,
     ];

-    $this->drupalPostForm(NULL, $edit, 'Create widget');
+    $this->submitForm($edit, 'Create widget');
     $this->assertSession()->assertWaitOnAjaxRequest();

     $title = $this->randomString();
@@ @@
     $node_edit = [
       'title[0][value]' => $title,
     ];
-    $this->drupalPostForm(NULL, $node_edit, 'edit-submit');
+    $this->submitForm($node_edit, 'edit-submit');
     $this->assertSession()->pageTextContains($name);
     $this->assertSession()->pageTextContains($body);
     $this->assertSession()->pageTextContains($title);
@@ @@
       'name[0][value]' => $name,
       'body[0][value]' => $body,
     ];
-    $this->drupalPostForm(NULL, $edit, 'edit-submit');
+    $this->submitForm($edit, 'edit-submit');

     $this->drupalGet('/admin/content/widgets');
     $this->assertSession()->assertWaitOnAjaxRequest();
@@ @@
       'title[0][value]' => $title,
     ];

-    $this->drupalPostForm(NULL, $node_edit, 'edit-submit');
+    $this->submitForm($node_edit, 'edit-submit');
     $this->assertSession()->pageTextContains($name);
     $this->assertSession()->pageTextContains($body);
     $this->assertSession()->pageTextContains($title);
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [ERROR] Could not process                                                      
         "modules/contrib/widget_engine/tests/src/Traits/WidgetTypeCreationTrait
         .php" file, due to:                                                    
         "System error: "Method assertEqual() was not found in reflection of    
         class Drupal\Tests\widget_engine\Traits\WidgetTypeCreationTrait."      
         Run Rector with "--debug" option and post the report here:             
         https://github.com/rectorphp/rector/issues/new". On line: 411          

