diff --git a/media_entity_file_redirect.info.yml b/media_entity_file_redirect.info.yml
index c0ac2db..da204ce 100644
--- a/media_entity_file_redirect.info.yml
+++ b/media_entity_file_redirect.info.yml
@@ -4,4 +4,4 @@ type: module
 package: Media
 dependencies:
 - drupal:media
-core_version_requirement: ^8.7.7 || ^9
+core_version_requirement: ^9.3 || ^10
diff --git a/src/Controller/MediaEntityFileRedirectController.php b/src/Controller/MediaEntityFileRedirectController.php
index b7087cf..9e9c31d 100644
--- a/src/Controller/MediaEntityFileRedirectController.php
+++ b/src/Controller/MediaEntityFileRedirectController.php
@@ -66,7 +66,7 @@ class MediaEntityFileRedirectController implements ContainerInjectionInterface {
           // See https://drupal.stackexchange.com/questions/273579
           $context = new RenderContext();
           $url = \Drupal::service('renderer')->executeInRenderContext($context, function () use ($file) {
-            return file_create_url($file->getFileUri());
+            return \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
           });
 
           $response = new CacheableRedirectResponse($url);
