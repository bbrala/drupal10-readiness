diff --git a/modules/toolshed_media/src/Plugin/Field/FieldFormatter/FileInfoFormatter.php b/modules/toolshed_media/src/Plugin/Field/FieldFormatter/FileInfoFormatter.php
index 24f15a2..8d77835 100644
--- a/modules/toolshed_media/src/Plugin/Field/FieldFormatter/FileInfoFormatter.php
+++ b/modules/toolshed_media/src/Plugin/Field/FieldFormatter/FileInfoFormatter.php
@@ -167,7 +167,7 @@ class FileInfoFormatter extends EntityReferenceFormatterBase {
 
         if (!empty($linkTo)) {
           $itemUrl = $fileHelper && ($linkTo == 'file' || $entity instanceof File)
-            ? Url::fromUri(file_create_url($fileHelper->getUri()))
+            ? \Drupal::service('file_url_generator')->generate($fileHelper->getUri())
             : $entity->toUrl('canonical');
         }
 
diff --git a/modules/toolshed_media/src/Utility/FileHelper.php b/modules/toolshed_media/src/Utility/FileHelper.php
index f45bc3d..027501c 100644
--- a/modules/toolshed_media/src/Utility/FileHelper.php
+++ b/modules/toolshed_media/src/Utility/FileHelper.php
@@ -286,7 +286,7 @@ class FileHelper {
    */
   public function buildRawUrl($absolute = TRUE) {
     $urlOpts = ['absolute' => $absolute];
-    $uri = file_create_url($this->getUri());
+    $uri = \Drupal::service('file_url_generator')->generateAbsoluteString($this->getUri());
 
     // Get the URL directly to this file.
     return Url::fromUri($uri, $urlOpts)->toString();
