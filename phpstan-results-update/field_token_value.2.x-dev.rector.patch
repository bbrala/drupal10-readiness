diff --git a/field_token_value.api.php b/field_token_value.api.php
index 3f2bb9c..97fb084 100644
--- a/field_token_value.api.php
+++ b/field_token_value.api.php
@@ -21,7 +21,7 @@
 function hook_field_token_value_output_alter(&$element, $wrapper_info) {
   // Attach a CSS file if the paragraph wrapper is being used.
   if ($wrapper_info['tag'] == 'p') {
-    $element['#attached']['css'][] = drupal_get_path('module', 'my_module') . '/css/my-styles.css';
+    $element['#attached']['css'][] = \Drupal::service('extension.list.module')->getPath('my_module') . '/css/my-styles.css';
   }
 }
 
diff --git a/field_token_value.info.yml b/field_token_value.info.yml
index 5a5e3f4..1e474dc 100644
--- a/field_token_value.info.yml
+++ b/field_token_value.info.yml
@@ -1,8 +1,7 @@
 name: Field Token Value
 type: module
 description: Provides a field allowing the value to be set using a string containing tokens.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 dependencies:
   - token:token
diff --git a/src/Plugin/Field/FieldFormatter/FieldTokenValueTextFormatter.php b/src/Plugin/Field/FieldFormatter/FieldTokenValueTextFormatter.php
index 2a8c114..8f90576 100644
--- a/src/Plugin/Field/FieldFormatter/FieldTokenValueTextFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/FieldTokenValueTextFormatter.php
@@ -160,7 +160,7 @@ class FieldTokenValueTextFormatter extends FormatterBase implements ContainerFac
 
       if ($output_as_link && isset($uri) && !$entity->isNew()) {
         $link = Link::fromTextAndUrl($element[0]['#value'], $uri)->toRenderable();
-        $element[0]['#value'] = render($link);
+        $element[0]['#value'] = \Drupal::service('renderer')->render($link);
       }
 
       if (!empty($selected)) {
diff --git a/src/Plugin/Field/FieldType/FieldTokenValueItem.php b/src/Plugin/Field/FieldType/FieldTokenValueItem.php
index e1a8552..47fab63 100644
--- a/src/Plugin/Field/FieldType/FieldTokenValueItem.php
+++ b/src/Plugin/Field/FieldType/FieldTokenValueItem.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\field_token_value\Plugin\Field\FieldType;
 
+use Drupal\token\TokenEntityMapperInterface;
 use Drupal\Core\Field\FieldItemBase;
 use Drupal\Core\Field\FieldStorageDefinitionInterface;
 use Drupal\Core\Form\FormStateInterface;
@@ -123,7 +124,7 @@ class FieldTokenValueItem extends FieldItemBase {
    *
    * @return \Drupal\token\TokenEntityMapperInterface
    */
-  protected function getTokenEntityMapper(): \Drupal\token\TokenEntityMapperInterface {
+  protected function getTokenEntityMapper(): TokenEntityMapperInterface {
     if (!$this->tokenEntityMapper) {
       $this->tokenEntityMapper = \Drupal::service('token.entity_mapper');
     }
@@ -133,7 +134,7 @@ class FieldTokenValueItem extends FieldItemBase {
   /**
    * @param \Drupal\token\TokenEntityMapperInterface $tokenEntityMapper
    */
-  public function setTokenEntityMapper(\Drupal\token\TokenEntityMapperInterface $tokenEntityMapper) {
+  public function setTokenEntityMapper(TokenEntityMapperInterface $tokenEntityMapper) {
     $this->tokenEntityMapper = $tokenEntityMapper;
   }
 
