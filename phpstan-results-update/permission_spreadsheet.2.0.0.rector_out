modules/contrib/permission_spreadsheet/src/Form/ExportForm.php
modules/contrib/permission_spreadsheet/src/Form/ImportForm.php
modules/contrib/permission_spreadsheet/src/Form/SettingsForm.php
modules/contrib/permission_spreadsheet/src/PhpSpreadsheetHelperTrait.php
modules/contrib/permission_spreadsheet/src/RoleLoaderTrait.php
modules/contrib/permission_spreadsheet/tests/src/Functional/ExportFormTest.php
modules/contrib/permission_spreadsheet/tests/src/Functional/FormTestBase.php
modules/contrib/permission_spreadsheet/tests/src/Functional/ImportFormTest.php

3 files with changes
====================

1) modules/contrib/permission_spreadsheet/tests/src/Functional/ImportFormTest.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->moduleConfig->set('import.text_revoked', "N\nx");
@@ @@
     $file_real_path = $this->container->get('file_system')->realPath($file->getFileUri());
     $this->createWriter($format, $spreadsheet)->save($file_real_path);
     $file->save();
-    $assert_session->assert($file->id(), 'Save import file to temporary directory.');
+    $this->assertTrue($file->id(), 'Save import file to temporary directory.');

     // Submit import form.
     $edit = ['files[file]' => $file_real_path];
-    $this->drupalPostForm(static::PAGE_PATH, $edit, t('Import'));
+    $this->drupalGet(static::PAGE_PATH);
+    $this->submitForm($edit, t('Import'));
     $assert_session->statusCodeEquals(200);
     $assert_session->responseContains((string) t('The permissions have been imported.'));

     // Check updated permissions.
     $roles = $this->loadRoles();
-    $assert_session->assert($roles['administrator']->hasPermission('administer menu'), "Check uneditable permission is protected.");
+    $this->assertTrue($roles['administrator']->hasPermission('administer menu'), "Check uneditable permission is protected.");

     $role = $roles[$current_user_rid];
-    $assert_session->assert($role->hasPermission('administer menu'), "Check behavior for cell filled with 'Y'.");
-    $assert_session->assert(!$role->hasPermission('administer modules'), "Check behavior for cell filled with 'N'.");
-    $assert_session->assert(!$role->hasPermission('administer site configuration'), "Check behavior for cell filled with 'x'.");
-    $assert_session->assert(!$role->hasPermission('administer themes'), "Check behavior for empty cell.");
+    $this->assertTrue($role->hasPermission('administer menu'), "Check behavior for cell filled with 'Y'.");
+    $this->assertTrue(!$role->hasPermission('administer modules'), "Check behavior for cell filled with 'N'.");
+    $this->assertTrue(!$role->hasPermission('administer site configuration'), "Check behavior for cell filled with 'x'.");
+    $this->assertTrue(!$role->hasPermission('administer themes'), "Check behavior for empty cell.");

     // Revert changes.
     user_role_change_permissions($current_user_rid, [
    ----------- end diff -----------

Applied rules:
 * AssertRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/permission_spreadsheet/tests/src/Functional/FormTestBase.php:40

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->adminUser = $this->drupalCreateUser(['administer permissions', 'access administration pages']);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/permission_spreadsheet/tests/src/Functional/ExportFormTest.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->moduleConfig->set('export.text_revoked', 'N');
@@ @@
     // Submit export form.
     $edit = [];
     $edit['format'] = $format;
-    $this->drupalPostForm(static::PAGE_PATH, $edit, t('Download'));
+    $this->drupalGet(static::PAGE_PATH);
+    $this->submitForm($edit, t('Download'));
     $assert_session->statusCodeEquals(200);
     $assert_session->responseHeaderContains('Content-Disposition', 'attachment; filename=' . $this->moduleConfig->get('export.filename') . '.' . $format . '');

@@ @@
     $file = File::create($file_params);
     file_put_contents($file->getFileUri(), $this->getSession()->getDriver()->getContent());
     $file->save();
-    $assert_session->assert($file->id(), 'Save exported file to temporary directory.');
+    $this->assertTrue($file->id(), 'Save exported file to temporary directory.');

     // Test the exported file.
     $sheet = NULL;
@@ @@
       $sheet = $reader->getActiveSheet();
     }
     catch (\Exception $ex) {
-      $assert_session->assert($sheet !== NULL, 'Load exported file.');
+      $this->assertTrue($sheet !== NULL, 'Load exported file.');
     }

-    $assert_session->assert($sheet->getCellByColumnAndRow(7, 1)->getValue() == $this->adminUser->getRoles(TRUE)[0], 'Role name is output correctly.');
+    $this->assertTrue($sheet->getCellByColumnAndRow(7, 1)->getValue() == $this->adminUser->getRoles(TRUE)[0], 'Role name is output correctly.');

     $values = [];
     for ($row = 2; strlen($permission = $sheet->getCellByColumnAndRow(4, $row)->getValue()); $row++) {
       $values[$permission] = trim($sheet->getCellByColumnAndRow(7, $row)->getValue());
     }
-    $assert_session->assert($values['access administration pages'] == $this->moduleConfig->get('export.text_granted'), 'Granted permission is output correctly.');
-    $assert_session->assert($values['administer site configuration'] == $this->moduleConfig->get('export.text_revoked'), 'Revoked permission is output correctly.');
+    $this->assertTrue($values['access administration pages'] == $this->moduleConfig->get('export.text_granted'), 'Granted permission is output correctly.');
+    $this->assertTrue($values['administer site configuration'] == $this->moduleConfig->get('export.text_revoked'), 'Revoked permission is output correctly.');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

