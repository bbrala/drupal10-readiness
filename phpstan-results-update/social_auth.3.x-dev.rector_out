modules/contrib/social_auth/src/Event/SocialAuthEvents.php
modules/contrib/social_auth/social_auth.install
modules/contrib/social_auth/src/Event/UserEvent.php
modules/contrib/social_auth/src/Event/UserFieldsEvent.php
modules/contrib/social_auth/src/Form/SocialAuthSettingsForm.php
modules/contrib/social_auth/social_auth.module
modules/contrib/social_auth/social_auth.post_update.php
modules/contrib/social_auth/src/AuthManager/OAuth2Manager.php
modules/contrib/social_auth/src/Plugin/Block/SocialAuthLoginBlock.php
modules/contrib/social_auth/src/Plugin/Network/NetworkBase.php
modules/contrib/social_auth/src/Plugin/Network/NetworkInterface.php
modules/contrib/social_auth/src/Settings/SettingsBase.php
modules/contrib/social_auth/src/Settings/SettingsInterface.php
modules/contrib/social_auth/src/SettingsTrait.php
modules/contrib/social_auth/src/AuthManager/OAuth2ManagerInterface.php
modules/contrib/social_auth/src/Controller/OAuth2ControllerBase.php
modules/contrib/social_auth/src/SocialAuthDataHandler.php
modules/contrib/social_auth/src/User/SocialAuthUser.php
modules/contrib/social_auth/src/User/SocialAuthUserInterface.php
modules/contrib/social_auth/src/User/UserAuthenticator.php
modules/contrib/social_auth/src/Controller/SocialAuthController.php
modules/contrib/social_auth/src/Entity/SocialAuth.php
modules/contrib/social_auth/src/Event/BeforeRedirectEvent.php
modules/contrib/social_auth/src/Event/FailedAuthenticationEvent.php
modules/contrib/social_auth/src/Event/SocialAuthEventBase.php
modules/contrib/social_auth/src/User/UserManager.php
modules/contrib/social_auth/tests/src/Functional/SocialAuthLoginBlockTest.php
modules/contrib/social_auth/tests/src/Functional/SocialAuthTestBase.php
modules/contrib/social_auth/tests/src/Functional/UserTest.php
modules/contrib/social_auth/tests/src/Kernel/SocialAuthEntityTest.php

4 files with changes
====================

1) modules/contrib/social_auth/src/Event/SocialAuthEventBase.php:19

    ---------- begin diff ----------
@@ @@
    */
   class EventProxy extends Drupal9Event {}
 }
-elseif (class_exists(Drupal8Event::class)) {
+elseif (class_exists(\Symfony\Contracts\EventDispatcher\Event::class)) {
   /**
    * Extends from Drupal8/Symfony 3 Event class.
    *
    * @package Drupal\social_auth\Event
    */
-  class EventProxy extends Drupal8Event {}
+  class EventProxy extends \Symfony\Contracts\EventDispatcher\Event {}
 }

 /**
    ----------- end diff -----------

Applied rules:
 * RenameClassRector


2) modules/contrib/social_auth/src/Controller/SocialAuthController.php:21

    ---------- begin diff ----------
@@ @@
   public static function setLoginButtonSettings($module, $route, $img_path) {
     $config = \Drupal::configFactory()->getEditable('social_auth.settings');

-    $img_path = drupal_get_path('module', $module) . '/' . $img_path;
+    $img_path = \Drupal::service('extension.list.module')->getPath($module) . '/' . $img_path;

     $config->set('auth.' . $module . '.route', $route)
       ->set('auth.' . $module . '.img_path', $img_path)
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/social_auth/src/User/UserManager.php:209

    ---------- begin diff ----------
@@ @@

       // Dispatches SocialAuthEvents::USER_CREATED event.
       $event = new UserEvent($new_user, $this->getPluginId(), $user);
-      $this->eventDispatcher->dispatch(SocialAuthEvents::USER_CREATED, $event);
+      $this->eventDispatcher->dispatch($event, SocialAuthEvents::USER_CREATED);

       return $new_user;
     }
@@ @@
     // Dispatches SocialAuthEvents::USER_FIELDS, so that other modules can
     // update this array before an user is saved.
     $event = new UserFieldsEvent($fields, $this->getPluginId(), $user);
-    $this->eventDispatcher->dispatch(SocialAuthEvents::USER_FIELDS, $event);
+    $this->eventDispatcher->dispatch($event, SocialAuthEvents::USER_FIELDS);
     $fields = $event->getUserFields();

     return $fields;
@@ @@
    * @see user_password
    */
   protected function userPassword($length) {
-    return user_password($length);
+    return \Drupal::service('password_generator')->generate($length);
   }

   /**
    ----------- end diff -----------

Applied rules:
 * UserPasswordRector
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/social_auth/src/User/UserAuthenticator.php:356

    ---------- begin diff ----------
@@ @@

       // Dispatches SocialAuthEvents::USER_LOGIN event.
       $event = new UserEvent($drupal_user, $this->getPluginId());
-      $this->eventDispatcher->dispatch(SocialAuthEvents::USER_LOGIN, $event);
+      $this->eventDispatcher->dispatch($event, SocialAuthEvents::USER_LOGIN);

       return TRUE;
     }
@@ @@
    */
   public function dispatchAuthenticationError($error = NULL) {
     $event = new FailedAuthenticationEvent($this->dataHandler, $this->getPluginId(), $error ?? NULL);
-    $this->eventDispatcher->dispatch(SocialAuthEvents::FAILED_AUTH, $event);
+    $this->eventDispatcher->dispatch($event, SocialAuthEvents::FAILED_AUTH);

     if ($event->hasResponse()) {
       return $event->getResponse();
@@ @@
    */
   public function dispatchBeforeRedirect($destination = NULL) {
     $event = new BeforeRedirectEvent($this->dataHandler, $this->getPluginId(), $destination);
-    $this->eventDispatcher->dispatch(SocialAuthEvents::BEFORE_REDIRECT, $event);
+    $this->eventDispatcher->dispatch($event, SocialAuthEvents::BEFORE_REDIRECT);
   }

 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 4 files have been changed by Rector                                       

