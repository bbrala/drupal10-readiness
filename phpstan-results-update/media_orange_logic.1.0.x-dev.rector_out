modules/contrib/media_orange_logic/media_orange_logic.module
modules/contrib/media_orange_logic/modules/orange_logic_media_library/orange_logic_media_library.module
modules/contrib/media_orange_logic/src/Plugin/Field/FieldFormatter/OrangeLogicAudio.php
modules/contrib/media_orange_logic/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryManager.php
modules/contrib/media_orange_logic/src/Plugin/Field/FieldFormatter/OrangeLogicVideoFormatter.php
modules/contrib/media_orange_logic/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryManagerInterface.php
modules/contrib/media_orange_logic/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryOptionsHelper.php
modules/contrib/media_orange_logic/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryOptionsHelperInterface.php
modules/contrib/media_orange_logic/modules/orange_logic_media_library/src/Plugin/MediaLibrarySource/OrangeLogicMediaLibrarySource.php
modules/contrib/media_orange_logic/src/Plugin/Field/FieldType/OrangeLogicField.php
modules/contrib/media_orange_logic/src/Plugin/Field/FieldWidget/OrangeLogicDefaultWidget.php
modules/contrib/media_orange_logic/src/Plugin/media/Source/OrangeLogicMediaSource.php
modules/contrib/media_orange_logic/src/Controller/EntityBrowserController.php
modules/contrib/media_orange_logic/src/Form/MediaOrangeLogicAdminForm.php
modules/contrib/media_orange_logic/src/OrangeLogicAssetPublicLinkManager.php
modules/contrib/media_orange_logic/src/OrangeLogicAssetPublicLinkManagerInterface.php
modules/contrib/media_orange_logic/src/OrangeLogicManager.php
modules/contrib/media_orange_logic/src/OrangeLogicManagerInterface.php
modules/contrib/media_orange_logic/src/OrangeLogicResultRenderer.php
modules/contrib/media_orange_logic/src/OrangeLogicResultRendererInterface.php
modules/contrib/media_orange_logic/src/OrangeLogicSearchResponse.php
modules/contrib/media_orange_logic/src/OrangeLogicTokenManager.php
modules/contrib/media_orange_logic/src/OrangeLogicTokenManagerInterface.php
modules/contrib/media_orange_logic/src/Plugin/EntityBrowser/Widget/OrangeLogicMediaBrowserWidget.php

6 files with changes
====================

1) modules/contrib/media_orange_logic/src/Plugin/media/Source/OrangeLogicMediaSource.php:172

    ---------- begin diff ----------
@@ @@
           $asset = file_get_contents($thumbnail_url);
           $file_name = $this->olResultRenderer->getAssetFileName($source_field, $thumbnail_url);
           $destination = $this->thumbsDirectory . '/' . $file_name;
-          $file = file_save_data($asset, $destination, FileSystemInterface::EXISTS_RENAME);
+          $file = \Drupal::service('file.repository')->writeData($asset, $destination, FileSystemInterface::EXISTS_RENAME);

           return $file instanceof FileInterface ? $file->getFileUri() : parent::getMetadata($media, $name);
         }
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/media_orange_logic/src/Plugin/Field/FieldFormatter/OrangeLogicVideoFormatter.php:233

    ---------- begin diff ----------
@@ @@
       $image_style = ImageStyle::load($this->getSetting('poster_image_style'));

       if (!empty($image_style) && $image_style->supportsUri($poster_uri)) {
-        $poster_url = file_url_transform_relative($image_style->buildUrl($poster_uri));
+        $poster_url = \Drupal::service('file_url_generator')->transformRelative($image_style->buildUrl($poster_uri));
       }
     }
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/media_orange_logic/src/Plugin/EntityBrowser/Widget/OrangeLogicMediaBrowserWidget.php:515

    ---------- begin diff ----------
@@ @@

       // Create the file:
       $asset = file_get_contents($asset_source);
-      $file = file_save_data($asset, 'public://' . $asset_filename, FileSystemInterface::EXISTS_REPLACE);
+      $file = \Drupal::service('file.repository')->writeData($asset, 'public://' . $asset_filename, FileSystemInterface::EXISTS_REPLACE);

       return ['target_id' => $file->id()];
     }
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * WrapReturnRector


4) modules/contrib/media_orange_logic/modules/orange_logic_media_library/src/Plugin/MediaLibrarySource/OrangeLogicMediaLibrarySource.php:354

    ---------- begin diff ----------
@@ @@
           '#type' => 'html_tag',
           '#tag' => 'img',
           '#attributes' => [
-            'src' => file_create_url($file->getFileUri()),
+            'src' => \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri()),
             'alt' => $image->getName(),
             'title' => $image->getName(),
           ],
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/media_orange_logic/modules/orange_logic_media_library/src/OrangeLogicMediaLibraryManager.php:84

    ---------- begin diff ----------
@@ @@

       // Create the file:
       $asset = file_get_contents($asset_source);
-      $file = file_save_data($asset, 'public://' . $asset_filename, FileSystemInterface::EXISTS_REPLACE);
+      $file = \Drupal::service('file.repository')->writeData($asset, 'public://' . $asset_filename, FileSystemInterface::EXISTS_REPLACE);

       return [
         'target_id' => $file->id(),
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * WrapReturnRector


6) modules/contrib/media_orange_logic/modules/orange_logic_media_library/orange_logic_media_library.module:0

    ---------- begin diff ----------
@@ @@
 <?php
+
+use Drupal\Core\Form\FormStateInterface;
 /**
  * @file
  * Contains orange_logic_media_library module.
  */
-
 /**
  * Implements hook_form_alter().
  */
-function orange_logic_media_library_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
+function orange_logic_media_library_form_alter(&$form, FormStateInterface $form_state, $form_id) {
   if ($form_id === 'media_library_extend_pane_form') {
     $form['content']['pager'] = NULL;
   }
-}
+}
    ----------- end diff -----------

 [OK] 6 files have been changed by Rector                                       

