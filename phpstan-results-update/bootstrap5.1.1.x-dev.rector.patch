diff --git a/src/SubthemeManager.php b/src/SubthemeManager.php
index 0ffc001e..d244da51 100644
--- a/src/SubthemeManager.php
+++ b/src/SubthemeManager.php
@@ -129,12 +129,12 @@ class SubthemeManager {
         $fs->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
 
         $files = $fs->scanDirectory(
-          drupal_get_path('theme', 'bootstrap5') . DIRECTORY_SEPARATOR . $subforder . DIRECTORY_SEPARATOR, '/.*/');
+          \Drupal::service('extension.list.theme')->getPath('bootstrap5') . DIRECTORY_SEPARATOR . $subforder . DIRECTORY_SEPARATOR, '/.*/');
         foreach ($files as $file) {
           //dump($file);
           $fileName = $file->filename;
           $fs->copy(
-            drupal_get_path('theme', 'bootstrap5') . DIRECTORY_SEPARATOR . $subforder . DIRECTORY_SEPARATOR . $fileName,
+            \Drupal::service('extension.list.theme')->getPath('bootstrap5') . DIRECTORY_SEPARATOR . $subforder . DIRECTORY_SEPARATOR . $fileName,
             $themePath . DIRECTORY_SEPARATOR . $subforder . DIRECTORY_SEPARATOR . $fileName, TRUE);
         }
       }
@@ -146,7 +146,7 @@ class SubthemeManager {
         'screenshot.png',
       ];
       foreach ($files as $fileName) {
-        $fs->copy(drupal_get_path('theme', 'bootstrap5') . DIRECTORY_SEPARATOR . $fileName,
+        $fs->copy(\Drupal::service('extension.list.theme')->getPath('bootstrap5') . DIRECTORY_SEPARATOR . $fileName,
           $themePath . DIRECTORY_SEPARATOR . $fileName, TRUE);
       }
 
@@ -187,7 +187,7 @@ class SubthemeManager {
 
       foreach ($files as $fileName => $lines) {
         // Get file content.
-        $content = str_replace('bootstrap5', $themeMName, file_get_contents(drupal_get_path('theme', 'bootstrap5') . DIRECTORY_SEPARATOR . $fileName));
+        $content = str_replace('bootstrap5', $themeMName, file_get_contents(\Drupal::service('extension.list.theme')->getPath('bootstrap5') . DIRECTORY_SEPARATOR . $fileName));
         if (is_array($lines)) {
           $content = implode(PHP_EOL, $lines);
         }
@@ -196,7 +196,7 @@ class SubthemeManager {
       }
 
       // Info yml file generation.
-      $infoYml = Yaml::decode(file_get_contents(drupal_get_path('theme', 'bootstrap5') . DIRECTORY_SEPARATOR . 'bootstrap5.info.yml'));
+      $infoYml = Yaml::decode(file_get_contents(\Drupal::service('extension.list.theme')->getPath('bootstrap5') . DIRECTORY_SEPARATOR . 'bootstrap5.info.yml'));
       $infoYml['name'] = $themeName;
       $infoYml['description'] = $themeName . ' subtheme based on Bootstrap 5 theme.';
       $infoYml['base theme'] = 'bootstrap5';
@@ -216,7 +216,7 @@ class SubthemeManager {
 
       // SCSS files generation.
       $scssPath = $themePath . DIRECTORY_SEPARATOR . 'scss';
-      $b5ScssPath = drupal_get_path('theme', 'bootstrap5') . DIRECTORY_SEPARATOR . 'scss' . DIRECTORY_SEPARATOR;
+      $b5ScssPath = \Drupal::service('extension.list.theme')->getPath('bootstrap5') . DIRECTORY_SEPARATOR . 'scss' . DIRECTORY_SEPARATOR;
       $fs->prepareDirectory($scssPath, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
       $files = [
         'style.scss' => [
@@ -230,7 +230,7 @@ class SubthemeManager {
           "// Include bootstrap.",
           "@import '" .
           str_repeat('../', count(explode(DIRECTORY_SEPARATOR, $subthemePathValue)) + 2) .
-          drupal_get_path('theme', 'bootstrap5') . "/scss/style';",
+          \Drupal::service('extension.list.theme')->getPath('bootstrap5') . "/scss/style';",
           '',
         ],
         '_variables_drupal.scss' => $b5ScssPath . '_variables_drupal.scss',
@@ -249,7 +249,7 @@ class SubthemeManager {
       }
 
       // Add block config to subtheme.
-      $orig_config_path = drupal_get_path('theme', 'bootstrap5') . DIRECTORY_SEPARATOR . 'config/optional';
+      $orig_config_path = \Drupal::service('extension.list.theme')->getPath('bootstrap5') . DIRECTORY_SEPARATOR . 'config/optional';
       $config_path = $themePath . DIRECTORY_SEPARATOR . 'config/optional';
       $files = scandir($orig_config_path);
       $fs->prepareDirectory($config_path, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
