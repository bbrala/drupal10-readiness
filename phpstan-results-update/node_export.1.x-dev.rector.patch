diff --git a/node_export.info.yml b/node_export.info.yml
index 86f3366..dc71873 100755
--- a/node_export.info.yml
+++ b/node_export.info.yml
@@ -1,8 +1,7 @@
 name: Node Export
 type: module
 description: 'Allows users to export content and then import into another Drupal installation.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: node_export.config
 dependencies:
   - drupal:action
diff --git a/src/NodeExport.php b/src/NodeExport.php
index 3ea75b2..757ef51 100755
--- a/src/NodeExport.php
+++ b/src/NodeExport.php
@@ -77,7 +77,7 @@ class NodeExport {
         // TODO: Implement XML.
         break;
     }
-    return $save ? file_save_data($data, NodeExport::getFileUri($format), FileSystemInterface::EXISTS_REPLACE) : $data;
+    return $save ? \Drupal::service('file.repository')->writeData($data, NodeExport::getFileUri($format), FileSystemInterface::EXISTS_REPLACE) : $data;
   }
 
   /**
