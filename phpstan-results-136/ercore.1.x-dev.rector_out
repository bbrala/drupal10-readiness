modules/contrib/ercore/ercore.install
modules/contrib/ercore/ercore.module
modules/contrib/ercore/modules/ercore_collaboration/ercore_collaboration.install
modules/contrib/ercore/modules/ercore_collaboration/ercore_collaboration.module
modules/contrib/ercore/modules/ercore_core/ercore_core.install
modules/contrib/ercore/modules/ercore_core/ercore_core.module
modules/contrib/ercore/modules/ercore_core/pages/ercore-admin-guide.inc
modules/contrib/ercore/modules/ercore_core/pages/ercore-integrity.inc
modules/contrib/ercore/modules/ercore_core/pages/ercore-user-drupal.inc
modules/contrib/ercore/modules/ercore_core/pages/ercore-user-entering.inc
modules/contrib/ercore/modules/ercore_core/pages/ercore-user-guide.inc
modules/contrib/ercore/modules/ercore_core/pages/ercore-user-nsf.inc
modules/contrib/ercore/modules/ercore_core/pages/ercore-user-viewing.inc
modules/contrib/ercore/modules/ercore_core/src/Controller/ERCoreCoreController.php
modules/contrib/ercore/modules/ercore_core/src/Controller/ERCoreCoreExportController.php
modules/contrib/ercore/modules/ercore_core/src/Controller/ERCoreDashboard.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreCollaboration.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreCollaborationBuild.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreCollaborationBuildExpanded.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreEngagement.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreEngagementBuild.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreExcel.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreOutputs.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreParticipantBuild.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreParticipantColumn.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreParticipantNamedBuild.php
modules/contrib/ercore/modules/ercore_core/src/ErcoreSalary.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreAccomplishments.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreAdmin.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreDateFilter.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreParticipantsNamed.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreTableA.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreTableB.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreTableC.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreTableCExpanded.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreTableD.php
modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreTableE.php
modules/contrib/ercore/modules/ercore_core/src/Plugin/Block/ERCoreFilterBlock.php
modules/contrib/ercore/modules/ercore_core/src/Plugin/Block/ERCoreGrantBlock.php
modules/contrib/ercore/modules/ercore_event/ercore_engagement.inc
modules/contrib/ercore/modules/ercore_event/ercore_event.install
modules/contrib/ercore/modules/ercore_event/ercore_event.module
modules/contrib/ercore/modules/ercore_event/includes/ercore_event_computed.inc
modules/contrib/ercore/modules/ercore_event/src/ErcoreEngagement.php
modules/contrib/ercore/modules/ercore_event/src/ErcoreImportEngagement.php
modules/contrib/ercore/modules/ercore_institution/ercore_institution.install
modules/contrib/ercore/modules/ercore_institution/ercore_institution.module
modules/contrib/ercore/modules/ercore_j_highlight/ercore_j_highlight.install
modules/contrib/ercore/modules/ercore_j_honor/ercore_j_honor.install
modules/contrib/ercore/modules/ercore_other_product/ercore_other_product.install
modules/contrib/ercore/modules/ercore_other_product/ercore_other_product.module
modules/contrib/ercore/modules/ercore_patent/ercore_patent.install
modules/contrib/ercore/modules/ercore_patent/ercore_patent.module
modules/contrib/ercore/modules/ercore_presentation/ercore_presentation.install
modules/contrib/ercore/modules/ercore_presentation/ercore_presentation.module
modules/contrib/ercore/modules/ercore_proposal/ercore_proposal.install
modules/contrib/ercore/modules/ercore_proposal/ercore_proposal.module
modules/contrib/ercore/modules/ercore_proposal/src/Plugin/Block/ERCoreProposalInstructionsBlock.php
modules/contrib/ercore/modules/ercore_publication/ercore_publication.install
modules/contrib/ercore/modules/ercore_publication/ercore_publication.module
modules/contrib/ercore/modules/ercore_publication/src/Ajax/DoiPopulation.php
modules/contrib/ercore/modules/ercore_summary_views/ercore_summary_views.install
modules/contrib/ercore/modules/ercore_summary_views/ercore_summary_views.module
modules/contrib/ercore/modules/ercore_user_profiles/ercore_user_profiles.module
modules/contrib/ercore/src/ErcoreStartDate.php

8 files with changes
====================

1) modules/contrib/ercore/modules/ercore_publication/ercore_publication.module:38

    ---------- begin diff ----------
@@ @@

     // Published Date field #states.
     $form['field_previous_federal_repo']['#states'] = [
-      
+
       'visible' => [
         ':input[name="field_ercore_pb_status"]' => ['value' => '0'],
         ':input[name="field_ercore_pb_type"]' => [
@@ @@
         ],
       ],

-        
+

     ];
     $form['field_previous_federal_repo']['widget']['0']['value']['#states'] = [
    ----------- end diff -----------

2) modules/contrib/ercore/modules/ercore_event/ercore_event.module:8

    ---------- begin diff ----------
@@ @@
 use Drupal\Core\Datetime\DrupalDateTime;
 use Drupal\Core\Entity\EntityInterface;

-require_once drupal_get_path('module', 'ercore_event') . '/includes/ercore_event_computed.inc';
+require_once \Drupal::service('extension.list.module')->getPath('ercore_event') . '/includes/ercore_event_computed.inc';

 /**
  * Implements hook_form_alter().
@@ @@
         ':input[name="field_ercore_ev_engagement[0][subform][field_ercore_ee_disable_file_alt][value]"]' => ['checked' => TRUE],
       ],
     ];
-    $file_path = '/' . drupal_get_path('module', 'ercore_event') . '/files/External_Engagement_Reporting_Sheet.xls';
+    $file_path = '/' . \Drupal::service('extension.list.module')->getPath('ercore_event') . '/files/External_Engagement_Reporting_Sheet.xls';
     // $form['field_ercore_ev_engagement']['widget'][0]['subform']['field_ercore_ee_excel']['#prefix'] = '<p>Download the <a href="' . $file_path . '">External Engagement Reporting Sheet</a> and fill out the data at your event. Once the sheet is completed you may then upload the excel sheet below, and the system will do the rest.</p>';
   }
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


3) modules/contrib/ercore/modules/ercore_core/src/Form/ERCoreAdmin.php:266

    ---------- begin diff ----------
@@ @@
             ->save();
         }
         // exports -------------------------------------------------------------------------------------------------------------------------
-        
+
         // pages ---------------------------------------------------------------------------------------------------------------------------
-        
+
         $overall_min = $epscor_start_date_str;
         $overall_max = date('Y-m-d',strtotime($year.$separator.$reporting_start_month.$separator.'1'.' + 5 years'.' -1 days'));
         $page = $x + 2; 
-        
+
         if($page != 8){

           \Drupal::configFactory()->getEditable($view)
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/ercore/modules/ercore_core/src/Controller/ERCoreCoreExportController.php:34

    ---------- begin diff ----------
@@ @@
    */
   public function ercoreAccomplishments() {
     $file_name = 'Report';
-    $file_path = drupal_get_path('module', 'ercore_core') . '/files/Report.xls';
+    $file_path = \Drupal::service('extension.list.module')->getPath('ercore_core') . '/files/Report.xls';
     $spreadsheet = ErcoreExcel::getFile($file_path);
     $spreadsheet->setActiveSheetIndexByName('A - Salary Support');
     $spreadsheet = self::ercoreSalaryData($spreadsheet);
@@ @@
    */
   public function ercoreSalaryExport() {
     $file_name = 'Salary-Support';
-    $file_path = drupal_get_path('module', 'ercore_core') . '/files/Salary-Support.xls';
+    $file_path = \Drupal::service('extension.list.module')->getPath('ercore_core') . '/files/Salary-Support.xls';
     $spreadsheet = self::ercoreSalaryData(ErcoreExcel::getFile($file_path));
     ErcoreExcel::returnFile($file_name, $spreadsheet);
   }
@@ @@
    */
   public function ercoreParticipantExport() {
     $file_name = 'Participants';
-    $file_path = drupal_get_path('module', 'ercore_core') . '/files/Participants.xls';
+    $file_path = \Drupal::service('extension.list.module')->getPath('ercore_core') . '/files/Participants.xls';
     $spreadsheet = self::ercoreParticipantData(ErcoreExcel::getFile($file_path));
     ErcoreExcel::returnFile($file_name, $spreadsheet);
   }
@@ @@
    */
   public function ercoreCollaborationExport() {
     $file_name = 'Collaborations';
-    $file_path = drupal_get_path('module', 'ercore_core') . '/files/Collaborations.xls';
+    $file_path = \Drupal::service('extension.list.module')->getPath('ercore_core') . '/files/Collaborations.xls';
     $spreadsheet = self::ercoreCollaborationData(ErcoreExcel::getFile($file_path));
     ErcoreExcel::returnFile($file_name, $spreadsheet);
   }
@@ @@
    */
   public function ercoreEngagementExport() {
     $file_name = 'External-Engagement';
-    $file_path = drupal_get_path('module', 'ercore_core') . '/files/External-Engagement.xls';
+    $file_path = \Drupal::service('extension.list.module')->getPath('ercore_core') . '/files/External-Engagement.xls';
     $spreadsheet = self::ercoreEngagementsData(ErcoreExcel::getFile($file_path));
     $all = ErcoreEngagementBuild::getIndividualDataList();
     foreach ($all as $nid => $entity) {
@@ @@
    */
   public function ercoreOutputsExport() {
     $file_name = 'Outputs';
-    $file_path = drupal_get_path('module', 'ercore_core') . '/files/Outputs.xls';
+    $file_path = \Drupal::service('extension.list.module')->getPath('ercore_core') . '/files/Outputs.xls';
     $spreadsheet = self::ercoreOutputsData(ErcoreExcel::getFile($file_path));
     ErcoreExcel::returnFile($file_name, $spreadsheet);
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/ercore/modules/ercore_core/src/Controller/ERCoreCoreController.php:84

    ---------- begin diff ----------
@@ @@
    * User accounts page.
    */
   public function ercoreAccounts() {
-    include_once drupal_get_path('module', 'ercore_core') . '/pages/ercore-user-guide.inc';
+    include_once \Drupal::service('extension.list.module')->getPath('ercore_core') . '/pages/ercore-user-guide.inc';
     return ercore_user_guide();
   }

@@ @@
    * User Entering Data page.
    */
   public function ercoreEntering() {
-    include_once drupal_get_path('module', 'ercore_core') . '/pages/ercore-user-entering.inc';
+    include_once \Drupal::service('extension.list.module')->getPath('ercore_core') . '/pages/ercore-user-entering.inc';
     return ercore_user_entering();
   }

@@ @@
    * User Viewing Data page.
    */
   public function ercoreView() {
-    include_once drupal_get_path('module', 'ercore_core') . '/pages/ercore-user-viewing.inc';
+    include_once \Drupal::service('extension.list.module')->getPath('ercore_core') . '/pages/ercore-user-viewing.inc';
     return ercore_user_viewing();
   }

@@ @@
    * User Drupal page.
    */
   public function ercoreDrupal() {
-    include_once drupal_get_path('module', 'ercore_core') . '/pages/ercore-user-drupal.inc';
+    include_once \Drupal::service('extension.list.module')->getPath('ercore_core') . '/pages/ercore-user-drupal.inc';
     return ercore_user_drupal();
   }

@@ @@
    * User NSF page.
    */
   public function ercoreNsf() {
-    include_once drupal_get_path('module', 'ercore_core') . '/pages/ercore-user-NSF.inc';
+    include_once \Drupal::service('extension.list.module')->getPath('ercore_core') . '/pages/ercore-user-NSF.inc';
     return ercore_user_nsf();
   }

@@ @@
    * User Admin Guide page.
    */
   public function ercoreAdminGuide() {
-    include_once drupal_get_path('module', 'ercore_core') . '/pages/ercore-admin-guide.inc';
+    include_once \Drupal::service('extension.list.module')->getPath('ercore_core') . '/pages/ercore-admin-guide.inc';
     return ercore_core_admin_guide();
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/ercore/modules/ercore_core/pages/ercore-integrity.inc:80

    ---------- begin diff ----------
@@ @@
     '#theme' => 'html_tag',
   );

-  return render($summary);
+  return \Drupal::service('renderer')->render($summary);
 }

 /**
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector


7) modules/contrib/ercore/modules/ercore_core/ercore_core.module:296

    ---------- begin diff ----------
@@ @@
   }
   if ($form_id === 'user_register_form') {
     $form['account']['pass']['#access'] = FALSE;
-    $form['account']['pass']['#value']['pass1'] = user_password();
+    $form['account']['pass']['#value']['pass1'] = \Drupal::service('password_generator')->generate();
     $form['account']['pass']['#value']['pass2'] = $form['account']['pass']['#value']['pass1'];
     $form['account']['notify']['#default_value'] = TRUE;
   }
    ----------- end diff -----------

Applied rules:
 * UserPasswordRector
 * ArgumentRemoverRector


8) modules/contrib/ercore/ercore.module:34

    ---------- begin diff ----------
@@ @@
  * Implements hook_theme_registry_alter().
  */
 function ercore_theme_registry_alter(&$theme_registry) {
-  $modulepath = drupal_get_path('module', 'ercore');
+  $modulepath = \Drupal::service('extension.list.module')->getPath('ercore');
   // Find all .tpl.php files in this module's folder recursively.
   $template_file_objects = drupal_find_theme_templates($theme_registry, '.html.twig', $modulepath);
   // Iterate through all found template file objects.
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 8 files have been changed by Rector                                       

