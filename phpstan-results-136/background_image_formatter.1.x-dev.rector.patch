diff --git a/background_image_formatter.info.yml b/background_image_formatter.info.yml
index f92c99d..921b98c 100644
--- a/background_image_formatter.info.yml
+++ b/background_image_formatter.info.yml
@@ -1,7 +1,6 @@
 name: 'Background Image Formatter'
 description: 'Background Image Formatter provides an image formatter to display images in background.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:image
 type: module
diff --git a/src/Plugin/Field/FieldFormatter/BackgroundImageFormatter.php b/src/Plugin/Field/FieldFormatter/BackgroundImageFormatter.php
index 425f4f7..aacc3a0 100644
--- a/src/Plugin/Field/FieldFormatter/BackgroundImageFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/BackgroundImageFormatter.php
@@ -128,7 +128,7 @@ class BackgroundImageFormatter extends ImageFormatter {
         continue;
       }
 
-      $image_url = file_url_transform_relative(file_create_url($entity->getFileUri()));
+      $image_url = \Drupal::service('file_url_generator')->generateString($entity->getFileUri());
       $id = $entity->id();
 
       if ($image_style) {
