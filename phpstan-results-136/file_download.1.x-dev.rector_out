modules/contrib/file_download/file_download.module
modules/contrib/file_download/modules/file_download_counter/file_download_counter.install
modules/contrib/file_download/modules/file_download_counter/file_download_counter.module
modules/contrib/file_download/modules/file_download_counter/file_download_counter.tokens.inc
modules/contrib/file_download/modules/file_download_counter/file_download_counter.views.inc
modules/contrib/file_download/modules/file_download_counter/src/FileDownloadSettingsForm.php
modules/contrib/file_download/modules/file_download_counter/src/Plugin/Block/FileDownloadPopularBlock.php
modules/contrib/file_download/modules/file_download_counter/src/Plugin/views/field/FileDownloadCounterTimestamp.php
modules/contrib/file_download/modules/file_download_counter/src/Plugin/views/field/FileDownloadNumeric.php
modules/contrib/file_download/src/Controller/FileDownloadDownloadController.php
modules/contrib/file_download/src/Plugin/Field/FieldFormatter/FileDownloadFieldFormatter.php
modules/contrib/file_download/src/Plugin/Field/FieldFormatter/FileDownloadUriFieldFormatter.php

2 files with changes
====================

1) modules/contrib/file_download/modules/file_download_counter/file_download_counter.module:13

    ---------- begin diff ----------
@@ @@
 function file_download_counter_help($route_name, RouteMatchInterface $route_match) {
   switch ($route_name) {
     case 'help.page.file_download_counter':
-      $output = file_get_contents(drupal_get_path('module', 'file_download_counter') . '/README.md');
+      $output = file_get_contents(\Drupal::service('extension.list.module')->getPath('file_download_counter') . '/README.md');
       return \Drupal::moduleHandler()->moduleExists('markdown') ? \Drupal\Component\Utility\Xss::filterAdmin(\Drupal::moduleHandler()->invoke('markdown', 'filter', ['process', 0, -1, $output])) : '<h3>file_download README</h3><pre>' . \Drupal\Component\Utility\Html::escape($output) . '</pre>';
   }
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


2) modules/contrib/file_download/file_download.module:21

    ---------- begin diff ----------
@@ @@
 function file_download_help($route_name, RouteMatchInterface $arg) {
   switch ($route_name) {
     case 'help.page.file_download':
-      $output = file_get_contents(drupal_get_path('module', 'file_download') . '/README.md');
+      $output = file_get_contents(\Drupal::service('extension.list.module')->getPath('file_download') . '/README.md');

       return \Drupal::moduleHandler()->moduleExists('markdown') ? Xss::filterAdmin(\Drupal::moduleHandler()->invoke('markdown', 'filter', ['process', 0, -1, $output])) : '<h3>file_download README</h3><pre>' . Html::escape($output) . '</pre>';
   }
@@ @@
   // To ensure different file URLs are generated for different sites in a.
   // Multisite setup, including HTTP and HTTPS versions of the same site.
   // Fix in https://www.drupal.org/node/2646744.
-  $url = file_create_url($file_entity->getFileUri());
+  $url = \Drupal::service('file_url_generator')->generateAbsoluteString($file_entity->getFileUri());
   $variables['#cache']['contexts'][] = 'url.site';

   $mime_type = $file->getMimeType();
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector


 [OK] 2 files have been changed by Rector                                       

