modules/contrib/comscore_direct/comscore_direct.module
modules/contrib/comscore_direct/src/ComscoreEvent.php
modules/contrib/comscore_direct/src/ComscoreEvents.php
modules/contrib/comscore_direct/src/ComscoreInformation.php
modules/contrib/comscore_direct/src/Form/ComscoreSettingsForm.php
modules/contrib/comscore_direct/src/InlineScript.php
modules/contrib/comscore_direct/tests/src/Functional/ComscoreDirect.php

3 files with changes
====================

1) modules/contrib/comscore_direct/tests/src/Functional/ComscoreDirect.php:43

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     // Create admin user.
@@ @@
       'package' => 'test_package',
       'clientseg' => 'test_segment',
     ], $this->t('Save configuration'));
-    $this->assertRaw($this->t('The configuration options have been saved'));
+    $this->assertSession()->responseContains($this->t('The configuration options have been saved'));

     $this->drupalGet('<front>');

     // Test markup.
-    $this->assertPattern('|_comscore.push\({.*"c1":"2"|');
-    $this->assertPattern('|_comscore.push\({.*"c2":"123456"|');
-    $this->assertPattern('|_comscore.push\({.*"c3":""|');
-    $this->assertPattern('|_comscore.push\({.*"c5":"test_genre"|');
-    $this->assertPattern('|_comscore.push\({.*"c6":"test_package"|');
-    $this->assertPattern('|_comscore.push\({.*"c15":"test_segment"|');
-    $this->assertRaw('//b.scorecardresearch.com/p?c1=2&amp;c2=123456&amp;c3=&amp;c4=http');
-    $this->assertRaw('c5=test_genre&amp;c6=test_package&amp;c15=test_segment&amp;cv=2&amp;cj=1');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c1":"2"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c2":"123456"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c3":""|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c5":"test_genre"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c6":"test_package"|');
+    $this->assertSession()->responseMatches('|_comscore.push\({.*"c15":"test_segment"|');
+    $this->assertSession()->responseContains('//b.scorecardresearch.com/p?c1=2&amp;c2=123456&amp;c3=&amp;c4=http');
+    $this->assertSession()->responseContains('c5=test_genre&amp;c6=test_package&amp;c15=test_segment&amp;cv=2&amp;cj=1');
   }
 }
    ----------- end diff -----------

Applied rules:
 * AssertPatternRector
 * AssertRawRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/comscore_direct/src/ComscoreEvent.php:3

    ---------- begin diff ----------
@@ @@

 use Symfony\Component\EventDispatcher\Event;

-class ComscoreEvent extends Event {
+class ComscoreEvent extends \Symfony\Contracts\EventDispatcher\Event {

   /**
    * The comscore information.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/comscore_direct/comscore_direct.module:25

    ---------- begin diff ----------
@@ @@

   /** @var \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher */
   $event_dispatcher = \Drupal::service('event_dispatcher');
-  $event_dispatcher->dispatch(ComscoreEvents::RENDER, new ComscoreEvent($comscore_information));
+  $event_dispatcher->dispatch(new ComscoreEvent($comscore_information), ComscoreEvents::RENDER);

   $inline_script = (new InlineScript());
   $script = $inline_script->getScriptRenderable($comscore_information);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector


 [OK] 3 files have been changed by Rector                                       

