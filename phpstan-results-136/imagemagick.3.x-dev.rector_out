modules/contrib/imagemagick/imagemagick.install
modules/contrib/imagemagick/src/Event/ImagemagickExecutionEvent.php
modules/contrib/imagemagick/src/EventSubscriber/ImagemagickEventSubscriber.php
modules/contrib/imagemagick/src/ImagemagickExecArguments.php
modules/contrib/imagemagick/src/ImagemagickExecManager.php
modules/contrib/imagemagick/src/ImagemagickExecManagerInterface.php
modules/contrib/imagemagick/src/ImagemagickFormatMapper.php
modules/contrib/imagemagick/src/ImagemagickFormatMapperInterface.php
modules/contrib/imagemagick/src/Plugin/FileMetadata/ImagemagickIdentify.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/ImagemagickToolkit.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/Convert.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/CreateNew.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/Crop.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/Desaturate.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/ImagemagickImageToolkitOperationBase.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/Resize.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/Rotate.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/Scale.php
modules/contrib/imagemagick/src/Plugin/ImageToolkit/Operation/imagemagick/ScaleAndCrop.php
modules/contrib/imagemagick/tests/src/Functional/EventSubscriberTest.php
modules/contrib/imagemagick/tests/src/Functional/ToolkitImagemagickFileMetadataTest.php
modules/contrib/imagemagick/tests/src/Functional/ToolkitImagemagickFormTest.php
modules/contrib/imagemagick/tests/src/Functional/ToolkitImagemagickTest.php
modules/contrib/imagemagick/tests/src/Kernel/ExecArgumentsTest.php
modules/contrib/imagemagick/tests/src/Kernel/ExecManagerTest.php
modules/contrib/imagemagick/tests/src/Kernel/ToolkitOperationsTest.php
modules/contrib/imagemagick/tests/src/Kernel/ToolkitSetupTrait.php

3 files with changes
====================

1) modules/contrib/imagemagick/tests/src/Functional/ToolkitImagemagickTest.php:504

    ---------- begin diff ----------
@@ @@
     $this->assertSame('', $image->getToolkit()->arguments()->getDestinationLocalPath());

     // Test retrieval of EXIF information.
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-exif.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-exif.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
     // The image files that will be tested.
     $image_files = [
       [
-        'path' => drupal_get_path('module', 'imagemagick') . '/misc/test-exif.jpeg',
+        'path' => \Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-exif.jpeg',
         'orientation' => 8,
       ],
       [
@@ @@
     // Test multi-frame GIF image.
     $image_files = [
       [
-        'source' => drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif',
+        'source' => \Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif',
         'destination' => $this->testDirectory . '/test-multi-frame.gif',
         'width' => 60,
         'height' => 29,
@@ @@
     // Test multi-frame GIF image.
     $image_files = [
       [
-        'source' => drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif',
+        'source' => \Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif',
         'destination' => $this->testDirectory . '/test-multi-frame.gif',
         'width' => 60,
         'height' => 29,
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/imagemagick/tests/src/Functional/ToolkitImagemagickFileMetadataTest.php:137

    ---------- begin diff ----------
@@ @@
     $fmdm = $this->container->get('file_metadata_manager');

     // Prepare a copy of test files.
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif', 'public://', FileSystemInterface::EXISTS_REPLACE);
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-exif.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-exif-icc.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif', 'public://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-exif.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-exif-icc.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);

     // Perform tests without caching.
     $config_mdm->set('metadata_cache.enabled', FALSE)->save();
@@ @@
     }

     // Files in temporary:// must not be cached.
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif', 'temporary://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif', 'temporary://', FileSystemInterface::EXISTS_REPLACE);
     $source_uri = 'temporary://test-multi-frame.gif';
     $fmdm->release($source_uri);
     $source_image_md = $fmdm->uri($source_uri);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/imagemagick/tests/src/Functional/EventSubscriberTest.php:132

    ---------- begin diff ----------
@@ @@
     $this->setUpToolkit($toolkit_id, $toolkit_config, $toolkit_settings);
     $this->prepareImageFileHandling();

-    $image_uri = drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif';
+    $image_uri = \Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif';

     // By default, no coalesce of animated GIFs.
     $image = $this->imageFactory->get($image_uri);
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

