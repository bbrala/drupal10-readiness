modules/contrib/cookiepro_ccpa/cookiepro_ccpa.module
modules/contrib/cookiepro_ccpa/src/Form/MessagesForm.php

2 files with changes
====================

1) modules/contrib/cookiepro_ccpa/src/Form/MessagesForm.php:304

    ---------- begin diff ----------
@@ @@

     if (!empty($ccpa_settings['Image_Icon'])) {
       $drupal_file_uri = File::load($ccpa_settings['Image_Icon'][0])->getFileUri();
-      $image_path = file_create_url($drupal_file_uri);
+      $image_path = \Drupal::service('file_url_generator')->generateAbsoluteString($drupal_file_uri);
     }
     else {
       global $base_url;
-      $image_path = $base_url . '/' . drupal_get_path('module', 'cookiepro_ccpa') . '/images/icon.png';
+      $image_path = $base_url . '/' . \Drupal::service('extension.list.module')->getPath('cookiepro_ccpa') . '/images/icon.png';
     }

     $html = '
@@ @@
 																			
 				<div class="popup-footer">	
 					<div class="powered-by-icon">
-						<img src="' . $base_url . '/' . drupal_get_path('module', 'cookiepro_ccpa') . '/images/PoweredByCookiePro.svg" alt="CookiePro" title="CookiePro">
+						<img src="' . $base_url . '/' . \Drupal::service('extension.list.module')->getPath('cookiepro_ccpa') . '/images/PoweredByCookiePro.svg" alt="CookiePro" title="CookiePro">
 					</div>
 					<div class="ot-banner-button ConfirmBtn" style="background-color:' . $ccpa_settings['buttonBackgroundColor'] . ';">
 						<input type="button" value="' . $ccpa_settings['confirmbutton'] . '" style="color: ' . $ccpa_settings['button_text_color'] . ';">
@@ @@
 				</div>
 			</div>		
 			<div class="confirmation-popup-close" style="background-color: ' . $ccpa_settings['header_icon_background'] . ';">
-				<img src="' . $base_url . '/' . drupal_get_path('module', 'cookiepro_ccpa') . '/images/Close.svg" alt="Close Icon" title="Close Icon">
+				<img src="' . $base_url . '/' . \Drupal::service('extension.list.module')->getPath('cookiepro_ccpa') . '/images/Close.svg" alt="Close Icon" title="Close Icon">
 			</div>
 		</div>
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/cookiepro_ccpa/cookiepro_ccpa.module:16

    ---------- begin diff ----------
@@ @@

   		if( ! empty( $ccpa_settings['Image_Icon'] ) ){
 			$drupal_file_uri = File::load( $ccpa_settings['Image_Icon'][0] )->getFileUri();
-			$image_path = file_create_url( $drupal_file_uri );
+			$image_path = \Drupal::service('file_url_generator')->generateAbsoluteString($drupal_file_uri);
 		} else {
 			global $base_url;
-			$image_path = $base_url .'/' .drupal_get_path('module', 'cookiepro_ccpa') .'/images/icon.png';
+			$image_path = $base_url .'/' .\Drupal::service('extension.list.module')->getPath('cookiepro_ccpa') .'/images/icon.png';
 		}

 		$isEmailEnabled = 0;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector


 [OK] 2 files have been changed by Rector                                       

