diff --git a/file_upload_directory_change.info.yml b/file_upload_directory_change.info.yml
index 4f5a1ae..c21f6c1 100644
--- a/file_upload_directory_change.info.yml
+++ b/file_upload_directory_change.info.yml
@@ -3,8 +3,7 @@ type: module
 description: This module give the possibilty to change the affectation (public/private) of an uploaded files.
 
 package: Media
-core: '8.x'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 # project: 'file_upload_directory_change'
 
 # Information added by Drupal.org packaging script on 2020-11-16
diff --git a/src/Service/FileService.php b/src/Service/FileService.php
index 47ec943..619a1f5 100644
--- a/src/Service/FileService.php
+++ b/src/Service/FileService.php
@@ -51,7 +51,7 @@ class FileService implements FileServiceInterface {
     // If current file exists.
     if (realpath($this->fileSystem->realpath($file->getFileUri()))) {
       // Move file
-      file_move($file, $new_uri);
+      \Drupal::service('file.repository')->move($file, $new_uri);
     }
     else {
       // if current file not exists
