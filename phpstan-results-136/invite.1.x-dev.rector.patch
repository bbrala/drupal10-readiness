diff --git a/src/Controller/InviteAccept.php b/src/Controller/InviteAccept.php
index 128c52b..9a14515 100644
--- a/src/Controller/InviteAccept.php
+++ b/src/Controller/InviteAccept.php
@@ -97,7 +97,7 @@ class InviteAccept extends ControllerBase {
       'invite' => &$invite,
     ]);
 
-    $this->dispatcher->dispatch('invite_accept', $invite_accept);
+    $this->dispatcher->dispatch($invite_accept, 'invite_accept');
     $this->messenger->addStatus($message, $type);
 
     return $this->redirect($redirect);
diff --git a/src/Controller/InviteList.php b/src/Controller/InviteList.php
index 989c0cb..a66fea7 100644
--- a/src/Controller/InviteList.php
+++ b/src/Controller/InviteList.php
@@ -104,7 +104,7 @@ class InviteList extends ControllerBase {
           'status' => $this->inviteStatus[$row->status],
           'mail' => $row->mail,
           'field_invite_email_address_value' => $row->field_invite_email_address_value,
-          'operations' => render($operations),
+          'operations' => \Drupal::service('renderer')->render($operations),
         ],
       ];
     }
diff --git a/src/Entity/Invite.php b/src/Entity/Invite.php
index 2398a39..766a559 100644
--- a/src/Entity/Invite.php
+++ b/src/Entity/Invite.php
@@ -68,7 +68,7 @@ class Invite extends ContentEntityBase implements InviteInterface {
     parent::preCreate($storage_controller, $values);
     // Generate unique registration code.
     do {
-      $reg_code = user_password(10);
+      $reg_code = \Drupal::service('password_generator')->generate(10);
       $result = Database::getConnection()
         ->query('SELECT reg_code FROM {invite} WHERE reg_code = :reg_code', [':reg_code' => $reg_code])
         ->fetchField();
diff --git a/src/InviteAcceptEvent.php b/src/InviteAcceptEvent.php
index fc3ca0b..785da80 100644
--- a/src/InviteAcceptEvent.php
+++ b/src/InviteAcceptEvent.php
@@ -9,7 +9,7 @@ use Symfony\Component\EventDispatcher\Event;
  *
  * @codingStandardsIgnoreStart
  */
-class InviteAcceptEvent extends Event {
+class InviteAcceptEvent extends \Symfony\Contracts\EventDispatcher\Event {
   protected $invite_accept;
   
   /**
