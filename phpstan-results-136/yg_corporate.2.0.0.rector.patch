diff --git a/yg_corporate.theme b/yg_corporate.theme
index e35eb72..3fb3a4e 100644
--- a/yg_corporate.theme
+++ b/yg_corporate.theme
@@ -52,7 +52,7 @@ function yg_corporate_preprocess_page(&$variables) {
     foreach($results as $data){
       $uri=$data->uri;
     }
-    $variables['banner_image']=file_create_url($uri);
+    $variables['banner_image']=\Drupal::service('file_url_generator')->generateAbsoluteString($uri);
    }
    else{
     $path=base_path().$fid;
@@ -111,7 +111,7 @@ function yg_corporate_preprocess_paragraph(&$variables) {
  */
 function yg_corporate_preprocess_comment(&$variables) {
   $d = $variables['comment']->getCreatedTime();
-  $datecontent = \Drupal::service('date.formatter')->formatInterval(REQUEST_TIME - $d);
+  $datecontent = \Drupal::service('date.formatter')->formatInterval(\Drupal::time()->getRequestTime() - $d);
   $date = date("Y-m-d h:i:s A", $d);
   $variables['created'] =t('<time class="timeago" datetime="@time">@date</time>', [
    '@time'=>$date,
