modules/contrib/pdf/pdf.module
modules/contrib/pdf/src/Form/ConfigForm.php
modules/contrib/pdf/src/Plugin/Field/FieldFormatter/PdfDefault.php
modules/contrib/pdf/src/Plugin/Field/FieldFormatter/PdfPages.php
modules/contrib/pdf/src/Plugin/Field/FieldFormatter/PdfThumbnail.php

3 files with changes
====================

1) modules/contrib/pdf/src/Plugin/Field/FieldFormatter/PdfThumbnail.php:68

    ---------- begin diff ----------
@@ @@
     $elements = [];
     foreach ($items as $delta => $item) {
       if ($item->entity->getMimeType() == 'application/pdf') {
-        $file_url = file_create_url($item->entity->getFileUri());
+        $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($item->entity->getFileUri());
         $html = [
           '#type' => 'html_tag',
           '#tag' => 'canvas',
@@ @@
       }
     }
     $elements['#attached']['library'][] = 'pdf/drupal.pdf';
-    $worker = file_create_url(base_path() . 'libraries/pdf.js/build/pdf.worker.js');
+    $worker = \Drupal::service('file_url_generator')->generateAbsoluteString(base_path() . 'libraries/pdf.js/build/pdf.worker.js');
     $elements['#attached']['drupalSettings'] = [
       'pdf' => [
         'workerSrc' => $worker,
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/pdf/src/Plugin/Field/FieldFormatter/PdfPages.php:49

    ---------- begin diff ----------
@@ @@
     foreach ($items as $delta => $item) {
       if ($item->entity->getMimeType() == 'application/pdf') {
         $scale = $this->getSetting('scale');
-        $file_url = file_create_url($item->entity->getFileUri());
+        $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($item->entity->getFileUri());
         $html = [
           '#type' => 'html_tag',
           '#tag' => 'div',
@@ @@
       }
     }
     $elements['#attached']['library'][] = 'pdf/drupal.pdf';
-    $worker = file_create_url(base_path() . 'libraries/pdf.js/build/pdf.worker.js');
+    $worker = \Drupal::service('file_url_generator')->generateAbsoluteString(base_path() . 'libraries/pdf.js/build/pdf.worker.js');
     $elements['#attached']['drupalSettings'] = [
       'pdf' => [
         'workerSrc' => $worker,
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/pdf/src/Plugin/Field/FieldFormatter/PdfDefault.php:165

    ---------- begin diff ----------
@@ @@
     $query = UrlHelper::buildQuery($extra_options);
     foreach ($items as $delta => $item) {
       if ($item->entity->getMimeType() == 'application/pdf') {
-        $file_url = file_create_url($item->entity->getFileUri());
-        $iframe_src = file_create_url($viewer_path) . '?file=' . rawurlencode($file_url);
+        $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($item->entity->getFileUri());
+        $iframe_src = \Drupal::service('file_url_generator')->generateAbsoluteString($viewer_path) . '?file=' . rawurlencode($file_url);
         $iframe_src = !empty($query) && $keep_pdfjs ? $iframe_src . '#' . $query : $iframe_src;
         $html = [
           '#theme' => 'file_pdf',
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 3 files have been changed by Rector                                       

