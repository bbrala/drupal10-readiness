diff --git a/graphapi.install b/graphapi.install
index a53dad1..dba0d3b 100644
--- a/graphapi.install
+++ b/graphapi.install
@@ -12,7 +12,7 @@ function graphapi_requirements($phase) {
     );
 
     if (!class_exists('\\Fhaculty\\Graph\\GraphViz')) {
-      $path = drupal_get_path('module', 'graphapi');
+      $path = \Drupal::service('extension.list.module')->getPath('graphapi');
       $requirements['graphapi']['description'] = "FIX ME"; //t('Please follow the instructions from !readme', array('!readme' => \Drupal::l("README.txt", Url::fromUri($path . "/README.txt"))));
       $requirements['graphapi']['value'] = 'Missing';
       $requirements['graphapi']['severity'] = REQUIREMENT_ERROR;
diff --git a/graphapi.module b/graphapi.module
index 4427825..27b3c5f 100644
--- a/graphapi.module
+++ b/graphapi.module
@@ -299,7 +299,7 @@ function _graphapi_uniform_id($config, $id) {
 function graphapi_views_api() {
   return array(
     'api' => 3.0,
-    'path' => drupal_get_path('module', 'graphapi') . '/views',
+    'path' => \Drupal::service('extension.list.module')->getPath('graphapi') . '/views',
   );
 }
 
