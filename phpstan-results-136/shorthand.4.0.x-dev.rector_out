modules/contrib/shorthand/shorthand.install
modules/contrib/shorthand/shorthand.module
modules/contrib/shorthand/shorthand.page.inc
modules/contrib/shorthand/src/Controller/RemoteCollectionController.php
modules/contrib/shorthand/src/Controller/ShorthandStoryController.php
modules/contrib/shorthand/src/Entity/ShorthandStory.php
modules/contrib/shorthand/src/Entity/ShorthandStoryInterface.php
modules/contrib/shorthand/src/Entity/ShorthandStoryViewsData.php
modules/contrib/shorthand/src/Form/ShorthandSettingsForm.php
modules/contrib/shorthand/src/Form/ShorthandStorySettingsForm.php
modules/contrib/shorthand/src/Plugin/Field/FieldFormatter/LocalShorthandFieldFormatter.php
modules/contrib/shorthand/src/Plugin/Field/FieldType/LocalShorthandFieldType.php
modules/contrib/shorthand/src/Plugin/Field/FieldType/StoryIdFieldType.php
modules/contrib/shorthand/src/Plugin/Field/FieldWidget/LocalShorthandStorySelectFieldWidget.php
modules/contrib/shorthand/src/Plugin/Field/FieldWidget/PublishConfigurationSelectFieldWidget.php
modules/contrib/shorthand/src/Plugin/Field/FieldWidget/StorySelectFieldWidget.php
modules/contrib/shorthand/src/ProxyClass/ShorthandUninstallValidator.php
modules/contrib/shorthand/src/ShorthandApi.php
modules/contrib/shorthand/src/ShorthandApiInterface.php
modules/contrib/shorthand/src/ShorthandApiV2.php
modules/contrib/shorthand/src/ShorthandStoryAccessControlHandler.php
modules/contrib/shorthand/src/ShorthandStoryHtmlRouteProvider.php
modules/contrib/shorthand/src/ShorthandStoryListBuilder.php
modules/contrib/shorthand/src/ShorthandStoryStorage.php
modules/contrib/shorthand/src/ShorthandStoryStorageInterface.php
modules/contrib/shorthand/src/ShorthandStoryTranslationHandler.php
modules/contrib/shorthand/src/ShorthandUninstallValidator.php

1 file with changes
===================

1) modules/contrib/shorthand/src/Entity/ShorthandStory.php:157

    ---------- begin diff ----------
@@ @@
     // tag with the new local path
     $thumb = $this->thumbnail->value;
     if(empty($thumb) || strpos($thumb, '{Shorthand Local}/') !== false){
-      $assets_path = file_create_url($this->getShorthandStoryFilesStorageUri());
+      $assets_path = \Drupal::service('file_url_generator')->generateAbsoluteString($this->getShorthandStoryFilesStorageUri());
       $thumb = str_replace('{Shorthand Local}/', $assets_path.'/assets/', $thumb);
       $this->thumbnail->value = $thumb;
     }
@@ @@
    *   storage path.
    */
   protected function fixStoryContentPaths($content, $external_assets) {
-    $absolute_assets_path = file_create_url($this->getShorthandStoryFilesStorageUri());
-    $assets_path = file_url_transform_relative($absolute_assets_path);
+    $absolute_assets_path = \Drupal::service('file_url_generator')->generateAbsoluteString($this->getShorthandStoryFilesStorageUri());
+    $assets_path = \Drupal::service('file_url_generator')->transformRelative($absolute_assets_path);
     if (!$external_assets) {
       $content = str_replace('./assets/', $assets_path . '/assets/', $content);
     }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

