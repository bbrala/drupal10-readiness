diff --git a/gtfs_display.info.yml b/gtfs_display.info.yml
index 2d589af..c1fb0b0 100644
--- a/gtfs_display.info.yml
+++ b/gtfs_display.info.yml
@@ -1,7 +1,7 @@
 name: 'GTFS Display'
 type: module
 description: "Provides endpoints to display information about GTFS data"
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: 'GTFS'
 dependencies:
   - gtfs
diff --git a/src/Controller/GTFSDisplayIcon.php b/src/Controller/GTFSDisplayIcon.php
index 81855a9..67e4a82 100644
--- a/src/Controller/GTFSDisplayIcon.php
+++ b/src/Controller/GTFSDisplayIcon.php
@@ -17,7 +17,7 @@ class GTFSDisplayIcon extends ControllerBase {
    */
   public function content($icon) {
 
-    $file = drupal_get_path('module', 'gtfs_display') . '/img/' . $icon . '-11.svg';
+    $file = \Drupal::service('extension.list.module')->getPath('gtfs_display') . '/img/' . $icon . '-11.svg';
 
     if(!file_exists($file)) {
       throw new NotFoundHttpException('Icon not found');
diff --git a/src/EventSubscriber/RemoveXFrameOptionsSubscriber.php b/src/EventSubscriber/RemoveXFrameOptionsSubscriber.php
index 178867a..a811221 100644
--- a/src/EventSubscriber/RemoveXFrameOptionsSubscriber.php
+++ b/src/EventSubscriber/RemoveXFrameOptionsSubscriber.php
@@ -8,7 +8,7 @@ use Symfony\Component\HttpKernel\KernelEvents;
 
 class RemoveXFrameOptionsSubscriber implements EventSubscriberInterface {
 
-  public function RemoveXFrameOptions(FilterResponseEvent $event) {
+  public function RemoveXFrameOptions(\Symfony\Component\HttpKernel\Event\ResponseEvent $event) {
     // TODO check only display routes
     $response = $event->getResponse();
     $response->headers->remove('X-Frame-Options');
