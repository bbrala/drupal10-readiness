diff --git a/gammu_smsd.module b/gammu_smsd.module
index 3eec287..4e03eff 100644
--- a/gammu_smsd.module
+++ b/gammu_smsd.module
@@ -17,7 +17,7 @@ function gammu_smsd_help($route_name, RouteMatchInterface $route_match) {
       $config = \Drupal::config('gammu_smsd.settings');
       $token = $config->get('gammu_token');
       include_once \Drupal::root() . '/core/themes/engines/twig/twig.engine';
-      return twig_render_template(drupal_get_path('module', 'gammu_smsd') . '/templates/gammu-smsd-help-body.html.twig', array(
+      return twig_render_template(\Drupal::service('extension.list.module')->getPath('gammu_smsd') . '/templates/gammu-smsd-help-body.html.twig', array(
         'token' => $token,
         'theme_hook_original' => 'not-applicable',
       ));
diff --git a/src/GammuDatabase.php b/src/GammuDatabase.php
index 519b190..f1c1d70 100644
--- a/src/GammuDatabase.php
+++ b/src/GammuDatabase.php
@@ -72,7 +72,7 @@ class GammuDatabase {
 
   public function gammu_message_detail($Number, $phone_name, $phone_num, $time) {
     include_once \Drupal::root() . '/core/themes/engines/twig/twig.engine';
-    return twig_render_template(drupal_get_path('module', 'gammu_smsd') . '/templates/gammu-smsd-message.html.twig', [
+    return twig_render_template(\Drupal::service('extension.list.module')->getPath('gammu_smsd') . '/templates/gammu-smsd-message.html.twig', [
       'tel' => $Number,
       'phone_name' => $phone_name,
       'phone_num' => $phone_num,
