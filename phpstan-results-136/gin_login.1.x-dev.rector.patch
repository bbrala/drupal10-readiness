diff --git a/gin_login.module b/gin_login.module
index 58f0d92..b561145 100644
--- a/gin_login.module
+++ b/gin_login.module
@@ -157,7 +157,7 @@ function gin_login_theme() {
  */
 function gin_login_css_alter(&$css, $assets) {
   // UPDATE THIS PATH TO YOUR MODULE'S CSS PATH.
-  $path = drupal_get_path('module', 'gin_login') . '/dist/css/login.css';
+  $path = \Drupal::service('extension.list.module')->getPath('gin_login') . '/dist/css/login.css';
   if (isset($css[$path])) {
     // Use anything greater than 100 to have it load
     // after the theme as CSS_AGGREGATE_THEME is set to 100.
@@ -183,14 +183,14 @@ function gin_login_preprocess_ginlogin(&$variables) {
   }
 
   if (!$themeUseDefaultIcon && !empty($themeIconPath)) {
-    $variables['icon_path'] = file_create_url($themeIconPath);
+    $variables['icon_path'] = \Drupal::service('file_url_generator')->generateAbsoluteString($themeIconPath);
   }
 
   $configData = $config->get();
 
   if ($configData['logo']['use_default'] == "0") {
     if (isset($configData['logo']['path']) && !empty($configData['logo']['path'])) {
-      $variables['icon_path'] = file_create_url($configData['logo']['path']);
+      $variables['icon_path'] = \Drupal::service('file_url_generator')->generateAbsoluteString($configData['logo']['path']);
     }
   }
 
@@ -199,7 +199,7 @@ function gin_login_preprocess_ginlogin(&$variables) {
 
   if ($configData['brand_image']['use_default'] == "0") {
     if (isset($configData['brand_image']['path']) && !empty($configData['brand_image']['path'])) {
-      $variables['brand_image'] = file_create_url($configData['brand_image']['path']);
+      $variables['brand_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($configData['brand_image']['path']);
       $variables['brand_alt'] = '';
     }
   }
