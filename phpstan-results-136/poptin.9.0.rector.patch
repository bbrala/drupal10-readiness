diff --git a/includes/poptin.inc b/includes/poptin.inc
index c22e957..fe72353 100644
--- a/includes/poptin.inc
+++ b/includes/poptin.inc
@@ -15,7 +15,7 @@ function poptin_render_html() {
   $token             = drupal_get_token();
   $deactivate_url    = $base_url . '/poptindeactivate?token=' . $token;
   $generateloginlink = $base_url . '/generateloginlink?token=' . $token;
-  $module_img_dir    = $base_url . '/' . drupal_get_path('module', 'poptin') . '/images/';
+  $module_img_dir    = $base_url . '/' . \Drupal::service('extension.list.module')->getPath('poptin') . '/images/';
   $semi_str          = '';
   if (!poptin_is_user()) {
     $regclass = '';
diff --git a/poptin.info.yml b/poptin.info.yml
index 6eebf82..caa54a4 100644
--- a/poptin.info.yml
+++ b/poptin.info.yml
@@ -1,8 +1,7 @@
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 name: 'Poptin'
 type: module
 description: 'Poptin Popups & Forms'
-core: 8.x
 configure: poptin.config
 
 # Information added by Drupal.org packaging script on 2020-06-11
diff --git a/src/Controller/PoptinController.php b/src/Controller/PoptinController.php
index 2fcf00f..c7f8804 100644
--- a/src/Controller/PoptinController.php
+++ b/src/Controller/PoptinController.php
@@ -62,7 +62,7 @@ class PoptinController extends ControllerBase {
       $regclass = 'no';
     }
     $csrftoken         = $this->poptinGetToken();
-    $module_img_dir    = $this->baseUrlT . '/' . drupal_get_path('module', 'poptin') . '/images/';
+    $module_img_dir    = $this->baseUrlT . '/' . \Drupal::service('extension.list.module')->getPath('poptin') . '/images/';
     $generateloginlink = $this->baseUrlT . '/admin/config/poptin/poptinGeneratePoptinLink?csrftoken=' . $csrftoken;
     $poptin_deactivate = $this->baseUrlT . '/admin/config/poptin/poptinDeactivate';
     return [
