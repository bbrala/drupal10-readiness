diff --git a/composer.json b/composer.json
index 5af3731..8a3beab 100644
--- a/composer.json
+++ b/composer.json
@@ -26,7 +26,7 @@
         "source": "https://git.drupalcode.org/project/responsive_background_image"
     },
     "require": {
-        "drupal/core": "^8 || ^9",
-        "drupal/responsive_image": "*"
+        "drupal/responsive_image": "*",
+        "drupal/core": "^9.3 || ^10"
     }
 }
diff --git a/responsive_background_image.info.yml b/responsive_background_image.info.yml
index 3842198..89ea89a 100644
--- a/responsive_background_image.info.yml
+++ b/responsive_background_image.info.yml
@@ -1,7 +1,6 @@
 name: Responsive Background Image
 description: Provides functions to generate responsive background image media queries.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 type: module
 dependencies:
   - 'drupal:responsive_image'
diff --git a/src/ResponsiveBackgroundImage.php b/src/ResponsiveBackgroundImage.php
index 3bbe51f..01239bb 100644
--- a/src/ResponsiveBackgroundImage.php
+++ b/src/ResponsiveBackgroundImage.php
@@ -120,10 +120,10 @@ class ResponsiveBackgroundImage {
       case '_empty image_':
         break;
       case '_original image_':
-        $media_queries_1x .= self::createFallbackMediaQuery($css_selector, file_url_transform_relative($file_entity->createFileUrl()));
+        $media_queries_1x .= self::createFallbackMediaQuery($css_selector, \Drupal::service('file_url_generator')->transformRelative($file_entity->createFileUrl()));
         break;
       default:
-        $media_queries_1x .= self::createFallbackMediaQuery($css_selector, file_url_transform_relative(ImageStyle::load($ResponsiveImageStyle->getFallbackImageStyle())
+        $media_queries_1x .= self::createFallbackMediaQuery($css_selector, \Drupal::service('file_url_generator')->transformRelative(ImageStyle::load($ResponsiveImageStyle->getFallbackImageStyle())
           ->buildUrl($uri)));
         break;
     }
@@ -139,10 +139,10 @@ class ResponsiveBackgroundImage {
         case '_empty image_':
           continue 2;
         case '_original image_':
-          $image_path = file_url_transform_relative($file_entity->createFileUrl());
+          $image_path = \Drupal::service('file_url_generator')->transformRelative($file_entity->createFileUrl());
           break;
         default:
-          $image_path = file_url_transform_relative(ImageStyle::load($image_style)->buildUrl($uri));
+          $image_path = \Drupal::service('file_url_generator')->transformRelative(ImageStyle::load($image_style)->buildUrl($uri));
           break;
       }
 
