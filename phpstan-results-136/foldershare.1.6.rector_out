modules/contrib/foldershare/foldershare.api.php
modules/contrib/foldershare/foldershare.install
modules/contrib/foldershare/foldershare.module
modules/contrib/foldershare/foldershare.tokens.inc
modules/contrib/foldershare/foldershare.views.inc
modules/contrib/foldershare/src/Ajax/OpenErrorDialogCommand.php
modules/contrib/foldershare/src/Annotation/FolderShareCommand.php
modules/contrib/foldershare/src/Branding.php
modules/contrib/foldershare/src/Commands/FolderShareCommands.php
modules/contrib/foldershare/src/Constants.php
modules/contrib/foldershare/src/Controller/FileDownload.php
modules/contrib/foldershare/src/Controller/FolderShareDownload.php
modules/contrib/foldershare/src/Controller/UserAutocompleteController.php
modules/contrib/foldershare/src/Entity/Builder/FolderShareBreadcrumbBuilder.php
modules/contrib/foldershare/src/Entity/Builder/FolderShareViewBuilder.php
modules/contrib/foldershare/src/Entity/Controller/FolderShareViewController.php
modules/contrib/foldershare/src/Entity/Exception/ExecutionTimeLimitException.php
modules/contrib/foldershare/src/Entity/Exception/LockException.php
modules/contrib/foldershare/src/Entity/Exception/MemoryLimitException.php
modules/contrib/foldershare/src/Entity/Exception/NotFoundException.php
modules/contrib/foldershare/src/Entity/Exception/RuntimeExceptionWithMarkup.php
modules/contrib/foldershare/src/Entity/Exception/SystemException.php
modules/contrib/foldershare/src/Entity/Exception/ValidationException.php
modules/contrib/foldershare/src/Entity/FolderShare.php
modules/contrib/foldershare/src/Entity/FolderShareAccessControlHandler.php
modules/contrib/foldershare/src/Entity/FolderShareScheduledTask.php
modules/contrib/foldershare/src/Entity/FolderShareScheduledTaskTraits/DeleteTrait.php
modules/contrib/foldershare/src/Entity/FolderShareScheduledTaskTraits/ExecuteTrait.php
modules/contrib/foldershare/src/Entity/FolderShareScheduledTaskTraits/FindTrait.php
modules/contrib/foldershare/src/Entity/FolderShareScheduledTaskTraits/GetSetTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/FindTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetAccessGrantsTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetCreatedTimeTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetDescriptionTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetFileTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetKindTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetMimeTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetNameTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetOwnerTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetParentTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetRootTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetSizeTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetSystemDisabledTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/GetSetSystemHiddenTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/ManageLocksTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationAddFileTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationArchiveTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationChangeOwnerTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationCopyTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationDeleteTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationDuplicateTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationFsckTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationMoveTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationNewFolderTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationNewObjectTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationRenameTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationShareTrait.php
modules/contrib/foldershare/src/Entity/FolderShareTraits/OperationUnarchiveTrait.php
modules/contrib/foldershare/src/Entity/FolderShareViewsData.php
modules/contrib/foldershare/src/EventSubscriber/FolderShareHttpExceptionSubscriber.php
modules/contrib/foldershare/src/EventSubscriber/FolderShareScheduledTaskHandler.php
modules/contrib/foldershare/src/FolderShareInterface.php
modules/contrib/foldershare/src/Form/AdminSettings.php
modules/contrib/foldershare/src/Form/AdminSettingsTraits/AdminSettingsAboutTab.php
modules/contrib/foldershare/src/Form/AdminSettingsTraits/AdminSettingsFilesTab.php
modules/contrib/foldershare/src/Form/AdminSettingsTraits/AdminSettingsInterfaceTab.php
modules/contrib/foldershare/src/Form/AdminSettingsTraits/AdminSettingsServicesTab.php
modules/contrib/foldershare/src/Form/AdminUsageReport.php
modules/contrib/foldershare/src/Form/CommandFormWrapper.php
modules/contrib/foldershare/src/Form/EditFolderShare.php
modules/contrib/foldershare/src/Form/UIAncestorMenu.php
modules/contrib/foldershare/src/Form/UIFolderBrowserMenu.php
modules/contrib/foldershare/src/Form/UISearchBox.php
modules/contrib/foldershare/src/Form/UninstallFolderShareConfirm.php
modules/contrib/foldershare/src/Form/UninstallFolderShareScheduledTaskConfirm.php
modules/contrib/foldershare/src/ManageFileSystem.php
modules/contrib/foldershare/src/ManageFilenameExtensions.php
modules/contrib/foldershare/src/ManageHooks.php
modules/contrib/foldershare/src/ManageLog.php
modules/contrib/foldershare/src/ManagePaths.php
modules/contrib/foldershare/src/ManageSearch.php
modules/contrib/foldershare/src/ManageUsageStatistics.php
modules/contrib/foldershare/src/Plugin/Field/FieldFormatter/FolderShareInternalFolderName.php
modules/contrib/foldershare/src/Plugin/Field/FieldFormatter/FolderShareInternalName.php
modules/contrib/foldershare/src/Plugin/Field/FieldFormatter/FolderShareName.php
modules/contrib/foldershare/src/Plugin/Field/FieldFormatter/FolderShareReference.php
modules/contrib/foldershare/src/Plugin/Field/FieldFormatter/FolderShareStorageSize.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/ChangeOwner.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Compress.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Copy.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/CopyMoveBase.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/DeleteAsAdmin.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/DeleteBase.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/DeleteGeneral.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/DeleteOnRootList.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Download.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Duplicate.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Edit.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/FolderShareCommandBase.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/FolderShareCommandInterface.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/MoveAsAdmin.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/MoveBase.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/MoveGeneral.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/MoveOnRootList.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/NewFolder.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/NewObject.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Open.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/ReleaseShare.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Rename.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Share.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/Uncompress.php
modules/contrib/foldershare/src/Plugin/FolderShareCommand/UploadFiles.php
modules/contrib/foldershare/src/Plugin/FolderShareCommandManager.php
modules/contrib/foldershare/src/Plugin/Search/FolderShareSearch.php
modules/contrib/foldershare/src/Plugin/search_api_autocomplete/search/UISearchBoxAutocomplete.php
modules/contrib/foldershare/src/Settings.php
modules/contrib/foldershare/src/Utilities/AjaxUtilities.php
modules/contrib/foldershare/src/Utilities/CacheUtilities.php
modules/contrib/foldershare/src/Utilities/ConfigurationUtilities.php
modules/contrib/foldershare/src/Utilities/FileUtilities.php
modules/contrib/foldershare/src/Utilities/FormatUtilities.php
modules/contrib/foldershare/src/Utilities/LimitUtilities.php
modules/contrib/foldershare/src/Utilities/LinkUtilities.php
modules/contrib/foldershare/src/Utilities/UserUtilities.php

6 files with changes
====================

1) modules/contrib/foldershare/src/Form/UIFolderBrowserMenu.php:543

    ---------- begin diff ----------
@@ @@

     if ($disabled === TRUE) {
       // TODO delete this code. It uses the wrong icon.
-      $menuButtonUrl = '/' . drupal_get_path('module', 'foldershare') .
+      $menuButtonUrl = '/' . \Drupal::service('extension.list.module')->getPath('foldershare') .
         '/images/menu-icon.disabled.27x15.png';
     }
     else {
-      $menuButtonUrl = '/' . drupal_get_path('module', 'foldershare') .
+      $menuButtonUrl = '/' . \Drupal::service('extension.list.module')->getPath('foldershare') .
         '/images/menu-file.svg';
     }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/foldershare/src/Form/UIAncestorMenu.php:82

    ---------- begin diff ----------
@@ @@
     $menuButtonClass = 'foldershare-ancestormenu-menu-button';
     $menuClass       = 'foldershare-ancestormenu-menu';

-    $menuButtonUrl   = '/' . drupal_get_path('module', 'foldershare') .
+    $menuButtonUrl   = '/' . \Drupal::service('extension.list.module')->getPath('foldershare') .
       '/images/menu-ancestor.svg';
     $menuButtonAlt   = t('Location menu');
     $menuButtonImage = "<img alt=\"$menuButtonAlt\" src=\"$menuButtonUrl\">";
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/foldershare/src/EventSubscriber/FolderShareScheduledTaskHandler.php:58

    ---------- begin diff ----------
@@ @@
    * The scheduled task list of the FolderShare module is checked and
    * ready tasks run.
    *
-   * @param \Symfony\Component\HttpKernel\Event\PostResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\TerminateEvent $event
    *   The termination event.
    *
    * @see ::getSubscribedEvents()
@@ @@
    * required, change the argument type to TerminateEvent. And change the
    * use statement above to Symfony\Component\HttpKernel\Event\TerminateEvent.
    */
-  public function onTerminate(PostResponseEvent $event) {
+  public function onTerminate(\Symfony\Component\HttpKernel\Event\TerminateEvent $event) {
     FolderShareScheduledTask::executeTasks(
       (int) $event->getRequest()->server->get('REQUEST_TIME'));
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


4) modules/contrib/foldershare/src/EventSubscriber/FolderShareHttpExceptionSubscriber.php:222

    ---------- begin diff ----------
@@ @@
    * If the event is handled, log and response messages are built that
    * include the event's exception message and request headers.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseForExceptionEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ExceptionEvent $event
    *   The event to process.
    *
    * @todo When Drupal 8 and pre-Symfony 4.4 compatibility is no longer
@@ @@
    * required, change the argument type to ExceptionEvent. And change the
    * use statement above to \Symfony\Component\HttpKernel\Event\ExceptionEvent.
    */
-  public function onException(GetResponseForExceptionEvent $event) {
+  public function onException(\Symfony\Component\HttpKernel\Event\ExceptionEvent $event) {
     //
     // Verify exception type.
     // ----------------------
@@ @@
     //
     // @todo When Drupal 8 and pre-Symfony 4.4 compatibility is no longer
     // required, change the getException() method here to getThrowable().
-    $exception = $event->getException();
+    $exception = $event->getThrowable();
     if (($exception instanceof HttpExceptionInterface) === FALSE) {
       // Not an HTTP exception.
       return;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/foldershare/src/Entity/Controller/FolderShareViewController.php:1676

    ---------- begin diff ----------
@@ @@
     // themes to mark the button as a button.
     //
     // Create the <img> HTML.
-    $sidebarButtonUrl   = '/' . drupal_get_path('module', 'foldershare') .
+    $sidebarButtonUrl   = '/' . \Drupal::service('extension.list.module')->getPath('foldershare') .
       '/images/button-sidebar.svg';
     $sidebarButtonAlt   = $this->t('Show/hide');
     $sidebarButtonImage = "<img alt=\"$sidebarButtonAlt\" src=\"$sidebarButtonUrl\">";
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/foldershare/foldershare.module:1747

    ---------- begin diff ----------
@@ @@

   $anonymousName = User::getAnonymousUser()->getDisplayName();

-  $imagePath = '/' . drupal_get_path('module', Constants::MODULE) . '/images/';
+  $imagePath = '/' . \Drupal::service('extension.list.module')->getPath(Constants::MODULE) . '/images/';

   $recommended = '<span class="foldershare-admin-help-recommended">• ' . t('Recommended practice:') . ' </span>';
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [ERROR] Could not process                                                      
         "modules/contrib/foldershare/src/Plugin/search_api_autocomplete/search/UI
         SearchBoxAutocomplete.php" file, due to:                               
         "Analyze error: "Class                                                 
         Drupal\search_api_autocomplete\Search\SearchPluginBase not found.".    
         Include your files in "$rectorConfig->autoloadPaths([...]);" or        
         "$rectorConfig->bootstrapFiles([...]);" in "rector.php" config.        
         See https://github.com/rectorphp/rector#configuration".                

