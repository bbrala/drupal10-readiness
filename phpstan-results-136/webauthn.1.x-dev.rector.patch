diff --git a/composer.json b/composer.json
index 7a7dbaf..4c5d5b6 100644
--- a/composer.json
+++ b/composer.json
@@ -22,8 +22,8 @@
         "apcu-autoloader": true
     },
     "require": {
-        "drupal/core": "^8.9 || ^9.0",
         "nyholm/psr7": "^1.3",
-        "web-auth/webauthn-lib": "^3.2"
+        "web-auth/webauthn-lib": "^3.2",
+        "drupal/core": "^9.1 || ^10"
     }
 }
diff --git a/src/Form/PublicKeyCredentialCreationForm.php b/src/Form/PublicKeyCredentialCreationForm.php
index df9a889..eaaf743 100644
--- a/src/Form/PublicKeyCredentialCreationForm.php
+++ b/src/Form/PublicKeyCredentialCreationForm.php
@@ -125,7 +125,7 @@ public function buildEntity(array $form, FormStateInterface $form_state) {
       $entity = parent::buildEntity($form, $form_state);
       $entity->set('name', $form_state->getValue('name'));
       $entity->set('mail', $form_state->getValue('mail'));
-      $entity->set('pass', user_password());
+      $entity->set('pass', \Drupal::service('password_generator')->generate());
       $entity->set('init', $form_state->getValue('mail'));
     }
 
diff --git a/webauthn.info.yml b/webauthn.info.yml
index c3b78d4..381ef34 100644
--- a/webauthn.info.yml
+++ b/webauthn.info.yml
@@ -2,5 +2,5 @@ name: WebAuthn
 type: module
 description: This module aims to support the upcoming "Web Authentication" protocol, that leverages Public Key Credentials to provide password-less login along with stronger security.
 package: Security
-core_version_requirement: ^8.9 || ^9
+core_version_requirement: ^9.1 || ^10
 configure: webauthn.settings_form
