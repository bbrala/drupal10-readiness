diff --git a/google_analytics_counter.module b/google_analytics_counter.module
index 4869365..8331ba3 100755
--- a/google_analytics_counter.module
+++ b/google_analytics_counter.module
@@ -15,7 +15,7 @@ use Drupal\node\NodeInterface;
 function google_analytics_counter_help($route_name, RouteMatchInterface $route_match) {
   switch ($route_name) {
     case 'help.page.google_analytics_counter':
-      $output = file_get_contents(drupal_get_path('module', 'google_analytics_counter') . '/README.md');
+      $output = file_get_contents(\Drupal::service('extension.list.module')->getPath('google_analytics_counter') . '/README.md');
       ;
       return nl2br($output);
   }
diff --git a/tests/src/Kernel/GoogleAnalyticsCounterQueueTest.php b/tests/src/Kernel/GoogleAnalyticsCounterQueueTest.php
index f98beb3..586cbe8 100644
--- a/tests/src/Kernel/GoogleAnalyticsCounterQueueTest.php
+++ b/tests/src/Kernel/GoogleAnalyticsCounterQueueTest.php
@@ -63,7 +63,7 @@ class GoogleAnalyticsCounterQueueTest extends CronQueueTest {
     // @see \Drupal\Core\Cron::processQueues()
     $this->connection->update('queue')
       ->condition('name', 'google_analytics_counter_worker')
-      ->fields(['expire' => REQUEST_TIME - 1])
+      ->fields(['expire' => \Drupal::time()->getRequestTime() - 1])
       ->execute();
 
     // DEBUG:
