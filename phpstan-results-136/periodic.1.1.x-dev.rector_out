modules/contrib/periodic/periodic.install
modules/contrib/periodic/periodic.module
modules/contrib/periodic/src/Event/PeriodicEvent.php
modules/contrib/periodic/src/PeriodicEvents.php
modules/contrib/periodic/src/PeriodicManager.php
modules/contrib/periodic/tests/src/Functional/CronTest.php
modules/contrib/periodic/tests/src/Unit/CronTest.php
modules/contrib/periodic/tests/src/Unit/PeriodicManagerTest.php

4 files with changes
====================

1) modules/contrib/periodic/tests/src/Unit/PeriodicManagerTest.php:43

    ---------- begin diff ----------
@@ @@
   public function setUp(): void {
     parent::setUp();

-    $this->time = $this->getMockBuilder(Time::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->time = $this->createMock(Time::class);
     $this->time->expects($this->any())
       ->method('getRequestTime')
       ->willReturn(946684800);

-    $this->state = $this->getMockBuilder(State::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->state = $this->createMock(State::class);

     $this->manager = new PeriodicManager($this->state, $this->time);
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/periodic/tests/src/Unit/CronTest.php:18

    ---------- begin diff ----------
@@ @@
  */
 class CronTest extends UnitTestCase {

+  use \Prophecy\PhpUnit\ProphecyTrait;
   /**
    * Mocked Event Dispatcher.
    *
@@ @@
       });

     $this->eventDispatcher
-      ->dispatch(PeriodicEvents::HOUR, Argument::type(Event::class))
+      ->dispatch(PeriodicEvents::HOUR, Argument::type(\Symfony\Contracts\EventDispatcher\Event::class))
       ->shouldNotBeCalled();
     $this->eventDispatcher
-      ->dispatch(PeriodicEvents::DAY, Argument::type(Event::class))
+      ->dispatch(PeriodicEvents::DAY, Argument::type(\Symfony\Contracts\EventDispatcher\Event::class))
       ->shouldBeCalled();
     $this->eventDispatcher
-      ->dispatch(PeriodicEvents::WEEK, Argument::type(Event::class))
+      ->dispatch(PeriodicEvents::WEEK, Argument::type(\Symfony\Contracts\EventDispatcher\Event::class))
       ->shouldBeCalled();
     $this->eventDispatcher
-      ->dispatch(PeriodicEvents::MONTH, Argument::type(Event::class))
+      ->dispatch(PeriodicEvents::MONTH, Argument::type(\Symfony\Contracts\EventDispatcher\Event::class))
       ->shouldBeCalled();

     periodic_cron();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/periodic/src/Event/PeriodicEvent.php:6

    ---------- begin diff ----------
@@ @@
 /**
  * Event for periodic tasks.
  */
-class PeriodicEvent extends Event {
+class PeriodicEvent extends \Symfony\Contracts\EventDispatcher\Event {

   public const INTERVAL_HOUR = 3600;
   public const INTERVAL_DAY = 86400;
    ----------- end diff -----------

Applied rules:
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector


4) modules/contrib/periodic/periodic.module:28

    ---------- begin diff ----------
@@ @@
       // Argument order is set for compatibility with Drupal 8.9.
       // Will be updated when compatibility is updated to ^9.1.
       // @see https://www.drupal.org/node/3154407
-      $eventDispatcher->dispatch($name, new PeriodicEvent());
+      $eventDispatcher->dispatch(new PeriodicEvent(), $name);
     }
   }
 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * MakeDispatchFirstArgumentEventRector


 [OK] 4 files have been changed by Rector                                       

