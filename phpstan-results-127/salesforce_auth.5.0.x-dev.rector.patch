diff --git a/salesforce_auth.module b/salesforce_auth.module
index 7664569..dd45299 100644
--- a/salesforce_auth.module
+++ b/salesforce_auth.module
@@ -60,8 +60,12 @@ function salesforce_auth_form_alter(&$form, FormStateInterface $form_state, $for
  * Implements hook_user_delete().
  */
 function salesforce_auth_user_delete($account) {
-  db_delete('fs_authmap')->condition('uid', $account->id())->execute();
-  db_delete('fs_salesforce_auth')->condition('uid', $account->id())->execute();
+  // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+  // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+  \Drupal::database()->delete('fs_authmap')->condition('uid', $account->id())->execute();
+  // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+  // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+  \Drupal::database()->delete('fs_salesforce_auth')->condition('uid', $account->id())->execute();
 }
 
 /**
@@ -75,5 +79,5 @@ function salesforce_auth_user_logout($account) {
     session_destroy();
   }
   drupal_goto();
-  drupal_set_message(t('Thanks for visiting, come again!'));
+  \Drupal::messenger()->addStatus(t('Thanks for visiting, come again!'));
 }
