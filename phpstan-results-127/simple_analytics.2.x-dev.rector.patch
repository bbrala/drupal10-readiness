diff --git a/modules/simple_analytics_event/src/SimpleAnalyticsTracker.php b/modules/simple_analytics_event/src/SimpleAnalyticsTracker.php
index a6ee123..2a1ead1 100644
--- a/modules/simple_analytics_event/src/SimpleAnalyticsTracker.php
+++ b/modules/simple_analytics_event/src/SimpleAnalyticsTracker.php
@@ -19,7 +19,7 @@ class SimpleAnalyticsTracker implements EventSubscriberInterface {
   public function saTrack(SimpleAnalyticsEvents $event) {
     $data = $event->getData();
     $text = $this->t("Tracking event from SimpleAnalytics. Signature : :sig", [':sig' => $data['SIGNATURE']]);
-    drupal_set_message($text);
+    \Drupal::messenger()->addStatus($text);
   }
 
   /**
diff --git a/src/Plugin/Block/SimpleAnalyticsLive.php b/src/Plugin/Block/SimpleAnalyticsLive.php
index 59f35ff..a223550 100644
--- a/src/Plugin/Block/SimpleAnalyticsLive.php
+++ b/src/Plugin/Block/SimpleAnalyticsLive.php
@@ -41,7 +41,7 @@ class SimpleAnalyticsLive extends BlockBase {
    */
   public function blockForm($form, FormStateInterface $form_state) {
     $form = parent::blockForm($form, $form_state);
-    drupal_set_message($this->t("The block is not visible if user hasn't permissions 'View Live'"));
+    $this->messenger()->addStatus($this->t("The block is not visible if user hasn't permissions 'View Live'"));
 
     $list = SimpleAnalyticsLive::getFieldsList();
     foreach ($list as $item => $item_name) {
diff --git a/src/SimpleAnalyticsEvents.php b/src/SimpleAnalyticsEvents.php
index 32947c5..0bd3e13 100644
--- a/src/SimpleAnalyticsEvents.php
+++ b/src/SimpleAnalyticsEvents.php
@@ -7,7 +7,7 @@ use Symfony\Component\EventDispatcher\Event;
 /**
  * Simple Analytics Events.
  */
-class SimpleAnalyticsEvents extends Event {
+class SimpleAnalyticsEvents extends \Symfony\Contracts\EventDispatcher\Event {
 
   /**
    * Simple analytics tracking event.
diff --git a/src/SimpleAnalyticsEventsListener.php b/src/SimpleAnalyticsEventsListener.php
index 06d287a..a77efac 100644
--- a/src/SimpleAnalyticsEventsListener.php
+++ b/src/SimpleAnalyticsEventsListener.php
@@ -14,12 +14,12 @@ class SimpleAnalyticsEventsListener implements EventSubscriberInterface {
   /**
    * Track event on request call.
    *
-   * @param Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The Event to process.
    *
    * @see Symfony\Component\HttpKernel\KernelEvents
    */
-  public function simpleAnalyticsTrack(GetResponseEvent $event) {
+  public function simpleAnalyticsTrack(\Symfony\Component\HttpKernel\Event\RequestEvent $event) {
 
     $config = SimpleAnalyticsHelper::getConfig();
     // Check S.A tracker and server side tracking.
