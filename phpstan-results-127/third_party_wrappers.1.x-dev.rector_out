[parsing] modules/contrib/third_party_wrappers/src/Controller/ThirdPartyWrappersController.php
[refactoring] modules/contrib/third_party_wrappers/src/Controller/ThirdPartyWrappersController.php
[post rectors] modules/contrib/third_party_wrappers/src/Controller/ThirdPartyWrappersController.php
    [post rector] Rector\PostRector\Rector\NodeToReplacePostRector
    [post rector] Rector\PostRector\Rector\NodeAddingPostRector
    [post rector] Rector\PostRector\Rector\PropertyAddingPostRector
    [post rector] Ssch\TYPO3Rector\Rector\PostRector\FullQualifiedNamePostRector
    [post rector] Rector\PostRector\Rector\NodeRemovingPostRector
    [post rector] Rector\PostRector\Rector\ClassRenamingPostRector
    [post rector] Rector\PostRector\Rector\NameImportingPostRector
    [post rector] Rector\PostRector\Rector\UseAddingPostRector
[print] modules/contrib/third_party_wrappers/src/Controller/ThirdPartyWrappersController.php
[parsing] modules/contrib/third_party_wrappers/src/Form/ThirdPartyWrappersAdminForm.php
[refactoring] modules/contrib/third_party_wrappers/src/Form/ThirdPartyWrappersAdminForm.php
[post rectors] modules/contrib/third_party_wrappers/src/Form/ThirdPartyWrappersAdminForm.php
    [post rector] Rector\PostRector\Rector\NodeToReplacePostRector
    [post rector] Rector\PostRector\Rector\NodeAddingPostRector
    [post rector] Rector\PostRector\Rector\PropertyAddingPostRector
    [post rector] Ssch\TYPO3Rector\Rector\PostRector\FullQualifiedNamePostRector
    [post rector] Rector\PostRector\Rector\NodeRemovingPostRector
    [post rector] Rector\PostRector\Rector\ClassRenamingPostRector
    [post rector] Rector\PostRector\Rector\NameImportingPostRector
    [post rector] Rector\PostRector\Rector\UseAddingPostRector
[print] modules/contrib/third_party_wrappers/src/Form/ThirdPartyWrappersAdminForm.php
[refactoring] modules/contrib/third_party_wrappers/src/Form/ThirdPartyWrappersAdminForm.php
[post rectors] modules/contrib/third_party_wrappers/src/Form/ThirdPartyWrappersAdminForm.php
    [post rector] Rector\PostRector\Rector\NodeToReplacePostRector
    [post rector] Rector\PostRector\Rector\NodeAddingPostRector
    [post rector] Rector\PostRector\Rector\PropertyAddingPostRector
    [post rector] Ssch\TYPO3Rector\Rector\PostRector\FullQualifiedNamePostRector
    [post rector] Rector\PostRector\Rector\NodeRemovingPostRector
    [post rector] Rector\PostRector\Rector\ClassRenamingPostRector
    [post rector] Rector\PostRector\Rector\NameImportingPostRector
    [post rector] Rector\PostRector\Rector\UseAddingPostRector
[print] modules/contrib/third_party_wrappers/src/Form/ThirdPartyWrappersAdminForm.php
[parsing] modules/contrib/third_party_wrappers/src/Tests/Controller/ThirdPartyWrappersControllerTest.php
[printing skipped due error] modules/contrib/third_party_wrappers/src/Tests/Controller/ThirdPartyWrappersControllerTest.php
[parsing] modules/contrib/third_party_wrappers/src/Tests/Form/ThirdPartyWrappersAdminFormTest.php
[printing skipped due error] modules/contrib/third_party_wrappers/src/Tests/Form/ThirdPartyWrappersAdminFormTest.php
[parsing] modules/contrib/third_party_wrappers/src/Tests/ThirdPartyWrappersTest.php
[printing skipped due error] modules/contrib/third_party_wrappers/src/Tests/ThirdPartyWrappersTest.php
[parsing] modules/contrib/third_party_wrappers/src/ThirdPartyWrappers.php
[refactoring] modules/contrib/third_party_wrappers/src/ThirdPartyWrappers.php
[post rectors] modules/contrib/third_party_wrappers/src/ThirdPartyWrappers.php
    [post rector] Rector\PostRector\Rector\NodeToReplacePostRector
    [post rector] Rector\PostRector\Rector\NodeAddingPostRector
    [post rector] Rector\PostRector\Rector\PropertyAddingPostRector
    [post rector] Ssch\TYPO3Rector\Rector\PostRector\FullQualifiedNamePostRector
    [post rector] Rector\PostRector\Rector\NodeRemovingPostRector
    [post rector] Rector\PostRector\Rector\ClassRenamingPostRector
    [post rector] Rector\PostRector\Rector\NameImportingPostRector
    [post rector] Rector\PostRector\Rector\UseAddingPostRector
[print] modules/contrib/third_party_wrappers/src/ThirdPartyWrappers.php
[refactoring] modules/contrib/third_party_wrappers/src/ThirdPartyWrappers.php
[post rectors] modules/contrib/third_party_wrappers/src/ThirdPartyWrappers.php
    [post rector] Rector\PostRector\Rector\NodeToReplacePostRector
    [post rector] Rector\PostRector\Rector\NodeAddingPostRector
    [post rector] Rector\PostRector\Rector\PropertyAddingPostRector
    [post rector] Ssch\TYPO3Rector\Rector\PostRector\FullQualifiedNamePostRector
    [post rector] Rector\PostRector\Rector\NodeRemovingPostRector
    [post rector] Rector\PostRector\Rector\ClassRenamingPostRector
    [post rector] Rector\PostRector\Rector\NameImportingPostRector
    [post rector] Rector\PostRector\Rector\UseAddingPostRector
[print] modules/contrib/third_party_wrappers/src/ThirdPartyWrappers.php
[parsing] modules/contrib/third_party_wrappers/src/ThirdPartyWrappersInterface.php
[refactoring] modules/contrib/third_party_wrappers/src/ThirdPartyWrappersInterface.php
[post rectors] modules/contrib/third_party_wrappers/src/ThirdPartyWrappersInterface.php
    [post rector] Rector\PostRector\Rector\NodeToReplacePostRector
    [post rector] Rector\PostRector\Rector\NodeAddingPostRector
    [post rector] Rector\PostRector\Rector\PropertyAddingPostRector
    [post rector] Ssch\TYPO3Rector\Rector\PostRector\FullQualifiedNamePostRector
    [post rector] Rector\PostRector\Rector\NodeRemovingPostRector
    [post rector] Rector\PostRector\Rector\ClassRenamingPostRector
    [post rector] Rector\PostRector\Rector\NameImportingPostRector
    [post rector] Rector\PostRector\Rector\UseAddingPostRector
[print] modules/contrib/third_party_wrappers/src/ThirdPartyWrappersInterface.php
[parsing] modules/contrib/third_party_wrappers/third_party_wrappers.module
[refactoring] modules/contrib/third_party_wrappers/third_party_wrappers.module
[post rectors] modules/contrib/third_party_wrappers/third_party_wrappers.module
    [post rector] Rector\PostRector\Rector\NodeToReplacePostRector
    [post rector] Rector\PostRector\Rector\NodeAddingPostRector
    [post rector] Rector\PostRector\Rector\PropertyAddingPostRector
    [post rector] Ssch\TYPO3Rector\Rector\PostRector\FullQualifiedNamePostRector
    [post rector] Rector\PostRector\Rector\NodeRemovingPostRector
    [post rector] Rector\PostRector\Rector\ClassRenamingPostRector
    [post rector] Rector\PostRector\Rector\NameImportingPostRector
    [post rector] Rector\PostRector\Rector\UseAddingPostRector
[print] modules/contrib/third_party_wrappers/third_party_wrappers.module

2 files with changes
====================

1) modules/contrib/third_party_wrappers/src/ThirdPartyWrappers.php:51

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function cleanDirectory($path, $age) {
-    foreach (file_scan_directory($path, '/.*/') as $file => $fileobj) {
+    foreach (\Drupal::service('file_system')->scanDirectory($path, '/.*/') as $file => $fileobj) {
       $atime = fileatime($file);
       if ($atime !== FALSE && $atime + $age < time()) {
         $this->fileSystem->unlink($file);
@@ @@
       $search = '/' . $files_path_esc . '\/' . $prefix . $type . '\/' . $type . '_[^?"]*/is';
       preg_match_all($search, $template, $matches);
       if (!empty($matches[0])) {
-        $third_party_wrappers_uri = file_default_scheme() . '://' . $this->config->get('css_js_dir');
+        $third_party_wrappers_uri = \Drupal::config('system.file')->get('default_scheme') . '://' . $this->config->get('css_js_dir');
         $copy_path = $third_party_wrappers_uri . '/' . $prefix . $type;
-        file_prepare_directory($copy_path, FILE_CREATE_DIRECTORY | FILE_MODIFY_PERMISSIONS);
+        \Drupal::service('file_system')->prepareDirectory($copy_path, \Drupal\Core\File\FileSystemInterface::CREATE_DIRECTORY | \Drupal\Core\File\FileSystemInterface::MODIFY_PERMISSIONS);
         foreach ($matches[0] as $file) {
-          file_unmanaged_copy(($file), $copy_path . '/' . basename($file), FILE_EXISTS_REPLACE);
+          file_unmanaged_copy(($file), $copy_path . '/' . basename($file), \Drupal\Core\File\FileSystemInterface::EXISTS_REPLACE);
         }
       }
     }
@@ @@
   public function getFilePaths() {
     $paths = [];
     // The system path for public files.
-    $scheme = file_default_scheme();
+    $scheme = \Drupal::config('system.file')->get('default_scheme');
     /** @var \Drupal\Core\StreamWrapper\LocalStream $wrapper */
     $wrapper = $this->streamWrapper->getViaScheme($scheme);
     $files_path = $wrapper->getDirectoryPath();
@@ @@
    */
   public function getUri() {
     $dir = $this->getDir();
-    $uri = file_default_scheme() . '://' . $this->getDir();
+    $uri = \Drupal::config('system.file')->get('default_scheme') . '://' . $this->getDir();
     if (empty($dir) || empty($uri)) {
       return '';
     }
    ----------- end diff -----------

Applied rules:
 * FileCreateDirectoryRector
 * FileDefaultSchemeRector
 * FileExistsReplaceRector
 * FileModifyPermissionsRector
 * FilePrepareDirectoryRector
 * FileScanDirectoryRector


2) modules/contrib/third_party_wrappers/src/Form/ThirdPartyWrappersAdminForm.php:107

    ---------- begin diff ----------
@@ @@
     $uri = $this->thirdPartyWrappers->getUri();
     $uri_js = $uri . '/js';
     $uri_css = $uri . '/css';
-    $dir = file_prepare_directory($uri, FILE_CREATE_DIRECTORY);
+    $dir = \Drupal::service('file_system')->prepareDirectory($uri, \Drupal\Core\File\FileSystemInterface::CREATE_DIRECTORY);
     if (empty($dir)) {
       $this->messenger->addError($this->t('There was an error preparing the Third Party Wrappers directory.'));
     }
-    $dir_js = file_prepare_directory($uri_js, FILE_CREATE_DIRECTORY);
+    $dir_js = \Drupal::service('file_system')->prepareDirectory($uri_js, \Drupal\Core\File\FileSystemInterface::CREATE_DIRECTORY);
     if (empty($dir_js)) {
       $this->messenger->addError($this->t('There was an error preparing the Third Party Wrappers JavaScript directory.'));
     }
-    $dir_css = file_prepare_directory($uri_css, FILE_CREATE_DIRECTORY);
+    $dir_css = \Drupal::service('file_system')->prepareDirectory($uri_css, \Drupal\Core\File\FileSystemInterface::CREATE_DIRECTORY);
     if (empty($dir_css)) {
       $this->messenger->addError($this->t('There was an error preparing the Third Party Wrappers CSS directory.'));
     }
    ----------- end diff -----------

Applied rules:
 * FileCreateDirectoryRector
 * FilePrepareDirectoryRector


 [ERROR] Could not process                                                      
         "modules/contrib/third_party_wrappers/src/Tests/ThirdPartyWrappersTest.
         php" file, due to:                                                     
         "Analyze error: "Class Drupal\simpletest\WebTestBase not found.".      
         Include your files in "$parameters->set(Option::AUTOLOAD_PATHS,        
         [...]);" or "$parameters->set(Option::BOOTSTRAP_FILES, [...]);" in     
         "rector.php" config.                                                   
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/third_party_wrappers/src/Tests/Form/ThirdPartyWrappers
         AdminFormTest.php" file, due to:                                       
         "Analyze error: "Class Drupal\simpletest\WebTestBase not found.".      
         Include your files in "$parameters->set(Option::AUTOLOAD_PATHS,        
         [...]);" or "$parameters->set(Option::BOOTSTRAP_FILES, [...]);" in     
         "rector.php" config.                                                   
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/third_party_wrappers/src/Tests/Controller/ThirdPartyWr
         appersControllerTest.php" file, due to:                                
         "Analyze error: "Class Drupal\simpletest\WebTestBase not found.".      
         Include your files in "$parameters->set(Option::AUTOLOAD_PATHS,        
         [...]);" or "$parameters->set(Option::BOOTSTRAP_FILES, [...]);" in     
         "rector.php" config.                                                   
         See https://github.com/rectorphp/rector#configuration".                

