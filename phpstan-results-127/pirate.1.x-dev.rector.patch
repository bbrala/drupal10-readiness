diff --git a/pirate.info.yml b/pirate.info.yml
index d07ef33..6329f2e 100644
--- a/pirate.info.yml
+++ b/pirate.info.yml
@@ -1,7 +1,6 @@
 name: Pirate filter
 description: "Avast ye scurvy dogs!"
-core: 8.x
 type: module
 package: 'Input filters'
 configure: filter.admin_overview
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^8 || ^9 || ^10
diff --git a/src/Plugin/Filter/Pirate.php b/src/Plugin/Filter/Pirate.php
index 2106e9d..03245f6 100644
--- a/src/Plugin/Filter/Pirate.php
+++ b/src/Plugin/Filter/Pirate.php
@@ -45,7 +45,7 @@ class Pirate extends FilterBase {
    */
   public function process($text, $langcode) {
     $pirate_override = \Drupal::config('pirate.override')->get('overriden');
-    if (\Drupal::service('date.formatter')->format(REQUEST_TIME, 'custom', 'md') != '0919') {
+    if (\Drupal::service('date.formatter')->format(\Drupal::time()->getRequestTime(), 'custom', 'md') != '0919') {
       if ($pirate_override == 0) {
         return new FilterProcessResult($text);
       }
