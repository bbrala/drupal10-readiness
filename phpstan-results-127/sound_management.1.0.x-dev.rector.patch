diff --git a/src/Controller/JsonController.php b/src/Controller/JsonController.php
index 0134fbf..e0c671a 100644
--- a/src/Controller/JsonController.php
+++ b/src/Controller/JsonController.php
@@ -15,7 +15,7 @@ class JsonController {
    * Callback for the API.
    */
   public function renderApi($uuid) {
-    $entity = \Drupal::entityManager()->loadEntityByUuid('media', $uuid);
+    $entity = \Drupal::service('entity.repository')->loadEntityByUuid('media', $uuid);
     $response = $entity->toArray();
     $mid = $response['mid'][0]['value'];
     $media = Media::load($mid);
