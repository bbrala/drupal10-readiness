diff --git a/domain_path_redirect.info.yml b/domain_path_redirect.info.yml
index ea77027..3802608 100644
--- a/domain_path_redirect.info.yml
+++ b/domain_path_redirect.info.yml
@@ -1,7 +1,7 @@
 name: 'Domain Path Redirect'
 type: module
 description: 'Allows users to create redirects per domain'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^8 || ^9 || ^10
 dependencies:
   - domain:domain
   - redirect:redirect
diff --git a/src/EventSubscriber/DomainPathRedirectRequestSubscriber.php b/src/EventSubscriber/DomainPathRedirectRequestSubscriber.php
index c87f856..4627fa0 100644
--- a/src/EventSubscriber/DomainPathRedirectRequestSubscriber.php
+++ b/src/EventSubscriber/DomainPathRedirectRequestSubscriber.php
@@ -183,10 +183,10 @@ class DomainPathRedirectRequestSubscriber implements EventSubscriberInterface {
   /**
    * Handles the domain redirect if any found.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The event to process.
    */
-  public function onKernelRequestCheckDomainPathRedirect(GetResponseEvent $event) {
+  public function onKernelRequestCheckDomainPathRedirect(\Symfony\Component\HttpKernel\Event\RequestEvent $event) {
     // Get a clone of the request. During inbound processing the request
     // can be altered. Allowing this here can lead to unexpected behavior.
     // For example the path_processor.files inbound processor provided by
@@ -241,10 +241,10 @@ class DomainPathRedirectRequestSubscriber implements EventSubscriberInterface {
   /**
    * Redirect to domain redirects listing page if there is no active domain.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The event to process.
    */
-  public function onKernelRequestCheckActiveDomain(GetResponseEvent $event) {
+  public function onKernelRequestCheckActiveDomain(\Symfony\Component\HttpKernel\Event\RequestEvent $event) {
     $request = $event->getRequest();
     $this->context->fromRequest($request);
     $route_name = $this->routeMatch->getRouteName();
@@ -259,12 +259,12 @@ class DomainPathRedirectRequestSubscriber implements EventSubscriberInterface {
   /**
    * Prior to set the response it check if we can redirect.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The event to process.
    * @param \Drupal\Core\Url $url
    *   The Url where we want to redirect.
    */
-  protected function setResponse(GetResponseEvent $event, Url $url) {
+  protected function setResponse(\Symfony\Component\HttpKernel\Event\RequestEvent $event, Url $url) {
     $request = $event->getRequest();
     $this->context->fromRequest($request);
 
diff --git a/tests/src/Unit/DomainPathRedirectRequestSubscriberTest.php b/tests/src/Unit/DomainPathRedirectRequestSubscriberTest.php
index e61f86e..5db38cc 100644
--- a/tests/src/Unit/DomainPathRedirectRequestSubscriberTest.php
+++ b/tests/src/Unit/DomainPathRedirectRequestSubscriberTest.php
@@ -64,9 +64,7 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
     // by the redirect entity and values from the accessed url.
     $final_query = $redirect_query + $request_query;
 
-    $url = $this->getMockBuilder('Drupal\Core\Url')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $url = $this->createMock('Drupal\Core\Url');
 
     $url->expects($this->once())
       ->method('setAbsolute')
@@ -103,9 +101,7 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @dataProvider getDomainPathRedirectData
    */
   public function testDomainPathRedirectLogicWithoutQueryRetaining($request_uri, $request_query, $redirect_uri, $redirect_query, $hostname, $domain_id) {
-    $url = $this->getMockBuilder('Drupal\Core\Url')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $url = $this->createMock('Drupal\Core\Url');
 
     $url->expects($this->once())
       ->method('setAbsolute')
@@ -139,13 +135,11 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param string $hostname
    *   Url to be returned from getHostname.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return \PHPUnit\Framework\MockObject\MockObject
    *   The mocked domain object.
    */
   protected function getDomainStub($hostname) {
-    $domain = $this->getMockBuilder('Drupal\domain\Entity\Domain')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $domain = $this->createMock('Drupal\domain\Entity\Domain');
 
     $domain->expects($this->any())
       ->method('getHostname')
@@ -165,13 +159,11 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param int $status_code
    *   The redirect status code.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return \PHPUnit\Framework\MockObject\MockObject
    *   The mocked redirect object.
    */
   protected function getRedirectStub($url, $domain_id, $status_code = 301) {
-    $redirect = $this->getMockBuilder('Drupal\domain_path_redirect\Entity\DomainPathRedirect')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $redirect = $this->createMock('Drupal\domain_path_redirect\Entity\DomainPathRedirect');
 
     $redirect->expects($this->once())
       ->method('getRedirectUrl')
@@ -206,45 +198,33 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param bool $retain_query
    *   Flag if to retain the query through the redirect.
    *
-   * @return \Symfony\Component\HttpKernel\Event\GetResponseEvent
+   * @return \Symfony\Component\HttpKernel\Event\RequestEvent
    *   The response event.
    */
   protected function callOnKernelRequestCheckDomainPathRedirect(DomainPathRedirect $redirect, DomainInterface $domain, $request_uri, array $request_query, $retain_query) {
     $event = $this->getGetResponseEventStub($request_uri, http_build_query($request_query));
     $request = $event->getRequest();
 
-    $checker = $this->getMockBuilder('Drupal\redirect\RedirectChecker')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $checker = $this->createMock('Drupal\redirect\RedirectChecker');
     $checker->expects($this->any())
       ->method('canRedirect')
       ->will($this->returnValue(TRUE));
 
-    $context = $this->getMockBuilder('Symfony\Component\Routing\RequestContext')->getMock();
+    $context = $this->createMock('Symfony\Component\Routing\RequestContext');
 
-    $inbound_path_processor = $this->getMockBuilder('Drupal\Core\PathProcessor\InboundPathProcessorInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $inbound_path_processor = $this->createMock('Drupal\Core\PathProcessor\InboundPathProcessorInterface');
     $inbound_path_processor->expects($this->any())
       ->method('processInbound')
       ->with($request->getPathInfo(), $request)
       ->will($this->returnValue($request->getPathInfo()));
 
-    $alias_manager = $this->getMockBuilder('Drupal\path_alias\AliasManagerInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
-    $module_handler = $this->getMockBuilder('Drupal\Core\Extension\ModuleHandlerInterface')
-      ->getMock();
-    $entity_manager = $this->getMockBuilder('Drupal\Core\Entity\EntityTypeManagerInterface')
-      ->getMock();
-    $logger = $this->getMockBuilder('Drupal\Core\Logger\LoggerChannelFactoryInterface')
-      ->getMock();
-    $url_generator = $this->getMockBuilder('Drupal\Core\Routing\UrlGeneratorInterface')
-      ->getMock();
-    $messenger = $this->getMockBuilder('Drupal\Core\Messenger\MessengerInterface')
-      ->getMock();
-    $route_match = $this->getMockBuilder('Drupal\Core\Routing\RouteMatchInterface')
-      ->getMock();
+    $alias_manager = $this->createMock('Drupal\path_alias\AliasManagerInterface');
+    $module_handler = $this->createMock('Drupal\Core\Extension\ModuleHandlerInterface');
+    $entity_manager = $this->createMock('Drupal\Core\Entity\EntityTypeManagerInterface');
+    $logger = $this->createMock('Drupal\Core\Logger\LoggerChannelFactoryInterface');
+    $url_generator = $this->createMock('Drupal\Core\Routing\UrlGeneratorInterface');
+    $messenger = $this->createMock('Drupal\Core\Messenger\MessengerInterface');
+    $route_match = $this->createMock('Drupal\Core\Routing\RouteMatchInterface');
 
     $subscriber = new DomainPathRedirectRequestSubscriber(
       $this->getDomainPathRedirectRepositoryStub('findMatchingRedirect', $redirect),
@@ -276,13 +256,11 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param \Drupal\domain\DomainInterface $domain
    *   The domain object to be returned.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return \PHPUnit\Framework\MockObject\MockObject
    *   The domain negotiator.
    */
   protected function getDomainNegotiatorStub($method, DomainInterface $domain) {
-    $domain_negotiator = $this->getMockBuilder('Drupal\domain\DomainNegotiatorInterface')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $domain_negotiator = $this->createMock('Drupal\domain\DomainNegotiatorInterface');
 
     $domain_negotiator->expects($this->any())
       ->method($method)
@@ -299,13 +277,11 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param \Drupal\domain_path_redirect\Entity\DomainPathRedirect $redirect
    *   The redirect entity to be returned.
    *
-   * @return \PHPUnit_Framework_MockObject_MockObject
+   * @return \PHPUnit\Framework\MockObject\MockObject
    *   The redirect repository.
    */
   protected function getDomainPathRedirectRepositoryStub($method, DomainPathRedirect $redirect) {
-    $repository = $this->getMockBuilder('Drupal\domain_path_redirect\DomainPathRedirectRepository')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $repository = $this->createMock('Drupal\domain_path_redirect\DomainPathRedirectRepository');
 
     $repository->expects($this->any())
       ->method($method)
@@ -320,19 +296,16 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param array $headers
    *   Headers to be set into the response.
    *
-   * @return \Symfony\Component\HttpKernel\Event\PostResponseEvent
+   * @return \Symfony\Component\HttpKernel\Event\TerminateEvent
    *   The post response event object.
    */
   protected function getPostResponseEvent(array $headers = []) {
-    $http_kernel = $this->getMockBuilder('Symfony\Component\HttpKernel\HttpKernelInterface')
-      ->getMock();
-    $request = $this->getMockBuilder('Symfony\Component\HttpFoundation\Request')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $http_kernel = $this->createMock('Symfony\Component\HttpKernel\HttpKernelInterface');
+    $request = $this->createMock('Symfony\Component\HttpFoundation\Request');
 
     $response = new Response('', 301, $headers);
 
-    return new PostResponseEvent($http_kernel, $request, $response);
+    return new \Symfony\Component\HttpKernel\Event\TerminateEvent($http_kernel, $request, $response);
   }
 
   /**
@@ -343,26 +316,24 @@ class DomainPathRedirectRequestSubscriberTest extends UnitTestCase {
    * @param string $query_string
    *   The query string of the request.
    *
-   * @return \Symfony\Component\HttpKernel\Event\GetResponseEvent
+   * @return \Symfony\Component\HttpKernel\Event\RequestEvent
    *   The response event.
    */
   protected function getGetResponseEventStub($path_info, $query_string) {
     $request = Request::create($path_info . '?' . $query_string, 'GET', [], [], [], ['SCRIPT_NAME' => 'index.php']);
 
-    $http_kernel = $this->getMockBuilder('Symfony\Component\HttpKernel\HttpKernelInterface')
-      ->getMock();
-    return new GetResponseEvent($http_kernel, $request, NULL);
+    $http_kernel = $this->createMock('Symfony\Component\HttpKernel\HttpKernelInterface');
+    return new \Symfony\Component\HttpKernel\Event\RequestEvent($http_kernel, $request, NULL);
   }
 
   /**
    * Gets the language manager mock object.
    *
-   * @return \Drupal\language\ConfigurableLanguageManagerInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @return \Drupal\language\ConfigurableLanguageManagerInterface|\PHPUnit\Framework\MockObject\MockObject
    *   The mocked language manager object.
    */
   protected function getLanguageManagerStub() {
-    $language_manager = $this->getMockBuilder('Drupal\language\ConfigurableLanguageManagerInterface')
-      ->getMock();
+    $language_manager = $this->createMock('Drupal\language\ConfigurableLanguageManagerInterface');
     $language_manager->expects($this->any())
       ->method('getCurrentLanguage')
       ->will($this->returnValue(new Language(['id' => 'en'])));
