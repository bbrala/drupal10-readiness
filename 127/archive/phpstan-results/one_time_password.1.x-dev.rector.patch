diff --git a/one_time_password.info.yml b/one_time_password.info.yml
index 1a3ebd5..2eeca30 100644
--- a/one_time_password.info.yml
+++ b/one_time_password.info.yml
@@ -1,7 +1,6 @@
 name: One Time Password
 description: An integration for one time passwords according to RFC 4226 (HOTP) and the RFC 6238 (TOTP).
-core: 8.x
 type: module
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 dependencies:
   - drupal:user
diff --git a/tests/src/Functional/UserLoginEnforceTest.php b/tests/src/Functional/UserLoginEnforceTest.php
index 94123aa..46bd09c 100644
--- a/tests/src/Functional/UserLoginEnforceTest.php
+++ b/tests/src/Functional/UserLoginEnforceTest.php
@@ -111,7 +111,8 @@ class UserLoginEnforceTest extends BrowserTestBase {
     // Login 6 times incorrectly to trigger a flood warning from core as well
     // as the OTP threshold.
     foreach (range(0, 5) as $i) {
-      $this->drupalPostForm('user/login', [
+      $this->drupalGet('user/login');
+      $this->submitForm([
         'name' => $tfa_user->getAccountName(),
         'pass' => 'incorrect password',
       ], 'Log in');
diff --git a/tests/src/Kernel/UserFieldAttachTest.php b/tests/src/Kernel/UserFieldAttachTest.php
index 0d1aac4..d238d7c 100644
--- a/tests/src/Kernel/UserFieldAttachTest.php
+++ b/tests/src/Kernel/UserFieldAttachTest.php
@@ -37,7 +37,7 @@ class UserFieldAttachTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installEntitySchema('user');
     $this->installSchema('system', 'sequences');
