modules/contrib/build_hooks/build_hooks.install
modules/contrib/build_hooks/build_hooks.module
modules/contrib/build_hooks/build_hooks.post_update.php
modules/contrib/build_hooks/modules/build_hooks_bitbucket/src/BitbucketManager.php
modules/contrib/build_hooks/modules/build_hooks_bitbucket/src/Form/SettingsForm.php
modules/contrib/build_hooks/modules/build_hooks_bitbucket/src/Plugin/FrontendEnvironment/BitbucketFrontendEnvironment.php
modules/contrib/build_hooks/modules/build_hooks_bitbucket/tests/src/Functional/BitbucketFormTest.php
modules/contrib/build_hooks/modules/build_hooks_bitbucket/tests/src/Unit/BitbucketManagerTest.php
modules/contrib/build_hooks/modules/build_hooks_circleci/build_hooks_circleci.install
modules/contrib/build_hooks/modules/build_hooks_circleci/src/CircleCiManager.php
modules/contrib/build_hooks/modules/build_hooks_circleci/src/CircleCiManagerInterface.php
modules/contrib/build_hooks/modules/build_hooks_circleci/src/Form/BuildHooksCircleCiConfigForm.php
modules/contrib/build_hooks/modules/build_hooks_circleci/src/Plugin/FrontendEnvironment/CircleCiFrontendEnvironment.php
modules/contrib/build_hooks/modules/build_hooks_circleci/src/Plugin/FrontendEnvironment/CircleV2.php
modules/contrib/build_hooks/modules/build_hooks_circleci/tests/src/Functional/CircleCiUpdateTest.php
modules/contrib/build_hooks/modules/build_hooks_circleci/tests/src/Functional/CircleV2FormTest.php
modules/contrib/build_hooks/modules/build_hooks_circleci/tests/src/Kernel/CircleBuildHookTest.php
modules/contrib/build_hooks/modules/build_hooks_netlify/build_hooks_netlify.install
modules/contrib/build_hooks/modules/build_hooks_netlify/src/Form/BuildHooksNetlifyConfigForm.php
modules/contrib/build_hooks/modules/build_hooks_netlify/src/NetlifyManager.php
modules/contrib/build_hooks/modules/build_hooks_netlify/src/NetlifyManagerInterface.php
modules/contrib/build_hooks/modules/build_hooks_netlify/src/Plugin/FrontendEnvironment/NetlifyFrontendEnvironment.php
modules/contrib/build_hooks/modules/build_hooks_netlify/tests/src/Functional/NetlifyUpdateTest.php
modules/contrib/build_hooks/modules/build_hooks_netlify/tests/src/Kernel/NetlifyBuildHooksTest.php
modules/contrib/build_hooks/src/Annotation/FrontendEnvironment.php
modules/contrib/build_hooks/src/BuildHookDetails.php
modules/contrib/build_hooks/src/Controller/FrontendEnvironmentAddController.php
modules/contrib/build_hooks/src/Controller/FrontendEnvironmentLibraryController.php
modules/contrib/build_hooks/src/Controller/FrontendEnvironmentTitleController.php
modules/contrib/build_hooks/src/DeployLogger.php
modules/contrib/build_hooks/src/DeploymentListBuilder.php
modules/contrib/build_hooks/src/DeploymentStorageHandler.php
modules/contrib/build_hooks/src/DeploymentStorageHandlerInterface.php
modules/contrib/build_hooks/src/DeploymentViewsData.php
modules/contrib/build_hooks/src/Entity/Deployment.php
modules/contrib/build_hooks/src/Entity/DeploymentInterface.php
modules/contrib/build_hooks/src/Entity/FrontendEnvironment.php
modules/contrib/build_hooks/src/Entity/FrontendEnvironmentInterface.php
modules/contrib/build_hooks/src/Event/ResponseEvent.php
modules/contrib/build_hooks/src/Form/DeploymentForm.php
modules/contrib/build_hooks/src/Form/FrontendEnvironmentDeleteForm.php
modules/contrib/build_hooks/src/Form/FrontendEnvironmentForm.php
modules/contrib/build_hooks/src/Form/SettingsForm.php
modules/contrib/build_hooks/src/FrontendEnvironmentListBuilder.php
modules/contrib/build_hooks/src/FrontendEnvironmentPluginCollection.php
modules/contrib/build_hooks/src/Plugin/FrontendEnvironment/GenericFrontendEnvironment.php
modules/contrib/build_hooks/src/Plugin/FrontendEnvironmentBase.php
modules/contrib/build_hooks/src/Plugin/FrontendEnvironmentInterface.php
modules/contrib/build_hooks/src/Plugin/FrontendEnvironmentManager.php
modules/contrib/build_hooks/src/Plugin/Validation/Constraint/BuildHooksDeployment.php
modules/contrib/build_hooks/src/Plugin/Validation/Constraint/BuildHooksDeploymentValidator.php
modules/contrib/build_hooks/src/Trigger.php
modules/contrib/build_hooks/src/TriggerInterface.php
modules/contrib/build_hooks/tests/modules/build_hooks_test/src/Plugin/FrontendEnvironment/TestEnvironment.php
modules/contrib/build_hooks/tests/src/Functional/DeploymentUpdateTest.php
modules/contrib/build_hooks/tests/src/Functional/UiTest.php
modules/contrib/build_hooks/tests/src/Kernel/BuildHooksConfigEntityTest.php
modules/contrib/build_hooks/tests/src/Kernel/BuildHooksKernelTestBase.php
modules/contrib/build_hooks/tests/src/Kernel/DeployLogDeprecatedTest.php
modules/contrib/build_hooks/tests/src/Kernel/DeploymentStorageHandlerTest.php
modules/contrib/build_hooks/tests/src/Kernel/DeploymentValidationTest.php
modules/contrib/build_hooks/tests/src/Traits/EnvironmentTestTrait.php
modules/contrib/build_hooks/tests/src/Unit/BuildHookDetailsDeprecatedTest.php

11 files with changes
=====================

1) modules/contrib/build_hooks/tests/src/Unit/BuildHookDetailsDeprecatedTest.php:17

    ---------- begin diff ----------
@@ @@
    *
    * @expectedDeprecation Drupal\build_hooks\BuildHookDetails::getBody is deprecated in build_hooks:8.x-2.4 and is removed from build_hooks:8.x-3.0. Instead, you should use Drupal\build_hooks\BuildHookDetails::getOptions. See https://www.drupal.org/node/3173753
    * @expectedDeprecation Drupal\build_hooks\BuildHookDetails::setBody is deprecated in build_hooks:8.x-2.4 and is removed from build_hooks:8.x-3.0. Instead, you should use Drupal\build_hooks\BuildHookDetails::setOptions. See https://www.drupal.org/node/3173753
+   * @doesNotPerformAssertions
    */
   public function testDeprecatedMethods() {
     $details = new BuildHookDetails();
    ----------- end diff -----------

Applied rules:
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/build_hooks/tests/src/Kernel/DeploymentValidationTest.php:16

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->createTestEnvironment();
   }
@@ @@
     /** @var \Drupal\Core\Entity\EntityConstraintViolationList $errors */
     $errors = $another->validate();
     $this->assertCount(1, $errors);
-    $this->assertRegExp('/There is already an active deployment for this environment/', (string) $errors[0]->getMessage());
+    $this->assertMatchesRegularExpression('/There is already an active deployment for this environment/', (string) $errors[0]->getMessage());
     $this->assertEquals('status', $errors[0]->getPropertyPath());
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/build_hooks/tests/src/Kernel/DeploymentStorageHandlerTest.php:13

    ---------- begin diff ----------
@@ @@
  */
 class DeploymentStorageHandlerTest extends BuildHooksKernelTestBase {

+  use \Prophecy\PhpUnit\ProphecyTrait;
   use EnvironmentTestTrait;

   const MOCK_TIME = 1600745446;
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->createTestEnvironment();
     $time = $this->prophesize(TimeInterface::class);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/build_hooks/tests/src/Kernel/DeployLogDeprecatedTest.php:13

    ---------- begin diff ----------
@@ @@
    * Tests removed method.
    *
    * @expectedDeprecation Drupal\build_hooks\DeployLogger::getLogItemsSinceTimestamp is deprecated in build_hooks:8.x-2.4 and is removed from build_hooks:8.x-3.0. There is no replacement, instead work with the deployment content entity. See https://www.drupal.org/node/3172327
+   * @doesNotPerformAssertions
    */
   public function testDeprecatedMethod() {
     $logger = \Drupal::service('build_hooks.deploylogger');
    ----------- end diff -----------

Applied rules:
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/build_hooks/tests/src/Kernel/BuildHooksKernelTestBase.php:47

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig('build_hooks');
     $this->installConfig('system');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/build_hooks/tests/src/Functional/UiTest.php:143

    ---------- begin diff ----------
@@ @@
    */
   private function assertAddEnvironmentForPluginFunctionality() {
     $assert = $this->assertSession();
-    $query = $assert->buildXPathQuery('//a[contains(@href, :href)]', [
+    $query = $this->assertSession()->buildXPathQuery('//a[contains(@href, :href)]', [
       ':href' => Url::fromRoute('build_hooks.admin_add', [
         'plugin_id' => 'build_hooks_test',
       ])->toString(),
    ----------- end diff -----------

Applied rules:
 * BuildXPathQueryRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/build_hooks/src/Trigger.php:242

    ---------- begin diff ----------
@@ @@
       $buildHookDetails->getOptions()
     );
     $event = new ResponseEvent($response, $plugin);
-    $this->eventDispatcher->dispatch(ResponseEvent::EVENT_NAME, $event);
+    $this->eventDispatcher->dispatch($event, ResponseEvent::EVENT_NAME);
     return $response;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


8) modules/contrib/build_hooks/src/Event/ResponseEvent.php:10

    ---------- begin diff ----------
@@ @@
  *
  * @package Drupal\build_hooks\Event
  */
-class ResponseEvent extends Event {
+class ResponseEvent extends \Symfony\Contracts\EventDispatcher\Event {


   const EVENT_NAME = 'build_hooks.response';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/build_hooks/modules/build_hooks_netlify/tests/src/Kernel/NetlifyBuildHooksTest.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig('build_hooks_netlify');
   }
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/build_hooks/modules/build_hooks_circleci/tests/src/Kernel/CircleBuildHookTest.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installConfig('system');
     $this->installConfig('build_hooks_circleci');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/build_hooks/modules/build_hooks_bitbucket/tests/src/Unit/BitbucketManagerTest.php:13

    ---------- begin diff ----------
@@ @@
  */
 class BitbucketManagerTest extends UnitTestCase {

+  use \Prophecy\PhpUnit\ProphecyTrait;
   /**
    * Tests getting build hook details..
    */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 11 files have been changed by Rector                                      

