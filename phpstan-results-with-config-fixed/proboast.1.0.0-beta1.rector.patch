diff --git a/proboast.info.yml b/proboast.info.yml
index 4a6a752..012715b 100644
--- a/proboast.info.yml
+++ b/proboast.info.yml
@@ -4,8 +4,7 @@ package: ProBoast
 configure: proboast.admin_form
 
 type: module
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 # Information added by Drupal.org packaging script on 2021-07-03
 version: '1.0.0-beta1'
diff --git a/src/Controller/WebhookController.php b/src/Controller/WebhookController.php
index 7bafce9..171f177 100644
--- a/src/Controller/WebhookController.php
+++ b/src/Controller/WebhookController.php
@@ -170,7 +170,7 @@ class WebhookController extends ControllerBase {
               if (!empty($file)) {
 
                 $file_url = $file->createFileUrl();
-                $file_url = file_create_url($file_url);
+                $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($file_url);
 
                 if (strpos($file_url, 'http://') === FALSE && strpos($file_url, 'https://') === FALSE) {
                   $host = $this->request->getSchemeAndHttpHost();
