modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/InstapageCmsPluginAjaxController.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/InstapageCmsPluginHelper.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/connectors/InstapageCmsPluginConnector.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/connectors/InstapageCmsPluginDrupal7Connector.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/connectors/InstapageCmsPluginDrupal8Connector.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/connectors/InstapageCmsPluginWPConnector.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/instapage.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/models/InstapageCmsPluginAPIModel.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/models/InstapageCmsPluginDBModel.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/models/InstapageCmsPluginDebugLogModel.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/models/InstapageCmsPluginPageModel.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/models/InstapageCmsPluginServicesModel.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/models/InstapageCmsPluginSubaccountModel.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/models/InstapageCmsPluginViewModel.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/modules/lpAjaxLoader/InstapageCmsPluginLPAjaxLoaderController.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/modules/lpAjaxLoader/view.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/templates/log.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/templates/log_options.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/templates/log_plugins.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/views/base.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/views/edit.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/views/listing.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/views/messages.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/views/settings.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/views/toolbar.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/instapage_cms_plugin.install
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/instapage_cms_plugin.module
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/src/Controller/InstapagePluginController.php
modules/contrib/instapage_cms_plugin-instapage_cms_plugin/src/EventSubscriber/InstapagePluginSubscriber.php

2 files with changes
====================

1) modules/contrib/instapage_cms_plugin-instapage_cms_plugin/src/EventSubscriber/InstapagePluginSubscriber.php:27

    ---------- begin diff ----------
@@ @@
    *
    * @param object $event Event object.
    */
-  public function onKernelResponse(FilterResponseEvent $event) {
+  public function onKernelResponse(\Symfony\Component\HttpKernel\Event\ResponseEvent $event) {

     if (!$event->isMasterRequest()) {
       return;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


2) modules/contrib/instapage_cms_plugin-instapage_cms_plugin/core/connectors/InstapageCmsPluginDrupal7Connector.php:59

    ---------- begin diff ----------
@@ @@
  * Drupal 7 hook. Function called to load plugin's dashboard.
  */
 function load_instapage_cms_plugin_dashboard() {
-  $jsDir = base_path() . drupal_get_path('module', InstapageCmsPluginConnector::getPluginDirectoryName()) . '/core/assets/js';
-  $knockoutDir = base_path() . drupal_get_path('module', InstapageCmsPluginConnector::getPluginDirectoryName()) . '/core/knockout';
-  $languageFile = base_path() . drupal_get_path('module', InstapageCmsPluginConnector::getPluginDirectoryName()) . '/core/assets/lang/' . InstapageCmsPluginConnector::getSelectedLanguage() . '.js';
+  $jsDir = base_path() . \Drupal::service('extension.list.module')->getPath(InstapageCmsPluginConnector::getPluginDirectoryName()) . '/core/assets/js';
+  $knockoutDir = base_path() . \Drupal::service('extension.list.module')->getPath(InstapageCmsPluginConnector::getPluginDirectoryName()) . '/core/knockout';
+  $languageFile = base_path() . \Drupal::service('extension.list.module')->getPath(InstapageCmsPluginConnector::getPluginDirectoryName()) . '/core/assets/lang/' . InstapageCmsPluginConnector::getSelectedLanguage() . '.js';
   $options = array(
     'scope' => 'footer',
     'group' => JS_LIBRARY,
@@ @@
   drupal_add_js($jsDir . '/tabs.js', $options);

   $options = array('preprocess' => 'false');
-  $cssDir = drupal_get_path('module', InstapageCmsPluginConnector::getPluginDirectoryName()) . '/core/assets/css';
+  $cssDir = \Drupal::service('extension.list.module')->getPath(InstapageCmsPluginConnector::getPluginDirectoryName()) . '/core/assets/css';
   drupal_add_css($cssDir . '/mrwhite-reset.css', $options);
   drupal_add_css($cssDir . '/mrwhite-ui-kit.css', $options);
   drupal_add_css($cssDir . '/general.css', $options);
@@ @@
     $sql = $this->prepare($sql);

     try {
-      db_query($sql, $args);
+      // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+      // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+      \Drupal::database()->query($sql, $args);

       return true;
     } catch (Exception $e) {
@@ @@
     $sql = $this->prepare($sql);

     try {
-      $result = db_query($sql, $args);
+      // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+      // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+      $result = \Drupal::database()->query($sql, $args);

       return $result->fetchObject();
     } catch (Exception $e) {
@@ @@
     $sql = $this->prepare($sql);

     try {
-      $result = db_query($sql, $args);
+      // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+      // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+      $result = \Drupal::database()->query($sql, $args);
       $resultArray = $result->fetchAll(PDO::FETCH_OBJ);

       if (!is_array($resultArray)) {
    ----------- end diff -----------

Applied rules:
 * DBQueryRector
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 2 files have been changed by Rector                                       

