diff --git a/composer.json b/composer.json
index 6a7684b..649627c 100644
--- a/composer.json
+++ b/composer.json
@@ -3,8 +3,8 @@
     "type": "drupal-module",
     "description": "Provides an image toolkit to integrate ImageMagick with the Image API.",
     "require": {
-        "drupal/core": "^9.2",
         "drupal/file_mdm": "^2",
-        "drupal/sophron": "^1.2"
+        "drupal/sophron": "^1.2",
+        "drupal/core": "^9.3 || ^10"
     }
 }
diff --git a/imagemagick.info.yml b/imagemagick.info.yml
index f663337..17d6c79 100644
--- a/imagemagick.info.yml
+++ b/imagemagick.info.yml
@@ -1,5 +1,5 @@
 type: module
-core_version_requirement: ^9.2
+core_version_requirement: ^9.3 || ^10
 name: ImageMagick
 description: 'Provides ImageMagick integration.'
 package: Media
diff --git a/tests/src/Functional/EventSubscriberTest.php b/tests/src/Functional/EventSubscriberTest.php
index f1ceb51..4ee8226 100644
--- a/tests/src/Functional/EventSubscriberTest.php
+++ b/tests/src/Functional/EventSubscriberTest.php
@@ -133,7 +133,7 @@ class EventSubscriberTest extends BrowserTestBase {
     $this->setUpToolkit($toolkit_id, $toolkit_config, $toolkit_settings);
     $this->prepareImageFileHandling();
 
-    $image_uri = drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif';
+    $image_uri = \Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif';
 
     // By default, no coalesce of animated GIFs.
     $image = $this->imageFactory->get($image_uri);
diff --git a/tests/src/Functional/ToolkitImagemagickFileMetadataTest.php b/tests/src/Functional/ToolkitImagemagickFileMetadataTest.php
index d029d6b..8e36323 100644
--- a/tests/src/Functional/ToolkitImagemagickFileMetadataTest.php
+++ b/tests/src/Functional/ToolkitImagemagickFileMetadataTest.php
@@ -138,9 +138,9 @@ class ToolkitImagemagickFileMetadataTest extends BrowserTestBase {
     $fmdm = $this->container->get('file_metadata_manager');
 
     // Prepare a copy of test files.
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif', 'public://', FileSystemInterface::EXISTS_REPLACE);
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-exif.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-exif-icc.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif', 'public://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-exif.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-exif-icc.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
 
     // Perform tests without caching.
     $config_mdm->set('metadata_cache.enabled', FALSE)->save();
@@ -366,7 +366,7 @@ class ToolkitImagemagickFileMetadataTest extends BrowserTestBase {
     }
 
     // Files in temporary:// must not be cached.
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif', 'temporary://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif', 'temporary://', FileSystemInterface::EXISTS_REPLACE);
     $source_uri = 'temporary://test-multi-frame.gif';
     $fmdm->release($source_uri);
     $source_image_md = $fmdm->uri($source_uri);
diff --git a/tests/src/Functional/ToolkitImagemagickTest.php b/tests/src/Functional/ToolkitImagemagickTest.php
index 0cb5429..af8004f 100644
--- a/tests/src/Functional/ToolkitImagemagickTest.php
+++ b/tests/src/Functional/ToolkitImagemagickTest.php
@@ -505,11 +505,11 @@ class ToolkitImagemagickTest extends BrowserTestBase {
     $this->assertSame('', $image->getToolkit()->arguments()->getDestinationLocalPath());
 
     // Test retrieval of EXIF information.
-    $this->fileSystem->copy(drupal_get_path('module', 'imagemagick') . '/misc/test-exif.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
+    $this->fileSystem->copy(\Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-exif.jpeg', 'public://', FileSystemInterface::EXISTS_REPLACE);
     // The image files that will be tested.
     $image_files = [
       [
-        'path' => drupal_get_path('module', 'imagemagick') . '/misc/test-exif.jpeg',
+        'path' => \Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-exif.jpeg',
         'orientation' => 8,
       ],
       [
@@ -545,7 +545,7 @@ class ToolkitImagemagickTest extends BrowserTestBase {
     // Test multi-frame GIF image.
     $image_files = [
       [
-        'source' => drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif',
+        'source' => \Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif',
         'destination' => $this->testDirectory . '/test-multi-frame.gif',
         'width' => 60,
         'height' => 29,
@@ -779,7 +779,7 @@ class ToolkitImagemagickTest extends BrowserTestBase {
     // Test multi-frame GIF image.
     $image_files = [
       [
-        'source' => drupal_get_path('module', 'imagemagick') . '/misc/test-multi-frame.gif',
+        'source' => \Drupal::service('extension.list.module')->getPath('imagemagick') . '/misc/test-multi-frame.gif',
         'destination' => $this->testDirectory . '/test-multi-frame.gif',
         'width' => 60,
         'height' => 29,
