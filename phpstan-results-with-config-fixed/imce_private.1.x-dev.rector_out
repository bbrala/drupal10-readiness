modules/contrib/imce_private/src/Plugin/CKEditorPlugin/ImcePrivate.php

1 file with changes
===================

1) modules/contrib/imce_private/src/Plugin/CKEditorPlugin/ImcePrivate.php:19

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'imce_private') . '/js/plugins/ckeditor/imce.ckeditor.js';
+    return \Drupal::service('extension.list.module')->getPath('imce_private') . '/js/plugins/ckeditor/imce.ckeditor.js';
   }

   /**
@@ @@
    */
   public function getConfig(Editor $editor) {
     return [
-      'ImceImageIconPrivate' => file_create_url($this->imageIconPrivate()),
-      'ImceLinkIconPrivate' => file_create_url($this->linkIconPrivate()),
-      'ImceImageIconPublic' => file_create_url($this->imageIconPublic()),
-      'ImceLinkIconPublic' => file_create_url($this->linkIconPublic()),
+      'ImceImageIconPrivate' => \Drupal::service('file_url_generator')->generateAbsoluteString($this->imageIconPrivate()),
+      'ImceLinkIconPrivate' => \Drupal::service('file_url_generator')->generateAbsoluteString($this->linkIconPrivate()),
+      'ImceImageIconPublic' => \Drupal::service('file_url_generator')->generateAbsoluteString($this->imageIconPublic()),
+      'ImceLinkIconPublic' => \Drupal::service('file_url_generator')->generateAbsoluteString($this->linkIconPublic()),
     ];
   }

@@ @@
    * Returns private image icon path.
    */
   public function imageIconPrivate() {
-    return drupal_get_path('module', 'imce_private') . '/js/plugins/ckeditor/icons/imceimage_private.png';
+    return \Drupal::service('extension.list.module')->getPath('imce_private') . '/js/plugins/ckeditor/icons/imceimage_private.png';
   }

   /**
@@ @@
    * Returns private link icon path.
    */
   public function linkIconPrivate() {
-    return drupal_get_path('module', 'imce_private') . '/js/plugins/ckeditor/icons/imcelink_private.png';
+    return \Drupal::service('extension.list.module')->getPath('imce_private') . '/js/plugins/ckeditor/icons/imcelink_private.png';
   }

   /**
@@ @@
    * Returns public image icon path.
    */
   public function imageIconPublic() {
-    return drupal_get_path('module', 'imce_private') . '/js/plugins/ckeditor/icons/imceimage_public.png';
+    return \Drupal::service('extension.list.module')->getPath('imce_private') . '/js/plugins/ckeditor/icons/imceimage_public.png';
   }

   /**
@@ @@
    * Returns public link icon path.
    */
   public function linkIconPublic() {
-    return drupal_get_path('module', 'imce_private') . '/js/plugins/ckeditor/icons/imcelink_public.png';
+    return \Drupal::service('extension.list.module')->getPath('imce_private') . '/js/plugins/ckeditor/icons/imcelink_public.png';
   }

 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

