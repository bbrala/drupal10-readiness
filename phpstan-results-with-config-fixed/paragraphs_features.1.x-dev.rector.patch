diff --git a/src/ParagraphsFeatures.php b/src/ParagraphsFeatures.php
index 37fceb1..70f7d8c 100644
--- a/src/ParagraphsFeatures.php
+++ b/src/ParagraphsFeatures.php
@@ -65,7 +65,7 @@ class ParagraphsFeatures {
           $widget->getThirdPartySetting('paragraphs_features', 'add_in_between_link_count');
       }
       // Set module path for split_text feature.
-      $elements['add_more']['#attached']['drupalSettings']['paragraphs_features']['_path'] = drupal_get_path('module', 'paragraphs_features');
+      $elements['add_more']['#attached']['drupalSettings']['paragraphs_features']['_path'] = \Drupal::service('extension.list.module')->getPath('paragraphs_features');
     }
 
     $elements['add_more']['#attached']['library'][] = 'paragraphs_features/drupal.paragraphs_features.scroll_to_element';
diff --git a/src/Plugin/CKEditorPlugin/SplitText.php b/src/Plugin/CKEditorPlugin/SplitText.php
index e745026..e74491f 100644
--- a/src/Plugin/CKEditorPlugin/SplitText.php
+++ b/src/Plugin/CKEditorPlugin/SplitText.php
@@ -49,7 +49,7 @@ class SplitText extends PluginBase implements CKEditorPluginInterface, CKEditorP
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'paragraphs_features') . '/js/plugins/splittext/plugin.js';
+    return \Drupal::service('extension.list.module')->getPath('paragraphs_features') . '/js/plugins/splittext/plugin.js';
   }
 
   /**
diff --git a/tests/src/FunctionalJavascript/ParagraphsFeaturesAddInBetweenTest.php b/tests/src/FunctionalJavascript/ParagraphsFeaturesAddInBetweenTest.php
index e51ebc6..2ed2c9e 100644
--- a/tests/src/FunctionalJavascript/ParagraphsFeaturesAddInBetweenTest.php
+++ b/tests/src/FunctionalJavascript/ParagraphsFeaturesAddInBetweenTest.php
@@ -64,9 +64,9 @@ class ParagraphsFeaturesAddInBetweenTest extends ParagraphsFeaturesJavascriptTes
     $page->uncheckField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between]');
     $this->assertSession()->assertWaitOnAjaxRequest();
 
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
 
     // Check that default add mode functionality is used.
     $this->drupalGet("node/add/$content_type");
@@ -81,9 +81,9 @@ class ParagraphsFeaturesAddInBetweenTest extends ParagraphsFeaturesJavascriptTes
     $page->checkField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between]');
     $page->fillField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between_link_count]', 0);
 
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
 
     // Check that add in between functionality is used.
     $this->drupalGet("node/add/$content_type");
@@ -143,9 +143,9 @@ class ParagraphsFeaturesAddInBetweenTest extends ParagraphsFeaturesJavascriptTes
     $page->pressButton('field_paragraphs_settings_edit');
     $this->assertSession()->assertWaitOnAjaxRequest();
     $page->uncheckField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between]');
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
 
     // Set modal add mode with add in between option for nested paragraph.
     $this->drupalGet("admin/structure/paragraphs_type/test_nested/form-display");
@@ -156,9 +156,9 @@ class ParagraphsFeaturesAddInBetweenTest extends ParagraphsFeaturesJavascriptTes
     $this->assertSession()->assertWaitOnAjaxRequest();
     $page->checkField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between]');
     $page->fillField('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][add_in_between_link_count]', 0);
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
 
     // Check that add in between functionality is not available for base
     // paragraphs and it's used for nested paragraph.
diff --git a/tests/src/FunctionalJavascript/ParagraphsFeaturesDeleteConfirmationTest.php b/tests/src/FunctionalJavascript/ParagraphsFeaturesDeleteConfirmationTest.php
index 2417e3d..1946c08 100644
--- a/tests/src/FunctionalJavascript/ParagraphsFeaturesDeleteConfirmationTest.php
+++ b/tests/src/FunctionalJavascript/ParagraphsFeaturesDeleteConfirmationTest.php
@@ -226,9 +226,9 @@ class ParagraphsFeaturesDeleteConfirmationTest extends ParagraphsFeaturesJavascr
 
     $action = "{$op}Field";
     $page->$action('fields[field_paragraphs][settings_edit_form][third_party_settings][paragraphs_features][delete_confirmation]');
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
   }
 
 }
diff --git a/tests/src/FunctionalJavascript/ParagraphsFeaturesExtendedParagraphsWidgetTest.php b/tests/src/FunctionalJavascript/ParagraphsFeaturesExtendedParagraphsWidgetTest.php
index da2675d..700feb9 100644
--- a/tests/src/FunctionalJavascript/ParagraphsFeaturesExtendedParagraphsWidgetTest.php
+++ b/tests/src/FunctionalJavascript/ParagraphsFeaturesExtendedParagraphsWidgetTest.php
@@ -47,10 +47,10 @@ class ParagraphsFeaturesExtendedParagraphsWidgetTest extends ParagraphsFeaturesJ
     $is_checked = $session->evaluateScript("document.querySelector('.paragraphs-features__add-in-between__option').checked");
     $this->assertEquals(TRUE, $is_checked, 'Checkbox should be checked.');
 
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
 
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
 
     // Check that add in between functionality is used.
     $this->drupalGet("node/add/$content_type");
diff --git a/tests/src/FunctionalJavascript/ParagraphsFeaturesJavascriptTestBase.php b/tests/src/FunctionalJavascript/ParagraphsFeaturesJavascriptTestBase.php
index e3e2f1c..40fb8ce 100644
--- a/tests/src/FunctionalJavascript/ParagraphsFeaturesJavascriptTestBase.php
+++ b/tests/src/FunctionalJavascript/ParagraphsFeaturesJavascriptTestBase.php
@@ -49,7 +49,7 @@ abstract class ParagraphsFeaturesJavascriptTestBase extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     if ($theme = getenv('THEME')) {
diff --git a/tests/src/FunctionalJavascript/ParagraphsFeaturesSplitTextTest.php b/tests/src/FunctionalJavascript/ParagraphsFeaturesSplitTextTest.php
index dc0869a..cbab085 100644
--- a/tests/src/FunctionalJavascript/ParagraphsFeaturesSplitTextTest.php
+++ b/tests/src/FunctionalJavascript/ParagraphsFeaturesSplitTextTest.php
@@ -88,9 +88,9 @@ class ParagraphsFeaturesSplitTextTest extends ParagraphsFeaturesJavascriptTestBa
     $is_checked = $session->evaluateScript("jQuery('.paragraphs-features__split-text__option').is(':checked')");
     $this->assertEquals(TRUE, $is_checked, 'Checkbox should be checked.');
 
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
 
     // Case 1 - simple text split.
     $paragraph_content_0 = '<p>Content that will be in the first paragraph after the split.</p>';
@@ -307,9 +307,9 @@ class ParagraphsFeaturesSplitTextTest extends ParagraphsFeaturesJavascriptTestBa
     $session->executeScript("jQuery('[name=\"fields[field_paragraphs][settings_edit_form][settings][autocollapse]\"]').trigger('change');");
     $this->assertSession()->assertWaitOnAjaxRequest();
 
-    $this->drupalPostForm(NULL, [], 'Update');
+    $this->submitForm([], 'Update');
     $this->assertSession()->assertWaitOnAjaxRequest();
-    $this->drupalPostForm(NULL, [], $this->t('Save'));
+    $this->submitForm([], $this->t('Save'));
 
     // 7.2 - Test that simple text split works with auto-collapse.
     $paragraph_content_0 = '<p>Content that will be in the first paragraph after the split.</p>';
