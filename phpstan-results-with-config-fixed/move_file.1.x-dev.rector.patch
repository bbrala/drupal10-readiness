diff --git a/src/Services/MoveFileService.php b/src/Services/MoveFileService.php
index 337334d..d21732c 100644
--- a/src/Services/MoveFileService.php
+++ b/src/Services/MoveFileService.php
@@ -139,7 +139,7 @@ class MoveFileService {
             // The file should be moved only if the target URI is different from
             // the recent URI.
             if ($file_target_uri != $file->getFileUri()) {
-              if (file_move($file, $file_target_uri)) {
+              if (\Drupal::service('file.repository')->move($file, $file_target_uri)) {
                 $this->logger->notice('The file "' . $file->getFilename() . '" has been moved to the path: ' . $file_target_uri);
               }
               else {
diff --git a/src/Tests/Form/MoveFileContentTypesFormTest.php b/src/Tests/Form/MoveFileContentTypesFormTest.php
index 340939d..873c1e1 100644
--- a/src/Tests/Form/MoveFileContentTypesFormTest.php
+++ b/src/Tests/Form/MoveFileContentTypesFormTest.php
@@ -82,7 +82,7 @@ class MoveFileContentTypesFormTest extends BrowserTestBase {
    *
    * @throws \Drupal\Core\Entity\EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->guestRole = Role::load('anonymous');
@@ -143,10 +143,7 @@ class MoveFileContentTypesFormTest extends BrowserTestBase {
       'settings[article][vocabulary_field]' => 'field_tags',
       'settings[article][file_field][field_image]' => 'field_image',
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save configuration')
-    );
+    $this->submitForm($edit, t('Save configuration'));
 
     $this->assertSession()->pageTextContains(
       'The configuration options have been saved.'
diff --git a/src/Tests/Form/MoveFileCreateConfigEntityTest.php b/src/Tests/Form/MoveFileCreateConfigEntityTest.php
index eef4bd4..6eba849 100644
--- a/src/Tests/Form/MoveFileCreateConfigEntityTest.php
+++ b/src/Tests/Form/MoveFileCreateConfigEntityTest.php
@@ -90,7 +90,7 @@ class MoveFileCreateConfigEntityTest extends BrowserTestBase {
    *
    * @throws \Drupal\Core\Entity\EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->guestRole = Role::load('anonymous');
@@ -195,10 +195,7 @@ class MoveFileCreateConfigEntityTest extends BrowserTestBase {
       'id' => '_aaa',
       'term_id' => $this->term->id(),
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save')
-    );
+    $this->submitForm($edit, t('Save'));
 
     $this->assertSession()->pageTextContains(
       'The directory /aaa was saved successfully.'
diff --git a/src/Tests/Form/MoveFileSettingsFormTest.php b/src/Tests/Form/MoveFileSettingsFormTest.php
index 97b1843..5c76ccb 100644
--- a/src/Tests/Form/MoveFileSettingsFormTest.php
+++ b/src/Tests/Form/MoveFileSettingsFormTest.php
@@ -82,7 +82,7 @@ class MoveFileSettingsFormTest extends BrowserTestBase {
    *
    * @throws \Drupal\Core\Entity\EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->guestRole = Role::load('anonymous');
@@ -126,10 +126,7 @@ class MoveFileSettingsFormTest extends BrowserTestBase {
     $edit = [
       'move_file_vocabulary' => 'tags',
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save configuration')
-    );
+    $this->submitForm($edit, t('Save configuration'));
 
     $this->assertSession()->pageTextContains(
       'The configuration options have been saved.'
diff --git a/src/Tests/MoveFileComplexTest.php b/src/Tests/MoveFileComplexTest.php
index c746d7d..47eeb05 100644
--- a/src/Tests/MoveFileComplexTest.php
+++ b/src/Tests/MoveFileComplexTest.php
@@ -93,7 +93,7 @@ class MoveFileComplexTest extends BrowserTestBase {
    *
    * @throws \Drupal\Core\Entity\EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     // Set up our custom test config.
@@ -178,10 +178,7 @@ class MoveFileComplexTest extends BrowserTestBase {
       'id' => '_aaa',
       'term_id' => $this->termA->id(),
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save')
-    );
+    $this->submitForm($edit, t('Save'));
     $this->assertSession()->pageTextContains(
       'The directory /aaa was saved successfully.'
     );
@@ -192,10 +189,7 @@ class MoveFileComplexTest extends BrowserTestBase {
       'id' => '_bbb',
       'term_id' => $this->termB->id(),
     ];
-    $this->drupalPostForm(NULL,
-      $edit,
-      t('Save')
-    );
+    $this->submitForm($edit, t('Save'));
     $this->assertSession()->pageTextContains(
       'The directory /bbb was saved successfully.'
     );
