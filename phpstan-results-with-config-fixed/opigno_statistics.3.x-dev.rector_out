modules/contrib/opigno_statistics/opigno_statistics.drush.inc
modules/contrib/opigno_statistics/opigno_statistics.install
modules/contrib/opigno_statistics/opigno_statistics.module
modules/contrib/opigno_statistics/src/Access/OpignoStatisticsAccess.php
modules/contrib/opigno_statistics/src/Access/UserAchievementsAccess.php
modules/contrib/opigno_statistics/src/Commands/StatisticsCommands.php
modules/contrib/opigno_statistics/src/Controller/UserAchievements.php
modules/contrib/opigno_statistics/src/Controller/UserController.php
modules/contrib/opigno_statistics/src/EventSubscriber/RouteSubscriber.php
modules/contrib/opigno_statistics/src/Form/DashboardForm.php
modules/contrib/opigno_statistics/src/Form/TrainingForm.php
modules/contrib/opigno_statistics/src/Services/UserStatisticsManager.php
modules/contrib/opigno_statistics/src/StatisticsPageTrait.php
modules/contrib/opigno_statistics/tests/src/Functional/OpignoStatisticsBrowserTestBase.php
modules/contrib/opigno_statistics/tests/src/Functional/OpignoStatisticsTest.php

4 files with changes
====================

1) modules/contrib/opigno_statistics/tests/src/Functional/OpignoStatisticsBrowserTestBase.php:45

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->entityTypeManager = $this->container->get('entity_type.manager');
     $this->accountSwitcher = $this->container->get('account_switcher');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/opigno_statistics/src/Services/UserStatisticsManager.php:601

    ---------- begin diff ----------
@@ @@
    *   Render array to display the default user image.
    */
   public static function getDefaultUserPicture(?UserInterface $user = NULL): array {
-    $path = drupal_get_path('theme', 'aristotle') . '/src/images/content/profil.svg';
+    $path = \Drupal::service('extension.list.theme')->getPath('aristotle') . '/src/images/content/profil.svg';
     $name = $user instanceof UserInterface ? $user->getDisplayName() : t('User');

     return [
       '#theme' => 'image',
-      '#uri' => file_exists($path) ? file_url_transform_relative(base_path() . $path) : '',
+      '#uri' => file_exists($path) ? \Drupal::service('file_url_generator')->transformRelative(base_path() . $path) : '',
       '#alt' => $name,
       '#title' => $name,
     ];
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


3) modules/contrib/opigno_statistics/src/Controller/UserController.php:204

    ---------- begin diff ----------
@@ @@
    *   Path to the image in theme.
    */
   private function getAchievementImagePath(string $image): string {
-    $path = drupal_get_path('theme', 'aristotle') . "/src/images/design/$image";
+    $path = \Drupal::service('extension.list.theme')->getPath('aristotle') . "/src/images/design/$image";

-    return file_exists($path) ? file_url_transform_relative(base_path() . $path) : '';
+    return file_exists($path) ? \Drupal::service('file_url_generator')->transformRelative(base_path() . $path) : '';
   }

   /**
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/opigno_statistics/opigno_statistics.install:57

    ---------- begin diff ----------
@@ @@
  */
 function opigno_statistics_update_9001() {
   $config_storage = \Drupal::service('config.storage');
-  $opigno_module_path = drupal_get_path('module', 'opigno_module') . '/config/optional/';
+  $opigno_module_path = \Drupal::service('extension.list.module')->getPath('opigno_module') . '/config/optional/';
   $configs = [
     'core.entity_view_display.group.learning_path.list_item' => $opigno_module_path,
     'core.entity_view_display.user.user.compact' => $opigno_module_path,
@@ @@
  * Import statistics configs.
  */
 function opigno_statistics_update_9003() {
-  $config_path = drupal_get_path('module', 'opigno_statistics') . '/config/optional/';
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_statistics') . '/config/optional/';
   $config_source = new FileStorage($config_path);
   \Drupal::service('config.installer')->installOptionalConfig($config_source);
 }
@@ @@
  */
 function opigno_statistics_update_9004() {
   $config_storage = \Drupal::service('config.storage');
-  $config_path = drupal_get_path('module', 'opigno_module') . '/config/optional/';
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_module') . '/config/optional/';
   $source = new FileStorage($config_path);
   $config_storage->write('views.view.opigno_score_modules', $source->read('views.view.opigno_score_modules'));
 }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 4 files have been changed by Rector                                       

