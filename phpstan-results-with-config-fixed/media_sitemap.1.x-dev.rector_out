modules/contrib/media_sitemap/Tests/Controller/MediaSitemapBatchControllerTest.php
modules/contrib/media_sitemap/Tests/Controller/MediaSitemapControllerTest.php
modules/contrib/media_sitemap/media_sitemap.module
modules/contrib/media_sitemap/src/Controller/MediaSitemapBatchController.php
modules/contrib/media_sitemap/src/Controller/MediaSitemapController.php
modules/contrib/media_sitemap/src/MediaSitemapGenerator.php
modules/contrib/media_sitemap/src/MediaSitemapGeneratorInterface.php

2 files with changes
====================

1) modules/contrib/media_sitemap/src/MediaSitemapGenerator.php:88

    ---------- begin diff ----------
@@ @@
           $output .= '<url><loc>' . Url::fromRoute('entity.node.canonical', array('node' => $nid->id), array('absolute' => TRUE))
               ->toString() . '</loc>';
           foreach ($files as $file) {
-            $output .= '<image:image><image:loc>' . file_create_url($file->uri) . '</image:loc><image:title>' . $file->filename . '</image:title></image:image>';
+            $output .= '<image:image><image:loc>' . \Drupal::service('file_url_generator')->generateAbsoluteString($file->uri) . '</image:loc><image:title>' . $file->filename . '</image:title></image:image>';
           }
           $output .= '</url>';
           $total_urls++;
@@ @@
       }
       $output .= '</urlset>';
       // File build path.
-      $path = file_create_url($this->fileSystem->realpath( $this->configFactory->get('system.file')->get('default_scheme') . "://media_sitemap"));
+      $path = \Drupal::service('file_url_generator')->generateAbsoluteString($this->fileSystem->realpath( $this->configFactory->get('system.file')->get('default_scheme') . "://media_sitemap"));
       if (!is_dir($path)) {
         \Drupal::service('file_system')->mkdir($path);
       }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


2) modules/contrib/media_sitemap/src/Controller/MediaSitemapController.php:67

    ---------- begin diff ----------
@@ @@
     );
     $rows = array();
     $url = 'public://media_sitemap/image_sitemap.xml';
-    $url = file_create_url($url);
+    $url = \Drupal::service('file_url_generator')->generateAbsoluteString($url);

     // Rows of table.
     $image_sitemap_created = $this->config('media_sitemap.settings')->get('image_sitemap_created');
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

