diff --git a/decoupled_auth.module b/decoupled_auth.module
index fbf84cd..5bc374d 100644
--- a/decoupled_auth.module
+++ b/decoupled_auth.module
@@ -220,7 +220,7 @@ function decoupled_auth_form_user_form_entity_build($entity_type, $entity, &$for
   else {
     $entity->couple();
     if (!$entity->getAccountName()) {
-      $entity->set('name', 'email_registration_' . user_password());
+      $entity->set('name', 'email_registration_' . \Drupal::service('password_generator')->generate());
     }
   }
 }
diff --git a/src/AcquisitionEvent.php b/src/AcquisitionEvent.php
index 5d95ffa..1db2e92 100644
--- a/src/AcquisitionEvent.php
+++ b/src/AcquisitionEvent.php
@@ -8,7 +8,7 @@ use Drupal\decoupled_auth\Entity\DecoupledAuthUser;
 /**
  * Defines user acquisition events.
  */
-class AcquisitionEvent extends Event {
+class AcquisitionEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   /**
    * Name of the event fired prior to attempting an acquisition.
diff --git a/src/AcquisitionService.php b/src/AcquisitionService.php
index 961adf4..b6996bc 100644
--- a/src/AcquisitionService.php
+++ b/src/AcquisitionService.php
@@ -89,7 +89,7 @@ class AcquisitionService implements AcquisitionServiceInterface {
     $context = $context + $this->context;
 
     // Allow modules to make adjustments to our acquisition attempt.
-    $this->eventDispatcher->dispatch(AcquisitionEvent::PRE, new AcquisitionEvent($values, $context));
+    $this->eventDispatcher->dispatch(new AcquisitionEvent($values, $context), AcquisitionEvent::PRE);
 
     // Look for a match.
     if (!empty($values)) {
@@ -125,7 +125,7 @@ class AcquisitionService implements AcquisitionServiceInterface {
     }
 
     // Allow modules to respond to our acquisition attempt.
-    $this->eventDispatcher->dispatch(AcquisitionEvent::POST, new AcquisitionEvent($values, $context, $user));
+    $this->eventDispatcher->dispatch(new AcquisitionEvent($values, $context, $user), AcquisitionEvent::POST);
 
     return $user;
   }
