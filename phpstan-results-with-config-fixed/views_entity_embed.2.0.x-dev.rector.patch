diff --git a/src/Plugin/CKEditorPlugin/DrupalViews.php b/src/Plugin/CKEditorPlugin/DrupalViews.php
index 320f2c6..27586d4 100644
--- a/src/Plugin/CKEditorPlugin/DrupalViews.php
+++ b/src/Plugin/CKEditorPlugin/DrupalViews.php
@@ -20,7 +20,7 @@ class DrupalViews extends EmbedCKEditorPluginBase {
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'views_entity_embed') . '/js/plugins/drupalviews/plugin.js';
+    return \Drupal::service('extension.list.module')->getPath('views_entity_embed') . '/js/plugins/drupalviews/plugin.js';
   }
 
   /**
diff --git a/src/Plugin/EmbedType/EmbedViews.php b/src/Plugin/EmbedType/EmbedViews.php
index 292bf60..fe1dd1d 100644
--- a/src/Plugin/EmbedType/EmbedViews.php
+++ b/src/Plugin/EmbedType/EmbedViews.php
@@ -44,7 +44,7 @@ class EmbedViews extends EmbedTypeBase implements ContainerFactoryPluginInterfac
    * {@inheritdoc}
    */
   public function getDefaultIconUrl() {
-    return file_create_url(drupal_get_path('module', 'views_entity_embed') . '/js/plugins/drupalviews/views_entity_embed.png');
+    return \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('views_entity_embed') . '/js/plugins/drupalviews/views_entity_embed.png');
   }
 
   /**
diff --git a/views_entity_embed.info.yml b/views_entity_embed.info.yml
index 0c0b501..ef7552b 100644
--- a/views_entity_embed.info.yml
+++ b/views_entity_embed.info.yml
@@ -1,8 +1,7 @@
 name: Views Entity Embed
 type: module
 description: 'Allows views to be embedded using a text editor.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: Filters
 dependencies:
   - editor
diff --git a/views_entity_embed.module b/views_entity_embed.module
index d5c1d5b..6e1c8b5 100644
--- a/views_entity_embed.module
+++ b/views_entity_embed.module
@@ -27,7 +27,7 @@ function views_entity_embed_theme() {
   return [
     'views_entity_embed_container' => [
       'render element' => 'element',
-      'path' => drupal_get_path('module', 'views_entity_embed') . '/templates',
+      'path' => \Drupal::service('extension.list.module')->getPath('views_entity_embed') . '/templates',
     ],
   ];
 }
