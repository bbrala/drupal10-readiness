modules/contrib/oai_pmh_harvester/oai_pmh_harvester.install
modules/contrib/oai_pmh_harvester/oai_pmh_harvester.module
modules/contrib/oai_pmh_harvester/src/Batch/ReDecodeAll.php
modules/contrib/oai_pmh_harvester/src/Event/HarvestPreMergeEvent.php
modules/contrib/oai_pmh_harvester/src/Exceptions/ConfigException.php
modules/contrib/oai_pmh_harvester/src/Exceptions/DatabaseException.php
modules/contrib/oai_pmh_harvester/src/Exceptions/EndpointException.php
modules/contrib/oai_pmh_harvester/src/Form/InspectForm.php
modules/contrib/oai_pmh_harvester/src/Form/SettingsForm.php
modules/contrib/oai_pmh_harvester/src/Form/StatusForm.php
modules/contrib/oai_pmh_harvester/src/Harvester.php
modules/contrib/oai_pmh_harvester/src/Service/DecoderService.php
modules/contrib/oai_pmh_harvester/src/Service/HarvesterService.php
modules/contrib/oai_pmh_harvester/src/Util.php
modules/contrib/oai_pmh_harvester/tests/src/Functional/InstallTest.php
modules/contrib/oai_pmh_harvester/tests/src/Unit/UtilTest.php

4 files with changes
====================

1) modules/contrib/oai_pmh_harvester/tests/src/Unit/UtilTest.php:80

    ---------- begin diff ----------
@@ @@
     // Mock the Drupal::time container.
     $container = new ContainerBuilder();
     Drupal::setContainer($container);
-    $mockTime = $this->getMockBuilder('Drupal\Component\Datetime\TimeInterface')
-        ->disableOriginalConstructor()
-        ->getMock();
+    $mockTime = $this->createMock('Drupal\Component\Datetime\TimeInterface');
     $mockTime->method('getRequestTime')->willReturn(12345);
     $container->set('datetime.time', $mockTime);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/oai_pmh_harvester/tests/src/Functional/InstallTest.php:28

    ---------- begin diff ----------
@@ @@
   public function testLoadFront() {
     $this->drupalGet('<front>');
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Log in');
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Verify the assertion: pageTextContains() for HTML responses, responseContains() for non-HTML responses.
+    // The passed text should be HTML decoded, exactly as a human sees it in the browser.
+    $this->assertSession()->pageTextContains('Log in');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertTextRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/oai_pmh_harvester/src/Service/DecoderService.php:45

    ---------- begin diff ----------
@@ @@
     $csl = new MarcCslVariables(Record::fromSimpleXMLElement($xml));

     // Allow other modules to modify the $csl object before we return it.
-    $this->dispatcher->dispatch(HarvestPreMergeEvent::EVENT_NAME, new HarvestPreMergeEvent($xml, $csl));
+    $this->dispatcher->dispatch(new HarvestPreMergeEvent($xml, $csl), HarvestPreMergeEvent::EVENT_NAME);

     return $csl;
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector


4) modules/contrib/oai_pmh_harvester/src/Event/HarvestPreMergeEvent.php:7

    ---------- begin diff ----------
@@ @@
 /**
  * An event that should fire just before harvested data is merged into the DB.
  */
-class HarvestPreMergeEvent extends Event {
+class HarvestPreMergeEvent extends \Symfony\Contracts\EventDispatcher\Event {

   const EVENT_NAME = 'oai_pmh_harvester_harvest_pre_merge';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 4 files have been changed by Rector                                       

