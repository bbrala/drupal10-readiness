diff --git a/src/Component/Utility/FillPdf.php b/src/Component/Utility/FillPdf.php
index f04fdc3..bb5bbc5 100644
--- a/src/Component/Utility/FillPdf.php
+++ b/src/Component/Utility/FillPdf.php
@@ -28,7 +28,7 @@ class FillPdf {
     if (empty($pdftk_path)) {
       $pdftk_path = 'pdftk';
     }
-    $process = new Process($pdftk_path . ' --version');
+    $process = new Process([$pdftk_path, '--version']);
     $process->run();
 
     // Check there's no error code and the --version output includes "pdftk".
diff --git a/src/OutputHandler.php b/src/OutputHandler.php
index a0282cf..a83e97f 100644
--- a/src/OutputHandler.php
+++ b/src/OutputHandler.php
@@ -98,7 +98,7 @@ class OutputHandler implements OutputHandlerInterface {
     }
     else {
       // Full steam ahead!
-      $saved_file = file_save_data($configuration['data'], "{$resolved_destination_path}/{$configuration['filename']}", FileSystemInterface::EXISTS_RENAME);
+      $saved_file = \Drupal::service('file.repository')->writeData($configuration['data'], "{$resolved_destination_path}/{$configuration['filename']}", FileSystemInterface::EXISTS_RENAME);
       $this->rememberFileContext($saved_file, $configuration['context']);
     }
 
diff --git a/src/Plugin/FillPdfActionPlugin/FillPdfRedirectAction.php b/src/Plugin/FillPdfActionPlugin/FillPdfRedirectAction.php
index 0cefc70..f8a7b19 100644
--- a/src/Plugin/FillPdfActionPlugin/FillPdfRedirectAction.php
+++ b/src/Plugin/FillPdfActionPlugin/FillPdfRedirectAction.php
@@ -31,7 +31,7 @@ class FillPdfRedirectAction extends FillPdfSaveAction {
    */
   public function execute() {
     $saved_file = $this->savePdf();
-    $url = ($saved_file !== FALSE) ? file_create_url($saved_file->getFileUri()) : Url::fromRoute('<front>')->toString();
+    $url = ($saved_file !== FALSE) ? \Drupal::service('file_url_generator')->generateAbsoluteString($saved_file->getFileUri()) : Url::fromRoute('<front>')->toString();
     return new RedirectResponse($url);
   }
 
diff --git a/src/Plugin/PdfBackend/PdftkPdfBackend.php b/src/Plugin/PdfBackend/PdftkPdfBackend.php
index 5fe89cd..cae3f0e 100644
--- a/src/Plugin/PdfBackend/PdftkPdfBackend.php
+++ b/src/Plugin/PdfBackend/PdftkPdfBackend.php
@@ -93,7 +93,7 @@ class PdftkPdfBackend extends PdfBackendBase implements ContainerFactoryPluginIn
    * {@inheritdoc}
    */
   public function parseStream($pdf_content) {
-    $template_file = file_save_data($pdf_content);
+    $template_file = \Drupal::service('file.repository')->writeData($pdf_content);
     return $this->parseFile($template_file);
   }
 
@@ -166,7 +166,7 @@ class PdftkPdfBackend extends PdfBackendBase implements ContainerFactoryPluginIn
    * {@inheritdoc}
    */
   public function mergeStream($pdf_content, array $field_mappings, array $context) {
-    $template_file = file_save_data($pdf_content);
+    $template_file = \Drupal::service('file.repository')->writeData($pdf_content);
     return $this->mergeFile($template_file, $field_mappings, $context);
   }
 
@@ -186,7 +186,7 @@ class PdftkPdfBackend extends PdfBackendBase implements ContainerFactoryPluginIn
     $xfdf_name = $template_uri . '.xfdf';
     $xfdf = create_xfdf(basename($xfdf_name), $fields);
     // Generate the file.
-    $xfdf_file = file_save_data($xfdf, $xfdf_name, FileSystemInterface::EXISTS_RENAME);
+    $xfdf_file = \Drupal::service('file.repository')->writeData($xfdf, $xfdf_name, FileSystemInterface::EXISTS_RENAME);
 
     // @todo Improve this approach when we turn $context into a value object.
     if (!isset($context['fid'])) {
diff --git a/tests/modules/fillpdf_test/src/Plugin/PdfBackend/TestPdfBackend.php b/tests/modules/fillpdf_test/src/Plugin/PdfBackend/TestPdfBackend.php
index 1d1d05c..4cb4011 100644
--- a/tests/modules/fillpdf_test/src/Plugin/PdfBackend/TestPdfBackend.php
+++ b/tests/modules/fillpdf_test/src/Plugin/PdfBackend/TestPdfBackend.php
@@ -87,7 +87,7 @@ class TestPdfBackend extends PdfBackendBase implements ContainerFactoryPluginInt
    */
   public function mergeStream($pdf_content, array $field_mappings, array $context) {
     // Not really populated, but that isn't our job.
-    $populated_pdf = file_get_contents(drupal_get_path('module', 'fillpdf_test') . '/files/fillpdf_test_v3.pdf');
+    $populated_pdf = file_get_contents(\Drupal::service('extension.list.module')->getPath('fillpdf_test') . '/files/fillpdf_test_v3.pdf');
 
     $this->state->set('fillpdf_test.last_populated_metadata', [
       'field_mapping' => $field_mappings,
diff --git a/tests/src/Functional/FillPdfOverviewFormTest.php b/tests/src/Functional/FillPdfOverviewFormTest.php
index 570ff6a..a5fdd35 100644
--- a/tests/src/Functional/FillPdfOverviewFormTest.php
+++ b/tests/src/Functional/FillPdfOverviewFormTest.php
@@ -17,6 +17,7 @@ class FillPdfOverviewFormTest extends FillPdfUploadTestBase {
 
   /**
    * Tests the overview form is accessible.
+   * @doesNotPerformAssertions
    */
   public function testOverviewForm() {
     $this->drupalGet(Url::fromRoute('fillpdf.forms_admin'));
diff --git a/tests/src/Functional/PdfParseTest.php b/tests/src/Functional/PdfParseTest.php
index 150ce89..443f02e 100644
--- a/tests/src/Functional/PdfParseTest.php
+++ b/tests/src/Functional/PdfParseTest.php
@@ -21,6 +21,7 @@ class PdfParseTest extends FillPdfTestBase {
    * @throws \Behat\Mink\Exception\ResponseTextException
    * @throws \Drupal\Component\Plugin\Exception\PluginException
    * @throws \Drupal\Core\Entity\EntityStorageException
+   * @doesNotPerformAssertions
    */
   public function testParseLocalService() {
     $this->configureLocalServiceBackend();
@@ -39,6 +40,7 @@ class PdfParseTest extends FillPdfTestBase {
    * @throws \Behat\Mink\Exception\ResponseTextException
    * @throws \Drupal\Component\Plugin\Exception\PluginException
    * @throws \Drupal\Core\Entity\EntityStorageException
+   * @doesNotPerformAssertions
    */
   public function testParsePdftk() {
     $this->configureFillPdf(['backend' => 'pdftk']);
diff --git a/tests/src/Functional/PdfPopulationTest.php b/tests/src/Functional/PdfPopulationTest.php
index 5ed13b4..766887f 100644
--- a/tests/src/Functional/PdfPopulationTest.php
+++ b/tests/src/Functional/PdfPopulationTest.php
@@ -291,6 +291,7 @@ class PdfPopulationTest extends FillPdfTestBase {
    *   available.
    *
    * @see \Drupal\Tests\fillpdf\Traits\TestFillPdfTrait::configureLocalServiceBackend()
+   * @doesNotPerformAssertions
    */
   public function testMergeLocalService() {
     // For local container testing, we require the Docker container to be
@@ -311,6 +312,7 @@ class PdfPopulationTest extends FillPdfTestBase {
    * @throws \Behat\Mink\Exception\ResponseTextException
    *   Thrown when test had to be skipped as local pdftk install is not
    *   available.
+   * @doesNotPerformAssertions
    */
   public function testMergePdftk() {
     $this->configureFillPdf(['backend' => 'pdftk']);
diff --git a/tests/src/Traits/TestFillPdfTrait.php b/tests/src/Traits/TestFillPdfTrait.php
index 3bfd4e7..f37909a 100644
--- a/tests/src/Traits/TestFillPdfTrait.php
+++ b/tests/src/Traits/TestFillPdfTrait.php
@@ -148,7 +148,7 @@ trait TestFillPdfTrait {
   protected function getTestPdfPath($filename) {
     /** @var \Drupal\Core\File\FileSystem $file_system */
     $file_system = $this->container->get('file_system');
-    return $file_system->realpath(drupal_get_path('module', 'fillpdf') . '/tests/modules/fillpdf_test/files/' . $filename);
+    return $file_system->realpath(\Drupal::service('extension.list.module')->getPath('fillpdf') . '/tests/modules/fillpdf_test/files/' . $filename);
   }
 
   /**
