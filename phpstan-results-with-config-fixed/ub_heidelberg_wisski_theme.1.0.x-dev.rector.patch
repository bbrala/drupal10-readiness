diff --git a/wisski.theme b/wisski.theme
index 1dc235f..3bf1a11 100644
--- a/wisski.theme
+++ b/wisski.theme
@@ -84,7 +84,7 @@ function wisski_locale_translation_projects_alter(&$projects) {
   $projects['wisski'] = array(
     'info' => array(
       'interface translation project' => 'wisski',
-      'interface translation server pattern' => drupal_get_path('theme', 'wisski').'/translations/de.po',
+      'interface translation server pattern' => \Drupal::service('extension.list.theme')->getPath('wisski').'/translations/de.po',
     ),
   );
 }
@@ -778,7 +778,7 @@ function wisski_preprocess_page(&$variables) {
     foreach ($responsive_logo_fid as $responsive_logo_key => $responsive_logo_value) {
       $responsive_logo_file = \Drupal\file\Entity\File::load($responsive_logo_value);
       $responsive_logo_uri = $responsive_logo_file->getFileUri();
-      $variables['responsive_logo'] = file_create_url($responsive_logo_uri);
+      $variables['responsive_logo'] = \Drupal::service('file_url_generator')->generateAbsoluteString($responsive_logo_uri);
     }
   }
 
@@ -787,7 +787,7 @@ function wisski_preprocess_page(&$variables) {
     foreach ($fid as $key => $value) {
       $file = \Drupal\file\Entity\File::load($value);
       $uri = $file->getFileUri();
-      $variables['banner_image'] = file_create_url($uri);
+      $variables['banner_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
     }
   }
 
@@ -816,7 +816,7 @@ function wisski_preprocess_page(&$variables) {
     foreach ($second_banner_fid as $second_banner_key => $second_banner_value) {
       $second_banner_file = \Drupal\file\Entity\File::load($second_banner_value);
       $second_banner_uri = $second_banner_file->getFileUri();
-      $variables['second_banner_image'] = file_create_url($second_banner_uri);
+      $variables['second_banner_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString($second_banner_uri);
     }
   }
 
@@ -840,7 +840,7 @@ function wisski_preprocess_page(&$variables) {
     foreach ($footer_logo_left as $key_footer_logo_left => $value_footer_logo_left) {
       $file_footer_logo_left = \Drupal\file\Entity\File::load($value_footer_logo_left);
       $uri_footer_logo_left = $file_footer_logo_left->getFileUri();
-      $variables['footer_logo_left'] = file_create_url($uri_footer_logo_left);
+      $variables['footer_logo_left'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri_footer_logo_left);
     }
   }
 
@@ -864,7 +864,7 @@ function wisski_preprocess_page(&$variables) {
     foreach ($footer_logo_center_left as $key_footer_logo_center_left => $value_footer_logo_center_left) {
       $file_footer_logo_center_left = \Drupal\file\Entity\File::load($value_footer_logo_center_left);
       $uri_footer_logo_center_left = $file_footer_logo_center_left->getFileUri();
-      $variables['footer_logo_center_left'] = file_create_url($uri_footer_logo_center_left);
+      $variables['footer_logo_center_left'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri_footer_logo_center_left);
     }
   }
 
@@ -888,7 +888,7 @@ function wisski_preprocess_page(&$variables) {
     foreach ($footer_logo_center_right as $key_footer_logo_center_right => $value_footer_logo_center_right) {
       $file_footer_logo_center_right = \Drupal\file\Entity\File::load($value_footer_logo_center_right);
       $uri_footer_logo_center_right = $file_footer_logo_center_right->getFileUri();
-      $variables['footer_logo_center_right'] = file_create_url($uri_footer_logo_center_right);
+      $variables['footer_logo_center_right'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri_footer_logo_center_right);
     }
   }
 
@@ -912,7 +912,7 @@ function wisski_preprocess_page(&$variables) {
     foreach ($footer_logo_right as $key_footer_logo_right => $value_footer_logo_right) {
       $file_footer_logo_right = \Drupal\file\Entity\File::load($value_footer_logo_right);
       $uri_footer_logo_right = $file_footer_logo_right->getFileUri();
-      $variables['footer_logo_right'] = file_create_url($uri_footer_logo_right);
+      $variables['footer_logo_right'] = \Drupal::service('file_url_generator')->generateAbsoluteString($uri_footer_logo_right);
     }
   }
 
@@ -945,7 +945,7 @@ function wisski_preprocess_block(&$variables) {
     foreach ($responsive_logo_fid as $responsive_logo_key => $responsive_logo_value) {
       $responsive_logo_file = \Drupal\file\Entity\File::load($responsive_logo_value);
       $responsive_logo_uri = $responsive_logo_file->getFileUri();
-      $variables['responsive_logo'] = file_create_url($responsive_logo_uri);
+      $variables['responsive_logo'] = \Drupal::service('file_url_generator')->generateAbsoluteString($responsive_logo_uri);
     }
   }
 
@@ -980,7 +980,7 @@ function wisski_preprocess_html(&$variables) {
     foreach ($css_fid as $css_key => $css_value) {
       $css_file = \Drupal\file\Entity\File::load($css_value);
       $css_uri = $css_file->getFileUri();
-      $variables['custom_css'] = file_create_url($css_uri);
+      $variables['custom_css'] = \Drupal::service('file_url_generator')->generateAbsoluteString($css_uri);
     }
   }
 }
