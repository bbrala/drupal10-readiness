diff --git a/src/Form/DomainSimpleSitemapConfigForm.php b/src/Form/DomainSimpleSitemapConfigForm.php
index d7849f3..9e0023f 100644
--- a/src/Form/DomainSimpleSitemapConfigForm.php
+++ b/src/Form/DomainSimpleSitemapConfigForm.php
@@ -184,7 +184,7 @@ class DomainSimpleSitemapConfigForm extends ConfigFormBase {
       ->setProgressMessage($this->t('Completed @current of @total.'))
       ->setErrorMessage($this->t('An error has occurred.'));
 
-    $this->batchBuilder->setFile(drupal_get_path('module', 'domain_simple_sitemap') . '/src/Form/DomainSimpleSitemapConfigForm.php');
+    $this->batchBuilder->setFile(\Drupal::service('extension.list.module')->getPath('domain_simple_sitemap') . '/src/Form/DomainSimpleSitemapConfigForm.php');
     $this->batchBuilder->addOperation([
       $this,
       'batchProcess',
