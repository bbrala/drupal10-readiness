diff --git a/composer.json b/composer.json
index 9ac8e12..cdf6717 100644
--- a/composer.json
+++ b/composer.json
@@ -17,6 +17,6 @@
     "source": "https://git.drupalcode.org/project/image_field_to_media"
   },
   "require": {
-    "drupal/core": "^8 || ^9"
+    "drupal/core": "^9.3 || ^10"
   }
 }
diff --git a/image_field_to_media.info.yml b/image_field_to_media.info.yml
index 6e55a23..5c8f3f6 100644
--- a/image_field_to_media.info.yml
+++ b/image_field_to_media.info.yml
@@ -1,7 +1,7 @@
 name: 'Image field to media'
 type: module
 description: 'Enables to convert existing image fields to Media image fields.'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: 'Fields'
 dependencies:
   - 'drupal:media'
diff --git a/src/Form/ImageFieldToMediaForm.php b/src/Form/ImageFieldToMediaForm.php
index 955727d..8fdf744 100644
--- a/src/Form/ImageFieldToMediaForm.php
+++ b/src/Form/ImageFieldToMediaForm.php
@@ -227,7 +227,7 @@ class ImageFieldToMediaForm extends FormBase {
       'init_message' => $this->t('Cloning is starting.'),
       'progress_message' => $this->t('Processed @current out of @total.'),
       'error_message' => $this->t('Cloning has encountered an error.'),
-      'file' => drupal_get_path('module', 'image_field_to_media') . '/image_field_to_media.batch.inc',
+      'file' => \Drupal::service('extension.list.module')->getPath('image_field_to_media') . '/image_field_to_media.batch.inc',
     ];
 
     batch_set($batch);
