diff --git a/composer.json b/composer.json
index 70cb2fe..f40a3a1 100644
--- a/composer.json
+++ b/composer.json
@@ -30,10 +30,10 @@
     "composer/installers": "~1.0 || ~2.0",
     "oomphinc/composer-installers-extender": "~1.0 || ~2.0",
     "cweagans/composer-patches": "~1.0",
-    "drupal/core": "~9.0",
     "vardot/module-installer-factory": "~1.0",
     "drupal/styleguide": "2.0.0-beta1",
-    "drupal/vmi": "~2.0"
+    "drupal/vmi": "~2.0",
+    "drupal/core": "^9.3 || ^10"
   },
   "extra": {
     "enable-patching": true,
@@ -47,4 +47,4 @@
       }
     }
   }
-}
\ No newline at end of file
+}
diff --git a/varbase_styleguide.info.yml b/varbase_styleguide.info.yml
index c83b766..ef8d60e 100644
--- a/varbase_styleguide.info.yml
+++ b/varbase_styleguide.info.yml
@@ -2,7 +2,7 @@ name: "Varbase Styleguide"
 description: "Varbase custom styling guide components."
 type: module
 package: Varbase
-core_version_requirement: ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - styleguide:styleguide
 install:
diff --git a/varbase_styleguide.module b/varbase_styleguide.module
index 6ec4be7..a129666 100644
--- a/varbase_styleguide.module
+++ b/varbase_styleguide.module
@@ -25,8 +25,8 @@ function varbase_styleguide_page_attachments(array &$page) {
 function varbase_styleguide_styleguide_alter(&$items) {
 
   // Change the styleguide-preview.jpg with flag-earth.jpg .
-  $image_data = file_get_contents(drupal_get_path('module', 'varbase_styleguide') . '/images/flag-earth.jpg');
-  $file = file_save_data($image_data, 'public://flag-earth.jpg', FileSystemInterface::EXISTS_REPLACE);
+  $image_data = file_get_contents(\Drupal::service('extension.list.module')->getPath('varbase_styleguide') . '/images/flag-earth.jpg');
+  $file = \Drupal::service('file.repository')->writeData($image_data, 'public://flag-earth.jpg', FileSystemInterface::EXISTS_REPLACE);
 
   if (isset($image_data) && isset($file)) {
     foreach ($items as $item_index => $item) {
@@ -1535,7 +1535,7 @@ function varbase_styleguide_styleguide_alter(&$items) {
           if ($view_mode != 'default' && $view_mode != 'full') {
             $view_builder = \Drupal::entityTypeManager()->getViewBuilder('node');
             $node_build = $view_builder->view($node, $view_mode);
-            $node_output_with_the_view_mode = render($node_build);
+            $node_output_with_the_view_mode = \Drupal::service('renderer')->render($node_build);
 
             $final_view_mode_output = '';
 
