diff --git a/composer.json b/composer.json
index 1386d4d..f81d0cc 100644
--- a/composer.json
+++ b/composer.json
@@ -16,6 +16,6 @@
     "source": "https://git.drupalcode.org/project/views_templates"
   },
   "require": {
-    "drupal/core": "^8 || ^9"
+    "drupal/core": "^9.3 || ^10"
   }
 }
diff --git a/src/ViewsTemplateLoader.php b/src/ViewsTemplateLoader.php
index 9f80ec5..7252d14 100644
--- a/src/ViewsTemplateLoader.php
+++ b/src/ViewsTemplateLoader.php
@@ -19,7 +19,7 @@ class ViewsTemplateLoader implements ViewsTemplateLoaderInterface {
 
     $template_id = $builder->getViewTemplateId();
     if (!isset($templates[$template_id])) {
-      $dir = drupal_get_path('module', $builder->getDefinitionValue('provider')) . '/views_templates';
+      $dir = \Drupal::service('extension.list.module')->getPath($builder->getDefinitionValue('provider')) . '/views_templates';
       if (is_dir($dir)) {
 
         $file_path = $dir . '/' . $builder->getViewTemplateId() . '.yml';
diff --git a/views_templates.info.yml b/views_templates.info.yml
index 2a322a2..cd54fd4 100644
--- a/views_templates.info.yml
+++ b/views_templates.info.yml
@@ -4,5 +4,4 @@ description: 'Reintroduces dynamic default views.'
 dependencies:
   - drupal:views
 package: Views
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
