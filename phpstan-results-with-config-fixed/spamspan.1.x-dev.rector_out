modules/contrib/spamspan/spamspan.module
modules/contrib/spamspan/src/Form/SpamspanTestForm.php
modules/contrib/spamspan/src/Plugin/Field/FieldFormatter/EmailSpamspanFormatter.php
modules/contrib/spamspan/src/Plugin/Filter/FilterSpamspan.php
modules/contrib/spamspan/src/SpamspanDomTrait.php
modules/contrib/spamspan/src/SpamspanInterface.php
modules/contrib/spamspan/src/SpamspanSettingsFormTrait.php
modules/contrib/spamspan/src/SpamspanTrait.php
modules/contrib/spamspan/src/TwigExtension/SpamspanExtension.php
modules/contrib/spamspan/tests/src/Kernel/FilterSpamspanUnitTest.php

2 files with changes
====================

1) modules/contrib/spamspan/tests/src/Kernel/FilterSpamspanUnitTest.php:82

    ---------- begin diff ----------
@@ @@
     $this->spamspanFilterAtDot = $manager->createInstance('filter_spamspan', $configuration);

     // Read the test image from the file provided.
-    $this->base64Image = file_get_contents(drupal_get_path('module', 'spamspan') . '/tests/src/Kernel/base64image.txt');
+    $this->base64Image = file_get_contents(\Drupal::service('extension.list.module')->getPath('spamspan') . '/tests/src/Kernel/base64image.txt');

   }

@@ @@
     // Graphical at and [dot].
     $emails = [
       'user@example.com' => $this->withDom
-      ? '<span class="spamspan"><span class="u">user</span><img class="spamspan-image" alt="at" src="' . base_path() . drupal_get_path('module',
-          'spamspan') . '/image.gif"><span class="d">example<span class="o"> [dot] </span>com</span></span>'
-      : '<span class="spamspan"><span class="u">user</span><img class="spamspan-image" alt="at" src="' . base_path() . drupal_get_path('module',
-          'spamspan') . '/image.gif" /><span class="d">example<span class="o"> [dot] </span>com</span></span>',
+      ? '<span class="spamspan"><span class="u">user</span><img class="spamspan-image" alt="at" src="' . base_path() . \Drupal::service('extension.list.module')->getPath('spamspan') . '/image.gif"><span class="d">example<span class="o"> [dot] </span>com</span></span>'
+      : '<span class="spamspan"><span class="u">user</span><img class="spamspan-image" alt="at" src="' . base_path() . \Drupal::service('extension.list.module')->getPath('spamspan') . '/image.gif" /><span class="d">example<span class="o"> [dot] </span>com</span></span>',
     ];

     foreach ($emails as $input => $shouldbe) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/spamspan/spamspan.module:62

    ---------- begin diff ----------
@@ @@
   return [
     'spamspan_at_sign' => [
       'variables' => [
-        'path' => base_path() . drupal_get_path('module', 'spamspan') . '/image.gif',
+        'path' => base_path() . \Drupal::service('extension.list.module')->getPath('spamspan') . '/image.gif',
         'settings' => [],
       ],
     ],
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 2 files have been changed by Rector                                       

