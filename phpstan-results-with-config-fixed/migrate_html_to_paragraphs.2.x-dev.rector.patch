diff --git a/composer.json b/composer.json
index 4b2c648..8c0e3b1 100644
--- a/composer.json
+++ b/composer.json
@@ -16,6 +16,6 @@
         "source": "http://cgit.drupalcode.org/migrate_html_to_paragraphs"
     },
     "require": {
-        "drupal/core": "^9"
+        "drupal/core": "^9.3 || ^10"
     }
 }
diff --git a/migrate_html_to_paragraphs.info.yml b/migrate_html_to_paragraphs.info.yml
index 478c980..987339c 100644
--- a/migrate_html_to_paragraphs.info.yml
+++ b/migrate_html_to_paragraphs.info.yml
@@ -1,7 +1,7 @@
 name: "Migrate HTML to Paragraphs"
 description: "Migrate plugin API to turn HTML into Paragraphs."
 type: module
-core_version_requirement: ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:migrate
 package: Migration
diff --git a/src/Plugin/migrate/html/process/HtmlTagImgProcess.php b/src/Plugin/migrate/html/process/HtmlTagImgProcess.php
index 694412a..2c29ef0 100644
--- a/src/Plugin/migrate/html/process/HtmlTagImgProcess.php
+++ b/src/Plugin/migrate/html/process/HtmlTagImgProcess.php
@@ -266,7 +266,7 @@ abstract class HtmlTagImgProcess extends HtmlTagProcess {
       $file = File::Create([
         'uri' => $source,
       ]);
-      $file = file_copy($file, $target_path, FileSystemInterface::EXISTS_REPLACE);
+      $file = \Drupal::service('file.repository')->copy($file, $target_path, FileSystemInterface::EXISTS_REPLACE);
     }
     else {
       // Make sure that the target folder exists and is writable.
@@ -314,7 +314,7 @@ abstract class HtmlTagImgProcess extends HtmlTagProcess {
     $file = FALSE;
 
     if (!empty($data)) {
-      $file = file_save_data($data, $target_file_path, $replace);
+      $file = \Drupal::service('file.repository')->writeData($data, $target_file_path, $replace);
 
       if ($file) {
         return $file;
