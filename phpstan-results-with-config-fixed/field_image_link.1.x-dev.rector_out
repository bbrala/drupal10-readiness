modules/contrib/field_image_link/field_image_link.module
modules/contrib/field_image_link/src/ImageLinkItemInterface.php
modules/contrib/field_image_link/src/Plugin/Field/FieldFormatter/ImageLinkFormatter.php
modules/contrib/field_image_link/src/Plugin/Field/FieldType/ImageLinkItem.php
modules/contrib/field_image_link/src/Plugin/Field/FieldWidget/ImageLinkWidget.php

1 file with changes
===================

1) modules/contrib/field_image_link/src/Plugin/Field/FieldFormatter/ImageLinkFormatter.php:321

    ---------- begin diff ----------
@@ @@
         // context to ensure different file URLs are generated for different
         // sites in a multisite setup, including HTTP and HTTPS versions of the
         // same site. Fix in https://www.drupal.org/node/2646744.
-        $image_url = Url::fromUri(file_create_url($image_uri));
+        $image_url = \Drupal::service('file_url_generator')->generate($image_uri);
         $cache_contexts[] = 'url.site';
       }
       if (isset($link_link)) {
@@ @@
         }
         elseif ($values['link_display_settings']['image_link'] == 'file') {
           $file = File::load($values['target_id']);
-          $elements[$delta]['#image']['#url'] = Url::fromUri(file_create_url($file->getFileUri()));
+          $elements[$delta]['#image']['#url'] = \Drupal::service('file_url_generator')->generate($file->getFileUri());
         }
         elseif ($values['link_display_settings']['image_link'] == 'content') {
           $entity = $items->getEntity();
    ----------- end diff -----------

Applied rules:
 * FromUriRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

