diff --git a/bee.install b/bee.install
index 471eeb0..46a67a1 100644
--- a/bee.install
+++ b/bee.install
@@ -166,7 +166,7 @@ function bee_update_8004() {
     'bat_event_series.event_series_type.availability_hourly',
   ];
 
-  $path = drupal_get_path('module', 'bee') . '/config/install';
+  $path = \Drupal::service('extension.list.module')->getPath('bee') . '/config/install';
   $source = new FileStorage($path);
   $config_storage = \Drupal::service('config.storage');
   foreach ($configs as $config) {
diff --git a/bee.module b/bee.module
index 9990132..4676467 100644
--- a/bee.module
+++ b/bee.module
@@ -482,11 +482,11 @@ function bee_commerce_order_item_delete(OrderItemInterface $order_item) {
 function bee_theme_registry_alter(&$theme_registry) {
   $theme_registry['field__node__field_availability_hourly'] = [
     'template' => 'field-availability-hourly',
-    'path' => drupal_get_path('module', 'bee') . '/templates',
+    'path' => \Drupal::service('extension.list.module')->getPath('bee') . '/templates',
     'render element' => 'element',
     'base hook' => 'field',
     'type' => 'module',
-    'theme path' => drupal_get_path('module', 'bee'),
+    'theme path' => \Drupal::service('extension.list.module')->getPath('bee'),
     'preprocess functions' => [
       'template_preprocess',
       'template_preprocess_field',
@@ -495,11 +495,11 @@ function bee_theme_registry_alter(&$theme_registry) {
 
   $theme_registry['field__node__field_availability_daily'] = [
     'template' => 'field-availability-daily',
-    'path' => drupal_get_path('module', 'bee') . '/templates',
+    'path' => \Drupal::service('extension.list.module')->getPath('bee') . '/templates',
     'render element' => 'element',
     'base hook' => 'field',
     'type' => 'module',
-    'theme path' => drupal_get_path('module', 'bee'),
+    'theme path' => \Drupal::service('extension.list.module')->getPath('bee'),
     'preprocess functions' => [
       'template_preprocess',
       'template_preprocess_field',
@@ -623,7 +623,7 @@ function bee_entity_view_alter(array &$build, EntityInterface $entity, EntityVie
       ];
 
       $build = [
-        '#markup' => render($render_array),
+        '#markup' => \Drupal::service('renderer')->render($render_array),
       ];
     }
   }
