diff --git a/lunr_filters.module b/lunr_filters.module
index b9f57eb..a117905 100644
--- a/lunr_filters.module
+++ b/lunr_filters.module
@@ -100,7 +100,7 @@ function lunr_filters_lunr_search_page_alter(&$build, LunrSearchInterface $lunr_
   $build['form']['#theme'] = 'lunr_filters_form';
 
   // Use our worker.
-  $build['#attached']['drupalSettings']['lunr']['workerPath'] = base_path() . drupal_get_path('module', 'lunr_filters') . '/js/search.worker.js';
+  $build['#attached']['drupalSettings']['lunr']['workerPath'] = base_path() . \Drupal::service('extension.list.module')->getPath('lunr_filters') . '/js/search.worker.js';
 
   // Get display and table headers fields.
   $display_fields = [];
@@ -211,7 +211,7 @@ function lunr_filters_library_info_alter(&$libraries, $extension) {
     return;
   }
 
-  $new_path = '/' . drupal_get_path('module', 'lunr_filters') . '/js';
+  $new_path = '/' . \Drupal::service('extension.list.module')->getPath('lunr_filters') . '/js';
   $replacements = [
     'js/search.js' => $new_path . '/search.js',
     'js/search.theme.js' => $new_path . '/search.theme.js',
diff --git a/src/EventSubscriber/TomePathSubscriber.php b/src/EventSubscriber/TomePathSubscriber.php
index ace63ae..a023006 100644
--- a/src/EventSubscriber/TomePathSubscriber.php
+++ b/src/EventSubscriber/TomePathSubscriber.php
@@ -54,7 +54,7 @@ class TomePathSubscriber implements EventSubscriberInterface {
         $event->addPath(file_create_url($filename), ['language_processed' => 'language_processed']);
       }
     }
-    $event->addPath(drupal_get_path('module', 'lunr_filters') . '/js/search.worker.js', ['language_processed' => 'language_processed']);
+    $event->addPath(\Drupal::service('extension.list.module')->getPath('lunr_filters') . '/js/search.worker.js', ['language_processed' => 'language_processed']);
   }
 
   /**
