diff --git a/aet.info.yml b/aet.info.yml
index 75e5bc4..52d3d84 100644
--- a/aet.info.yml
+++ b/aet.info.yml
@@ -1,7 +1,7 @@
 name: Advanced Entity Tokens
 description: Reveals all of Drupal's entities to the token system by using their IDs
 type: module
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: Token
 dependencies:
   - drupal:token
diff --git a/composer.json b/composer.json
index 00ca84a..cfca6c0 100644
--- a/composer.json
+++ b/composer.json
@@ -12,7 +12,7 @@
   "prefer-stable": true,
   "require": {
     "drupal/token": "^1.7",
-    "drupal/core": "^8.8 || ^9"
+    "drupal/core": "^9.3 || ^10"
   },
   "require-dev": {
     "drupal/token_filter": "^1.2"
diff --git a/src/TokenReplacer.php b/src/TokenReplacer.php
index 879d629..e3e8172 100644
--- a/src/TokenReplacer.php
+++ b/src/TokenReplacer.php
@@ -536,7 +536,7 @@ class TokenReplacer {
    */
   protected function getRenderedEntity(string $entity_type_id, EntityInterface $entity, string $view_mode) {
     $renderable_entity = $this->entityTypeManager->getViewBuilder($entity_type_id)->view($entity, $view_mode);
-    return render($renderable_entity);
+    return \Drupal::service('renderer')->render($renderable_entity);
   }
 
   /**
diff --git a/tests/src/Functional/AETRecursionWebTest.php b/tests/src/Functional/AETRecursionWebTest.php
index 6ddc740..544fc2a 100644
--- a/tests/src/Functional/AETRecursionWebTest.php
+++ b/tests/src/Functional/AETRecursionWebTest.php
@@ -31,7 +31,7 @@ class AETRecursionWebTest extends BrowserTestBase {
    *
    * @throws \Drupal\Core\Entity\EntityStorageException
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     // Speed things up with a minimal profile.
