diff --git a/ckeditorheight.info.yml b/ckeditorheight.info.yml
index a8e188f..526b9ca 100644
--- a/ckeditorheight.info.yml
+++ b/ckeditorheight.info.yml
@@ -1,9 +1,8 @@
 name: "CKEditorHeight"
 type: module
 description: "Adjusts CKEditor height to field row setting until we have https://www.drupal.org/node/2788905."
-core: 8.x
 package: Editor
 configure: ckeditorheight.settings_form
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:ckeditor
diff --git a/ckeditorheight.module b/ckeditorheight.module
index de7a229..66042c9 100644
--- a/ckeditorheight.module
+++ b/ckeditorheight.module
@@ -9,7 +9,7 @@
  */
 function ckeditorheight_library_info_alter(&$libraries, $extension) {
   if ($extension === 'ckeditor' && isset($libraries['drupal.ckeditor'])) {
-    $module_path = drupal_get_path('module', 'ckeditorheight');
+    $module_path = \Drupal::service('extension.list.module')->getPath('ckeditorheight');
     assert((bool) $module_path);
     $js_path = "/$module_path/ckeditorheight.js";
     $libraries['drupal.ckeditor']['js'][$js_path] = [];
diff --git a/tests/src/Functional/AdminPageTest.php b/tests/src/Functional/AdminPageTest.php
index fbb9e9a..1c090b4 100644
--- a/tests/src/Functional/AdminPageTest.php
+++ b/tests/src/Functional/AdminPageTest.php
@@ -33,7 +33,7 @@ class AdminPageTest extends BrowserTestBase {
   public function testAdminPage() {
     $this->drupalLogin($this->rootUser);
     $this->drupalGet('admin');
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);
 
     // Ensure that the test is not marked as risky because of no assertions.
     // see https://gitlab.com/weitzman/drupal-test-traits/-/commit/82bf5059908f9073b3468cb7313960da72176d9a
