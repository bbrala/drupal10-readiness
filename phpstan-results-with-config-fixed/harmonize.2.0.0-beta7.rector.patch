diff --git a/src/EventSubscriber/HarmonyEventSubscriber.php b/src/EventSubscriber/HarmonyEventSubscriber.php
index 9c76623..e60b126 100644
--- a/src/EventSubscriber/HarmonyEventSubscriber.php
+++ b/src/EventSubscriber/HarmonyEventSubscriber.php
@@ -58,7 +58,7 @@ class HarmonyEventSubscriber implements EventSubscriberInterface {
    */
   public function __construct(Harmonics $harmonics, ThemeManager $themeManager) {
     $this->harmonics = $harmonics;
-    $this->directory = drupal_get_path('theme', $themeManager->getActiveTheme()->getName()) . self::ROOT;
+    $this->directory = \Drupal::service('extension.list.theme')->getPath($themeManager->getActiveTheme()->getName()) . self::ROOT;
     if (file_exists($this->directory . '/functions.php')) {
       /* @noinspection PhpIncludeInspection */
       include_once $this->directory . '/functions.php';
diff --git a/src/Harmonizer/EntityHarmonizer/FileEntityHarmonizer.php b/src/Harmonizer/EntityHarmonizer/FileEntityHarmonizer.php
index eb6f918..98542db 100644
--- a/src/Harmonizer/EntityHarmonizer/FileEntityHarmonizer.php
+++ b/src/Harmonizer/EntityHarmonizer/FileEntityHarmonizer.php
@@ -20,7 +20,7 @@ final class FileEntityHarmonizer extends EntityHarmonizer {
       'uri'      => $this->entity->getFileUri(),
       'filename' => $this->entity->getFilename(),
       'filesize' => $this->formatFilesize($this->entity->getSize()),
-      'href'     => file_create_url($this->entity->getFileUri()),
+      'href'     => \Drupal::service('file_url_generator')->generateAbsoluteString($this->entity->getFileUri()),
     ];
   }
 
diff --git a/src/Service/Harmonize.php b/src/Service/Harmonize.php
index 8aa8f1a..9acff0f 100644
--- a/src/Service/Harmonize.php
+++ b/src/Service/Harmonize.php
@@ -233,7 +233,7 @@ final class Harmonize {
       // We want to check if a Harmony declaration file exists in the
       // site's main theme. If one does, we want to read it and see if a
       // declaration exists for this particular context to set styles.
-      $themeDirectory = drupal_get_path('theme', $themeName);
+      $themeDirectory = \Drupal::service('extension.list.theme')->getPath($themeName);
       $harmonyDeclarationPath = $themeDirectory . '/' . $themeName . '.harmony.yml';
 
       // If no declaration file exists, stop.
