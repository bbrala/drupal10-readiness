diff --git a/per_node_analytics.info.yml b/per_node_analytics.info.yml
index ce4be9e..15be119 100644
--- a/per_node_analytics.info.yml
+++ b/per_node_analytics.info.yml
@@ -1,7 +1,7 @@
 name: 'Per Node Google Analytics'
 type: module
 description: 'Provides per node Google analytics reports in a system tab.'
-core_version_requirement: ^8.8.0 || ^9.0
+core_version_requirement: ^9.3 || ^10
 package: Statistics
 dependencies:
   - charts:charts
diff --git a/src/Plugin/HiddenTabTemplate/PerNodeAnalyticsJQueryTabsTemplate.php b/src/Plugin/HiddenTabTemplate/PerNodeAnalyticsJQueryTabsTemplate.php
index 4de58f7..fd54a8b 100644
--- a/src/Plugin/HiddenTabTemplate/PerNodeAnalyticsJQueryTabsTemplate.php
+++ b/src/Plugin/HiddenTabTemplate/PerNodeAnalyticsJQueryTabsTemplate.php
@@ -73,7 +73,7 @@ class PerNodeAnalyticsJQueryTabsTemplate extends HiddenTabTemplatePluginBase {
    */
   public function __construct(array $configuration, string $plugin_id, $plugin_definition) {
     parent::__construct($configuration, $plugin_id, $plugin_definition);
-    $this->templateFilePath = drupal_get_path('module', 'per_node_analytics') . '/templates';
+    $this->templateFilePath = \Drupal::service('extension.list.module')->getPath('per_node_analytics') . '/templates';
     $this->regions = [
       'reg_0' => t('Weekly'),
       'reg_1' => t('Monthly'),
