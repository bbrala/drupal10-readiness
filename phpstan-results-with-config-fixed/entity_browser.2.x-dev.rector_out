modules/contrib/entity_browser/entity_browser.api.php
modules/contrib/entity_browser/entity_browser.install
modules/contrib/entity_browser/entity_browser.module
modules/contrib/entity_browser/entity_browser.views.inc
modules/contrib/entity_browser/modules/entity_form/entity_browser_entity_form.module
modules/contrib/entity_browser/modules/entity_form/src/Plugin/EntityBrowser/Widget/EntityForm.php
modules/contrib/entity_browser/modules/entity_form/tests/src/FunctionalJavascript/EntityFormWidgetTest.php
modules/contrib/entity_browser/modules/entity_form/tests/src/FunctionalJavascript/InlineEntityIntegrationTest.php
modules/contrib/entity_browser/modules/example/tests/src/FunctionalJavascript/EntityBrowserExampleTest.php
modules/contrib/entity_browser/src/Ajax/SelectEntitiesCommand.php
modules/contrib/entity_browser/src/Ajax/ValueUpdatedCommand.php
modules/contrib/entity_browser/src/Annotation/EntityBrowserDisplay.php
modules/contrib/entity_browser/src/Annotation/EntityBrowserFieldWidgetDisplay.php
modules/contrib/entity_browser/src/Annotation/EntityBrowserSelectionDisplay.php
modules/contrib/entity_browser/src/Annotation/EntityBrowserWidget.php
modules/contrib/entity_browser/src/Annotation/EntityBrowserWidgetSelector.php
modules/contrib/entity_browser/src/Annotation/EntityBrowserWidgetValidation.php
modules/contrib/entity_browser/src/Controllers/EntityBrowserController.php
modules/contrib/entity_browser/src/Controllers/EntityBrowserFormController.php
modules/contrib/entity_browser/src/Controllers/EntityBrowserListBuilder.php
modules/contrib/entity_browser/src/DisplayAjaxInterface.php
modules/contrib/entity_browser/src/DisplayBase.php
modules/contrib/entity_browser/src/DisplayInterface.php
modules/contrib/entity_browser/src/DisplayManager.php
modules/contrib/entity_browser/src/DisplayRouterInterface.php
modules/contrib/entity_browser/src/Element/EntityBrowserElement.php
modules/contrib/entity_browser/src/Element/EntityBrowserPagerElement.php
modules/contrib/entity_browser/src/Entity/EntityBrowser.php
modules/contrib/entity_browser/src/EntityBrowserFormInterface.php
modules/contrib/entity_browser/src/EntityBrowserInterface.php
modules/contrib/entity_browser/src/Events/AlterEntityBrowserDisplayData.php
modules/contrib/entity_browser/src/Events/EntitySelectionEvent.php
modules/contrib/entity_browser/src/Events/EventBase.php
modules/contrib/entity_browser/src/Events/Events.php
modules/contrib/entity_browser/src/Events/RegisterJSCallbacks.php
modules/contrib/entity_browser/src/Events/SelectionDoneEvent.php
modules/contrib/entity_browser/src/FieldWidgetDisplayBase.php
modules/contrib/entity_browser/src/FieldWidgetDisplayInterface.php
modules/contrib/entity_browser/src/FieldWidgetDisplayManager.php
modules/contrib/entity_browser/src/Form/EntityBrowserDeleteForm.php
modules/contrib/entity_browser/src/Form/EntityBrowserEditForm.php
modules/contrib/entity_browser/src/Form/EntityBrowserForm.php
modules/contrib/entity_browser/src/Form/WidgetsConfig.php
modules/contrib/entity_browser/src/Permissions.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/Display/IFrame.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/Display/Modal.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/Display/Standalone.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/FieldWidgetDisplay/EntityLabel.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/FieldWidgetDisplay/ImageThumbnail.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/FieldWidgetDisplay/RenderedEntity.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/SelectionDisplay/MultiStepDisplay.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/SelectionDisplay/NoDisplay.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/SelectionDisplay/View.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/Widget/MediaImageUpload.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/Widget/Upload.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/Widget/View.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/WidgetSelector/DropDown.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/WidgetSelector/Single.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/WidgetSelector/Tabs.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/WidgetValidation/Cardinality.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/WidgetValidation/EntityType.php
modules/contrib/entity_browser/src/Plugin/EntityBrowser/WidgetValidation/File.php
modules/contrib/entity_browser/src/Plugin/Field/FieldWidget/EntityReferenceBrowserWidget.php
modules/contrib/entity_browser/src/Plugin/Field/FieldWidget/FileBrowserWidget.php
modules/contrib/entity_browser/src/Plugin/views/argument_default/EntityBrowserWidgetContext.php
modules/contrib/entity_browser/src/Plugin/views/display/EntityBrowser.php
modules/contrib/entity_browser/src/Plugin/views/field/SearchApiSelectForm.php
modules/contrib/entity_browser/src/Plugin/views/field/SelectForm.php
modules/contrib/entity_browser/src/Plugin/views/filter/ContextualBundle.php
modules/contrib/entity_browser/src/PluginConfigurationFormTrait.php
modules/contrib/entity_browser/src/RouteSubscriber.php
modules/contrib/entity_browser/src/SelectionDisplayBase.php
modules/contrib/entity_browser/src/SelectionDisplayInterface.php
modules/contrib/entity_browser/src/SelectionDisplayManager.php
modules/contrib/entity_browser/src/WidgetBase.php
modules/contrib/entity_browser/src/WidgetInterface.php
modules/contrib/entity_browser/src/WidgetManager.php
modules/contrib/entity_browser/src/WidgetSelectorBase.php
modules/contrib/entity_browser/src/WidgetSelectorInterface.php
modules/contrib/entity_browser/src/WidgetSelectorManager.php
modules/contrib/entity_browser/src/WidgetValidationBase.php
modules/contrib/entity_browser/src/WidgetValidationInterface.php
modules/contrib/entity_browser/src/WidgetValidationManager.php
modules/contrib/entity_browser/src/WidgetsCollection.php
modules/contrib/entity_browser/src/WidgetsLazyPluginCollection.php
modules/contrib/entity_browser/tests/fixtures/update/entity_browser.update-hook-test.php
modules/contrib/entity_browser/tests/modules/entity_browser_test/src/Cache/Context/DummyCacheContext.php
modules/contrib/entity_browser/tests/modules/entity_browser_test/src/Form/FormElementTest.php
modules/contrib/entity_browser/tests/modules/entity_browser_test/src/Plugin/EntityBrowser/Widget/DummyWidget.php
modules/contrib/entity_browser/tests/modules/entity_browser_test/src/Plugin/EntityBrowser/Widget/MultipleSubmitTestWidget.php
modules/contrib/entity_browser/tests/modules/entity_browser_test/src/Plugin/EntityBrowser/Widget/PagerTestWidget.php
modules/contrib/entity_browser/tests/src/Functional/ConfigAccessTest.php
modules/contrib/entity_browser/tests/src/Functional/EntityBrowserUITest.php
modules/contrib/entity_browser/tests/src/Functional/EntityBrowserUpdateHookTest.php
modules/contrib/entity_browser/tests/src/Functional/FormElementTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/CardinalityTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/ConfigurationTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityBrowserTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityBrowserViewsWidgetTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityBrowserWebDriverTestBase.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityEmbedTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityQueueTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityReferenceWidgetTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/FieldWidgetConfigTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/ImageFieldTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/InlineEntityFormTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/MultiStepSelectionDisplayTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/PagerElementTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/ParagraphsTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/PluginsTest.php
modules/contrib/entity_browser/tests/src/FunctionalJavascript/UploadWidgetTest.php
modules/contrib/entity_browser/tests/src/Kernel/Extension/EntityBrowserTest.php
modules/contrib/entity_browser/tests/src/Kernel/Plugin/FieldWidgetDisplayTest.php

26 files with changes
=====================

1) modules/contrib/entity_browser/tests/src/Kernel/Plugin/FieldWidgetDisplayTest.php:29

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->pluginManager = $this->container->get('plugin.manager.entity_browser.field_widget_display');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/entity_browser/tests/src/Kernel/Extension/EntityBrowserTest.php:61

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     FileCacheFactory::setPrefix($this->randomString(4));
     parent::setUp();
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/entity_browser/tests/src/FunctionalJavascript/UploadWidgetTest.php:13

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     // Grant permission to this user to use also the EB page we are testing.
@@ @@
     $page = $this->getSession()->getPage();

     // Make sure the test file is not present beforehand.
-    $this->assertFileNotExists('public://druplicon.png');
+    $this->assertFileDoesNotExist('public://druplicon.png');

     // Go to the widget standalone page and test the upload.
     $this->drupalGet($browser->getDisplay()->path());
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameMethodRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/entity_browser/tests/src/FunctionalJavascript/PagerElementTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->drupalCreateContentType(['type' => 'foo', 'name' => 'Foo']);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/entity_browser/tests/src/FunctionalJavascript/ImageFieldTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     FieldStorageConfig::create([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/entity_browser/tests/src/FunctionalJavascript/FieldWidgetConfigTest.php:48

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
     $this->drupalPlaceBlock('local_actions_block');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityReferenceWidgetTest.php:21

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     /** @var \Drupal\user\RoleInterface $role */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityQueueTest.php:40

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->adminUser = $this->drupalCreateUser([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


9) modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityEmbedTest.php:40

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->adminUser = $this->drupalCreateUser([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityBrowserWebDriverTestBase.php:55

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     FieldStorageConfig::create([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/entity_browser/tests/src/FunctionalJavascript/EntityBrowserViewsWidgetTest.php:29

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $user = $this->drupalCreateUser([
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/entity_browser/tests/src/FunctionalJavascript/ConfigurationTest.php:44

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
     $this->drupalPlaceBlock('local_actions_block');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/entity_browser/tests/src/FunctionalJavascript/CardinalityTest.php:31

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     /** @var \Drupal\user\RoleInterface $role */
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/entity_browser/tests/src/Functional/FormElementTest.php:33

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->container
       ->get('entity_type.manager')
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/entity_browser/tests/src/Functional/EntityBrowserUpdateHookTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $entity_browser_type = $this->container
       ->get('entity_type.manager')
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


16) modules/contrib/entity_browser/tests/src/Functional/ConfigAccessTest.php:40

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
     $this->drupalPlaceBlock('local_actions_block');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


17) modules/contrib/entity_browser/src/WidgetBase.php:339

    ---------- begin diff ----------
@@ @@
     $selected_entities = array_merge($selected_entities, $entities);

     $this->eventDispatcher->dispatch(
-      Events::SELECTED,
       new EntitySelectionEvent(
         $this->configuration['entity_browser_id'],
         $form_state->get(['entity_browser', 'instance_uuid']),
         $entities
-      ));
+      ),
+      Events::SELECTED);
   }

   /**
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


18) modules/contrib/entity_browser/src/SelectionDisplayBase.php:155

    ---------- begin diff ----------
@@ @@
   protected function selectionDone(FormStateInterface $form_state) {
     $form_state->set(['entity_browser', 'selection_completed'], TRUE);
     $this->eventDispatcher->dispatch(
-      Events::DONE,
       new SelectionDoneEvent(
         $this->configuration['entity_browser_id'],
         $form_state->get(['entity_browser', 'instance_uuid'])
-      ));
+      ),
+      Events::DONE);
   }

 }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


19) modules/contrib/entity_browser/src/Plugin/Field/FieldWidget/FileBrowserWidget.php:66

    ---------- begin diff ----------
@@ @@
   /**
    * The mime type guesser service.
    *
-   * @var \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface
+   * @var \Symfony\Component\Mime\MimeTypesInterface
    */
   protected $mimeTypeGuesser;

@@ @@
    *   The current user.
    * @param \Drupal\Core\Messenger\MessengerInterface $messenger
    *   The messenger.
-   * @param \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface $mime_type_guesser
+   * @param \Symfony\Component\Mime\MimeTypesInterface $mime_type_guesser
    *   The mime type guesser service.
    */
-  public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, array $third_party_settings, EntityTypeManagerInterface $entity_type_manager, FieldWidgetDisplayManager $field_display_manager, ConfigFactoryInterface $config_factory, EntityDisplayRepositoryInterface $display_repository, ModuleHandlerInterface $module_handler, AccountInterface $current_user, MimeTypeGuesserInterface $mime_type_guesser, MessengerInterface $messenger) {
+  public function __construct($plugin_id, $plugin_definition, FieldDefinitionInterface $field_definition, array $settings, array $third_party_settings, EntityTypeManagerInterface $entity_type_manager, FieldWidgetDisplayManager $field_display_manager, ConfigFactoryInterface $config_factory, EntityDisplayRepositoryInterface $display_repository, ModuleHandlerInterface $module_handler, AccountInterface $current_user, \Symfony\Component\Mime\MimeTypesInterface $mime_type_guesser, MessengerInterface $messenger) {
     parent::__construct($plugin_id, $plugin_definition, $field_definition, $settings, $third_party_settings, $entity_type_manager, $field_display_manager, $module_handler, $current_user, $messenger);
     $this->entityTypeManager = $entity_type_manager;
     $this->fieldDisplayManager = $field_display_manager;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


20) modules/contrib/entity_browser/src/Plugin/EntityBrowser/Display/Modal.php:31

    ---------- begin diff ----------
@@ @@
     DisplayBase::displayEntityBrowser($element, $form_state, $complete_form, $persistent_data);
     $js_event_object = new RegisterJSCallbacks($this->configuration['entity_browser_id'], $this->getUuid());
     $js_event_object->registerCallback('Drupal.entityBrowser.selectionCompleted');
-    $js_event = $this->eventDispatcher->dispatch(Events::REGISTER_JS_CALLBACKS, $js_event_object);
+    $js_event = $this->eventDispatcher->dispatch($js_event_object, Events::REGISTER_JS_CALLBACKS);
     $original_path = $this->currentPath->getPath();

     $data = [
@@ @@
       ],
     ];
     $event_object = new AlterEntityBrowserDisplayData($this->configuration['entity_browser_id'], $this->getUuid(), $this->getPluginDefinition(), $form_state, $data);
-    $event = $this->eventDispatcher->dispatch(Events::ALTER_BROWSER_DISPLAY_DATA, $event_object);
+    $event = $this->eventDispatcher->dispatch($event_object, Events::ALTER_BROWSER_DISPLAY_DATA);
     $data = $event->getData();
     return [
       '#theme_wrappers' => ['container'],
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


21) modules/contrib/entity_browser/src/Plugin/EntityBrowser/Display/IFrame.php:141

    ---------- begin diff ----------
@@ @@
     /** @var \Drupal\entity_browser\Events\RegisterJSCallbacks $event */
     $js_event_object = new RegisterJSCallbacks($this->configuration['entity_browser_id'], $this->getUuid());
     $js_event_object->registerCallback('Drupal.entityBrowser.selectionCompleted');
-    $callback_event = $this->eventDispatcher->dispatch(Events::REGISTER_JS_CALLBACKS, $js_event_object);
+    $callback_event = $this->eventDispatcher->dispatch($js_event_object, Events::REGISTER_JS_CALLBACKS);
     $original_path = $this->currentPath->getPath();

     $data = [
@@ @@
       ],
     ];
     $event_object = new AlterEntityBrowserDisplayData($this->configuration['entity_browser_id'], $this->getUuid(), $this->getPluginDefinition(), $form_state, $data);
-    $event = $this->eventDispatcher->dispatch(Events::ALTER_BROWSER_DISPLAY_DATA, $event_object);
+    $event = $this->eventDispatcher->dispatch($event_object, Events::ALTER_BROWSER_DISPLAY_DATA);
     $data = $event->getData();
     return [
       '#theme_wrappers' => ['container'],
@@ @@
    * Intercepts default response and injects response that will trigger JS to
    * propagate selected entities upstream.
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
    *   Response event.
    */
-  public function propagateSelection(FilterResponseEvent $event) {
+  public function propagateSelection(\Symfony\Component\HttpKernel\Event\ResponseEvent $event) {
     $render = [
       '#attached' => [
         'library' => ['entity_browser/' . $this->pluginDefinition['id'] . '_selection'],
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


22) modules/contrib/entity_browser/src/Events/EventBase.php:6

    ---------- begin diff ----------
@@ @@
 /**
  * Base implementation of entity browser events.
  */
-class EventBase extends Event {
+class EventBase extends \Symfony\Contracts\EventDispatcher\Event {

   /**
    * Entity browser id.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


23) modules/contrib/entity_browser/modules/example/tests/src/FunctionalJavascript/EntityBrowserExampleTest.php:24

    ---------- begin diff ----------
@@ @@

   /**
    * Tests Entity Browser example module.
+   * @doesNotPerformAssertions
    */
   public function testExampleInstall() {
     // If we came this far example module installed successfully.
    ----------- end diff -----------

Applied rules:
 * AddDoesNotPerformAssertionToNonAssertingTestRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


24) modules/contrib/entity_browser/modules/entity_form/tests/src/FunctionalJavascript/InlineEntityIntegrationTest.php:31

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Delete unnecessary entity browser.
     $browser = $this->container->get('entity_type.manager')->getStorage('entity_browser')->load('entity_browser_test_entity_form');
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


25) modules/contrib/entity_browser/modules/entity_form/tests/src/FunctionalJavascript/EntityFormWidgetTest.php:38

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->drupalCreateContentType(['type' => 'foo', 'name' => 'Foo']);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


26) modules/contrib/entity_browser/entity_browser.install:19

    ---------- begin diff ----------
@@ @@
       // If the version being used is -dev, $info['version'] will be empty. Try
       // an alternative method to detect if we are using the 2.x branch in that
       // case.
-      if (!file_exists(DRUPAL_ROOT . '/' . drupal_get_path('module', 'media_entity') . '/src/CliService.php')) {
+      if (!file_exists(DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath('media_entity') . '/src/CliService.php')) {
         $incompatible = TRUE;
       }
     }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [OK] 26 files have been changed by Rector                                      

