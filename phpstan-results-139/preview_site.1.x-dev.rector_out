modules/contrib/preview_site/modules/preview_site_s3/src/Plugin/PreviewSite/Deploy/S3.php
modules/contrib/preview_site/src/Entity/PreviewSiteBuildInterface.php
modules/contrib/preview_site/src/Entity/PreviewStrategy.php
modules/contrib/preview_site/src/Generate/TomeStaticExtension.php
modules/contrib/preview_site/tests/src/Kernel/PreviewSiteBuildEntityTest.php
modules/contrib/preview_site/src/Plugin/Derivative/PreviewSiteBuildQueueWorkerDeriver.php
modules/contrib/preview_site/src/Plugin/PreviewSite/Deploy/PublicFiles.php
modules/contrib/preview_site/modules/preview_site_s3/tests/src/Kernel/S3DeployPluginTest.php
modules/contrib/preview_site/src/Entity/PreviewStrategyInterface.php
modules/contrib/preview_site/src/EntityHandlers/ParentNegotiation/DefaultParentNegotiation.php
modules/contrib/preview_site/src/EntityHandlers/ParentNegotiation/ParagraphParentNegotiation.php
modules/contrib/preview_site/src/EntityHandlers/ParentNegotiation/ParentNegotiationInterface.php
modules/contrib/preview_site/src/EntityHandlers/PreviewSiteBuildListBmodules/conmodules/contrib/preview_site/src/EntityHandlers/PreviewSiteBuildRouteProvider.php
modules/contrib/preview_site/src/EntityHandlers/PreviewStrategyListBuilder.php
modules/contrib/preview_site/src/EventSubscribers/TomeStaticListener.php
modules/contrib/preview_site/src/Plugin/PreviewSite/Generate/TomeGenerator.php
modules/contrib/preview_site/src/Form/PreviewSiteBuildDeployForm.php
modules/contrib/preview_site/src/Form/PreviewSiteBuildForm.php
modules/contrib/preview_site/src/Form/PreviewStrategyForm.php
modules/contrib/preview_site/src/Plugin/PreviewSitePluginInterface.php
modules/contrib/preview_site/src/Plugin/PreviewSitePluginTrait.php
modules/contrib/preview_site/src/Plugin/QueueWorker/Decommission.php
modules/contrib/preview_site/preview_site.module
modules/contrib/preview_site/src/Plugin/QueueWorker/Deploy.php
modules/contrib/preview_site/src/Plugin/QueueWorker/Generate.php
modules/contrib/preview_site/src/Generate/CouldNotWriteFileException.php
modules/contrib/preview_site/src/Generate/FileCollection.php
modules/contrib/preview_site/src/Generate/FileHelper.php
modules/contrib/preview_site/src/Annotation/PreviewSiteDeploy.php
modules/contrib/preview_site/src/Annotation/PreviewSiteGenerate.php
modules/contrib/preview_site/src/Deploy/DeployPluginBase.php
modules/contrib/preview_site/src/Generate/GeneratePluginBase.php
modules/contrib/preview_site/src/Deploy/DeployPluginInterface.php
modules/contrib/preview_site/src/Plugin/QueueWorker/GenerateAssets.php
modules/contrib/preview_site/src/Deploy/DeployPluginManager.php
modules/contrib/prmodules/contrib/preview_site/src/Annotation/PreviewSiteDeploy.php
modules/contrib/preview_site/src/Annotation/PreviewSiteGenerate.php
modules/contrib/preview_site/src/Deploy/DeployPluginBase.php
modules/contrib/preview_site/src/Deploy/DeployPluginInterface.php
modules/contrib/preview_site/src/Deploy/DeployPluginManager.php
modules/contrib/preview_site/src/Entity/PreviewSiteBuild.php
modules/contrib/preview_site/src/PreviewSiteCacheContext.php
modules/contrib/preview_site/tests/modules/preview_site_test/src/Plugin/Block/PublishedBlockContentListBlock.php
modules/contrib/preview_site/tests/modules/preview_site_test/src/Plugin/PreviewSite/Deploy/TestDeploy.php
modules/contrib/preview_site/tests/src/Kernel/PreviewSiteCacheContextTest.php
modules/contrib/preview_site/tests/modules/preview_site_test/src/Plugin/PreviewSite/Generate/TestGenerate.php
modules/contrib/preview_site/tests/src/Kernel/PreviewSiteDecommissionQueueWorkerTest.php
modules/contrib/preview_site/tests/src/Functional/PreviewSiteBuildAdministrationTest.php
modules/contrib/preview_site/tests/src/Kernel/PreviewSiteKernelTestBase.php
modules/contrib/preview_site/tests/src/Kernel/PublicFilesDeployPluginTest.php
modules/contrib/preview_site/tests/src/Functional/PreviewSiteBuildDeployFormTest.php
modules/contrib/preview_site/tests/src/Kernel/TomeGeneratorBlockContentTest.php
modules/contrib/preview_site/tests/src/Functional/PreviewStrategyAdministrationTest.php
modules/contrib/preview_site/tests/src/Kernel/TomeGeneratorEntityEmbedTest.php
modules/contrib/preview_site/tests/src/Kernel/TomeGeneratorNodeGlobalTest.php
modules/contrib/preview_site/tests/src/Kernel/TomeGeneratorParagraphTest.php
modules/contrib/preview_site/tests/src/Kernel/TomeGeneratorTestBase.php
modules/contrib/preview_site/tests/src/Traits/BlockContentSetupTrait.php
modules/contrib/preview_site/tests/src/Traits/PreviewSiteTestTrait.php
modules/contrib/preview_site/tests/src/Unit/FileHelperTest.php

6 files with changes
====================

1) modules/contrib/preview_site/modules/preview_site_s3/tests/src/Kernel/S3DeployPluginTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\preview_site_s3\Kernel;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Aws\S3\S3Client;
 use Drupal\entity_test\Entity\EntityTest;
 use Drupal\preview_site\Entity\PreviewSiteBuild;
@@ @@
  */
 class S3DeployPluginTest extends PreviewSiteKernelTestBase {

+  use ProphecyTrait;
   /**
    * {@inheritdoc}
    */
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/preview_site/tests/src/Functional/PreviewSiteBuildDeployFormTest.php:164

    ---------- begin diff ----------
@@ @@
     $node_static_file = $this->getGeneratedFileForEntity($node, $build);
     $this->assertTrue(file_exists($node_static_file));

-    $path = file_create_url($node_static_file);
+    $path = \Drupal::service('file_url_generator')->generateAbsoluteString($node_static_file);
     $this->drupalGet($path);
     $assert->statusCodeEquals(200);
     $assert->pageTextContains($draft_text);
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/preview_site/src/Plugin/PreviewSite/Deploy/PublicFiles.php:93

    ---------- begin diff ----------
@@ @@
     $destination = sprintf('public://%s', trim($this->token->replace($this->configuration['naming'], [
       'preview_site_build' => $build,
     ], ['clean' => TRUE]), '/'));
-    return file_create_url($destination);
+    return \Drupal::service('file_url_generator')->generateAbsoluteString($destination);
   }

   /**
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/preview_site/tests/src/Unit/FileHelperTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\preview_site\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\file\FileInterface;
 use Drupal\preview_site\Entity\PreviewSiteBuildInterface;
 use Drupal\preview_site\Generate\FileHelper;
@@ @@
  */
 class FileHelperTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Tests ::getFilePathWithoutSchema.
    *
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/preview_site/tests/src/Kernel/PublicFilesDeployPluginTest.php:101

    ---------- begin diff ----------
@@ @@
     $build->{$operation}();
     foreach ($build->get('artifacts') as $item) {
       $file = $item->entity;
-      $this->assertFileNotExists(sprintf('public://preview-site/%s/%s', $build->uuid(), FileHelper::getFilePathWithoutSchema($file, $build)));
+      $this->assertFileDoesNotExist(sprintf('public://preview-site/%s/%s', $build->uuid(), FileHelper::getFilePathWithoutSchema($file, $build)));
     }
   }
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameMethodRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/preview_site/tests/src/Kernel/PreviewSiteBuildEntityTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\preview_site\Kernel;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Component\Datetime\TimeInterface;
 use Drupal\Core\Url;
 use Drupal\datetime\Plugin\Field\FieldType\DateTimeItemInterface;
@@ @@
  */
 class PreviewSiteBuildEntityTest extends PreviewSiteKernelTestBase {

+  use ProphecyTrait;
   use TaxonomyTestTrait;

   /**
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ExplicitPhpErrorApiRector (https://github.com/sebastianbergmann/phpunit/blob/master/ChangeLog-9.0.md)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 6 files have been changed by Rector                                       

