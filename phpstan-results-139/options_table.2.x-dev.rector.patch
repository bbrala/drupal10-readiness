diff --git a/options_table.info.yml b/options_table.info.yml
index defbc9e..03741a6 100644
--- a/options_table.info.yml
+++ b/options_table.info.yml
@@ -1,8 +1,7 @@
 name: Options Table
 type: module
 description: Draggable Table widget for options field types.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 package: Fields
 dependencies:
   - drupal:options
diff --git a/src/Tests/OptionsTableWidgetsTest.php b/src/Tests/OptionsTableWidgetsTest.php
index 2bfeb7d..a35ad69 100644
--- a/src/Tests/OptionsTableWidgetsTest.php
+++ b/src/Tests/OptionsTableWidgetsTest.php
@@ -47,7 +47,7 @@ class OptionsTableWidgetsTest extends FieldTestBase {
    */
   protected $assertSession;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->assertSession = $this->assertSession();
@@ -128,7 +128,7 @@ class OptionsTableWidgetsTest extends FieldTestBase {
 
     // Select first option.
     $edit = ['card_1[table][enabled]' => 0];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $this->assertFieldValues($entity_init, 'card_1', [0]);
 
     // Check that the selected button is checked.
@@ -139,7 +139,7 @@ class OptionsTableWidgetsTest extends FieldTestBase {
 
     // Unselect option.
     $edit = ['card_1[table][enabled]' => '_none'];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $this->assertFieldValues($entity_init, 'card_1', []);
 
     // Check that required radios with one option is auto-selected.
@@ -188,7 +188,7 @@ class OptionsTableWidgetsTest extends FieldTestBase {
       'card_2[table][1][enabled]' => FALSE,
       'card_2[table][2][enabled]' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $this->assertFieldValues($entity_init, 'card_2', [0, 2]);
 
     // Display form: check that the right options are selected.
@@ -203,7 +203,7 @@ class OptionsTableWidgetsTest extends FieldTestBase {
       'card_2[table][1][enabled]' => FALSE,
       'card_2[table][2][enabled]' => FALSE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $this->assertFieldValues($entity_init, 'card_2', [0]);
 
     // Display form: check that the right options are selected.
@@ -218,7 +218,7 @@ class OptionsTableWidgetsTest extends FieldTestBase {
       'card_2[table][1][enabled]' => TRUE,
       'card_2[table][2][enabled]' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $this->assertSession->pageTextContains('this field cannot hold more than 2 values');
 
     // Submit form: uncheck all options.
@@ -227,7 +227,7 @@ class OptionsTableWidgetsTest extends FieldTestBase {
       'card_2[table][1][enabled]' => FALSE,
       'card_2[table][2][enabled]' => FALSE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     // Check that the value was saved.
     $this->assertFieldValues($entity_init, 'card_2', []);
 
@@ -273,7 +273,7 @@ class OptionsTableWidgetsTest extends FieldTestBase {
       'card_2[table][1][enabled]' => FALSE,
       'card_2[table][2][enabled]' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $this->assertFieldValues($entity_init, 'card_2', [0, 2]);
 
     // Display form: check that the right options are selected.
@@ -281,24 +281,24 @@ class OptionsTableWidgetsTest extends FieldTestBase {
     $this->assertSession->checkboxChecked('edit-card-2-table-0-enabled');
     $this->assertSession->checkboxNotChecked('edit-card-2-table-1-enabled');
     $this->assertSession->checkboxChecked('edit-card-2-table-2-enabled');
-    $this->assertOptionSelected('edit-card-2-table-0-weight', 0);
-    $this->assertOptionSelected('edit-card-2-table-2-weight', 1);
-    $this->assertOptionSelected('edit-card-2-table-1-weight', 2);
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-0-weight', 0)->hasAttribute('selected'));
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-2-weight', 1)->hasAttribute('selected'));
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-1-weight', 2)->hasAttribute('selected'));
 
     // Change delta sorting.
     $edit = [
       "card_2[table][2][weight]" => -1,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $this->assertFieldValues($entity_init, 'card_2', [2, 0]);
 
     $this->drupalGet('entity_test/manage/' . $entity->id() . '/edit');
     $this->assertSession->checkboxChecked("edit-card-2-table-0-enabled");
     $this->assertSession->checkboxNotChecked("edit-card-2-table-1-enabled");
     $this->assertSession->checkboxChecked("edit-card-2-table-2-enabled");
-    $this->assertOptionSelected('edit-card-2-table-2-weight', 0);
-    $this->assertOptionSelected('edit-card-2-table-0-weight', 1);
-    $this->assertOptionSelected('edit-card-2-table-1-weight', 2);
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-2-weight', 0)->hasAttribute('selected'));
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-0-weight', 1)->hasAttribute('selected'));
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-1-weight', 2)->hasAttribute('selected'));
 
     // Changes options and sorting at the same time.
     $edit = [
@@ -308,16 +308,16 @@ class OptionsTableWidgetsTest extends FieldTestBase {
       "card_2[table][2][weight]" => -3,
       "card_2[table][1][weight]" => -2,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $this->assertFieldValues($entity_init, 'card_2', [1, 0]);
 
     $this->drupalGet('entity_test/manage/' . $entity->id() . '/edit');
     $this->assertSession->checkboxChecked("edit-card-2-table-0-enabled");
     $this->assertSession->checkboxChecked("edit-card-2-table-1-enabled");
     $this->assertSession->checkboxNotChecked("edit-card-2-table-2-enabled");
-    $this->assertOptionSelected('edit-card-2-table-1-weight', 0);
-    $this->assertOptionSelected('edit-card-2-table-0-weight', 1);
-    $this->assertOptionSelected('edit-card-2-table-2-weight', 2);
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-1-weight', 0)->hasAttribute('selected'));
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-0-weight', 1)->hasAttribute('selected'));
+    $this->assertTrue($this->assertSession()->optionExists('edit-card-2-table-2-weight', 2)->hasAttribute('selected'));
   }
 
   /**
