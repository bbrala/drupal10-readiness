diff --git a/modules/warmer_cdn/src/Plugin/warmer/CdnWarmer.php b/modules/warmer_cdn/src/Plugin/warmer/CdnWarmer.php
index ca7f7b1..4132e12 100644
--- a/modules/warmer_cdn/src/Plugin/warmer/CdnWarmer.php
+++ b/modules/warmer_cdn/src/Plugin/warmer/CdnWarmer.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\warmer_cdn\Plugin\warmer;
 
+use function GuzzleHttp\Promise\all;
 use Drupal\Component\Utility\UrlHelper;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Form\SubformStateInterface;
@@ -80,7 +81,7 @@ final class CdnWarmer extends WarmerPluginBase {
       // Wait for all fired requests if max number is reached.
       $item_keys = array_keys($items);
       if ($key % $max_concurrent_requests == 0 || $key == end($item_keys)) {
-        \GuzzleHttp\Promise\all($promises)->wait();
+        all($promises)->wait();
         $promises = [];
       }
     }
diff --git a/modules/warmer_cdn/tests/src/Functional/SitemapWarmerTest.php b/modules/warmer_cdn/tests/src/Functional/SitemapWarmerTest.php
index 48cf5f8..96e5e20 100644
--- a/modules/warmer_cdn/tests/src/Functional/SitemapWarmerTest.php
+++ b/modules/warmer_cdn/tests/src/Functional/SitemapWarmerTest.php
@@ -49,7 +49,7 @@ final class SitemapWarmerTest extends BrowserTestBase {
    */
   private $adminUser;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->adminUser = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->adminUser);
diff --git a/modules/warmer_entity/tests/src/Functional/EnqueueFormTest.php b/modules/warmer_entity/tests/src/Functional/EnqueueFormTest.php
index 52e4b9f..56a9e51 100644
--- a/modules/warmer_entity/tests/src/Functional/EnqueueFormTest.php
+++ b/modules/warmer_entity/tests/src/Functional/EnqueueFormTest.php
@@ -33,7 +33,7 @@ class EnqueueFormTest extends BrowserTestBase {
    */
   private $adminUser;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->adminUser = $this->createUser(['administer site configuration']);
     NodeType::create([
diff --git a/tests/src/Unit/Plugin/QueueWorker/ItemWarmerTest.php b/tests/src/Unit/Plugin/QueueWorker/ItemWarmerTest.php
index b18f262..63dce9c 100644
--- a/tests/src/Unit/Plugin/QueueWorker/ItemWarmerTest.php
+++ b/tests/src/Unit/Plugin/QueueWorker/ItemWarmerTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\warmer\Unit\Plugin\QueueWorker;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Tests\UnitTestCase;
 use Drupal\warmer\Plugin\QueueWorker\ItemWarmer;
 use Drupal\warmer\QueueData;
@@ -12,12 +13,13 @@ use Drupal\warmer\QueueData;
  */
 class ItemWarmerTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * @var \Drupal\warmer\Plugin\QueueWorker\ItemWarmer
    */
   protected $sut;
 
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->sut = new ItemWarmer([], 'warmer', []);
   }
