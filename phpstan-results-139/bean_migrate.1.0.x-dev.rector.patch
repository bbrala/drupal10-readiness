diff --git a/tests/src/Kernel/BeanMigrateTestBase.php b/tests/src/Kernel/BeanMigrateTestBase.php
index 0e814f0..de1217f 100644
--- a/tests/src/Kernel/BeanMigrateTestBase.php
+++ b/tests/src/Kernel/BeanMigrateTestBase.php
@@ -60,10 +60,10 @@ abstract class BeanMigrateTestBase extends MigrateDrupalTestBase {
    */
   public function getDatabaseFixtureFilePath() {
     if ($this->isMultilingualTest) {
-      return drupal_get_path('module', 'bean_migrate') . '/tests/fixtures/drupal7_bean_multilingual.php';
+      return \Drupal::service('extension.list.module')->getPath('bean_migrate') . '/tests/fixtures/drupal7_bean_multilingual.php';
     }
 
-    return drupal_get_path('module', 'bean_migrate') . '/tests/fixtures/drupal7_bean.php';
+    return \Drupal::service('extension.list.module')->getPath('bean_migrate') . '/tests/fixtures/drupal7_bean.php';
   }
 
   /**
@@ -75,7 +75,7 @@ abstract class BeanMigrateTestBase extends MigrateDrupalTestBase {
   public function getFilesystemFixturePath() {
     return implode(DIRECTORY_SEPARATOR, [
       DRUPAL_ROOT,
-      drupal_get_path('module', 'bean_migrate'),
+      \Drupal::service('extension.list.module')->getPath('bean_migrate'),
       'tests',
       'fixtures',
       'files',
@@ -85,7 +85,7 @@ abstract class BeanMigrateTestBase extends MigrateDrupalTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->loadFixture($this->getDatabaseFixtureFilePath());
     $module_handler = \Drupal::moduleHandler();
diff --git a/tests/src/Kernel/Plugin/migrate/BeanDeriverTestBase.php b/tests/src/Kernel/Plugin/migrate/BeanDeriverTestBase.php
index 74d032a..fdaa2cf 100644
--- a/tests/src/Kernel/Plugin/migrate/BeanDeriverTestBase.php
+++ b/tests/src/Kernel/Plugin/migrate/BeanDeriverTestBase.php
@@ -36,7 +36,7 @@ abstract class BeanDeriverTestBase extends BeanMigrateTestBase {
    */
   protected static function getImportantMigrationDefinitionProperties(Migration $migration): array {
     $definition = $migration->getPluginDefinition();
-    $module_path = preg_quote(DRUPAL_ROOT . '/' . drupal_get_path('module', $definition['provider']), '/');
+    $module_path = preg_quote(DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath($definition['provider']), '/');
     $definition['_discovered_file_path'] = preg_replace("/{$module_path}/", '', $definition['_discovered_file_path']);
     return $definition;
   }
diff --git a/tests/src/Unit/MigrationPluginAltererTest.php b/tests/src/Unit/MigrationPluginAltererTest.php
index 2c38990..1b97fb8 100644
--- a/tests/src/Unit/MigrationPluginAltererTest.php
+++ b/tests/src/Unit/MigrationPluginAltererTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\bean_migrate\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\bean_migrate\MigrationPluginAlterer;
 use Drupal\Component\Utility\NestedArray;
 use Drupal\Core\Database\Query\SelectInterface;
@@ -23,6 +24,7 @@ use Prophecy\Argument;
  */
 class MigrationPluginAltererTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * Tests that no exception thrown ::alterFieldInstanceMigrations.
    */
diff --git a/tests/src/Unit/Plugin/migrate/process/BeanBlockPluginIdTest.php b/tests/src/Unit/Plugin/migrate/process/BeanBlockPluginIdTest.php
index da9f6c9..36f26fc 100644
--- a/tests/src/Unit/Plugin/migrate/process/BeanBlockPluginIdTest.php
+++ b/tests/src/Unit/Plugin/migrate/process/BeanBlockPluginIdTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\bean_migrate\Unit\Plugin\migrate\process;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\bean_migrate\Plugin\migrate\process\BeanBlockPluginId;
 use Drupal\block_content\BlockContentInterface;
 use Drupal\Core\Entity\EntityStorageInterface;
@@ -17,6 +18,7 @@ use Prophecy\Argument;
  */
 class BeanBlockPluginIdTest extends MigrateProcessTestCase {
 
+  use ProphecyTrait;
   /**
    * Tests that transform work as expected.
    *
diff --git a/tests/src/Unit/Plugin/migrate/process/BeanUniqueTypeTest.php b/tests/src/Unit/Plugin/migrate/process/BeanUniqueTypeTest.php
index 5772b86..94f3945 100644
--- a/tests/src/Unit/Plugin/migrate/process/BeanUniqueTypeTest.php
+++ b/tests/src/Unit/Plugin/migrate/process/BeanUniqueTypeTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\bean_migrate\Unit\Plugin\migrate\process;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\bean_migrate\Plugin\migrate\process\BeanUniqueType;
 use Drupal\Component\Plugin\Exception\PluginException;
 use Drupal\Core\Entity\EntityStorageInterface;
@@ -19,6 +20,7 @@ use Prophecy\Argument;
  */
 class BeanUniqueTypeTest extends MigrateProcessTestCase {
 
+  use ProphecyTrait;
   /**
    * Tests that transform work as expected.
    *
