modules/contrib/content_moderation_edit_notify/content_moderation_edit_notify.module
modules/contrib/content_moderation_edit_notify/content_moderation_edit_notify.tokens.inc
modules/contrib/content_moderation_edit_notify/src/Controller/ContentModerationNotifyController.php
modules/contrib/content_moderation_edit_notify/src/Form/ContentModerationNotifySettingsForm.php
modules/contrib/content_moderation_edit_notify/src/Hook/NodeFormAlter.php
modules/contrib/content_moderation_edit_notify/tests/src/Functional/ContentModerationNotifyConfigTest.php
modules/contrib/content_moderation_edit_notify/tests/src/Functional/ContentModerationNotifyTest.php
modules/contrib/content_moderation_edit_notify/tests/src/FunctionalJavascript/ContentModerationNotifyJsTest.php
modules/contrib/content_moderation_edit_notify/tests/src/FunctionalJavascript/ContentModerationNotifyLocaleJsTest.php
modules/contrib/content_moderation_edit_notify/tests/src/FunctionalJavascript/ContentModerationNotifyTestBase.php

5 files with changes
====================

1) modules/contrib/content_moderation_edit_notify/tests/src/FunctionalJavascript/ContentModerationNotifyTestBase.php:72

    ---------- begin diff ----------
@@ @@
   /**
    * Sets the test up.
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Create content type.
     $this->drupalCreateContentType([
@@ @@
       'message_published[format]' => 'plain_text',
       'interval' => 5,
     ];
-    $this->drupalPostForm('admin/config/system/content_moderation_edit_notify', $edit, $this->t('Save configuration'));
+    $this->drupalGet('admin/config/system/content_moderation_edit_notify');
+    $this->submitForm($edit, $this->t('Save configuration'));
     $this->interval = 6;
   }
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/content_moderation_edit_notify/tests/src/FunctionalJavascript/ContentModerationNotifyLocaleJsTest.php:48

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalLogin($this->rootUser);
+    $this->drupalGet('admin/config/regional/language/add');
     // Add French languages.
-    $this->drupalPostForm('admin/config/regional/language/add', ['predefined_langcode' => 'fr'], $this->t('Add language'));
+    $this->submitForm(['predefined_langcode' => 'fr'], $this->t('Add language'));
     // Enable content translation on pages.
     $this->drupalGet('admin/config/regional/content-language');
     $edit = [
@@ @@
       'settings[node][page][translatable]' => TRUE,
       'settings[node][page][settings][language][language_alterable]' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, $this->t('Save configuration'));
+    $this->submitForm($edit, $this->t('Save configuration'));
     // Adding languages requires a container rebuild in the test running
     // environment so that multilingual services are used.
     $this->rebuildContainer();
@@ @@

     // Editor 1 login to create an English and French translation.
     $this->drupalLogin($this->editor1);
+    $this->drupalGet('node/add/page');

     // Create new moderated content in draft in English.
-    $this->drupalPostForm('node/add/page', [
+    $this->submitForm([
       'title[0][value]' => 'English node Draft',
       'langcode[0][value]' => 'en',
       'body[0][value]' => 'First version of the page in ENGLISH.',
@@ @@
       'body[0][value]' => 'First version of the page in FRENCH.',
       'moderation_state[0][state]' => 'draft',
     ];
-    $this->drupalPostForm(NULL, $edit, $this->t('Save (this translation)'));
+    $this->submitForm($edit, $this->t('Save (this translation)'));

     // Open English version for editing.
     $this->drupalGet($en_edit_path);
@@ @@
     // As editor 2 we edit the French version.
     $this->drupalLogin($this->editor2);
     $this->drupalGet($fr_edit_path);
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'French node Draft EDITED',
       'body[0][value]' => 'Edited version of the page in FRENCH.',
       'moderation_state[0][state]' => 'draft',
@@ @@
     // @phpstan-ignore-next-line
     $this->loggedInUser = $loggedInEditor2;
     $this->drupalGet($fr_edit_path);
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'French node Published EDITED',
       'body[0][value]' => 'Edited version of the page in FRENCH - Published.',
       'moderation_state[0][state]' => 'published',
@@ @@

     // Editor 1 login to create an English and French translation.
     $this->drupalLogin($this->editor1);
+    $this->drupalGet('node/add/page');

     // Create new moderated content in draft in English.
-    $this->drupalPostForm('node/add/page', [
+    $this->submitForm([
       'title[0][value]' => 'English node Draft',
       'langcode[0][value]' => 'en',
       'body[0][value]' => 'First version of the page in ENGLISH.',
@@ @@
       'body[0][value]' => 'First version of the page in FRENCH.',
       'moderation_state[0][state]' => 'draft',
     ];
-    $this->drupalPostForm(NULL, $edit, $this->t('Save (this translation)'));
+    $this->submitForm($edit, $this->t('Save (this translation)'));

     // Open French version for editing.
     $this->drupalGet($fr_edit_path);
@@ @@
     // As editor 2 we edit the French version.
     $this->drupalLogin($this->editor2);
     $this->drupalGet($fr_edit_path);
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'French node Draft EDITED',
       'body[0][value]' => 'Edited version of the page in FRENCH.',
       'moderation_state[0][state]' => 'draft',
@@ @@
     // @phpstan-ignore-next-line
     $this->loggedInUser = $loggedInEditor2;
     $this->drupalGet($fr_edit_path);
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'French node Published EDITED',
       'body[0][value]' => 'Edited version of the page in FRENCH - Published.',
       'moderation_state[0][state]' => 'published',
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/content_moderation_edit_notify/tests/src/FunctionalJavascript/ContentModerationNotifyJsTest.php:17

    ---------- begin diff ----------
@@ @@

     // Editor 1 login to create a moderated content.
     $this->drupalLogin($this->editor1);
+    $this->drupalGet('node/add/page');

     // Create new moderated content in draft.
-    $this->drupalPostForm('node/add/page', [
+    $this->submitForm([
       'title[0][value]' => 'Draft page',
       'body[0][value]' => 'First version of the page.',
       'moderation_state[0][state]' => 'draft',
@@ @@
     // As editor 2 we edit the content and save.
     $this->drupalLogin($this->editor2);
     $this->drupalGet($edit_path);
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Draft page EDITED',
       'body[0][value]' => 'Edited version of the page.',
       'moderation_state[0][state]' => 'draft',
@@ @@
     // @phpstan-ignore-next-line
     $this->loggedInUser = $loggedInEditor2;
     $this->drupalGet($edit_path);
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'title[0][value]' => 'Published page',
       'body[0][value]' => 'Published version of the page.',
       'moderation_state[0][state]' => 'published',
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/content_moderation_edit_notify/tests/src/Functional/ContentModerationNotifyTest.php:65

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     // Create a content type.
@@ @@

     // Login.
     $this->drupalLogin($this->editor1);
+    $this->drupalGet('node/add/page');

     // Create new moderated content in draft.
-    $this->drupalPostForm('node/add/page', [
+    $this->submitForm([
       'title[0][value]' => 'Draft page',
       'body[0][value]' => 'First version of the page.',
       'moderation_state[0][state]' => 'draft',
@@ @@
     $this->drupalGet($checkUrl);
     // Result is good as no change occur.
     $this->assertSession()->responseContains("{}");
+    $this->drupalGet('node/' . $nid . '/edit');

     // Update the node.
-    $this->drupalPostForm('node/' . $nid . '/edit', [
+    $this->submitForm([
       'title[0][value]' => 'Draft node rev2',
       'moderation_state[0][state]' => 'draft',
     ], $this->t('Save'));
@@ @@
       ->replace($config->get('message_unpublished'), ['node' => $node_draft2]);
     // Test if we have the unpublished message.
     $this->assertEquals(strip_tags($config_message), strip_tags($json->message));
+    $this->drupalGet('node/' . $nid . '/edit');

     // Now make it published.
-    $this->drupalPostForm('node/' . $nid . '/edit', [
+    $this->submitForm([
       'title[0][value]' => 'Published node',
       'moderation_state[0][state]' => 'published',
     ], $this->t('Save'));
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/content_moderation_edit_notify/tests/src/Functional/ContentModerationNotifyConfigTest.php:38

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     // Set up the filter formats used by this test.
@@ @@
     // Test form submission.
     $txt_unpublished = 'Test unpublished \nTest unpublished';
     $txt_published = 'Test published \nTest published';
-    $this->drupalPostForm(NULL, [
+    $this->submitForm([
       'interval' => '20',
       'edit-message-unpublished-value' => $txt_unpublished,
       'edit-message-published-value' => $txt_published,
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 5 files have been changed by Rector                                       

