diff --git a/bootstrap4_modal.info.yml b/bootstrap4_modal.info.yml
index 3c6f1b6..837da05 100644
--- a/bootstrap4_modal.info.yml
+++ b/bootstrap4_modal.info.yml
@@ -1,6 +1,5 @@
 name: 'Bootstrap 4 Modal'
 type: module
 description: 'This module will provide bootstrap 4 modal as a drupal ajax dialog.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: UI
diff --git a/bootstrap4_modal.module b/bootstrap4_modal.module
index 029343e..f67f381 100644
--- a/bootstrap4_modal.module
+++ b/bootstrap4_modal.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\Core\Form\FormStateInterface;
 /**
  * @file
  * Contains bootstrap4_modal.module.
@@ -97,7 +98,7 @@ function bootstrap4_modal_library_info_alter(&$libraries, $extension) {
     $libraries['bootstrap4_modal_selection'] = [
       'version' => 'VERSION',
       'js' => [
-        '/' . drupal_get_path('module', 'bootstrap4_modal') . '/js/entity_browser.bootstrap4_modal_selection.js' => [],
+        '/' . \Drupal::service('extension.list.module')->getPath('bootstrap4_modal') . '/js/entity_browser.bootstrap4_modal_selection.js' => [],
       ],
       'dependencies' => [
         'core/drupalSettings',
@@ -117,7 +118,7 @@ function bootstrap4_modal_preprocess_page(&$variables) {
 /**
  * Implements hook_form_BASE_FORM_ID_alter().
  */
-function bootstrap4_modal_form_entity_browser_form_alter(&$form, \Drupal\Core\Form\FormStateInterface $form_state, $form_id) {
+function bootstrap4_modal_form_entity_browser_form_alter(&$form, FormStateInterface $form_state, $form_id) {
   $build_info = $form_state->getBuildInfo();
   if (isset($build_info['callback_object']) && method_exists($build_info['callback_object'], 'getEntityBrowser') && $entityBrowser = $build_info['callback_object']->getEntityBrowser()) {
     if ($entityBrowser->display === 'bootstrap4_modal') {
@@ -131,7 +132,7 @@ function bootstrap4_modal_form_entity_browser_form_alter(&$form, \Drupal\Core\Fo
   }
 }
 
-function bootstrap4_modal_form_entity_browser_form_alter_ajax_callback($form, \Drupal\Core\Form\FormStateInterface $form_state) {
+function bootstrap4_modal_form_entity_browser_form_alter_ajax_callback($form, FormStateInterface $form_state) {
   $response = new AjaxResponse();
   $response->addCommand(
     new CloseBootstrap4ModalDialogCommand()
diff --git a/src/Plugin/EntityBrowser/Display/Bootstrap4Modal.php b/src/Plugin/EntityBrowser/Display/Bootstrap4Modal.php
index 22d7617..8efb3f1 100644
--- a/src/Plugin/EntityBrowser/Display/Bootstrap4Modal.php
+++ b/src/Plugin/EntityBrowser/Display/Bootstrap4Modal.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\bootstrap4_modal\Plugin\EntityBrowser\Display;
 
+use Symfony\Component\HttpKernel\Event\ResponseEvent;
 use Drupal\Component\Utility\NestedArray;
 use Drupal\bootstrap4_modal\Ajax\OpenBootstrap4ModalDialogByUrlCommand;
 use Drupal\Core\Url;
@@ -14,7 +15,6 @@ use Drupal\bootstrap4_modal\Ajax\CloseBootstrap4ModalDialogCommand;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\entity_browser\Events\AlterEntityBrowserDisplayData;
 use Drupal\entity_browser\Plugin\EntityBrowser\Display\Modal;
-use Symfony\Component\HttpKernel\Event\FilterResponseEvent;
 use Drupal\Core\Entity\EntityInterface;
 
 /**
@@ -187,10 +187,10 @@ class Bootstrap4Modal extends Modal {
    * Intercepts default response and injects response that will trigger JS to
    * propagate selected entities upstream.
    *
-   * @param \Symfony\Component\HttpKernel\Event\FilterResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\ResponseEvent $event
    *   Response event.
    */
-  public function propagateSelection(FilterResponseEvent $event) {
+  public function propagateSelection(ResponseEvent $event) {
     $render = [
       '#attached' => [
         'library' => ['entity_browser/' . $this->pluginDefinition['id'] . '_selection'],
