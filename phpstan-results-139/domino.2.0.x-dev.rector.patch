diff --git a/src/TestUsers.php b/src/TestUsers.php
index 1a6da63..57eaaab 100644
--- a/src/TestUsers.php
+++ b/src/TestUsers.php
@@ -114,7 +114,7 @@ class TestUsers {
         // automatically in production or another sensitive environment then
         // nobody can log in with this account by default. We set the defined
         // password later in $this->>ensureTestUsersPassword().
-        $account->setPassword(user_password());
+        $account->setPassword(\Drupal::service('password_generator')->generate());
 
         // Any role apart from the default authenticated role requires to be
         // added to the account.
