diff --git a/easy_responsive_images.info.yml b/easy_responsive_images.info.yml
index 5306dfe..c682485 100644
--- a/easy_responsive_images.info.yml
+++ b/easy_responsive_images.info.yml
@@ -1,7 +1,7 @@
 name: 'Easy Responsive Images'
 description: 'Provides a settings form to automatically generate image styles, and a Twig Filter to use the image styles in templates.'
 type: module
-core_version_requirement: ^9
+core_version_requirement: ^9.3 || ^10
 package: Other
 configure: easy_responsive_images.generate
 dependencies:
diff --git a/src/TwigExtension/ImageUrl.php b/src/TwigExtension/ImageUrl.php
index ee37219..744878a 100644
--- a/src/TwigExtension/ImageUrl.php
+++ b/src/TwigExtension/ImageUrl.php
@@ -64,7 +64,7 @@ class ImageUrl extends AbstractExtension {
       return [];
     }
 
-    $file_url = file_url_transform_relative($image_style->buildUrl($uri));
+    $file_url = \Drupal::service('file_url_generator')->transformRelative($image_style->buildUrl($uri));
 
     // If the imageapi_optimize_webp module is installed and the browser
     // supports webp, return the webp version of the image.
