modules/contrib/intelligencebank/ib_dam.module
modules/contrib/intelligencebank/modules/ib_dam_media/ib_dam_media.module
modules/contrib/intelligencebank/modules/ib_dam_media/ib_dam_media.install
modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/src/Plugin/Filter/IbDamWysiwygFilter.php
modules/contrib/intelligencebank/src/AssetValidation/AssetValidationInterface.php
modules/contrib/intelligencebank/src/Plugin/IbDam/AssetValidation/File.php
modules/contrib/intelligencebank/modules/ib_dam_media/src/AssetStorage/MediaStorage.php
modules/contrib/intelligencebank/src/AssetValidation/AssetValidationManager.php
modules/contrib/intelligencebank/src/AssetValidation/AssetValidationTrait.php
modules/contrib/intelligencebank/src/AssetValidation/AssetViolationAggregator.php
modules/contrib/intelligencebank/src/Downloader.php
modules/contrib/intelligencebank/src/Plugin/IbDam/AssetValidation/Resource.php
modules/contrib/intelligencebank/modules/ib_dam_media/src/Exceptions/MediaStorageUnableSaveMediaItem.php
modules/contrib/intelligencebank/modules/ib_dam_media/src/Exceptions/MediaTypeMatcherBadMediaTypeMatch.php
modules/contrib/intelligencebank/src/Annotation/IbDamAssetValidation.php
modules/contrib/intelligencebank/modules/ib_dam_media/src/Exceptions/MediaTypeMatcherBadMediaTypes.php
modules/contrib/intelligencebank/src/Asset/Asset.php
modules/contrib/intelligencebank/modules/ib_dam_media/src/Form/MediaConfigurationForm.php
modules/contrib/intelligencebank/src/Element/IbIframeApp.php
modules/contrib/intelligencebank/modules/ib_dam_media/src/MediaTypeMatcher.php
modules/contrib/intelligencebank/src/Exceptions/AssetDownloaderBadDestination.php
modules/contrib/intelligencebank/src/Exceptions/AssetDownloaderBadRequest.php
modules/contrib/intelligencebank/src/Exceptions/AssetDownloaderBadResponse.php
modules/contrib/intelligencebank/src/Exceptions/AssetUnableCreateStorageHandler.php
modules/contrib/intelligencebank/src/Exceptions/AssetUnableSaveLocalFile.php
modules/contrib/intelligencebank/src/Exceptions/AssetUnableSaveThumbnailFile.php
modules/contrib/intelligencebank/src/Exceptions/AssetValidationBadPluginId.php
modules/contrib/intelligencebank/src/Exceptions/IbDamException.php
modules/contrib/intelligencebank/src/Asset/AssetInterface.php
modules/contrib/intelligencebank/src/Form/IbSettingsForm.php
modules/contrib/intelligencebank/src/Asset/EmbedAsset.php
modules/contrib/intelligencebank/src/Asset/EmbedAssetInterface.php
modules/contrib/intelligencebank/src/Asset/LocalAsset.php
modules/contrib/intelligencebank/src/IbDamApi.php
modules/contrib/intelligencebank/src/Asset/LocalAssetInterface.php
modules/contrib/intelligencebank/src/AssetFormatter/AssetFeatures.php
modules/contrib/intelligencebank/src/IbDamResourceModel.php
modules/contrib/intelligencebank/src/AssetFormatter/AssetFormatterBase.php
modules/contrib/intelligencebank/src/AssetFormatter/AssetFormatterInterface.php
modules/contrib/intelligencebank/src/AssetFormatter/AssetFormatterManager.php
modules/contrib/intelligencebank/src/Plugin/EntityBrowser/Widget/FileEntityBrowser.php
modules/contrib/intelligencebank/modules/ib_dam_media/src/Plugin/EntityBrowser/Widget/IbDamEbWidget.php
modules/contrib/intelligencebank/src/AssetFormatter/EmbedAssetFormatterBase.php
modules/contrib/intelligencebank/src/AssetFormatter/EmbedAudioAssetFormatter.php
modules/contrib/intelligencebank/src/AssetFormatter/EmbedImageAssetFormatter.php
modules/contrib/intelligencebank/src/Plugin/Field/FieldFormatter/IbDamEmbedFormatter.php
modules/contrib/intelligencebank/src/AssetFormatter/EmbedLinkAssetFormatter.php
modules/contrib/intelligencebank/src/AssetFormatter/EmbedVideoAssetFormatter.php
modules/contrib/intelligencebank/src/Plugin/IbDam/AssetValidation/Api.php
modules/contrib/intelligencebank/src/AssetFormatter/LocalAssetFormatter.php
modules/contrib/intelligencebank/src/AssetStorage/AssetStorageInterface.php
modules/contrib/intelligencebank/src/AssetValidation/AssetValidationBase.php
modules/contrib/intelligencebank/modules/ib_dam_media/src/Plugin/media/Source/IbDamEmbedField.php
modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/ib_dam_wysiwyg.module
modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/src/Access/FilterInUse.php
modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/src/AssetStorage/TextFilterStorage.php
modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/src/Form/IbDamWysiwygDialog.php
modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/src/Plugin/CKEditorPlugin/IbDamEditorPlugin.php

4 files with changes
====================

1) modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/src/Plugin/CKEditorPlugin/IbDamEditorPlugin.php:33

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'ib_dam_wysiwyg') . '/js/plugins/ib_dam_browser/plugin.js';
+    return \Drupal::service('extension.list.module')->getPath('ib_dam_wysiwyg') . '/js/plugins/ib_dam_browser/plugin.js';
   }

   /**
@@ @@
       'ib_dam_browser' => [
         'name' => 'IB',
         'label' => $this->t('IntelligenceBank Asset Browser'),
-        'image' => drupal_get_path('module', 'ib_dam_wysiwyg') . '/js/plugins/ib_dam_browser/icon.png',
+        'image' => \Drupal::service('extension.list.module')->getPath('ib_dam_wysiwyg') . '/js/plugins/ib_dam_browser/icon.png',
       ],
     ];
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/src/Form/IbDamWysiwygDialog.php:422

    ---------- begin diff ----------
@@ @@
       $display['width'] = $width;
       $display['height'] = $height;
     }
-    $data['preview_uri'] = file_url_transform_relative($file_url);
+    $data['preview_uri'] = \Drupal::service('file_url_generator')->transformRelative($file_url);
   }

 }
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/intelligencebank/modules/ib_dam_wysiwyg/src/AssetStorage/TextFilterStorage.php:46

    ---------- begin diff ----------
@@ @@
     }
     elseif ($asset instanceof LocalAssetInterface) {
       $data['file_id'] = $asset->localFile()->id();
-      $data['preview_uri'] = file_url_transform_relative(file_create_url($asset->localFile()->getFileUri()));
+      $data['preview_uri'] = \Drupal::service('file_url_generator')->generateString($asset->localFile()->getFileUri());
     }
     return $data;
   }
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector


4) modules/contrib/intelligencebank/modules/ib_dam_media/src/MediaTypeMatcher.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\ib_dam_media;

+use Symfony\Component\Mime\MimeTypesInterface;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\field\Entity\FieldConfig;
@@ @@
 use Drupal\ib_dam\Downloader;
 use Drupal\ib_dam_media\Exceptions\MediaTypeMatcherBadMediaTypes;
 use Exception;
-use Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface;

 /**
  * Class MediaTypeMatcher.
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function __construct(ConfigFactoryInterface $config_factory, MimeTypeGuesserInterface $mime_type_guesser, EntityTypeManagerInterface $entity_type_manager) {
+  public function __construct(ConfigFactoryInterface $config_factory, MimeTypesInterface $mime_type_guesser, EntityTypeManagerInterface $entity_type_manager) {
     $this->config = $config_factory->get('ib_dam_media.settings');
     $this->mimeGuesser = $mime_type_guesser;
     $this->entityTypeManager = $entity_type_manager;
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector


 [OK] 4 files have been changed by Rector                                       

