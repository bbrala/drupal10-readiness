modules/contrib/webform_confirmation_file/src/Plugin/WebformHandler/ConfirmationFileWebformHandler.php
modules/contrib/webform_confirmation_file/tests/src/Functional/WebformConfirmationFileTest.php
modules/contrib/webform_confirmation_file/webform_confirmation_file.module

2 files with changes
====================

1) modules/contrib/webform_confirmation_file/tests/src/Functional/WebformConfirmationFileTest.php:26

    ---------- begin diff ----------
@@ @@
    * Test confirmation file handler.
    */
   public function testConfirmationFileHandler() {
+    $this->drupalGet('/webform/test_confirmation_file_content');
     // Check content source.
-    $this->drupalPostForm('/webform/test_confirmation_file_content', [], t('Submit'));
+    $this->submitForm([], t('Submit'));
     $this->assertSession()->responseContains('<?xml version="1.0"?>');
+    $this->drupalGet('/webform/test_confirmation_file_url');

     // Check URI source.
-    $this->drupalPostForm('/webform/test_confirmation_file_url', [], t('Submit'));
+    $this->submitForm([], t('Submit'));
     $this->assertSession()->responseContains('<?xml version="1.0"?>');

   }
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/webform_confirmation_file/src/Plugin/WebformHandler/ConfirmationFileWebformHandler.php:26

    ---------- begin diff ----------
@@ @@
   /**
    * The MIME type guesser.
    *
-   * @var \Symfony\Component\HttpFoundation\File\MimeType\MimeTypeGuesserInterface
+   * @var \Symfony\Component\Mime\MimeTypesInterface
    */
   protected $mimeTypeGuesser;

@@ @@
     else {
       try {
         $url = $this->configuration['url'];
-        $url = file_create_url($url) ?: $url;
+        $url = \Drupal::service('file_url_generator')->generateAbsoluteString($url) ?: $url;
         if (strpos($url, '/') === 0) {
           $url = \Drupal::request()->getSchemeAndHttpHost() . $url;
         }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * RenameClassRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

