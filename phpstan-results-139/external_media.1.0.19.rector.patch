diff --git a/src/Element/ExternalMediaFile.php b/src/Element/ExternalMediaFile.php
index 4dfc377..ab552ed 100644
--- a/src/Element/ExternalMediaFile.php
+++ b/src/Element/ExternalMediaFile.php
@@ -67,7 +67,7 @@ class ExternalMediaFile extends ManagedFile {
             if ($external_media = \Drupal::service('plugin.manager.external_media')->createInstance($plugin_id)) {
               if ($item = $external_media->getFile($remote_file, $destination)) {
                 if (!empty($item['source_data'])) {
-                  $file = file_save_data($item['source_data'], $item['destination']);
+                  $file = \Drupal::service('file.repository')->writeData($item['source_data'], $item['destination']);
                 }
                 elseif (!empty($item['source'])) {
                   $file = system_retrieve_file(trim($item['source']), trim($item['destination']), TRUE);
