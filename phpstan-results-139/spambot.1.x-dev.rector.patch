diff --git a/spambot.info.yml b/spambot.info.yml
index 759718b..99f2853 100644
--- a/spambot.info.yml
+++ b/spambot.info.yml
@@ -2,6 +2,5 @@ name: Spambot
 description: 'Anti-spam module that uses data from www.stopforumspam.com to protect the user registration form against known spammers and spambots.'
 type: module
 package: 'Spam control'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: spambot.settings_form
diff --git a/src/Form/SpambotSettingsForm.php b/src/Form/SpambotSettingsForm.php
index 75a1039..7713f0d 100644
--- a/src/Form/SpambotSettingsForm.php
+++ b/src/Form/SpambotSettingsForm.php
@@ -269,7 +269,7 @@ class SpambotSettingsForm extends ConfigFormBase {
       $suffix = '<br />';
       $renderableLink = Link::fromTextAndUrl($account->label(), $account->toUrl())->toRenderable();
       $suffix .= $this->t('The last checked user account is: %account (uid %uid)', [
-        '%account' => render($renderableLink),
+        '%account' => \Drupal::service('renderer')->render($renderableLink),
         '%uid' => $account->id(),
       ]);
     }
diff --git a/src/Form/SpambotUserspamForm.php b/src/Form/SpambotUserspamForm.php
index fa2bc6c..16e4c30 100755
--- a/src/Form/SpambotUserspamForm.php
+++ b/src/Form/SpambotUserspamForm.php
@@ -609,7 +609,7 @@ class SpambotUserspamForm extends ConfigFormBase {
       ->setProgressMessage($this->t('Completed @current of @total.'))
       ->setErrorMessage($this->t('An error has occurred.'));
 
-    $this->batchBuilder->setFile(drupal_get_path('module', 'spambot') . '/src/Form/SpambotUserspamForm.php');
+    $this->batchBuilder->setFile(\Drupal::service('extension.list.module')->getPath('spambot') . '/src/Form/SpambotUserspamForm.php');
   }
 
   /**
