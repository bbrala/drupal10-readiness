diff --git a/emaillog/emaillog.module b/emaillog/emaillog.module
index 9a36f3a..31d919b 100644
--- a/emaillog/emaillog.module
+++ b/emaillog/emaillog.module
@@ -52,7 +52,7 @@ function theme_emaillog_admin_settings($variables) {
     $row = [];
     // Permission row.
     $row[] = [
-      'data' => render($form['debug_info']['variable'][$key]),
+      'data' => \Drupal::service('renderer')->render($form['debug_info']['variable'][$key]),
       'class' => ['variable'],
     ];
     foreach (array_keys($severity_levels) as $level_id) {
@@ -60,7 +60,7 @@ function theme_emaillog_admin_settings($variables) {
       $form['debug_info'][$level_id][$key]['#title'] = $element['#title'] . ' : ' . $form['debug_info']['variable'][$key]['#markup'];
       $form['debug_info'][$level_id][$key]['#title_display'] = 'invisible';
       $row[] = [
-        'data' => render($form['debug_info'][$level_id][$key]),
+        'data' => \Drupal::service('renderer')->render($form['debug_info'][$level_id][$key]),
         'class' => ['checkbox'],
         'title' => $element['#title'] . ' : ' . $form['debug_info']['variable'][$key]['#markup'],
       ];
@@ -87,7 +87,7 @@ function theme_emaillog_admin_settings($variables) {
   // Put the table with all checkboxes inside a fieldset.
   $form['debug_info']['variables'] = [
     '#type'   => 'markup',
-    '#markup' => render($table),
+    '#markup' => \Drupal::service('renderer')->render($table),
   ];
 
   // Render and return all remaining elements.
@@ -121,7 +121,7 @@ function emaillog_mail($key, &$message, $params) {
       '#log' => $params,
     ];
 
-    $message['body'][] = render($emaillog_theme_element);
+    $message['body'][] = \Drupal::service('renderer')->render($emaillog_theme_element);
   }
 }
 
