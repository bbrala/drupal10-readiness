diff --git a/po_translations_report.module b/po_translations_report.module
index e13922d..5e69ffa 100644
--- a/po_translations_report.module
+++ b/po_translations_report.module
@@ -1,14 +1,14 @@
 <?php
 
+use Drupal\Core\Routing\RouteMatchInterface;
 /**
  * @file
  * Contains po_translations_report.module.
  */
-
 /**
  * Implements hook_help().
  */
-function po_translations_report_help($route_name, \Drupal\Core\Routing\RouteMatchInterface $route_match) {
+function po_translations_report_help($route_name, RouteMatchInterface $route_match) {
   switch ($route_name) {
     case 'help.page.po_translations_report':
       $output = t('Get translation status of strings that are in po files stored in a folder.');
diff --git a/src/Controller/PoTranslationsReportController.php b/src/Controller/PoTranslationsReportController.php
index ad88e28..e241029 100644
--- a/src/Controller/PoTranslationsReportController.php
+++ b/src/Controller/PoTranslationsReportController.php
@@ -133,7 +133,7 @@ class PoTranslationsReportController extends ControllerBase {
     // Handle the case where no po file could be found in the provided path.
     if (!$po_found) {
       $message = t('No po was found in %folder', array('%folder' => $folder_path));
-      drupal_set_message($message, 'warning');
+      $this->messenger()->addWarning($message);
     }
 
     // Now that all result data is filled, add a row with the totals.
@@ -280,7 +280,7 @@ class PoTranslationsReportController extends ControllerBase {
     // Warn if file doesn't exist or the category is not known.
     if (!file_exists($filepath)) {
       $message = t('%file_name was not found', array('%file_name' => $file_name));
-      drupal_set_message($message, 'error');
+      $this->messenger()->addError($message);
       return array(
         '#type' => 'markup',
         '#markup' => $output,
@@ -288,7 +288,7 @@ class PoTranslationsReportController extends ControllerBase {
     }
     if (!in_array($category, array_keys($this->getAllowedDetailsCategries()))) {
       $message = t('%category is not a known category', array('%category' => $category));
-      drupal_set_message($message, 'error');
+      $this->messenger()->addError($message);
       return array(
         '#type' => 'markup',
         '#markup' => $output,
