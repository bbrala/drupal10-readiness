diff --git a/onelogin_integration.info.yml b/onelogin_integration.info.yml
index b623e1d..7a6a486 100644
--- a/onelogin_integration.info.yml
+++ b/onelogin_integration.info.yml
@@ -2,7 +2,6 @@ name: OneLogin Integration
 type: module
 description: 'OneLogin integration for Drupal 8'
 package: OneLogin
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 configure: onelogin_integration.form
 autoload: true
\ No newline at end of file
diff --git a/src/UserService.php b/src/UserService.php
index 04cd5ff..2e27a73 100644
--- a/src/UserService.php
+++ b/src/UserService.php
@@ -75,7 +75,7 @@ class UserService implements UserServiceInterface {
       [
         'name'                     => $username,
         'mail'                     => $email,
-        'pass'                     => user_password(16),
+        'pass'                     => \Drupal::service('password_generator')->generate(16),
         'enforceIsNew'             => TRUE,
         'init'                     => $email,
         'defaultLangcode'          => 'en',
