diff --git a/src/Controller/TaskController.php b/src/Controller/TaskController.php
index 726e7cd..dcf0d5a 100644
--- a/src/Controller/TaskController.php
+++ b/src/Controller/TaskController.php
@@ -122,7 +122,7 @@ class TaskController extends ControllerBase implements ContainerInjectionInterfa
       '#data' => $data,
     ];
 
-    return new Response(render($build));
+    return new Response(\Drupal::service('renderer')->render($build));
   }
 
   /**
@@ -375,7 +375,7 @@ class TaskController extends ControllerBase implements ContainerInjectionInterfa
       '#data' => $data,
     ];
 
-    return new Response(render($build));
+    return new Response(\Drupal::service('renderer')->render($build));
 
   }
 
diff --git a/src/Entity/Task.php b/src/Entity/Task.php
index 6cc0b15..fab4b55 100644
--- a/src/Entity/Task.php
+++ b/src/Entity/Task.php
@@ -903,7 +903,7 @@ class Task extends EditorialContentEntityBase implements TaskInterface {
     $user = User::load($user_id);
     if ($user->hasField('user_picture') &&
       !$user->user_picture->isEmpty()) {
-      return file_create_url($user->user_picture->entity->getFileUri());
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($user->user_picture->entity->getFileUri());
     }
 
     return FALSE;
@@ -978,7 +978,7 @@ class Task extends EditorialContentEntityBase implements TaskInterface {
     $user = User::load($user_id);
     if ($user->hasField('user_picture') &&
       !$user->user_picture->isEmpty()) {
-      return file_create_url($user->user_picture->entity->getFileUri());
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($user->user_picture->entity->getFileUri());
     }
 
     return FALSE;
diff --git a/src/Form/TaskForm.php b/src/Form/TaskForm.php
index 12e40b1..36e4e69 100644
--- a/src/Form/TaskForm.php
+++ b/src/Form/TaskForm.php
@@ -123,7 +123,7 @@ class TaskForm extends ContentEntityForm {
       }
 
       $link = $link->toRenderable();
-      $link = render($link);
+      $link = \Drupal::service('renderer')->render($link);
       $link = (String) $link;
 
       $form['watchlist_link'] = [
@@ -145,7 +145,7 @@ class TaskForm extends ContentEntityForm {
         );
 
       $link = $link->toRenderable();
-      $link = render($link);
+      $link = \Drupal::service('renderer')->render($link);
       $link = (String) $link;
 
       $form['reopen_task'] = [
