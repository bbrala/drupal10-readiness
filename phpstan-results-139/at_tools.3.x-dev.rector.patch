diff --git a/at_theme_generator/at_theme_generator.install b/at_theme_generator/at_theme_generator.install
index 9ed1012..8da8017 100644
--- a/at_theme_generator/at_theme_generator.install
+++ b/at_theme_generator/at_theme_generator.install
@@ -28,7 +28,7 @@ function at_theme_generator_install() {
     \Drupal::service('theme_installer')->uninstall([$theme]);
   }
   // Now remove the old generator theme.
-  $gen_path = drupal_get_path('theme', $theme);
+  $gen_path = \Drupal::service('extension.list.theme')->getPath($theme);
   if (!empty($gen_path)) {
     $directoryOperations = new DirectoryOperations();
     $directoryOperations->directoryRemove($gen_path);
diff --git a/at_theme_generator/src/Form/GeneratorForm.php b/at_theme_generator/src/Form/GeneratorForm.php
index dcbec3d..e624aa2 100644
--- a/at_theme_generator/src/Form/GeneratorForm.php
+++ b/at_theme_generator/src/Form/GeneratorForm.php
@@ -381,14 +381,14 @@ class GeneratorForm extends FormBase {
         $source_error = '';
 
         if ($subtheme_type == 'starterkit') {
-          $source = drupal_get_path('module', 'at_theme_generator') . '/starterkits/starterkit';
+          $source = \Drupal::service('extension.list.module')->getPath('at_theme_generator') . '/starterkits/starterkit';
         }
         else if ($subtheme_type == 'clone') {
-          $source = drupal_get_path('theme', $values['generate']['generate_clone_source']);
+          $source = \Drupal::service('extension.list.theme')->getPath($values['generate']['generate_clone_source']);
           $source_error = 'generate][generate_clone_source';
         }
         else if ($subtheme_type == 'skin') {
-          $source = drupal_get_path('module', 'at_theme_generator') . '/starterkits/skin';
+          $source = \Drupal::service('extension.list.module')->getPath('at_theme_generator') . '/starterkits/skin';
           $source_error = 'generate][generate_skin_base';
         }
 
diff --git a/at_theme_generator/src/Theme/ThemeGenerator.php b/at_theme_generator/src/Theme/ThemeGenerator.php
index 641548f..0c22239 100644
--- a/at_theme_generator/src/Theme/ThemeGenerator.php
+++ b/at_theme_generator/src/Theme/ThemeGenerator.php
@@ -84,8 +84,8 @@ class ThemeGenerator {
     $this->clone_source_config = $this->getCloneSourceConfigSettings();
 
     // Paths.
-    $this->at_core_path        = drupal_get_path('theme', 'at_core');
-    $this->at_generator_path   = drupal_get_path('module', 'at_theme_generator');
+    $this->at_core_path        = \Drupal::service('extension.list.theme')->getPath('at_core');
+    $this->at_generator_path   = \Drupal::service('extension.list.module')->getPath('at_theme_generator');
   }
 
   /**
@@ -116,11 +116,11 @@ class ThemeGenerator {
     $source = [];
     if ($this->sub_theme_type === 'clone') {
       $source['name'] = $this->clone_source;
-      $source['path'] = drupal_get_path('theme', $this->clone_source);
+      $source['path'] = \Drupal::service('extension.list.theme')->getPath($this->clone_source);
     }
     else {
       $source['name'] = strtoupper($this->sub_theme_type);
-      $source['path'] = drupal_get_path('module', 'at_theme_generator') . '/starterkits/' . $this->sub_theme_type;
+      $source['path'] = \Drupal::service('extension.list.module')->getPath('at_theme_generator') . '/starterkits/' . $this->sub_theme_type;
     }
 
     return $source;
@@ -478,7 +478,7 @@ class ThemeGenerator {
    * Copy logos from the skin source/base to the skin theme.
    */
   public function replaceSkinLogos() {
-    $skin_base_path = drupal_get_path('theme', $this->skin_base);
+    $skin_base_path = \Drupal::service('extension.list.theme')->getPath($this->skin_base);
     foreach (['svg', 'png'] as $ext) {
       $logo = $skin_base_path . '/logo.' . $ext;
       if (file_exists($logo)) {
@@ -572,7 +572,7 @@ class ThemeGenerator {
     if ($this->sub_theme_type === 'skin') {
       $base_theme = $this->skin_base;
     }
-    return \Drupal::service('info_parser')->parse(drupal_get_path('theme', $base_theme) . '/' . $base_theme . '.info.yml');
+    return \Drupal::service('info_parser')->parse(\Drupal::service('extension.list.theme')->getPath($base_theme) . '/' . $base_theme . '.info.yml');
   }
 
   /**
diff --git a/at_theme_generator/src/Theme/ThemeGeneratorTypes.php b/at_theme_generator/src/Theme/ThemeGeneratorTypes.php
index 1c2a112..5dad17a 100644
--- a/at_theme_generator/src/Theme/ThemeGeneratorTypes.php
+++ b/at_theme_generator/src/Theme/ThemeGeneratorTypes.php
@@ -218,7 +218,7 @@ class ThemeGeneratorTypes extends ThemeGenerator {
     $this->processSkinStyles('SKIN');
 
     // Remove SCSS if base theme does not support it.
-    $skin_base_path = drupal_get_path('theme', $this->skin_base);
+    $skin_base_path = \Drupal::service('extension.list.theme')->getPath($this->skin_base);
     if (!file_exists($skin_base_path . '/Gruntfile.js')) {
       $this->removeScss();
       $this->removeScssTools();
diff --git a/at_theme_generator/starterkits/starterkit/color/color.inc b/at_theme_generator/starterkits/starterkit/color/color.inc
index 48425b3..698114a 100644
--- a/at_theme_generator/starterkits/starterkit/color/color.inc
+++ b/at_theme_generator/starterkits/starterkit/color/color.inc
@@ -8,7 +8,7 @@
  */
 use Drupal\at_core\Ext\ExtGet;
 $theme_name = \Drupal::service('theme.manager')->getActiveTheme()->getName();
-$file_path = drupal_get_path('theme', $theme_name) . '/styles/uikit/components/partials/_variables.scss';
+$file_path = \Drupal::service('extension.list.theme')->getPath($theme_name) . '/styles/uikit/components/partials/_variables.scss';
 $sass_variables = (new ExtGet)->getSassVariables($file_path);
 
 $info = [
diff --git a/at_tools.module b/at_tools.module
index 6bcf8dd..c268010 100644
--- a/at_tools.module
+++ b/at_tools.module
@@ -62,7 +62,7 @@ function at_tools_library_info_alter(&$libraries, $extension) {
           $layout_data = new LayoutCompatible($theme_key);
           $layout_compatible_data = $layout_data->getCompatibleLayout();
           $css_config = $layout_compatible_data['css_config'];
-          $layout_form_css = drupal_get_path('theme', $css_config['layout_provider']) . '/layout/' . $css_config['layout'] . '/' . $css_config['css_form_styles_path'];
+          $layout_form_css = \Drupal::service('extension.list.theme')->getPath($css_config['layout_provider']) . '/layout/' . $css_config['layout'] . '/' . $css_config['css_form_styles_path'];
           if (file_exists($layout_form_css)) {
             $libraries['layout_settings']['css']['theme'] = ['/' . $layout_form_css => []];
           }
