diff --git a/migrate_report.info.yml b/migrate_report.info.yml
index 842422c..d5ba640 100644
--- a/migrate_report.info.yml
+++ b/migrate_report.info.yml
@@ -1,7 +1,7 @@
 type: module
 name: 'Migrate Report'
 description: 'Provides raw report on last migration'
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: migrate_report.config
 dependencies:
   - drupal:migrate
diff --git a/src/Form/MigrateReport.php b/src/Form/MigrateReport.php
index 31285f3..c054076 100644
--- a/src/Form/MigrateReport.php
+++ b/src/Form/MigrateReport.php
@@ -102,7 +102,7 @@ class MigrateReport extends FormBase {
     $files = [];
     foreach ($this->fileSystem->scanDirectory($report_dir, '/\.txt$/', ['key' => 'name']) as $key => $file) {
       if ($this->streamWrapperManager->isValidUri($file->uri)) {
-        $files[$key] = Link::fromTextAndUrl($file->filename, Url::fromUri(file_create_url($file->uri)));
+        $files[$key] = Link::fromTextAndUrl($file->filename, \Drupal::service('file_url_generator')->generate($file->uri));
       }
       else {
         $files[$key] = $file->filename;
