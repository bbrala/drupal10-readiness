diff --git a/deprecation_status.info.yml b/deprecation_status.info.yml
index b22859f..1f1a6d8 100644
--- a/deprecation_status.info.yml
+++ b/deprecation_status.info.yml
@@ -2,7 +2,6 @@ name: Deprecation Status
 description: Shows data about deprecation status of drupal.org projects.
 type: module
 configure: deprecation_status.projects_form
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:file
diff --git a/src/DataSource.php b/src/DataSource.php
index bf6743f..a7cddc2 100644
--- a/src/DataSource.php
+++ b/src/DataSource.php
@@ -63,7 +63,7 @@ class DataSource {
 
     // If that fails, we still have shipped files locally.
     else {
-      return drupal_get_path('module', 'deprecation_status') . '/data/' . $target_version_prefix . $filename;
+      return \Drupal::service('extension.list.module')->getPath('deprecation_status') . '/data/' . $target_version_prefix . $filename;
     }
   }
 
@@ -94,7 +94,7 @@ class DataSource {
    */
   public static function getShippedMetaData($target_version = 9) {
     $target_version_prefix = ($target_version == 10) ? '10_' : '';
-    $path = drupal_get_path('module', 'deprecation_status') . '/data/' . $target_version_prefix . 'metadata.csv';
+    $path = \Drupal::service('extension.list.module')->getPath('deprecation_status') . '/data/' . $target_version_prefix . 'metadata.csv';
     $metadata = file_get_contents($path);
     return explode(';', trim($metadata));
   }
@@ -130,7 +130,7 @@ class DataSource {
 
     // Save updated files locally as private files.
     foreach($datastore as $filename => $data) {
-      if (!file_save_data($data, 'private://deprecation_status_' . $filename, FileSystemInterface::EXISTS_REPLACE)) {
+      if (!\Drupal::service('file.repository')->writeData($data, 'private://deprecation_status_' . $filename, FileSystemInterface::EXISTS_REPLACE)) {
         return 'Error while saving updated ' . $filename . ' locally.';
       }
     }
diff --git a/tests/src/Functional/DeprecationStatusSmokeTest.php b/tests/src/Functional/DeprecationStatusSmokeTest.php
index cbdcc4d..63990ec 100644
--- a/tests/src/Functional/DeprecationStatusSmokeTest.php
+++ b/tests/src/Functional/DeprecationStatusSmokeTest.php
@@ -33,42 +33,42 @@ class DeprecationStatusSmokeTest extends BrowserTestBase {
 
     $this->drupalGet(Url::fromRoute('deprecation_status.projects_form'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Filter projects');
-    $this->assertText('Covered by rector');
-    $this->assertText('pathauto');
+    $this->assertSession()->pageTextContains('Filter projects');
+    $this->assertSession()->pageTextContains('Covered by rector');
+    $this->assertSession()->pageTextContains('pathauto');
 
     $this->drupalGet(Url::fromRoute('deprecation_status.projects_form10'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Filter projects');
-    $this->assertText('Covered by rector');
-    $this->assertText('pathauto');
+    $this->assertSession()->pageTextContains('Filter projects');
+    $this->assertSession()->pageTextContains('Covered by rector');
+    $this->assertSession()->pageTextContains('pathauto');
 
     $this->drupalGet(Url::fromRoute('deprecation_status.errors_form'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Filter errors');
-    $this->assertText('Covered by rector');
+    $this->assertSession()->pageTextContains('Filter errors');
+    $this->assertSession()->pageTextContains('Covered by rector');
 
     $this->drupalGet(Url::fromRoute('deprecation_status.errors_form10'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Filter errors');
-    $this->assertText('Covered by rector');
+    $this->assertSession()->pageTextContains('Filter errors');
+    $this->assertSession()->pageTextContains('Covered by rector');
 
     $this->drupalGet(Url::fromRoute('deprecation_status.error', ['error_index' => 1]));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Deprecation error details');
+    $this->assertSession()->pageTextContains('Deprecation error details');
 
     $this->drupalGet(Url::fromRoute('deprecation_status.error10', ['error_index' => 1]));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Deprecation error details');
+    $this->assertSession()->pageTextContains('Deprecation error details');
 
     $this->drupalGet(Url::fromRoute('deprecation_status.graphs'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Percentage of contributed projects by status in usage groups');
-    $this->assertText('All drupal.org contributed projects by status over time');
+    $this->assertSession()->pageTextContains('Percentage of contributed projects by status in usage groups');
+    $this->assertSession()->pageTextContains('All drupal.org contributed projects by status over time');
 
     $this->drupalGet(Url::fromRoute('deprecation_status.graphs10'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Tracking based on @deprecated and E_USER_DEPRECATED mentions in Drupal 9 core.');
+    $this->assertSession()->pageTextContains('Tracking based on @deprecated and E_USER_DEPRECATED mentions in Drupal 9 core.');
 
     $this->drupalGet(Url::fromRoute('deprecation_status.update'));
     $this->assertSession()->statusCodeEquals(403);
@@ -81,9 +81,9 @@ class DeprecationStatusSmokeTest extends BrowserTestBase {
     $this->drupalLogin($this->drupalCreateUser(['access administration pages']));
     $this->drupalGet(Url::fromRoute('deprecation_status.update'));
     $this->assertSession()->statusCodeEquals(200);
-    $this->assertText('Shipped dataset');
-    $this->assertText('Current live dataset');
-    $this->assertText('Online dataset');
+    $this->assertSession()->pageTextContains('Shipped dataset');
+    $this->assertSession()->pageTextContains('Current live dataset');
+    $this->assertSession()->pageTextContains('Online dataset');
   }
 
 }
