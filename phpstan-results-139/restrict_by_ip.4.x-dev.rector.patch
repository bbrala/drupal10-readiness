diff --git a/restrict_by_ip.info.yml b/restrict_by_ip.info.yml
index 63ab66a..e21831f 100644
--- a/restrict_by_ip.info.yml
+++ b/restrict_by_ip.info.yml
@@ -2,5 +2,5 @@ name: Restrict By IP
 description: Enables limiting user login and role access to specific IP Addresses.
 type: module
 package: Access control
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^8 || ^9 || ^10
 configure: restrict_by_ip.general_settings
diff --git a/restrict_by_ip.module b/restrict_by_ip.module
index 682c4a1..e8b1fb9 100644
--- a/restrict_by_ip.module
+++ b/restrict_by_ip.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\restrict_by_ip\Exception\InvalidIPException;
 /**
  * @file
  * Restrict logins or roles to whitelisted IP addresses.
@@ -109,7 +110,7 @@ function restrict_by_ip_user_profile_validate($form, &$form_state) {
       try {
         $ip_tools->validateIP($ip);
       }
-      catch (\Drupal\restrict_by_ip\Exception\InvalidIPException $e) {
+      catch (InvalidIPException $e) {
         $form_state->setErrorByName('restrict_by_ip_address', t($e->getMessage()));
       }
     }
@@ -185,4 +186,4 @@ function restrict_by_ip_user_load($users) {
       $user->removeRole($role);
     }
   }
-}
\ No newline at end of file
+}
diff --git a/src/EventSubscriber/FirewallSubscriber.php b/src/EventSubscriber/FirewallSubscriber.php
index c307c66..c5f8b8f 100644
--- a/src/EventSubscriber/FirewallSubscriber.php
+++ b/src/EventSubscriber/FirewallSubscriber.php
@@ -2,10 +2,10 @@
 
 namespace Drupal\restrict_by_ip\EventSubscriber;
 
+use Symfony\Component\HttpKernel\Event\RequestEvent;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Drupal\Core\Session\AccountInterface;
 use Drupal\restrict_by_ip\LoginFirewallInterface;
-use Symfony\Component\HttpKernel\Event\GetResponseEvent;
 
 /**
  * Triggers the restrict by IP login firewall.
@@ -51,10 +51,10 @@ class FirewallSubscriber implements EventSubscriberInterface {
   /**
    * This method is called whenever the kernel.request event is dispatched.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   The event.
    */
-  public function loginFirewall(GetResponseEvent $event) {
+  public function loginFirewall(RequestEvent $event) {
     $this->loginFirewall->execute($this->currentUser);
   }
 
diff --git a/src/Form/UserSettingsForm.php b/src/Form/UserSettingsForm.php
index 738514e..78e09e1 100644
--- a/src/Form/UserSettingsForm.php
+++ b/src/Form/UserSettingsForm.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\restrict_by_ip\Form;
 
+use Drupal\user\Entity\User;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;
@@ -67,7 +68,7 @@ class UserSettingsForm extends ConfigFormBase {
 
     // Current restrictions.
     foreach ($config->get('user') as $key => $value) {
-      $account = \Drupal\user\Entity\User::load($key);
+      $account = User::load($key);
       $form['restrict_by_ip_user_' . $key] = [
         '#type' => 'textfield',
         '#title' => $this->t('@name user IP range', ['@name' => $account->label()]),
diff --git a/tests/src/Functional/RedirectTest.php b/tests/src/Functional/RedirectTest.php
index 347a10a..04712e9 100644
--- a/tests/src/Functional/RedirectTest.php
+++ b/tests/src/Functional/RedirectTest.php
@@ -31,7 +31,7 @@ class RedirectTest extends RestrictByIPWebTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     // Create a page users will get redirected to when denied login.
diff --git a/tests/src/Functional/RestrictByIPWebTestBase.php b/tests/src/Functional/RestrictByIPWebTestBase.php
index aaf8947..e83ce11 100644
--- a/tests/src/Functional/RestrictByIPWebTestBase.php
+++ b/tests/src/Functional/RestrictByIPWebTestBase.php
@@ -56,7 +56,7 @@ abstract class RestrictByIPWebTestBase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     // Enable modules needed for these tests.
     parent::setUp();
 
diff --git a/tests/src/Functional/RoleTest.php b/tests/src/Functional/RoleTest.php
index a2cd212..b35191e 100644
--- a/tests/src/Functional/RoleTest.php
+++ b/tests/src/Functional/RoleTest.php
@@ -21,7 +21,7 @@ class RoleTest extends RestrictByIPWebTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     // Create a role with administer permissions so we can load the user edit,
diff --git a/tests/src/Functional/UiTest.php b/tests/src/Functional/UiTest.php
index d2c8c06..c8d012e 100644
--- a/tests/src/Functional/UiTest.php
+++ b/tests/src/Functional/UiTest.php
@@ -19,7 +19,7 @@ class UiTest extends RestrictByIPWebTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     // Enable modules needed for these tests.
     parent::setUp();
 
