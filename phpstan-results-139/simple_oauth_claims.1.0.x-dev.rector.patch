diff --git a/simple_oauth_claims.info.yml b/simple_oauth_claims.info.yml
index 54adf47..f877d27 100644
--- a/simple_oauth_claims.info.yml
+++ b/simple_oauth_claims.info.yml
@@ -2,8 +2,7 @@ name: Simple OAuth Claims
 type: module
 description: 'Provides a claim configuration entity.'
 package: Authentication
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - simple_oauth
 configure: entity.claim.collection
diff --git a/simple_oauth_claims.module b/simple_oauth_claims.module
index 0678bc7..41f6bf9 100644
--- a/simple_oauth_claims.module
+++ b/simple_oauth_claims.module
@@ -1,5 +1,6 @@
 <?php
 
+use Drupal\user\Entity\User;
 /**
  * @file
  * Primary module hooks for Simple OAuth Claims module.
@@ -16,7 +17,7 @@ use Drupal\user\UserInterface;
  */
 function simple_oauth_claims_simple_oauth_private_claims_alter(&$private_claims, AccessTokenEntity $access_token_entity) {
   $user_id = $access_token_entity->getUserIdentifier();
-  $account = \Drupal\user\Entity\User::load($user_id);
+  $account = User::load($user_id);
 
   $result = \Drupal::entityQuery('claim')
     ->condition('status', TRUE)
@@ -103,7 +104,7 @@ function _simple_oauth_claims_prepare($field_type, $values) {
       break;
     case 'image':
       $file = File::load(reset($values)['target_id']);
-      $value = file_create_url($file->getFileUri());
+      $value = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
       break;
     case 'datetime':
     default:
