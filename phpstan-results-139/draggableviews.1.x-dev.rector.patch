diff --git a/draggableviews.module b/draggableviews.module
index d724fa1..99471a6 100644
--- a/draggableviews.module
+++ b/draggableviews.module
@@ -108,7 +108,7 @@ function draggableviews_preprocess_views_view_table(&$variables) {
       '#theme' => 'indentation',
       '#size' => $draggableviews->getDepth($key),
     ];
-    $variables['rows'][$key]['columns'][$first_column]['content'][0]['field_output']['#markup'] = (string) (render($indent) . $columns_title);
+    $variables['rows'][$key]['columns'][$first_column]['content'][0]['field_output']['#markup'] = (string) (\Drupal::service('renderer')->render($indent) . $columns_title);
   }
 
   // Add table attributes.
diff --git a/tests/src/Functional/DraggableviewsTest.php b/tests/src/Functional/DraggableviewsTest.php
index 5f5b2ba..c02b2ef 100644
--- a/tests/src/Functional/DraggableviewsTest.php
+++ b/tests/src/Functional/DraggableviewsTest.php
@@ -35,7 +35,7 @@ class DraggableviewsTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     // Create users.
