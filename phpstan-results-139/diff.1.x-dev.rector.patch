diff --git a/tests/src/Functional/CoreVersionUiTestTrait.php b/tests/src/Functional/CoreVersionUiTestTrait.php
index cd38391..4ccedd6 100644
--- a/tests/src/Functional/CoreVersionUiTestTrait.php
+++ b/tests/src/Functional/CoreVersionUiTestTrait.php
@@ -33,7 +33,8 @@ trait CoreVersionUiTestTrait {
         $edit['status[value]'] = 1;
       }
     }
-    $this->drupalPostForm($path, $edit, $submit);
+    $this->drupalGet($path);
+    $this->submitForm($edit, $submit);
   }
 
   protected function drupalPostForm($path, $edit, $submit, array $options = [], $form_html_id = NULL) {
diff --git a/tests/src/Unit/VisualDiffThemeNegotiatorTest.php b/tests/src/Unit/VisualDiffThemeNegotiatorTest.php
index abd2197..6bff384 100644
--- a/tests/src/Unit/VisualDiffThemeNegotiatorTest.php
+++ b/tests/src/Unit/VisualDiffThemeNegotiatorTest.php
@@ -2,6 +2,7 @@
 
 namespace Drupal\Tests\diff\Unit;
 
+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Routing\RouteMatchInterface;
@@ -16,6 +17,7 @@ use Drupal\Tests\UnitTestCase;
  */
 class VisualDiffThemeNegotiatorTest extends UnitTestCase {
 
+  use ProphecyTrait;
   /**
    * The config factory.
    *
