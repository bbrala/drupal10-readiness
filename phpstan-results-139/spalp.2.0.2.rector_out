modules/contrib/spalp/spalp.module
modules/contrib/spalp/src/Event/SpalpAppIdsAlterEvent.php
modules/contrib/spalp/src/Event/SpalpConfigAlterEvent.php
modules/contrib/spalp/src/Event/SpalpConfigLocationAlterEvent.php
modules/contrib/spalp/src/Form/SpalpConfigForm.php
modules/contrib/spalp/spalp_example/spalp_example.module
modules/contrib/spalp/spalp_example/src/EventSubscriber/SpalpExampleAppIdsAlterSubscriber.php
modules/contrib/spalp/src/Plugin/Field/FieldWidget/JsonConfigFormWidget.php
modules/contrib/spalp/spalp_example/src/EventSubscriber/SpalpExampleConfigAlterSubscriber.php
modules/contrib/spalp/src/Plugin/Validation/Constraint/UniqueSpalpAppId.php
modules/contrib/spalp/src/Plugin/Validation/Constraint/UniqueSpalpAppIdValidator.php
modules/contrib/spalp/spalp_example/src/EventSubscriber/SpalpExampleConfigLocationAlterSubscriber.php
modules/contrib/spalp/src/Service/Core.php
modules/contrib/spalp/spalp_example/src/Plugin/Block/ExampleBlock.php
modules/contrib/spalp/spalp_example/src/SpalpExampleInterface.php
modules/contrib/spalp/spalp_example/tests/src/Functional/LoadTest.php
modules/contrib/spalp/src/Commands/SpalpCommands.php
modules/contrib/spalp/src/Controller/AppLandingJsonController.php
modules/contrib/spalp/src/Service/SpalpConfig.php
modules/contrib/spalp/tests/src/Functional/LoadTest.php
modules/contrib/spalp/tests/src/Unit/SpalpCoreTest.php

5 files with changes
====================

1) modules/contrib/spalp/spalp_example/tests/src/Functional/LoadTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/spalp/spalp_example/src/EventSubscriber/SpalpExampleConfigLocationAlterSubscriber.php:31

    ---------- begin diff ----------
@@ @@
       // In a real implementation, you would change them.
       // For instance, your JSON might be in the libraries directory.
       // TODO: proper dependency injection example.
-      $module_path = drupal_get_path('module', 'spalp_example');
+      $module_path = \Drupal::service('extension.list.module')->getPath('spalp_example');
       $locations = [
         'config' => $module_path . '/config/spalp/spalp_example.config.json',
         'schema' => $module_path . '/config/spalp/spalp_example.config.schema.json',
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


3) modules/contrib/spalp/tests/src/Unit/SpalpCoreTest.php:15

    ---------- begin diff ----------
@@ @@

   public $coreService;

-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $loggerFactory = $this->createMock('\Drupal\Core\Logger\LoggerChannelFactoryInterface');
     $moduleHandler = $this->createMock('\Drupal\Core\Extension\ModuleHandlerInterface');
     $event_dispatcher = $this->createMock('\Symfony\Contracts\EventDispatcher\EventDispatcherInterface');
     $entity_type_manager = $this->createMock('\Drupal\Core\Entity\EntityTypeManagerInterface');
-    $language_manager = $this->getMockBuilder('\Drupal\Core\Language\LanguageManagerInterface')->disableOriginalConstructor()->getMock();
+    $language_manager = $this->createMock('\Drupal\Core\Language\LanguageManagerInterface');

     $this->coreService = new Core(
       $loggerFactory,
    ----------- end diff -----------

Applied rules:
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/spalp/tests/src/Functional/LoadTest.php:28

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/spalp/src/Service/Core.php:183

    ---------- begin diff ----------
@@ @@
     $json = [];

     // Set up default paths to config files.
-    $module_path = DRUPAL_ROOT . '/' . drupal_get_path('module', $module);
+    $module_path = DRUPAL_ROOT . '/' . \Drupal::service('extension.list.module')->getPath($module);

     $base_filename = $module;
     if (!empty($language)) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 5 files have been changed by Rector                                       

