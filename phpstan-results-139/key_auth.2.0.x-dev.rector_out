modules/contrib/key_auth/key_auth.module
modules/contrib/key_auth/src/Authentication/Provider/KeyAuth.php
modules/contrib/key_auth/src/Form/KeyAuthSettingsForm.php
modules/contrib/key_auth/src/Form/UserKeyAuthForm.php
modules/contrib/key_auth/src/KeyAuth.php
modules/contrib/key_auth/src/KeyAuthInterface.php
modules/contrib/key_auth/src/PageCache/DisallowKeyAuthRequests.php
modules/contrib/key_auth/tests/key_auth_test/src/Controller/KeyAuthTestController.php
modules/contrib/key_auth/tests/src/Functional/KeyAuthTest.php

1 file with changes
===================

1) modules/contrib/key_auth/tests/src/Functional/KeyAuthTest.php:44

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->keyAuth = $this->container->get('key_auth');
     $this->keyAuthConfig = $this->config('key_auth.settings');
@@ @@
     $this->assertSession()->elementExists('css', '#edit-delete');

     // Test deleting the key.
-    $this->drupalPostForm(NULL, [], 'Delete current key');
+    $this->submitForm([], 'Delete current key');
     $user2 = $this->loadUser($user2->id());
     $this->assertEmpty($user2->api_key->value);
     $this->assertSession()->pageTextContains('You currently do not have a key');
@@ @@
     $this->assertSession()->elementNotExists('css', '#edit-delete');

     // Test generating a new key.
-    $this->drupalPostForm(NULL, [], 'Generate new key');
+    $this->submitForm([], 'Generate new key');
     $user2 = $this->loadUser($user2->id());
     $this->assertNotEmpty($user2->api_key->value);
     $this->assertSession()->pageTextContains($user2->api_key->value);
@@ @@
     if ($status_code == 200) {
       // Ensure that caching was disabled.
       $this->assertFalse($this->drupalGetHeader('X-Drupal-Cache'));
-      $this->assertIdentical(strpos($this->drupalGetHeader('Cache-Control'), 'public'), FALSE);
+      $this->assertSame(strpos($this->drupalGetHeader('Cache-Control'), 'public'), FALSE);
     }

     // Check if a user was provided.
    ----------- end diff -----------

Applied rules:
 * AssertIdenticalRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

