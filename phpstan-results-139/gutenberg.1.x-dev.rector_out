modules/contrib/gutenberg/gutenberg.api.php
modules/contrib/gutenberg/gutenberg.post_update.php
modules/contrib/gutenberg/modules/gutenberg_cloud/src/CloudBlock.php
modules/contrib/gutenberg/gutenberg.install
modules/contrib/gutenberg/src/DataProvider/DataProviderInterface.php
modules/contrib/gutenberg/src/MediaTypeGuesserInterface.php
modules/contrib/gutenberg/src/Service/MediaEntityNotMatchedException.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/latest-posts.php
modules/contrib/gutenberg/vendor/gutenberg/rich-text/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/dom-ready/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/server-side-render/index.asset.php
modules/contrib/gutenberg/src/DataProvider/EntityDataProviderManager.php
modules/contrib/gutenberg/vendor/gutenberg/shortcode/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/token-list/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/url/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/dom/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/viewport/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/edit-post/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/wordcount/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/edit-widgets/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/editor/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/element/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/escape-html/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/format-library/index.asset.php
modules/contrib/gutenberg/modules/editorskit/build/admin.asset.php
modules/contrib/gutenberg/vendor/gutenberg/hooks/index.asset.php
modules/contrib/gutenberg/modules/editorskit/build/editor.asset.php
modules/contrib/gutenberg/vendor/gutenberg/html-entities/index.asset.php
modules/contrib/gutenberg/modules/editorskit/build/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/i18n/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/is-shallow-equal/index.asset.php
modules/contrib/gutenberg/modules/editorskit/build/settings.asset.php
modules/contrib/gutenberg/modules/editorskit/build/style.asset.php
modules/contrib/gutenberg/modules/gutenberg_cloud/gutenberg_cloud.module
modules/contrib/gutenberg/vendor/gutenberg/keycodes/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/list-reusable-blocks/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/media-utils/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/notices/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/nux/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/plugins/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/priority-queue/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/redux-routine/index.asset.php
modules/contrib/gutenberg/gutenberg.module
modules/contrib/gutenberg/modules/gutenberg_cloud/src/CloudBlockBase.php
modules/contrib/gutenberg/modules/gutenberg_cloud/src/CloudBlockInterface.php
modules/contrib/gutenberg/src/DataProvider/EntityDataProviderManagerInterface.php
modules/contrib/gutenberg/modules/gutenberg_cloud/src/CloudBlockManager.php
modules/contrib/gutenberg/src/DataProvider/FileEntityDataProvider.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/legacy-widget.php
modules/contrib/gutenberg/src/Service/MediaEntityNotSavedException.php
modules/contrib/gutenberg/src/Service/MediaService.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/navigation-menu.php
modules/contrib/gutenberg/src/MediaUploader.php
modules/contrib/gutenberg/modules/gutenberg_cloud/src/Form/BlockManagerForm.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/rss.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/search.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/shortcode.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/site-title.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/social-link.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/tag-cloud.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/block-serialization-default-parser/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/block-serialization-spec-parser/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/blocks/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/components/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/compose/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/core-data/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/data-controls/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/data/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/date/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/deprecated/index.asset.php
modules/contrib/gutenberg/src/DataProvider/MediaEntityDataProvider.php
modules/contrib/gutenberg/src/MediaUploaderInterface.php
modules/contrib/gutenberg/src/Persistence/MediaTypePersistenceManager.php
modules/contrib/gutenberg/src/FileExtensionGuesser.php
modules/contrib/gutenberg/src/Persistence/MediaTypePersistenceManagerInterface.php
modules/contrib/gutenberg/src/FileExtensionGuesserInterface.php
modules/contrib/gutenberg/src/GutenbergMediaLibraryUiBuilder.php
modules/contrib/gutenberg/src/Plugin/Action/ReusableBlockDelete.php
modules/contrib/gutenberg/src/Plugin/Editor/Gutenberg.php
modules/contrib/gutenberg/src/GutenbergPluginBase.php
modules/contrib/gutenberg/src/GutenbergPluginConfigurableInterface.php
modules/contrib/gutenberg/src/GutenbergPluginInterface.php
modules/contrib/gutenberg/src/GutenbergPluginManager.php
modules/contrib/gutenberg/scripts/gutenberg-dependencies.php
modules/contrib/gutenberg/src/MediaEntityRenderer.php
modules/contrib/gutenberg/src/Plugin/Filter/BlockFilter.php
modules/contrib/gutenberg/src/Service/MediaTypeNotFoundException.php
modules/contrib/gutenberg/vendor/gutenberg/a11y/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/annotations/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/api-fetch/index.asset.php
modules/contrib/gutenberg/src/Annotation/GutenbergPlugin.php
modules/contrib/gutenberg/vendor/gutenberg/autop/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/blob/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/block-directory/index.asset.php
modules/contrib/gutenberg/vendor/gutenberg/block-editor/index.asset.php
modules/contrib/gutenberg/src/AssertMediaTrait.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/archives.php
modules/contrib/gutenberg/src/BlocksRendererHelper.php
modules/contrib/gutenberg/src/MediaEntityRendererInterface.php
modules/contrib/gutenberg/src/MediaLibraryGutenbergOpener.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/block.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/calendar.php
modules/contrib/gutenberg/src/MediaSelectionProcessor/DefaultMediaSelectionProcessor.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/categories.php
modules/contrib/gutenberg/src/MediaSelectionProcessor/MediaSelectionProcessorInterface.php
modules/contrib/gutenberg/src/MediaSelectionProcessor/MediaSelectionProcessorManager.php
modules/contrib/gutenberg/vendor/gutenberg/block-library/blocks/latest-comments.php
modules/contrib/gutenberg/src/MediaSelectionProcessor/MediaSelectionProcessorManagerInterface.php
modules/contrib/gutenberg/src/MediaTypeGuesser.php
modules/contrib/gutenberg/src/Controller/BlocksController.php
modules/contrib/gutenberg/src/Plugin/Filter/CommentDelimiterFilter.php
modules/contrib/gutenberg/src/Controller/MediaController.php
modules/contrib/gutenberg/src/Plugin/Filter/FieldMappingFilter.php
modules/contrib/gutenberg/src/Plugin/Filter/MappingFieldsFilter.php
modules/contrib/gutenberg/src/Plugin/Filter/MediaEntityBlockFilter.php
modules/contrib/gutenberg/src/Plugin/Filter/OEmbedFilter.php
modules/contrib/gutenberg/src/Plugin/Filter/ReusableBlockFilter.php
modules/contrib/gutenberg/src/Controller/OEmbedProxyUrlController.php
modules/contrib/gutenberg/src/Plugin/GutenbergPlugin/DrupalImage.php
modules/contrib/gutenberg/src/ReusableBlockViewsData.php
modules/contrib/gutenberg/src/ScanDir.php
modules/contrib/gutenberg/src/Controller/ReusableBlocksController.php
modules/contrib/gutenberg/src/Service/FileEntityNotFoundException.php
modules/contrib/gutenberg/src/Service/FileEntityNotSavedException.php
modules/contrib/gutenberg/src/Service/MediaEntityNotFoundException.php
modules/contrib/gutenberg/src/Controller/SearchController.php
modules/contrib/gutenberg/src/Controller/UtilsController.php
modules/contrib/gutenberg/src/DataProvider/BaseDataProvider.php

5 files with changes
====================

1) modules/contrib/gutenberg/src/DataProvider/MediaEntityDataProvider.php:21

    ---------- begin diff ----------
@@ @@

     /** @var \Drupal\file\FileInterface $entity */
     $uri = $entity->getFileUri();
-    $source_url = file_url_transform_relative(file_create_url($uri));
+    $source_url = \Drupal::service('file_url_generator')->generateString($uri);
     $file_data = $this->getFileData($entity->id());

     $result = [
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/gutenberg/src/DataProvider/FileEntityDataProvider.php:21

    ---------- begin diff ----------
@@ @@

     /** @var \Drupal\file\FileInterface $entity */
     $uri = $entity->getFileUri();
-    $source_url = file_url_transform_relative(file_create_url($uri));
+    $source_url = \Drupal::service('file_url_generator')->generateString($uri);
     $image = $this->imageFactory->get($uri);
     $file_data = $this->getFileData($entity->id());
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/gutenberg/gutenberg.module:832

    ---------- begin diff ----------
@@ @@

   if (!isset($settings)) {
     $theme_name = \Drupal::config('system.theme')->get('default');
-    $theme_path = drupal_get_path('theme', $theme_name);
+    $theme_path = \Drupal::service('extension.list.theme')->getPath($theme_name);

     $file_path = DRUPAL_ROOT . '/' . $theme_path . '/' . $theme_name . '.gutenberg.yml';
     if (file_exists($file_path)) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


4) modules/contrib/gutenberg/src/MediaUploader.php:44

    ---------- begin diff ----------
@@ @@
     // @todo: find better solution for saving file itself.
     $data = file_get_contents($uploaded_file->getPathname());
     $file_name = $this->getRandomFileName($uploaded_file->getClientOriginalExtension() ?: '');
-    $file = file_save_data($data, "{$directory}/{$file_name}", FileSystemInterface::EXISTS_RENAME);
+    $file = \Drupal::service('file.repository')->writeData($data, "{$directory}/{$file_name}", FileSystemInterface::EXISTS_RENAME);
     $file->setTemporary();
     $file->setFilename($uploaded_file->getClientOriginalName());
    ----------- end diff -----------

Applied rules:
 * FileSaveDataRector
 * ArgumentRemoverRector
 * WrapReturnRector


5) modules/contrib/gutenberg/src/DataProvider/BaseDataProvider.php:91

    ---------- begin diff ----------
@@ @@
     foreach ($styles as $style) {
       /** @var \Drupal\image\Entity\ImageStyle $style */
       $sizes[$style->getName()] = [
-        'source_url' => file_url_transform_relative($style->buildUrl($uri)),
+        'source_url' => \Drupal::service('file_url_generator')->transformRelative($style->buildUrl($uri)),
       ];
     }
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 5 files have been changed by Rector                                       

