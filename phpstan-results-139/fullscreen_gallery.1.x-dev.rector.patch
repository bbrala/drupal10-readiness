diff --git a/fullscreen_gallery.info.yml b/fullscreen_gallery.info.yml
index d8729e9..ff0c19b 100644
--- a/fullscreen_gallery.info.yml
+++ b/fullscreen_gallery.info.yml
@@ -1,6 +1,6 @@
 name: Fullscreen gallery
 description: Fullscreen gallery implemented as image formatter
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
  - drupal:image
 type: module
diff --git a/src/Controller/FullscreenGalleryController.php b/src/Controller/FullscreenGalleryController.php
index 7250f8b..e3e6fe5 100644
--- a/src/Controller/FullscreenGalleryController.php
+++ b/src/Controller/FullscreenGalleryController.php
@@ -334,7 +334,7 @@ class FullscreenGalleryController extends ControllerBase {
 
     // Get fullscreen gallery Right sidebar.
     $right_sidebar = $this->getGalleryRightSidebar();
-    if (empty($this->displaySettings['right_sidebar_width']) or empty(render($right_sidebar))) {
+    if (empty($this->displaySettings['right_sidebar_width']) or empty(\Drupal::service('renderer')->render($right_sidebar))) {
       // If fullscreen gallery right sidebar region has no loaded content or the
       // sidebar width is not set add extra css file to hide the region.
       $this->render['#attached']['library'][] = 'fullscreen_gallery/fullscreen-gallery-no-sidebar';
@@ -367,7 +367,7 @@ class FullscreenGalleryController extends ControllerBase {
       }
     }
     // Set fullscreen gallery right sidebar regions content.
-    $this->render['#fullscreen_gallery_right'] = render($build);
+    $this->render['#fullscreen_gallery_right'] = \Drupal::service('renderer')->render($build);
 
     return $this->render['#fullscreen_gallery_right'];
   }
