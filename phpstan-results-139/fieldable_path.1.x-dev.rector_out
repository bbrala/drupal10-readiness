modules/contrib/fieldable_path/fieldable_path.module
modules/contrib/fieldable_path/src/Controller/FieldablePathController.php
modules/contrib/fieldable_path/src/Plugin/Action/CopyPathAction.php
modules/contrib/fieldable_path/src/Plugin/Field/FieldFormatter/FieldablePathFormatter.php
modules/contrib/fieldable_path/src/Plugin/Field/FieldType/FieldablePath.php
modules/contrib/fieldable_path/src/Plugin/Field/FieldWidget/FieldablePathWidget.php
modules/contrib/fieldable_path/tests/src/Functional/FieldablePathBasicTest.php

1 file with changes
===================

1) modules/contrib/fieldable_path/tests/src/Functional/FieldablePathBasicTest.php:122

    ---------- begin diff ----------
@@ @@
       'title[0][value]' => $this->randomMachineName(),
       'path[0][alias]' => $pathAlias,
     ];
+    $this->drupalGet('node/add/article');

     // Create a new node with path alias set.
-    $this->drupalPostForm('node/add/article', $edit, 'Save');
+    $this->submitForm($edit, 'Save');
     $this->assertSession()->statusCodeEquals(200);

     // Make sure field formatter works properly and displays
@@ @@

     // Make sure path field widget shows the right value.
     $this->drupalGet($editPage);
-    $this->assertFieldByName($this->fieldName . '[0][value]', $pathAlias);
+    $this->assertSession()->fieldValueEquals($this->fieldName . '[0][value]', $pathAlias);

     // Make sure field widget does not let anyone edit the field.
     $xpath = $this->xpath('//input[@name=\'' . $this->fieldName . '[0][value]\']');
     $disabledValue = (string) $xpath[0]->getAttribute('disabled');
-    $this->assertEqual($disabledValue, 'disabled');
+    $this->assertEquals($disabledValue, 'disabled');

     /*
      * Test updating of path alias.
@@ @@
     // Set the new value to the path alias.
     $pathAlias = '/' . $this->randomMachineName();
     $edit = ['path[0][alias]' => $pathAlias];
-    $this->drupalPostForm($editPage, $edit, 'Save');
+    $this->drupalGet($editPage);
+    $this->submitForm($edit, 'Save');

     // Make sure path field got the right value.
     $this->drupalGet($editPage);
-    $this->assertFieldByName($this->fieldName . '[0][value]', $pathAlias);
+    $this->assertSession()->fieldValueEquals($this->fieldName . '[0][value]', $pathAlias);

     /*
      * Test deletion of path alias.
@@ @@

     // Set the new value to the path alias.
     $edit = ['path[0][alias]' => ''];
-    $this->drupalPostForm($editPage, $edit, 'Save');
+    $this->drupalGet($editPage);
+    $this->submitForm($edit, 'Save');

     // Make sure path field has empty value.
     $this->drupalGet($editPage);
-    $this->assertFieldByName($this->fieldName . '[0][value]', '');
+    $this->assertSession()->fieldValueEquals($this->fieldName . '[0][value]', '');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * AssertFieldByNameRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 1 file has been changed by Rector                                         

