diff --git a/src/Entity/Profile.php b/src/Entity/Profile.php
index 3a73b3d..7e282cf 100644
--- a/src/Entity/Profile.php
+++ b/src/Entity/Profile.php
@@ -86,7 +86,7 @@ class Profile extends ContentEntityBase implements ProfileInterface {
    * {@inheritdoc}
    */
   public function getDefaultPicture() {
-    $img = base_path() . drupal_get_path("module", "friggeri_cv")
+    $img = base_path() . \Drupal::service('extension.list.module')->getPath("friggeri_cv")
       . "/img/person.svg";
     return [
       "data" => [
diff --git a/src/Form/ProfileForm.php b/src/Form/ProfileForm.php
index 59402f5..be9b933 100644
--- a/src/Form/ProfileForm.php
+++ b/src/Form/ProfileForm.php
@@ -89,7 +89,7 @@ class ProfileForm extends ContentEntityForm {
     $link = $entity->toLink($this->t('View'))->toRenderable();
 
     $message_arguments = ['%label' => $this->entity->label()];
-    $logger_arguments = $message_arguments + ['link' => render($link)];
+    $logger_arguments = $message_arguments + ['link' => \Drupal::service('renderer')->render($link)];
 
     if ($result == SAVED_NEW) {
       $this->messenger()->addStatus($this->t('New profile %label has been created.', $message_arguments));
diff --git a/src/Plugin/Field/FieldFormatter/PdfFormatter.php b/src/Plugin/Field/FieldFormatter/PdfFormatter.php
index e2a72fe..0297ae7 100644
--- a/src/Plugin/Field/FieldFormatter/PdfFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/PdfFormatter.php
@@ -26,7 +26,7 @@ class PdfFormatter extends FormatterBase {
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $element = [];
 
-    $img = base_path() . drupal_get_path("module", "friggeri_cv")
+    $img = base_path() . \Drupal::service('extension.list.module')->getPath("friggeri_cv")
       . "/img/pdf.png";
 
     foreach ($items as $delta => $item) {
diff --git a/src/Plugin/Field/FieldWidget/ProfileContactBoxDefaultWidget.php b/src/Plugin/Field/FieldWidget/ProfileContactBoxDefaultWidget.php
index 876a945..8f9d566 100644
--- a/src/Plugin/Field/FieldWidget/ProfileContactBoxDefaultWidget.php
+++ b/src/Plugin/Field/FieldWidget/ProfileContactBoxDefaultWidget.php
@@ -118,7 +118,7 @@ class ProfileContactBoxDefaultWidget extends WidgetBase {
    */
   private function getOptions() {
     // @see https://raw.githubusercontent.com/FortAwesome/Font-Awesome/fa-4/src/icons.yml
-    $url = drupal_get_path("module", "friggeri_cv") . "/img/icons/icons.yml";
+    $url = \Drupal::service('extension.list.module')->getPath("friggeri_cv") . "/img/icons/icons.yml";
     $icons = Yaml::parse(file_get_contents($url))["icons"];
     $options = ["" => $this->t("-- Select --")];
     foreach ($icons as $icon) {
diff --git a/src/ProfileDefault.php b/src/ProfileDefault.php
index 16a9755..2c4d9ea 100644
--- a/src/ProfileDefault.php
+++ b/src/ProfileDefault.php
@@ -265,12 +265,12 @@ class ProfileDefault {
    *   The target id array of the generated Media.
    */
   protected static function generateMedia(string $name) {
-    $path = drupal_get_path('module', 'friggeri_cv') . '/img/footer/column' . $name;
+    $path = \Drupal::service('extension.list.module')->getPath('friggeri_cv') . '/img/footer/column' . $name;
     $directory = 'public://media/image/';
     $fs = \Drupal::service('file_system');
     $fs->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
     $filename = basename($path);
-    $file = file_save_data(file_get_contents($path), $directory . $filename);
+    $file = \Drupal::service('file.repository')->writeData(file_get_contents($path), $directory . $filename);
     $media = Media::create([
       'bundle' => 'image',
       'thumbnail' => [
diff --git a/src/Service/PdfService.php b/src/Service/PdfService.php
index 1114765..4c4054c 100644
--- a/src/Service/PdfService.php
+++ b/src/Service/PdfService.php
@@ -100,7 +100,7 @@ class PdfService {
       return FALSE;
     }
     else {
-      return file_create_url($dir . $filename);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($dir . $filename);
     }
   }
 
