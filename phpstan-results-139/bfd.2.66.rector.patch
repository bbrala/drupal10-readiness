diff --git a/bootstrap_for_drupal.theme b/bootstrap_for_drupal.theme
index 6dfcd0a..d0a7354 100644
--- a/bootstrap_for_drupal.theme
+++ b/bootstrap_for_drupal.theme
@@ -14,7 +14,7 @@ function bootstrap_for_drupal_preprocess(&$variables) {
   $site_config = \Drupal::config('system.site');
   $variables['site_name'] = $site_config->get('name');
   $variables['site_slogan'] = $site_config->get('slogan');
-  $variables['logopath'] = file_url_transform_relative(file_create_url(theme_get_setting('logo.url')));
+  $variables['logopath'] = \Drupal::service('file_url_generator')->generateString(theme_get_setting('logo.url'));
 
   // Add library with custom CSS.
   if (theme_get_setting('custom_css')) {
@@ -85,10 +85,10 @@ function bootstrap_for_drupal_form_system_theme_settings_alter(&$form, FormState
 
   // Get bfd theme path.
   global $base_url;
-  $bfd_path = drupal_get_path('theme', 'bootstrap_for_drupal');
+  $bfd_path = \Drupal::service('extension.list.theme')->getPath('bootstrap_for_drupal');
   $custom_css_path = 'public://bfd-custom.css';
   $custom_css_dir = str_replace($base_url . '/', "", file_create_url($custom_css_path));
-  $custom_css_url = file_create_url($custom_css_path);
+  $custom_css_url = \Drupal::service('file_url_generator')->generateAbsoluteString($custom_css_path);
 
   $form['bfd_custom'] = [
     '#type' => 'fieldset',
