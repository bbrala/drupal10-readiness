modules/contrib/block_visibility_groups/block_visibility_groups.install
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Plugin/ConditionCreator/RolesConditionCreator.php
modules/contrib/block_visibility_groups/src/Form/ConditionEditForm.php
modules/contrib/block_visibility_groups/block_visibility_groups.module
modules/contrib/block_visibility_groups/src/Form/ConditionFormBase.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Plugin/ConditionCreator/RouteConditionCreator.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Plugin/ConditionCreatorBase.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Plugin/ConditionCreatorInterface.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Tests/GroupListerTest.php
modules/contrib/block_visibility_groups/block_visibility_groups.post_update.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/block_visibility_groups_admin.module
modules/contrib/block_visibility_groups/src/BlockVisibilityGroupInterface.php
modules/contrib/block_visibility_groups/src/BlockVisibilityGroupedListBuilder.php
modules/contrib/block_visibility_groups/src/GroupEvaluator.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Annotation/ConditionCreator.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/ConditionCreatorManager.php
modules/contrib/block_visibility_groups/src/GroupEvaluatorInterface.php
modules/contrib/block_visibility_groups/src/Plugin/Condition/ConditionGroup.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Controller/GroupLister.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Form/ConditionCreatorForm.php
modules/contrib/block_visibility_groups/src/Tests/BlockVisibilityGroupsTestBase.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/GroupInfo.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/GroupInfoInterface.php
modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Plugin/ConditionCreator/NodeTypeConditionCreator.php
modules/contrib/block_visibility_groups/src/Tests/BlockVisibilityGroupsUITest.php
modules/contrib/block_visibility_groups/src/BlockVisibilityLister.php
modules/contrib/block_visibility_groups/src/Tests/VisibilityTest.php
modules/contrib/block_visibility_groups/src/ConditionRedirectTrait.php
modules/contrib/block_visibility_groups/src/ConditionsSetFormTrait.php
modules/contrib/block_visibility_groups/src/Controller/BlockLibraryGroupsController.php
modules/contrib/block_visibility_groups/src/Controller/BlockVisibilityGroupController.php
modules/contrib/block_visibility_groups/src/Controller/BlockVisibilityGroupListBuilder.php
modules/contrib/block_visibility_groups/src/Entity/BlockVisibilityGroup.php
modules/contrib/block_visibility_groups/src/Form/BlockVisibilityGroupDeleteForm.php
modules/contrib/block_visibility_groups/src/Form/BlockVisibilityGroupForm.php
modules/contrib/block_visibility_groups/src/Form/ConditionAddForm.php
modules/contrib/block_visibility_groups/src/Form/ConditionDeleteForm.php

3 files with changes
====================

1) modules/contrib/block_visibility_groups/src/Tests/BlockVisibilityGroupsUITest.php:18

    ---------- begin diff ----------
@@ @@

     // Test block visibility tab exists and works.
     $this->drupalGet('admin/structure/block');
-    $this->assertLink('Block Visibility Groups');
+    $this->assertSession()->linkExists('Block Visibility Groups');
     $this->clickLink('Block Visibility Groups');
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);

     // Test add block visibilty button exists and works.
-    $this->assertLink('Add Block Visibility Group');
+    $this->assertSession()->linkExists('Add Block Visibility Group');
     $this->clickLink('Add Block Visibility Group');
-    $this->assertResponse(200);
+    $this->assertSession()->statusCodeEquals(200);

     // Fill and submit form for block visibilty groups creation.
-    $this->assertFieldById('edit-label');
+    $this->assertSession()->fieldValueEquals('edit-label', '');
     $edit = [
       'label' => $this->randomMachineName(),
       'id' => 'test_block_visibility_groups',
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));

     // Block visibility created successfully or not.
-    $this->assertText(t('Saved the @group Block Visibility Group.', ['@group' => $edit['label']]));
-    $this->assertText($edit['label']);
+    $this->assertSession()->pageTextContains(t('Saved the @group Block Visibility Group.', ['@group' => $edit['label']]));
+    $this->assertSession()->pageTextContains($edit['label']);
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertFieldByIdRector
 * AssertLinkRector
 * AssertResponseRector
 * AssertTextRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/block_visibility_groups/src/Tests/BlockVisibilityGroupsTestBase.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     // Create and login with user who can administer blocks.
     $this->drupalLogin($this->drupalCreateUser([
@@ @@

     $this->drupalGet('admin/structure/block/add/' . $plugin_id . '/' . $default_theme);

-    $this->drupalPostForm(NULL, $edit, t('Save block'));
-    $this->assertText('The block configuration has been saved.', 'Block was saved');
+    $this->submitForm($edit, t('Save block'));
+    $this->assertSession()->pageTextContains('The block configuration has been saved.');

     // Just for Debug message.
     $this->drupalGet('admin/structure/block/manage/' . $block_id);
@@ @@
    *   The array of settings.
    */
   protected function updateBlockInGroupUI($block_id, $group_id, array $settings = []) {
-    $this->drupalPostForm('admin/structure/block/manage/' . $block_id, $settings, 'Save block', [
+    $this->drupalGet('admin/structure/block/manage/' . $block_id, [
       'query' => [
         'block_visibility_group' => $group_id,
       ],
     ]);
+    $this->submitForm($settings, 'Save block');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertTextRector
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/block_visibility_groups/block_visibility_groups_admin/src/Tests/GroupListerTest.php:33

    ---------- begin diff ----------
@@ @@
    */
   public function testGroupLister() {
     // Check that the basic functions of module block_visibility_groups_admin.
-    $this->assertEqual(TRUE, TRUE, 'Test Unit Generated via App Console.');
+    $this->assertEquals(TRUE, TRUE, 'Test Unit Generated via App Console.');
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [ERROR] Could not process                                                      
         "modules/contrib/block_visibility_groups/src/Tests/VisibilityTest.php" 
         file, due to:                                                          
         "System error: "Invalid value"                                         
         Run Rector with "--debug" option and post the report here:             
         https://github.com/rectorphp/rector/issues/new". On line: 212          

