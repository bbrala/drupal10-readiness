diff --git a/copysafe_pdf_protection.info.yml b/copysafe_pdf_protection.info.yml
index 1cb91fc..81509c9 100644
--- a/copysafe_pdf_protection.info.yml
+++ b/copysafe_pdf_protection.info.yml
@@ -2,8 +2,7 @@ name: Copysafe PDF Protection
 type: module
 description: 'CopySafe PDF'
 package: CopySafe PDF
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: copysafe_pdf_protection.admin_config_system
 
 # Information added by Drupal.org packaging script on 2020-01-25
diff --git a/src/Plugin/Filter/FilterCopySafePdf.php b/src/Plugin/Filter/FilterCopySafePdf.php
index ae314d7..5227b3b 100644
--- a/src/Plugin/Filter/FilterCopySafePdf.php
+++ b/src/Plugin/Filter/FilterCopySafePdf.php
@@ -127,8 +127,8 @@ class FilterCopySafePdf extends FilterBase {
           }
         }
 
-        $settings['copysafe_pdf_protection']['embed_options'][$csp_id]['plugin_url'] = $base_url . '/' . drupal_get_path('module', 'copysafe_pdf_protection') . '/';
-        $settings['copysafe_pdf_protection']['embed_options'][$csp_id]['plugin_path'] = $base_url . '/' . drupal_get_path('module', 'copysafe_pdf_protection') . '/';
+        $settings['copysafe_pdf_protection']['embed_options'][$csp_id]['plugin_url'] = $base_url . '/' . \Drupal::service('extension.list.module')->getPath('copysafe_pdf_protection') . '/';
+        $settings['copysafe_pdf_protection']['embed_options'][$csp_id]['plugin_path'] = $base_url . '/' . \Drupal::service('extension.list.module')->getPath('copysafe_pdf_protection') . '/';
         $settings['copysafe_pdf_protection']['embed_options'][$csp_id]['upload_path'] = $base_url . '/' . $upload_folder;
         $settings['copysafe_pdf_protection']['embed_options'][$csp_id]['upload_url'] = $base_url . '/' . $upload_folder;
 
