modules/contrib/ckeditor_bgimage/ckeditor_bgimage.admin.inc
modules/contrib/ckeditor_bgimage/ckeditor_bgimage.module
modules/contrib/ckeditor_bgimage/src/Form/EditorFileDialog.php
modules/contrib/ckeditor_bgimage/src/Plugin/CKEditorPlugin/Bgimage.php

2 files with changes
====================

1) modules/contrib/ckeditor_bgimage/src/Plugin/CKEditorPlugin/Bgimage.php:20

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    if ($module_path = drupal_get_path('module', 'ckeditor_bgimage')) {
+    if ($module_path = \Drupal::service('extension.list.module')->getPath('ckeditor_bgimage')) {
       return $module_path . '/src/js/bgimage/plugin.js';
     }
   }
@@ @@
     return [
       'bgimage' => [
         'label' => $this->t('Background Image'),
-        'image' => drupal_get_path('module', 'ckeditor_bgimage') . '/src/js/bgimage/icons/background.png',
+        'image' => \Drupal::service('extension.list.module')->getPath('ckeditor_bgimage') . '/src/js/bgimage/icons/background.png',
       ],
     ];
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/ckeditor_bgimage/src/Form/EditorFileDialog.php:188

    ---------- begin diff ----------
@@ @@
     if (!empty($fid)) {
       /** @var \Drupal\file\FileInterface */
       $file = $this->fileStorage->load($fid);
-      $file_url = file_create_url($file->getFileUri());
-      $file_url = file_url_transform_relative($file_url);
+      $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
+      $file_url = \Drupal::service('file_url_generator')->transformRelative($file_url);
       $form_state->setValue(['attributes', 'image'], $file_url);
     }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

