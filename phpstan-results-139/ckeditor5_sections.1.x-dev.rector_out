modules/contrib/ckeditor5_sections/ckeditor5_sections.module
modules/contrib/ckeditor5_sections/src/Annotation/MentionProvider.php
modules/contrib/ckeditor5_sections/src/Field/SectionsProcessedHTMLField.php
modules/contrib/ckeditor5_sections/src/Plugin/Field/FieldType/SectionsItem.php
modules/contrib/ckeditor5_sections/src/SectionValidation/SectionValidationInterface.php
modules/contrib/ckeditor5_sections/tests/ckeditor5_sections_test/tests/Kernel/DocumentSectionTypedDataBasicValidationTest.php
modules/contrib/ckeditor5_sections/tests/src/Unit/DocumentMerge/DocumentMergeTest.php
modules/contrib/ckeditor5_sections/tests/src/Unit/DocumentSectionTest.php
modules/contrib/ckeditor5_sections/src/Annotation/SectionValidation.php
modules/contrib/ckeditor5_sections/src/Ckeditor5SectionsServiceProvider.php
modules/contrib/ckeditor5_sections/src/SectionValidationPluginManager.php
modules/contrib/ckeditor5_sections/src/ConflictResolution/MergeSectionsDocuments.php
modules/contrib/ckeditor5_sections/src/SectionsCollector.php
modules/contrib/ckeditor5_sections/src/Form/SectionsMediaLibraryUploadForm.php
modules/contrib/ckeditor5_sections/tests/src/Unit/SectionsCollectorTest.php
modules/contrib/ckeditor5_sections/modules/ckeditor5_sections_token/ckeditor5_sections_token.module
modules/contrib/ckeditor5_sections/src/Plugin/Field/FieldWidget/SectionsEditorWidget.php
modules/contrib/ckeditor5_sections/modules/ckeditor5_sections_token/src/Plugin/MentionProvider/TokenMentionProvider.php
modules/contrib/ckeditor5_sections/src/Plugin/Field/FieldWidget/SectionsJsonWidget.php
modules/contrib/ckeditor5_sections/src/Plugin/Filter/CKEditor5SectionsMediaFilter.php
modules/contrib/ckeditor5_sections/src/SectionsCollectorInterface.php
modules/contrib/ckeditor5_sections/src/SectionsMediaLibraryOpener.php
modules/contrib/ckeditor5_sections/src/Tree.php
modules/contrib/ckeditor5_sections/src/MentionProvider/BaseMentionProvider.php
modules/contrib/ckeditor5_sections/src/MentionProvider/MentionProviderInterface.php
modules/contrib/ckeditor5_sections/src/MentionProvider/MentionProviderItem.php
modules/contrib/ckeditor5_sections/src/MentionProviderPermissions.php
modules/contrib/ckeditor5_sections/src/Controller/ContentPreviewController.php
modules/contrib/ckeditor5_sections/tests/ckeditor5_sections_test/tests/Kernel/DocumentSectionTypedDataCustomValidationTest.php
modules/contrib/ckeditor5_sections/src/MentionProviderPluginManager.php
modules/contrib/ckeditor5_sections/src/Normalizer/DocumentSectionNormalizer.php
modules/contrib/ckeditor5_sections/src/Plugin/Filter/MentionFilter.php
modules/contrib/ckeditor5_sections/src/Controller/MediaDialogController.php
modules/contrib/ckeditor5_sections/src/TreeInterface.php
modules/contrib/ckeditor5_sections/src/Plugin/GraphQL/Fields/SectionProperty.php
modules/contrib/ckeditor5_sections/src/TreeNode.php
modules/contrib/ckeditor5_sections/src/Plugin/GraphQL/Fields/SectionTypeField.php
modules/contrib/ckeditor5_sections/tests/src/Kernel/DocumentConverterTest.php
modules/contrib/ckeditor5_sections/src/Plugin/DataType/Deriver/DocumentSectionDeriver.php
modules/contrib/ckeditor5_sections/src/Plugin/GraphQL/Interfaces/Section.php
modules/contrib/ckeditor5_sections/src/Plugin/GraphQL/Types/SectionType.php
modules/contrib/ckeditor5_sections/src/Plugin/SectionValidation/SectionMediaValidation.php
modules/contrib/ckeditor5_sections/src/Plugin/DataType/DocumentSectionAdapter.php
modules/contrib/ckeditor5_sections/src/Plugin/Validation/Constraint/SectionConflictConstraint.php
modules/contrib/ckeditor5_sections/src/Plugin/Validation/Constraint/SectionConflictConstraintValidator.php
modules/contrib/ckeditor5_sections/src/Controller/MediaPreviewController.php
modules/contrib/ckeditor5_sections/src/Plugin/Deriver/SectionDeriverBase.php
modules/contrib/ckeditor5_sections/src/Controller/MentionProviderController.php
modules/contrib/ckeditor5_sections/src/Plugin/Validation/Constraint/SectionTypeConstraint.php
modules/contrib/ckeditor5_sections/src/Plugin/Validation/Constraint/SectionTypeValidator.php
modules/contrib/ckeditor5_sections/src/Plugin/Validation/Constraint/SectionValidationConstraint.php
modules/contrib/ckeditor5_sections/src/Plugin/Validation/Constraint/SectionValidationValidator.php
modules/contrib/ckeditor5_sections/src/TreeNodeInterface.php
modules/contrib/ckeditor5_sections/src/Plugin/Deriver/SectionPropertyDeriver.php
modules/contrib/ckeditor5_sections/src/DocumentConverter.php
modules/contrib/ckeditor5_sections/src/TwigProcessor.php
modules/contrib/ckeditor5_sections/src/TypedData/DocumentSectionDataDefinition.php
modules/contrib/ckeditor5_sections/tests/src/Kernel/SectionsCollectorTest.php
modules/contrib/ckeditor5_sections/src/Plugin/views/field/CKEditor5SectionsMediaLibrarySelectForm.php
modules/contrib/ckeditor5_sections/src/Plugin/Deriver/SectionTypeDeriver.php
modules/contrib/ckeditor5_sections/src/Plugin/Editor/CKEditor5Sections.php
modules/contrib/ckeditor5_sections/tests/src/Kernel/SectionsFieldTest.php
modules/contrib/ckeditor5_sections/tests/ckeditor5_sections_test/src/Plugin/Filter/JsonTest.php
modules/contrib/ckeditor5_sections/tests/ckeditor5_sections_test/src/Plugin/SectionValidation/ExampleButtonValidation.php
modules/contrib/ckeditor5_sections/src/Plugin/EntityUsage/Track/CKEditor5SectionsBase.php
modules/contrib/ckeditor5_sections/src/Routing/RouteSubscriber.php
modules/contrib/ckeditor5_sections/src/Plugin/EntityUsage/Track/CKEditor5SectionsButtons.php
modules/contrib/ckeditor5_sections/src/SectionValidation/SectionValidationBase.php
modules/contrib/ckeditor5_sections/src/SectionValidation/SectionValidationBaseInterface.php
modules/contrib/ckeditor5_sections/src/Plugin/EntityUsage/Track/CKEditor5SectionsHtmlLink.php
modules/contrib/ckeditor5_sections/src/DocumentConverterInterface.php
modules/contrib/ckeditor5_sections/src/DocumentMerge.php
modules/contrib/ckeditor5_sections/src/Plugin/EntityUsage/Track/CKEditor5SectionsMedia.php
modules/contrib/ckeditor5_sections/src/Plugin/EntityUsage/Track/CKEditor5SectionsMentionsBase.php
modules/contrib/ckeditor5_sections/src/Plugin/Field/FieldFormatter/SectionsHtmlFormatter.php
modules/contrib/ckeditor5_sections/src/DocumentMergeInterface.php
modules/contrib/ckeditor5_sections/src/DocumentSection.php
modules/contrib/ckeditor5_sections/src/DocumentSectionInterface.php
modules/contrib/ckeditor5_sections/src/DocumentSectionsExtractor.php
modules/contrib/ckeditor5_sections/src/Exceptions/SectionValidationException.php
modules/contrib/ckeditor5_sections/src/Field/SectionsDataField.php
modules/contrib/ckeditor5_sections/src/Field/SectionsHTMLField.php
modules/contrib/ckeditor5_sections/src/Field/SectionsItemList.php
modules/contrib/ckeditor5_sections/src/Field/SectionsProcessedDataField.php

6 files with changes
====================

1) modules/contrib/ckeditor5_sections/ckeditor5_sections.module:19

    ---------- begin diff ----------
@@ @@
     $stylesheets = $collector->getStyleSheets();
     foreach ($stylesheets as $stylesheet) {
       $fileSystem = new Filesystem();
-      $relative = $fileSystem->makePathRelative(dirname($stylesheet), drupal_get_path('module', 'ckeditor5_sections')) . basename($stylesheet);
+      $relative = $fileSystem->makePathRelative(dirname($stylesheet), \Drupal::service('extension.list.module')->getPath('ckeditor5_sections')) . basename($stylesheet);
       $libraries['sections']['css']['base'][$relative] = [];
     }
     // Add CKEditor5 inspector if enabled in e.g. development.settings.yml.
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


2) modules/contrib/ckeditor5_sections/src/SectionsCollector.php:44

    ---------- begin diff ----------
@@ @@
   ) {
     $this->entityTypeManager = $entityTypeManager;
     $this->twigProcessor = $twigProcessor;
-    $this->directory = $directory ?: drupal_get_path('module', 'ckeditor5_sections') . '/sections';
+    $this->directory = $directory ?: \Drupal::service('extension.list.module')->getPath('ckeditor5_sections') . '/sections';
   }

   /**
@@ @@
    */
   public function getStyleSheets($directory = NULL) {
     if (!$directory) {
-      $directory = drupal_get_path('module', 'ckeditor5_sections') . '/sections';
+      $directory = \Drupal::service('extension.list.module')->getPath('ckeditor5_sections') . '/sections';
     }
     $files = \Drupal::service('file_system')->scanDirectory($directory, '/.*.css/');
     $styleSheets = [];
@@ @@
    */
   protected function collectSectionsFromDirectory($directory) {
     if ($directory === '') {
-      $directory = drupal_get_path('module', 'ckeditor5_sections') . '/sections';
+      $directory = \Drupal::service('extension.list.module')->getPath('ckeditor5_sections') . '/sections';
     }
     $files = \Drupal::service('file_system')->scanDirectory($directory, '/.*.yml/');
     $sections = [];
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


3) modules/contrib/ckeditor5_sections/tests/src/Kernel/SectionsCollectorTest.php:81

    ---------- begin diff ----------
@@ @@
    */
   public function testTemplateProcessing($en, $gd) {
     // Mock the translation manager for ease.
-    $string_translation = $this->getMockBuilder('ContentTranslationManagerInterface')
-      ->setMethods(['translateString'])
-      ->getMock();
+    $string_translation = $this->createMock('ContentTranslationManagerInterface');
     $string_translation
       ->expects($this->exactly(3))
       ->method('translateString')
@@ @@
     \Drupal::getContainer()->set('string_translation', $string_translation);

     // Get the dummy templates and run them through the method.
-    $path = drupal_get_path('module', 'ckeditor5_sections_test') . '/templates';
+    $path = \Drupal::service('extension.list.module')->getPath('ckeditor5_sections_test') . '/templates';
     $sections = $this->sectionsCollector->getSections($path);

     // Check to ensure the expected strings are where we want them.
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * GetMockBuilderGetMockToCreateMockRector (https://github.com/lmc-eu/steward/pull/187/files#diff-c7e8c65e59b8b4ff8b54325814d4ba55L80)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


4) modules/contrib/ckeditor5_sections/tests/ckeditor5_sections_test/tests/Kernel/DocumentSectionTypedDataCustomValidationTest.php:53

    ---------- begin diff ----------
@@ @@
   public function testNamedValidationConstraints() {
     $definition = $this->typedDataManager->createDataDefinition('section:test_teaser');
     $link = $definition->getPropertyDefinitions()['link'];
-    $this->assertEqual(2, count($link->getConstraints()));
+    $this->assertEquals(2, count($link->getConstraints()));
     $this->assertEquals($link->getConstraint('SectionType'), [
       'type' => 'button',
     ]);
@@ @@
     $linkInvalid = json_decode(file_get_contents(__DIR__ . '/assets/validation/teaser_link_invalid.json'), TRUE);
     $section = $this->typedDataManager->create($definition, $linkInvalid);
     $errors = $section->validate();
-    $this->assertEqual(1, $errors->count());
-    $this->assertEqual($errors->get(0)->getCode(), ExampleButtonValidation::MUST_FILL_OUT_BOTH_OR_NONE);
+    $this->assertEquals(1, $errors->count());
+    $this->assertEquals($errors->get(0)->getCode(), ExampleButtonValidation::MUST_FILL_OUT_BOTH_OR_NONE);
   }

   /**
@@ @@
     $linkValid = json_decode(file_get_contents(__DIR__ . '/assets/validation/teaser_link.json'), TRUE);
     $section = $this->typedDataManager->create($definition, $linkValid);
     $errors = $section->validate();
-    $this->assertEqual(0, $errors->count());
+    $this->assertEquals(0, $errors->count());
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


5) modules/contrib/ckeditor5_sections/tests/ckeditor5_sections_test/tests/Kernel/DocumentSectionTypedDataBasicValidationTest.php:71

    ---------- begin diff ----------
@@ @@
     // Assert that if we manipulate the type that we get a validation error.
     $teaserSection->set('__type', 'invalid-type');
     $errors = $teaserSection->validate();
-    $this->assertEqual($errors->count(), 1);
-    $this->assertEqual($errors->get(0)->getCode(), SectionTypeConstraint::INVALID_SECTION_TYPE);
+    $this->assertEquals($errors->count(), 1);
+    $this->assertEquals($errors->get(0)->getCode(), SectionTypeConstraint::INVALID_SECTION_TYPE);

     // @todo: validate ck-contains?
   }
@@ @@
     $teaserSection = $this->typedDataManager->create($teaserSectionTypeDataDefinition, $teaserJson);

     $contraints = $teaserSectionTypeDataDefinition->getPropertyDefinitions()['headline']->getConstraints();
-    $this->assertEqual(3, count($contraints));
+    $this->assertEquals(3, count($contraints));

     // Note: using array_key_exists as constraint value can be NULL.
     $this->assertArrayHasKey('Length', $contraints);
-    $this->assertEqual($contraints['Length']['min'], 2);
-    $this->assertEqual($contraints['Length']['max'], 255);
+    $this->assertEquals($contraints['Length']['min'], 2);
+    $this->assertEquals($contraints['Length']['max'], 255);
     $this->assertArrayHasKey('NotBlank', $contraints);
     $this->assertArrayHasKey('PrimitiveType', $contraints);

@@ @@
     // ck-min: 2 - too short.
     $teaserSection->set('headline', 'A');
     $errors = $teaserSection->validate();
-    $this->assertEqual($errors->count(), 1);
-    $this->assertEqual($errors->get(0)->getCode(), LengthConstraint::TOO_SHORT_ERROR);
+    $this->assertEquals($errors->count(), 1);
+    $this->assertEquals($errors->get(0)->getCode(), LengthConstraint::TOO_SHORT_ERROR);

     // ck-max: 255.
     $teaserSection->set('headline', str_repeat('A', 256));
     $errors = $teaserSection->validate();
-    $this->assertEqual($errors->count(), 1);
-    $this->assertEqual($errors->get(0)->getCode(), LengthConstraint::TOO_LONG_ERROR);
+    $this->assertEquals($errors->count(), 1);
+    $this->assertEquals($errors->get(0)->getCode(), LengthConstraint::TOO_LONG_ERROR);

     // ck-min: 2 - blank!
     $teaserSection->set('headline', '');
     $errors = $teaserSection->validate();
-    $this->assertEqual($errors->count(), 1);
-    $this->assertEqual($errors->get(0)->getCode(), NotBlank::IS_BLANK_ERROR);
+    $this->assertEquals($errors->count(), 1);
+    $this->assertEquals($errors->get(0)->getCode(), NotBlank::IS_BLANK_ERROR);
   }

   /**
@@ @@
   public function testContainerRangeValidation() {
     $pageDefinition = $this->typedDataManager->createDataDefinition('section:test_page');
     $contraints = $pageDefinition->getPropertyDefinitions()['sections']->getConstraints();
-    $this->assertEqual(1, count($contraints));
+    $this->assertEquals(1, count($contraints));
     $this->assertTrue(isset($contraints['Count']));
-    $this->assertEqual($contraints['Count']['min'], 1);
-    $this->assertEqual($contraints['Count']['max'], 5);
+    $this->assertEquals($contraints['Count']['min'], 1);
+    $this->assertEquals($contraints['Count']['max'], 5);

     // ck-min: 1 - no sections, too few.
     $tooFew = json_decode(file_get_contents(__DIR__ . '/assets/validation/page_too_few.json'), TRUE);
     $section = $this->typedDataManager->create($pageDefinition, $tooFew);
     $errors = $section->validate();
-    $this->assertEqual($errors->count(), 1);
-    $this->assertEqual($errors->get(0)->getCode(), CountConstraint::TOO_FEW_ERROR);
+    $this->assertEquals($errors->count(), 1);
+    $this->assertEquals($errors->get(0)->getCode(), CountConstraint::TOO_FEW_ERROR);

     // ck-max: 5 - 6 sections, trigger too many error.
     $tooMany = json_decode(file_get_contents(__DIR__ . '/assets/validation/page_too_many.json'), TRUE);
     $section = $this->typedDataManager->create($pageDefinition, $tooMany);
     $errors = $section->validate();
-    $this->assertEqual($errors->count(), 1);
-    $this->assertEqual($errors->get(0)->getCode(), CountConstraint::TOO_MANY_ERROR);
+    $this->assertEquals($errors->count(), 1);
+    $this->assertEquals($errors->get(0)->getCode(), CountConstraint::TOO_MANY_ERROR);
   }

 }
    ----------- end diff -----------

Applied rules:
 * AssertEqualRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/ckeditor5_sections/src/DocumentConverter.php:76

    ---------- begin diff ----------
@@ @@
     $this->typedDataManager = $typedDataManager;
     $this->entityTypeManager = $entityTypeManager;
     $this->moduleHandler = $moduleHandler;
-    $this->templateDirectory = $templateDirectory ?: drupal_get_path('module', 'ckeditor5_sections') . '/sections';
+    $this->templateDirectory = $templateDirectory ?: \Drupal::service('extension.list.module')->getPath('ckeditor5_sections') . '/sections';
   }

   /**
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector


 [OK] 6 files have been changed by Rector                                       

