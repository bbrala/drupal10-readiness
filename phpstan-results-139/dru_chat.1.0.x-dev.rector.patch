diff --git a/dru_chat.module b/dru_chat.module
index 528b993..5595738 100644
--- a/dru_chat.module
+++ b/dru_chat.module
@@ -51,5 +51,5 @@ function dru_chat_theme() {
  * Implements hook_preprocess().
  */
 function dru_chat_preprocess(&$variables, $hook) {
-  $variables['dru_chat_missing_image'] = file_create_url(drupal_get_path('module', 'dru_chat') . '/images/missing_image.svg');
+  $variables['dru_chat_missing_image'] = \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('dru_chat') . '/images/missing_image.svg');
 }
diff --git a/src/Event/DruChatEvent.php b/src/Event/DruChatEvent.php
index 2aee660..dfb24a2 100644
--- a/src/Event/DruChatEvent.php
+++ b/src/Event/DruChatEvent.php
@@ -1,8 +1,8 @@
 <?php
 namespace Drupal\dru_chat\Event;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\dru_chat\Entity\Message;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Defines DruChatEvent class.
diff --git a/src/Event/DruChatPresenceEvent.php b/src/Event/DruChatPresenceEvent.php
index dfe7216..122be13 100644
--- a/src/Event/DruChatPresenceEvent.php
+++ b/src/Event/DruChatPresenceEvent.php
@@ -4,7 +4,7 @@
 namespace Drupal\dru_chat\Event;
 
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 /**
  * Event fired when a new user presence is registered.
diff --git a/src/Event/DruChatUserListEvent.php b/src/Event/DruChatUserListEvent.php
index 1bb6406..05bd58a 100644
--- a/src/Event/DruChatUserListEvent.php
+++ b/src/Event/DruChatUserListEvent.php
@@ -2,7 +2,7 @@
 
 namespace Drupal\dru_chat\Event;
 
-use Symfony\Component\EventDispatcher\Event;
+use Symfony\Contracts\EventDispatcher\Event;
 
 /**
  * Defines DruChatUserListEvent.
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index 02e2bc6..aa3dbb5 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -29,7 +29,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
