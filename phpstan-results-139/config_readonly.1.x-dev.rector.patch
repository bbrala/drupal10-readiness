diff --git a/config_readonly.info.yml b/config_readonly.info.yml
index 59a29d9..4b18aec 100644
--- a/config_readonly.info.yml
+++ b/config_readonly.info.yml
@@ -2,4 +2,4 @@ name: 'Configuration Read-only'
 type: module
 description: 'Enables making the active configuration store read-only to prevent configuration changes on a Drupal site.'
 package: Configuration
-core_version_requirement: ^8.7.12 || ^9
+core_version_requirement: ^9.1 || ^10
diff --git a/src/ReadOnlyFormEvent.php b/src/ReadOnlyFormEvent.php
index 58f80ec..a86335e 100644
--- a/src/ReadOnlyFormEvent.php
+++ b/src/ReadOnlyFormEvent.php
@@ -2,8 +2,8 @@
 
 namespace Drupal\config_readonly;
 
+use Symfony\Contracts\EventDispatcher\Event;
 use Drupal\Core\Form\FormStateInterface;
-use Symfony\Component\EventDispatcher\Event;
 
 /**
  * Readonly form event.
diff --git a/tests/src/Functional/ReadOnlyConfigTest.php b/tests/src/Functional/ReadOnlyConfigTest.php
index f745a4b..f176a41 100644
--- a/tests/src/Functional/ReadOnlyConfigTest.php
+++ b/tests/src/Functional/ReadOnlyConfigTest.php
@@ -42,7 +42,7 @@ class ReadOnlyConfigTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->adminUser = $this->createUser([], NULL, TRUE);
     $this->drupalLogin($this->adminUser);
@@ -92,7 +92,8 @@ class ReadOnlyConfigTest extends BrowserTestBase {
     $edit = [
       'modules[search][enable]' => TRUE,
     ];
-    $this->drupalPostForm($module_url, $edit, 'Install');
+    $this->drupalGet($module_url);
+    $this->submitForm($edit, 'Install');
     $this->assertSession()->pageTextNotContains($this->message);
 
     // Switch forms to read-only.
