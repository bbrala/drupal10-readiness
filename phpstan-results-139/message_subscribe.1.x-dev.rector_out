modules/contrib/message_subscribe/message_subscribe.api.php
modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.install
modules/contrib/message_subscribe/message_subscribe_example/message_subscribe_example.module
modules/contrib/message_subscribe/message_subscribe.install
modules/contrib/message_subscribe/src/Subscribers/DeliveryCandidateInterface.php
modules/contrib/message_subscribe/src/SubscribersInterface.php
modules/contrib/message_subscribe/tests/modules/message_subscribe_test/message_subscribe_test.module
modules/contrib/message_subscribe/message_subscribe.module
modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.module
modules/contrib/message_subscribe/tests/src/Functional/MenuTest.php
modules/contrib/message_subscribe/message_subscribe_email/src/EventSubscriber/FlagEvents.php
modules/contrib/message_subscribe/tests/src/Functional/UninstallTest.php
modules/contrib/message_subscribe/tests/src/Kernel/ContextTest.php
modules/contrib/message_subscribe/message_subscribe_email/src/Manager.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Functional/ViewsTest.php
modules/contrib/message_subscribe/message_subscribe_ui/message_subscribe_ui.module
modules/contrib/message_subscribe/message_subscribe_ui/src/Controller/SubscriptionController.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/FunctionalJavascript/MessageSubscribeEmailTest.php
modules/contrib/message_subscribe/tests/src/Kernel/Form/MessageSubscribeAdminSettingsTest.php
modules/contrib/message_subscribe/tests/src/Kernel/MessageSubscribeTestBase.php
modules/contrib/message_subscribe/tests/src/Kernel/QueueTest.php
modules/contrib/message_subscribe/message_subscribe_ui/src/Plugin/Block/Subscriptions.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/Form/AdminSettingsTest.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailNotificationsTest.php
modules/contrib/message_subscribe/tests/src/Kernel/SubscribersTest.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailSubscribersTest.php
modules/contrib/message_subscribe/message_subscribe_ui/src/Plugin/Derivative/MessageSubscribeUiLocalTask.php
modules/contrib/message_subscribe/message_subscribe_ui/tests/src/Functional/SubscriptionsBlockTest.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailTestBase.php
modules/contrib/message_subscribe/message_subscribe_email/tests/src/Unit/ManagerTest.php
modules/contrib/message_subscribe/src/Exception/MessageSubscribeException.php
modules/contrib/message_subscribe/src/Form/MessageSubscribeAdminSettings.php
modules/contrib/message_subscribe/src/Plugin/QueueWorker/MessageSubscribe.php
modules/contrib/message_subscribe/src/Subscribers.php
modules/contrib/message_subscribe/tests/src/Unit/Subscribers/DeliveryCandidateTest.php
modules/contrib/message_subscribe/tests/src/Unit/SubscribersTest.php
modules/contrib/message_subscribe/tests/src/fixture_foo.module.php
modules/contrib/message_subscribe/src/Subscribers/DeliveryCandidate.php

16 files with changes
=====================

1) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Unit/ManagerTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe_email\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\ImmutableConfig;
 use Drupal\flag\FlagInterface;
@@ @@
  */
 class ManagerTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Tests the flag retrieval.
    *
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailTestBase.php:45

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->installConfig(['message_subscribe_email']);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailSubscribersTest.php:17

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     // Opt out of default email notifications and subscribe to node 1.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/MessageSubscribeEmailNotificationsTest.php:14

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $flag = $this->flagService->getFlagById('subscribe_node');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


5) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Kernel/Form/AdminSettingsTest.php:18

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->values['message_subscribe_email_flag_prefix'] = [
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


6) modules/contrib/message_subscribe/message_subscribe_email/tests/src/FunctionalJavascript/MessageSubscribeEmailTest.php:39

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     // Add some nodes.
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


7) modules/contrib/message_subscribe/message_subscribe_email/tests/src/Functional/ViewsTest.php:37

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->flagService = $this->container->get('flag');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


8) modules/contrib/message_subscribe/message_subscribe_email/message_subscribe_email.install:17

    ---------- begin diff ----------
@@ @@
   }
   else {
     // Pre-Drupal 8.8.
-    $display = entity_get_form_display('user', 'user', 'default');
+    $display = \Drupal::service('entity_display.repository')->getFormDisplay('user', 'user', 'default');
   }
   if (!$display->getComponent('message_subscribe_email')) {
     $settings = [
    ----------- end diff -----------

Applied rules:
 * EntityGetFormDisplayRector
 * ArgumentRemoverRector


9) modules/contrib/message_subscribe/tests/src/Unit/SubscribersTest.php:1

    ---------- begin diff ----------
@@ @@

 namespace Drupal\Tests\message_subscribe\Unit;

+use Prophecy\PhpUnit\ProphecyTrait;
 use Drupal\Core\Config\ConfigFactoryInterface;
 use Drupal\Core\Config\ImmutableConfig;
 use Drupal\Core\Entity\EntityInterface;
@@ @@
  */
 class SubscribersTest extends UnitTestCase {

+  use ProphecyTrait;
   /**
    * Mock flag service.
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     require __DIR__ . '/../fixture_foo.module.php';
    ----------- end diff -----------

Applied rules:
 * AddProphecyTraitRector (https://github.com/sebastianbergmann/phpunit/issues/4142)
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


10) modules/contrib/message_subscribe/tests/src/Kernel/SubscribersTest.php:55

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->installSchema('node', ['node_access']);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


11) modules/contrib/message_subscribe/tests/src/Kernel/QueueTest.php:23

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->config('message_subscribe.settings')
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


12) modules/contrib/message_subscribe/tests/src/Kernel/MessageSubscribeTestBase.php:50

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->installSchema('system', ['sequences']);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


13) modules/contrib/message_subscribe/tests/src/Kernel/Form/MessageSubscribeAdminSettingsTest.php:25

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->form = MessageSubscribeAdminSettings::create($this->container);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


14) modules/contrib/message_subscribe/tests/src/Kernel/ContextTest.php:77

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->installSchema('comment', ['comment_entity_statistics']);
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


15) modules/contrib/message_subscribe/tests/src/Functional/UninstallTest.php:26

    ---------- begin diff ----------
@@ @@
     // Verify settings page.
     $this->drupalGet(Url::fromRoute('message_subscribe.admin_settings'));
     $this->assertSession()->statusCodeEquals(200);
+    $this->drupalGet('admin/modules/uninstall');

     // Uninstall module.
-    $this->drupalPostForm('admin/modules/uninstall', ['uninstall[message_subscribe]' => TRUE], t('Uninstall'));
-    $this->drupalPostForm(NULL, [], t('Uninstall'));
+    $this->submitForm(['uninstall[message_subscribe]' => TRUE], t('Uninstall'));
+    $this->submitForm([], t('Uninstall'));

     // Validate Message Subscribe was uninstalled.
     $this->assertSession()->pageTextContains(t('The selected modules have been uninstalled.'));
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


16) modules/contrib/message_subscribe/message_subscribe_ui/tests/src/Functional/SubscriptionsBlockTest.php:65

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->adminUser = $this->createUser([], NULL, TRUE);
@@ @@
       'subscriptions[taxonomy_term][' . $this->terms[1]->id() . ']' => TRUE,
       'subscriptions[taxonomy_term][' . $this->terms[7]->id() . ']' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $flag = $this->flagService->getFlagById('subscribe_term');
     foreach ([1, 3, 7, 9] as $i) {
       $term = $this->terms[$i];
@@ @@
     $edit = [
       'subscriptions[user][' . $this->adminUser->id() . ']' => TRUE,
     ];
-    $this->drupalPostForm(NULL, $edit, t('Save'));
+    $this->submitForm($edit, t('Save'));
     $flag = $this->flagService->getFlagById('subscribe_user');
     $this->assertNotEmpty($this->flagService->getEntityFlaggings($flag, $this->adminUser, $this->webUser));
     // Subscriptions should be checked.
    ----------- end diff -----------

Applied rules:
 * UiHelperTraitDrupalPostFormRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 16 files have been changed by Rector                                      

