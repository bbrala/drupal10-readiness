modules/contrib/friggeri_cv/friggeri_cv.install
modules/contrib/friggeri_cv/src/Plugin/Field/FieldFormatter/PdfFormatter.php
modules/contrib/friggeri_cv/friggeri_cv.module
modules/contrib/friggeri_cv/src/Controller/PdfController.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldFormatter/ProfileContactBoxDefaultFormatter.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldFormatter/ProfileEntityBoxDefaultFormatter.php
modules/contrib/friggeri_cv/src/Controller/ProfileController.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldType/ProfileContactBoxItem.php
modules/contrib/friggeri_cv/src/Element/HorizontalTabs.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldType/ProfileEntityBoxItem.php
modules/contrib/friggeri_cv/src/Entity/Profile.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldWidget/ColorPickerFieldWidget.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldWidget/ProfileContactBoxDefaultWidget.php
modules/contrib/friggeri_cv/src/Plugin/Field/FieldWidget/ProfileEntityBoxDefaultWidget.php
modules/contrib/friggeri_cv/src/Entity/ProfileFooterItem.php
modules/contrib/friggeri_cv/src/Entity/ProfileSection.php
modules/contrib/friggeri_cv/src/Plugin/Validation/Constraint/ProfileEntityBoxConstraint.php
modules/contrib/friggeri_cv/src/Plugin/Validation/Constraint/ProfileEntityBoxConstraintValidator.php
modules/contrib/friggeri_cv/src/ProfileAccessControlHandler.php
modules/contrib/friggeri_cv/src/Form/ProfileForm.php
modules/contrib/friggeri_cv/src/ProfileDefault.php
modules/contrib/friggeri_cv/src/ProfileFooterItemInterface.php
modules/contrib/friggeri_cv/src/ProfileInterface.php
modules/contrib/friggeri_cv/src/ProfileListBuilder.php
modules/contrib/friggeri_cv/src/ProfileSectionInterface.php
modules/contrib/friggeri_cv/src/Service/PdfService.php

6 files with changes
====================

1) modules/contrib/friggeri_cv/src/Form/ProfileForm.php:88

    ---------- begin diff ----------
@@ @@
     $link = $entity->toLink($this->t('View'))->toRenderable();

     $message_arguments = ['%label' => $this->entity->label()];
-    $logger_arguments = $message_arguments + ['link' => render($link)];
+    $logger_arguments = $message_arguments + ['link' => \Drupal::service('renderer')->render($link)];

     if ($result == SAVED_NEW) {
       $this->messenger()->addStatus($this->t('New profile %label has been created.', $message_arguments));
    ----------- end diff -----------

Applied rules:
 * RenderRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


2) modules/contrib/friggeri_cv/src/Entity/Profile.php:85

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getDefaultPicture() {
-    $img = base_path() . drupal_get_path("module", "friggeri_cv")
+    $img = base_path() . \Drupal::service('extension.list.module')->getPath("friggeri_cv")
       . "/img/person.svg";
     return [
       "data" => [
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


3) modules/contrib/friggeri_cv/src/Service/PdfService.php:99

    ---------- begin diff ----------
@@ @@
       return FALSE;
     }
     else {
-      return file_create_url($dir . $filename);
+      return \Drupal::service('file_url_generator')->generateAbsoluteString($dir . $filename);
     }
   }
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * WrapReturnRector


4) modules/contrib/friggeri_cv/src/ProfileDefault.php:264

    ---------- begin diff ----------
@@ @@
    *   The target id array of the generated Media.
    */
   protected static function generateMedia(string $name) {
-    $path = drupal_get_path('module', 'friggeri_cv') . '/img/footer/column' . $name;
+    $path = \Drupal::service('extension.list.module')->getPath('friggeri_cv') . '/img/footer/column' . $name;
     $directory = 'public://media/image/';
     $fs = \Drupal::service('file_system');
     $fs->prepareDirectory($directory, FileSystemInterface::CREATE_DIRECTORY | FileSystemInterface::MODIFY_PERMISSIONS);
     $filename = basename($path);
-    $file = file_save_data(file_get_contents($path), $directory . $filename);
+    $file = \Drupal::service('file.repository')->writeData(file_get_contents($path), $directory . $filename);
     $media = Media::create([
       'bundle' => 'image',
       'thumbnail' => [
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileSaveDataRector
 * ArgumentRemoverRector
 * WrapReturnRector


5) modules/contrib/friggeri_cv/src/Plugin/Field/FieldWidget/ProfileContactBoxDefaultWidget.php:117

    ---------- begin diff ----------
@@ @@
    */
   private function getOptions() {
     // @see https://raw.githubusercontent.com/FortAwesome/Font-Awesome/fa-4/src/icons.yml
-    $url = drupal_get_path("module", "friggeri_cv") . "/img/icons/icons.yml";
+    $url = \Drupal::service('extension.list.module')->getPath("friggeri_cv") . "/img/icons/icons.yml";
     $icons = Yaml::parse(file_get_contents($url))["icons"];
     $options = ["" => $this->t("-- Select --")];
     foreach ($icons as $icon) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


6) modules/contrib/friggeri_cv/src/Plugin/Field/FieldFormatter/PdfFormatter.php:25

    ---------- begin diff ----------
@@ @@
   public function viewElements(FieldItemListInterface $items, $langcode) {
     $element = [];

-    $img = base_path() . drupal_get_path("module", "friggeri_cv")
+    $img = base_path() . \Drupal::service('extension.list.module')->getPath("friggeri_cv")
       . "/img/pdf.png";

     foreach ($items as $delta => $item) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * WrapReturnRector
 * ChangeMethodVisibilityRector


 [OK] 6 files have been changed by Rector                                       

