diff --git a/tests/src/Functional/AzBlobFsConfigFormTest.php b/tests/src/Functional/AzBlobFsConfigFormTest.php
index e31f353..976cfde 100644
--- a/tests/src/Functional/AzBlobFsConfigFormTest.php
+++ b/tests/src/Functional/AzBlobFsConfigFormTest.php
@@ -117,7 +117,7 @@ class AzBlobFsConfigFormTest extends AzBlobFsTestBase {
       'key_provider' => 'config',
       'key_input_settings[key_value]' => $this->azBlobFsConfig['az_blob_account_key'],
     ];
-    $this->drupalPostForm(NULL, $edit, 'Save');
+    $this->submitForm($edit, 'Save');
 
     // Go to the Key list page.
     $this->drupalGet('admin/config/system/keys');
@@ -138,7 +138,8 @@ class AzBlobFsConfigFormTest extends AzBlobFsTestBase {
       'az_blob_protocol' => $this->azBlobFsConfig['az_blob_protocol'],
       'az_blob_cdn_host_name' => $this->azBlobFsConfig['az_blob_cdn_host_name'],
     ];
-    $this->drupalPostForm(Url::fromRoute('az_blob_fs.settings_form'), $edit, $this->t('Save configuration'));
+    $this->drupalGet(Url::fromRoute('az_blob_fs.settings_form'));
+    $this->submitForm($edit, $this->t('Save configuration'));
     $this->assertSession()->statusCodeEquals(200);
   }
 
