diff --git a/geolocation_leaflet_geojson.info.yml b/geolocation_leaflet_geojson.info.yml
index 1fd5820..6153a24 100644
--- a/geolocation_leaflet_geojson.info.yml
+++ b/geolocation_leaflet_geojson.info.yml
@@ -1,7 +1,7 @@
 name: Geolocation - Leaflet - geojson
 type: module
 description: Add a geojson layer for geolocation leaflet
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: Geolocation
 dependencies:
   - geolocation:geolocation
diff --git a/src/Plugin/geolocation/MapFeature/LeafletGeojson.php b/src/Plugin/geolocation/MapFeature/LeafletGeojson.php
index 90507c2..782958b 100644
--- a/src/Plugin/geolocation/MapFeature/LeafletGeojson.php
+++ b/src/Plugin/geolocation/MapFeature/LeafletGeojson.php
@@ -55,7 +55,7 @@ class LeafletGeojson extends MapFeatureBase {
     if (empty($feature_settings['geojson_path'])) return;
 
     $geojsonPath = \Drupal::token()->replace($feature_settings['geojson_path'], $context);
-    $geojsonUrl = file_url_transform_relative(file_create_url($geojsonPath));
+    $geojsonUrl = \Drupal::service('file_url_generator')->generateString($geojsonPath);
     
     $render_array['#attached'] = BubbleableMetadata::mergeAttachments(
       empty($render_array['#attached']) ? [] : $render_array['#attached'],
