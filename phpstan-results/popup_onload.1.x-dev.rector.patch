diff --git a/modules/popup_onload_statistics/popup_onload_statistics.module b/modules/popup_onload_statistics/popup_onload_statistics.module
index 5ab372e..6f30e42 100644
--- a/modules/popup_onload_statistics/popup_onload_statistics.module
+++ b/modules/popup_onload_statistics/popup_onload_statistics.module
@@ -46,7 +46,7 @@ function popup_onload_statistics_init() {
  * Add popup statistics JS to the page.
  */
 function popup_onload_statistics_add_js() {
-  drupal_add_js(drupal_get_path('module', 'popup_onload_statistics') . '/popup_onload_statistics.js');
+  drupal_add_js(\Drupal::service('extension.list.module')->getPath('popup_onload_statistics') . '/popup_onload_statistics.js');
 }
 
 /**
diff --git a/popup_onload.info.yml b/popup_onload.info.yml
index 0f63523..f74f857 100644
--- a/popup_onload.info.yml
+++ b/popup_onload.info.yml
@@ -1,8 +1,7 @@
 name: 'Popup On Load'
 type: module
 description: 'Create popup on page load.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: 'Popup On Load'
 dependencies:
   - drupal:field_ui
diff --git a/popup_onload.module b/popup_onload.module
index fef74d5..e245e17 100644
--- a/popup_onload.module
+++ b/popup_onload.module
@@ -193,7 +193,7 @@ function popup_onload_save_time_cookie($popup_onload) {
   $expire_seconds = PopupOnLoadSettingsForm::popupOnLoadGetDefaults(POPUP_ONLOAD_VAR_COOKIE_LIFETIME, POPUP_ONLOAD_DEFAULT_COOKIE_LIFETIME);
   $cur_time = time();
   $response = new Response();
-  $cookie = new Cookie($cookie_name, $cur_time, $cur_time + $expire_seconds, '/');
+  $cookie = \Symfony\Component\HttpFoundation\Cookie::create($cookie_name, $cur_time, $cur_time + $expire_seconds, '/');
   $response->headers->setCookie($cookie);
   $response->sendHeaders();
 }
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index 7046c5f..481e5e3 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -29,7 +29,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
