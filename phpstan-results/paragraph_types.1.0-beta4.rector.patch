diff --git a/paragraph_types.module b/paragraph_types.module
index 27c9a68..b959265 100644
--- a/paragraph_types.module
+++ b/paragraph_types.module
@@ -93,7 +93,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       else
         $image_uri = '';
 
-      $variables['image_url'] = file_create_url($image_uri);
+      $variables['image_url'] = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
       $variables['image_alt'] = $variables['paragraph']->get('field_image')->alt;
       $variables['image_title'] = $variables['paragraph']->get('field_image')->title;
       $variables['link_url'] = $variables['paragraph']->get('field_link')->uri;
@@ -110,7 +110,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       else
         $image_uri = '';
 
-      $variables['image_url'] = file_create_url($image_uri);
+      $variables['image_url'] = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
       $variables['image_alt'] = $variables['paragraph']->get('field_image')->alt;
       $variables['image_title'] = $variables['paragraph']->get('field_image')->title;
       $variables['link_url'] = $variables['paragraph']->get('field_link')->uri;
@@ -137,7 +137,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           'text' => $chess_row->field_text->value,
           'image_position' => $chess_row->field_image_position->value,
           'linked_image' => [
-            'image_url' => file_create_url($image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
             'image_alt' => $chess_row->get('field_image')->alt,
             'image_title' => $chess_row->get('field_image')->title,
             'link_url' => $chess_row->get('field_link')->uri,
@@ -162,7 +162,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           $files = $linked_images[0]->get('field_image')->referencedEntities();
           if (count($files)) $image_uri = $files[0]->uri[0]->value;
           $linked_image_data = [
-            'image_url' => file_create_url($image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
             'image_alt' => $linked_images[0]->get('field_image')->alt,
             'image_title' => $linked_images[0]->get('field_image')->title,
             'link_url' => $linked_images[0]->get('field_link')->uri,
@@ -194,7 +194,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           $image_uri = '';
 
         $variables['linked_images'][] = [
-          'image_url' => file_create_url($image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
           'image_alt' => $linked_image->get('field_image')->alt,
           'image_title' => $linked_image->get('field_image')->title,
           'link_url' => $linked_image->get('field_link')->uri,
@@ -226,7 +226,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           $image_uri = '';
 
         $variables['linked_images'][] = [
-          'image_url' => file_create_url($image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
           'image_alt' => $linked_image->get('field_image')->alt,
           'image_title' => $linked_image->get('field_image')->title,
           'link_url' => $linked_image->get('field_link')->uri,
@@ -255,7 +255,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           'headline' => $counter_item->field_headline->value,
           'number' => (int)$counter_item->field_number->value,
           'linked_image' => [
-            'image_url' => file_create_url($image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
             'image_alt' => $linked_image->get('field_image')->alt,
             'image_title' => $linked_image->get('field_image')->title,
             'link_url' => $linked_image->get('field_link')->uri,
@@ -277,7 +277,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
         'headline' => $counter_item->field_headline->value,
         'number' => (int)$counter_item->field_number->value,
         'linked_image' => [
-          'image_url' => file_create_url($image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
           'image_alt' => $counter_item->get('field_image')->alt,
           'image_title' => $counter_item->get('field_image')->title,
           'link_url' => $counter_item->get('field_link')->uri,
@@ -296,7 +296,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
       else
         $image_uri = '';
 
-      $variables['image_url'] = file_create_url($image_uri);
+      $variables['image_url'] = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
       $variables['image_alt'] = $paragraph->get('field_image')->alt;
       $variables['image_title'] = $paragraph->get('field_image')->title;
 
@@ -323,12 +323,12 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           'position_title' => $client_item->field_position_title->value,
           'text' => $client_item->field_text->value,
           'avatar' => [
-            'image_url' => file_create_url($avatar_image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($avatar_image_uri),
             'image_alt' => $client_item->get('field_avatar')->alt,
             'image_title' => $client_item->get('field_avatar')->title,
           ],
           'organization' => [
-            'image_url' => file_create_url($image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
             'image_alt' => $linked_image ? $linked_image->get('field_image')->alt : '',
             'image_title' => $linked_image ? $linked_image->get('field_image')->title : '',
             'link_url' => $linked_image ? $linked_image->get('field_link')->uri : '',
@@ -357,12 +357,12 @@ function paragraph_types_preprocess_paragraph(&$variables) {
         'position_title' => $client_item->field_position_title->value,
         'text' => $client_item->field_text->value,
         'avatar' => [
-          'image_url' => file_create_url($avatar_image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($avatar_image_uri),
           'image_alt' => $client_item->get('field_avatar')->alt,
           'image_title' => $client_item->get('field_avatar')->title,
         ],
         'organization' => [
-          'image_url' => file_create_url($image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri),
           'image_alt' => $linked_image ? $linked_image->get('field_image')->alt : '',
           'image_title' => $linked_image ? $linked_image->get('field_image')->title : '',
           'link_url' => $linked_image ? $linked_image->get('field_link')->uri : '',
@@ -398,7 +398,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
           'name' => $member->field_name->value,
           'position_title' => $member->field_position_title->value,
           'photo' => [
-            'image_url' => file_create_url($photo_image_uri),
+            'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($photo_image_uri),
             'image_alt' => $member->get('field_photo')->alt,
             'image_title' => $member->get('field_photo')->title,
           ],
@@ -427,7 +427,7 @@ function paragraph_types_preprocess_paragraph(&$variables) {
         'name' => $member->field_name->value,
         'position_title' => $member->field_position_title->value,
         'photo' => [
-          'image_url' => file_create_url($photo_image_uri),
+          'image_url' => \Drupal::service('file_url_generator')->generateAbsoluteString($photo_image_uri),
           'image_alt' => $member->get('field_photo')->alt,
           'image_title' => $member->get('field_photo')->title,
         ],
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index c3f1055..7cb5643 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -29,7 +29,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
