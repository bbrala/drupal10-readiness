[parsing] modules/contrib/pdfpreview/pdfpreview.install
[refactoring] modules/contrib/pdfpreview/pdfpreview.install
[post rectors] modules/contrib/pdfpreview/pdfpreview.install
[print] modules/contrib/pdfpreview/pdfpreview.install
[parsing] modules/contrib/pdfpreview/pdfpreview.module
[refactoring] modules/contrib/pdfpreview/pdfpreview.module
[post rectors] modules/contrib/pdfpreview/pdfpreview.module
[print] modules/contrib/pdfpreview/pdfpreview.module
[parsing] modules/contrib/pdfpreview/src/PDFPreviewGenerator.php
[refactoring] modules/contrib/pdfpreview/src/PDFPreviewGenerator.php
[post rectors] modules/contrib/pdfpreview/src/PDFPreviewGenerator.php
[print] modules/contrib/pdfpreview/src/PDFPreviewGenerator.php
[parsing] modules/contrib/pdfpreview/src/PDFPreviewSettingsForm.php
[refactoring] modules/contrib/pdfpreview/src/PDFPreviewSettingsForm.php
[post rectors] modules/contrib/pdfpreview/src/PDFPreviewSettingsForm.php
[print] modules/contrib/pdfpreview/src/PDFPreviewSettingsForm.php
[parsing] modules/contrib/pdfpreview/src/Plugin/Field/FieldFormatter/PDFPreviewFormatter.php
[refactoring] modules/contrib/pdfpreview/src/Plugin/Field/FieldFormatter/PDFPreviewFormatter.php
[post rectors] modules/contrib/pdfpreview/src/Plugin/Field/FieldFormatter/PDFPreviewFormatter.php
[print] modules/contrib/pdfpreview/src/Plugin/Field/FieldFormatter/PDFPreviewFormatter.php
[refactoring] modules/contrib/pdfpreview/src/Plugin/Field/FieldFormatter/PDFPreviewFormatter.php
[post rectors] modules/contrib/pdfpreview/src/Plugin/Field/FieldFormatter/PDFPreviewFormatter.php
[print] modules/contrib/pdfpreview/src/Plugin/Field/FieldFormatter/PDFPreviewFormatter.php
[parsing] modules/contrib/pdfpreview/tests/src/Unit/PDFPreviewGeneratorTest.php
[refactoring] modules/contrib/pdfpreview/tests/src/Unit/PDFPreviewGeneratorTest.php
[post rectors] modules/contrib/pdfpreview/tests/src/Unit/PDFPreviewGeneratorTest.php
[print] modules/contrib/pdfpreview/tests/src/Unit/PDFPreviewGeneratorTest.php
[refactoring] modules/contrib/pdfpreview/tests/src/Unit/PDFPreviewGeneratorTest.php
[post rectors] modules/contrib/pdfpreview/tests/src/Unit/PDFPreviewGeneratorTest.php
[print] modules/contrib/pdfpreview/tests/src/Unit/PDFPreviewGeneratorTest.php

2 files with changes
====================

1) modules/contrib/pdfpreview/tests/src/Unit/PDFPreviewGeneratorTest.php:14

    ---------- begin diff ----------
@@ @@
  */
 class PDFPreviewGeneratorTest extends UnitTestCase {

+  use \Prophecy\PhpUnit\ProphecyTrait;
   /**
    * The config factory.
    *
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     $this->configFactory = $this->prophesize(ConfigFactoryInterface::class);
@@ @@
    *   Mocked PDF Preview Generator.
    */
   protected function getPdfPreviewGeneratorMock() {
-    $file_system = $this->getMockBuilder('\Drupal\Core\File\FileSystem')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $file_system = $this->createMock('\Drupal\Core\File\FileSystem');
     $file_system
       ->expects($this->any())
       ->method('basename')
       ->with('public://Test File.pdf', '.pdf')
       ->willReturn('Test File');
-    $transliteration = $this->getMockBuilder(TransliterationInterface::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $transliteration = $this->createMock(TransliterationInterface::class);
     $transliteration
       ->expects($this->any())
       ->method('transliterate')
@@ @@

     $image_toolkit_manager = $this->createMock('\Drupal\Core\ImageToolkit\ImageToolkitManager');

-    $language = $this->getMockBuilder('Drupal\Core\Language\Language')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $language = $this->createMock('Drupal\Core\Language\Language');
     $language
       ->expects($this->any())
       ->method('getId')
       ->willReturn('en');

-    $language_manager = $this->getMockBuilder('Drupal\Core\Language\LanguageManager')
-      ->disableOriginalConstructor()
-      ->getMock();
+    $language_manager = $this->createMock('Drupal\Core\Language\LanguageManager');
     $language_manager
       ->expects($this->any())
       ->method('getCurrentLanguage')
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * AddProphecyTraitRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/pdfpreview/src/Plugin/Field/FieldFormatter/PDFPreviewFormatter.php:187

    ---------- begin diff ----------
@@ @@
         // context to ensure different file URLs are generated for different
         // sites in a multisite setup, including HTTP and HTTPS versions of the
         // same site. Fix in https://www.drupal.org/node/2646744.
-        $url = Url::fromUri(file_create_url($image_uri));
+        $url = \Drupal::service('file_url_generator')->generate($image_uri);
         $cache_contexts[] = 'url.site';
       }
       $cache_tags = Cache::mergeTags($cache_tags, $file->getCacheTags());
    ----------- end diff -----------

Applied rules:
 * FromUriRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


 [OK] 2 files have been changed by Rector                                       

