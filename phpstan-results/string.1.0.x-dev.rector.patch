diff --git a/src/Form/ExportForm.php b/src/Form/ExportForm.php
index 916d6fb..36a2341 100644
--- a/src/Form/ExportForm.php
+++ b/src/Form/ExportForm.php
@@ -164,11 +164,7 @@ class ExportForm extends FormBase {
   protected function saveFile(string $content) {
     // @todo Make this configurable.
     $destination = 'public://string.pot';
-    $file = file_save_data(
-      $content,
-      $destination,
-      FileSystemInterface::EXISTS_REPLACE
-    );
+    $file = \Drupal::service('file.repository')->writeData($content, $destination, FileSystemInterface::EXISTS_REPLACE);
     return $file;
   }
 
diff --git a/src/StringPluralTranslatableMarkup.php b/src/StringPluralTranslatableMarkup.php
index 872a46f..5be6e0e 100644
--- a/src/StringPluralTranslatableMarkup.php
+++ b/src/StringPluralTranslatableMarkup.php
@@ -29,7 +29,7 @@ class StringPluralTranslatableMarkup extends PluralTranslatableMarkup {
     ];
     // @todo Interpret formula based on language.
     // Find a better way to solve this, however, php's eval is not an option.
-    $index = render($item);
+    $index = \Drupal::service('renderer')->render($item);
     return (string) $index;
   }
 
