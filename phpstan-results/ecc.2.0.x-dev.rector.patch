diff --git a/ecc.info.yml b/ecc.info.yml
index 469f7f1..b624879 100644
--- a/ecc.info.yml
+++ b/ecc.info.yml
@@ -1,7 +1,7 @@
 name: Editable Custom Configuration
 type: module
 description: 'ECC (Editable Custom Configuration) gives you ability to create any configuration with any fields schema through UI on the fly.'
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 package: ECC
 configure: ecc.config
 dependencies:
diff --git a/src/Form/EccForm.php b/src/Form/EccForm.php
index dd654b8..e8b4fbf 100644
--- a/src/Form/EccForm.php
+++ b/src/Form/EccForm.php
@@ -196,7 +196,7 @@ class EccForm extends ContentEntityForm {
 
     $form_state->setValueForElement($element, [
       'id' => $file->id(),
-      'url' => file_create_url($uri),
+      'url' => \Drupal::service('file_url_generator')->generateAbsoluteString($uri),
     ]);
   }
 
