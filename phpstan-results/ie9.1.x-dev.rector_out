[parsing] modules/contrib/ie9/ie9.module
[refactoring] modules/contrib/ie9/ie9.module
[post rectors] modules/contrib/ie9/ie9.module
[print] modules/contrib/ie9/ie9.module
[parsing] modules/contrib/ie9/src/Asset/CssCollectionRenderer.php
[refactoring] modules/contrib/ie9/src/Asset/CssCollectionRenderer.php
[post rectors] modules/contrib/ie9/src/Asset/CssCollectionRenderer.php
[print] modules/contrib/ie9/src/Asset/CssCollectionRenderer.php
[refactoring] modules/contrib/ie9/src/Asset/CssCollectionRenderer.php
[post rectors] modules/contrib/ie9/src/Asset/CssCollectionRenderer.php
[print] modules/contrib/ie9/src/Asset/CssCollectionRenderer.php
[parsing] modules/contrib/ie9/src/EventSubscriber/CspSubscriber.php
[refactoring] modules/contrib/ie9/src/EventSubscriber/CspSubscriber.php
[post rectors] modules/contrib/ie9/src/EventSubscriber/CspSubscriber.php
[print] modules/contrib/ie9/src/EventSubscriber/CspSubscriber.php
[parsing] modules/contrib/ie9/tests/src/Unit/EventSubscriber/CspSubscriberTest.php
[refactoring] modules/contrib/ie9/tests/src/Unit/EventSubscriber/CspSubscriberTest.php
[post rectors] modules/contrib/ie9/tests/src/Unit/EventSubscriber/CspSubscriberTest.php
[print] modules/contrib/ie9/tests/src/Unit/EventSubscriber/CspSubscriberTest.php
[refactoring] modules/contrib/ie9/tests/src/Unit/EventSubscriber/CspSubscriberTest.php
[post rectors] modules/contrib/ie9/tests/src/Unit/EventSubscriber/CspSubscriberTest.php
[print] modules/contrib/ie9/tests/src/Unit/EventSubscriber/CspSubscriberTest.php

2 files with changes
====================

1) modules/contrib/ie9/tests/src/Unit/EventSubscriber/CspSubscriberTest.php:35

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();

     if (!class_exists(Csp::class)) {
@@ @@
       $this->markTestSkipped('Content Security Policy module is not available.');
     }

-    $this->state = $this->getMockBuilder(StateInterface::class)
-      ->getMock();
+    $this->state = $this->createMock(StateInterface::class);

-    $this->response = $this->getMockBuilder(HtmlResponse::class)
-      ->disableOriginalConstructor()
-      ->getMock();
+    $this->response = $this->createMock(HtmlResponse::class);
   }

   /**
@@ @@
    * @covers ::onCspPolicyAlter
    */
   public function testNoDirectives() {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit_Framework_MockObject_MockObject $configFactory */
+    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit\Framework\MockObject\MockObject $configFactory */
     $configFactory = $this->getConfigFactoryStub([
       'system.performance' => [
         'css.preprocess' => FALSE,
@@ @@
    * @covers ::onCspPolicyAlter
    */
   public function testStyleNotNeeded() {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit_Framework_MockObject_MockObject $configFactory */
+    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit\Framework\MockObject\MockObject $configFactory */
     $configFactory = $this->getConfigFactoryStub([
       'system.performance' => [
         'css.preprocess' => TRUE,
@@ @@
    * @covers ::onCspPolicyAlter
    */
   public function testStyleNoPreprocess() {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit_Framework_MockObject_MockObject $configFactory */
+    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit\Framework\MockObject\MockObject $configFactory */
     $configFactory = $this->getConfigFactoryStub([
       'system.performance' => [
         'css.preprocess' => FALSE,
@@ @@
    * @covers ::onCspPolicyAlter
    */
   public function testStyleMaintenance() {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit_Framework_MockObject_MockObject $configFactory */
+    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit\Framework\MockObject\MockObject $configFactory */
     $configFactory = $this->getConfigFactoryStub([
       'system.performance' => [
         'css.preprocess' => TRUE,
@@ @@
    * @covers ::onCspPolicyAlter
    */
   public function testStyleElemFallback() {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit_Framework_MockObject_MockObject $configFactory */
+    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit\Framework\MockObject\MockObject $configFactory */
     $configFactory = $this->getConfigFactoryStub([
       'system.performance' => [
         'css.preprocess' => FALSE,
@@ @@
    * @covers ::onCspPolicyAlter
    */
   public function testStyleDefaultFallback() {
-    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit_Framework_MockObject_MockObject $configFactory */
+    /** @var \Drupal\Core\Config\ConfigFactoryInterface|\PHPUnit\Framework\MockObject\MockObject $configFactory */
     $configFactory = $this->getConfigFactoryStub([
       'system.performance' => [
         'css.preprocess' => FALSE,
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * GetMockBuilderGetMockToCreateMockRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/ie9/src/Asset/CssCollectionRenderer.php:140

    ---------- begin diff ----------
@@ @@
           // LINK tag.
           if (!$css_asset['preprocess']) {
             $element = $link_element_defaults;
-            $element['#attributes']['href'] = file_url_transform_relative(file_create_url($css_asset['data'])) . $query_string_separator . $query_string;
+            $element['#attributes']['href'] = \Drupal::service('file_url_generator')->generateString($css_asset['data']) . $query_string_separator . $query_string;
             $element['#attributes']['media'] = $css_asset['media'];
             $element['#browsers'] = $css_asset['browsers'];
             $elements[] = $element;
@@ @@
               // control browser-caching. IE7 does not support a media type on
               // the @import statement, so we instead specify the media for
               // the group on the STYLE tag.
-              $import[] = '@import url("' . Html::escape(file_url_transform_relative(file_create_url($next_css_asset['data'])) . '?' . $query_string) . '");';
+              $import[] = '@import url("' . Html::escape(\Drupal::service('file_url_generator')->generateString($next_css_asset['data']) . '?' . $query_string) . '");';
               // Move the outer for loop skip the next item, since we
               // processed it here.
               $i = $j;
    ----------- end diff -----------

Applied rules:
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


 [OK] 2 files have been changed by Rector                                       

