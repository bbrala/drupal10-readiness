diff --git a/modules/lgpd_consent/src/Controller/ConsentAgreementController.php b/modules/lgpd_consent/src/Controller/ConsentAgreementController.php
index 0838c65..a4d507a 100644
--- a/modules/lgpd_consent/src/Controller/ConsentAgreementController.php
+++ b/modules/lgpd_consent/src/Controller/ConsentAgreementController.php
@@ -162,7 +162,9 @@ class ConsentAgreementController extends ControllerBase {
         $link = $this->renderer->renderPlain($link);
       }
       else {
-        $link = $lgpd_consent_agreement->link($date);
+        // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+        // Please confirm that `$lgpd_consent_agreement` is an instance of `\Drupal\Core\Entity\EntityInterface`. Only the method name and not the class name was checked for this replacement, so this may be a false positive.
+        $link = $lgpd_consent_agreement->toLink($date)->toString();
       }
 
       $row = [];
diff --git a/modules/lgpd_consent/src/Form/ConsentAgreementForm.php b/modules/lgpd_consent/src/Form/ConsentAgreementForm.php
index 35f1bc5..bd5efb4 100644
--- a/modules/lgpd_consent/src/Form/ConsentAgreementForm.php
+++ b/modules/lgpd_consent/src/Form/ConsentAgreementForm.php
@@ -87,7 +87,7 @@ class ConsentAgreementForm extends ContentEntityForm {
       $entity->setNewRevision();
 
       // If a new revision is created, save the current user as revision author.
-      $entity->setRevisionCreationTime(REQUEST_TIME);
+      $entity->setRevisionCreationTime(\Drupal::time()->getRequestTime());
       $entity->setRevisionUserId($this->currentUser->id());
     }
     else {
@@ -98,13 +98,13 @@ class ConsentAgreementForm extends ContentEntityForm {
 
     switch ($status) {
       case SAVED_NEW:
-        drupal_set_message($this->t('Created the %label Consent Agreement.', [
+        $this->messenger()->addStatus($this->t('Created the %label Consent Agreement.', [
           '%label' => $entity->label(),
         ]));
         break;
 
       default:
-        drupal_set_message($this->t('Saved the %label Consent Agreement.', [
+        $this->messenger()->addStatus($this->t('Saved the %label Consent Agreement.', [
           '%label' => $entity->label(),
         ]));
     }
diff --git a/modules/lgpd_consent/src/Form/ConsentAgreementRevisionRevertForm.php b/modules/lgpd_consent/src/Form/ConsentAgreementRevisionRevertForm.php
index 26dac0c..157f095 100644
--- a/modules/lgpd_consent/src/Form/ConsentAgreementRevisionRevertForm.php
+++ b/modules/lgpd_consent/src/Form/ConsentAgreementRevisionRevertForm.php
@@ -147,7 +147,7 @@ class ConsentAgreementRevisionRevertForm extends ConfirmFormBase {
   protected function prepareRevertedRevision(ConsentAgreementInterface $revision, FormStateInterface $form_state) {
     $revision->setNewRevision();
     $revision->isDefaultRevision(TRUE);
-    $revision->setRevisionCreationTime(REQUEST_TIME);
+    $revision->setRevisionCreationTime(\Drupal::time()->getRequestTime());
 
     return $revision;
   }
