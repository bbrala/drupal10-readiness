diff --git a/modules/bibcite_entity/bibcite_entity.install b/modules/bibcite_entity/bibcite_entity.install
index 37207e6..edccec3 100644
--- a/modules/bibcite_entity/bibcite_entity.install
+++ b/modules/bibcite_entity/bibcite_entity.install
@@ -78,7 +78,7 @@ function bibcite_entity_update_8003() {
     $installer->installDefaultConfig('module', 'bibcite_entity');
   }
 
-  $path = drupal_get_path('module', 'bibcite_entity') . '/' . InstallStorage::CONFIG_OPTIONAL_DIRECTORY;
+  $path = \Drupal::service('extension.list.module')->getPath('bibcite_entity') . '/' . InstallStorage::CONFIG_OPTIONAL_DIRECTORY;
   $storage = new FileStorage($path);
   $installer->installOptionalConfig($storage);
 }
diff --git a/modules/bibcite_entity/src/Form/MergeConfirmForm.php b/modules/bibcite_entity/src/Form/MergeConfirmForm.php
index c9c8449..4dcd049 100644
--- a/modules/bibcite_entity/src/Form/MergeConfirmForm.php
+++ b/modules/bibcite_entity/src/Form/MergeConfirmForm.php
@@ -135,7 +135,7 @@ class MergeConfirmForm extends ConfirmFormBase {
         ],
       ],
       'finished' => 'bibcite_entity_merge_entity_finished',
-      'file' => drupal_get_path('module', 'bibcite_entity') . '/bibcite_entity.batch.inc',
+      'file' => \Drupal::service('extension.list.module')->getPath('bibcite_entity') . '/bibcite_entity.batch.inc',
     ];
 
     batch_set($batch);
diff --git a/modules/bibcite_entity/src/Form/MergeMultipleForm.php b/modules/bibcite_entity/src/Form/MergeMultipleForm.php
index 5a11c24..db64329 100644
--- a/modules/bibcite_entity/src/Form/MergeMultipleForm.php
+++ b/modules/bibcite_entity/src/Form/MergeMultipleForm.php
@@ -180,7 +180,7 @@ class MergeMultipleForm extends ConfirmFormBase {
       'title' => t('Merging'),
       'operations' => $operations,
       'finished' => 'bibcite_entity_merge_entity_finished',
-      'file' => drupal_get_path('module', 'bibcite_entity') . '/bibcite_entity.batch.inc',
+      'file' => \Drupal::service('extension.list.module')->getPath('bibcite_entity') . '/bibcite_entity.batch.inc',
     ];
 
     batch_set($batch);
diff --git a/modules/bibcite_export/bibcite_export.batch.inc b/modules/bibcite_export/bibcite_export.batch.inc
index c55267a..a2972fd 100644
--- a/modules/bibcite_export/bibcite_export.batch.inc
+++ b/modules/bibcite_export/bibcite_export.batch.inc
@@ -143,7 +143,7 @@ function bibcite_export_batch_finished($success, array $results, $operations) {
       'status' => 0,
     ]);
 
-    if ($file->save() && $file = file_move($file, $file_schema . $file_name)) {
+    if ($file->save() && $file = \Drupal::service('file.repository')->move($file, $file_schema . $file_name)) {
       if (!empty($results['save_storage'])) {
         $file_data = [
           'id' => $file->id(),
diff --git a/modules/bibcite_export/src/Form/ExportAllForm.php b/modules/bibcite_export/src/Form/ExportAllForm.php
index 5c63b50..2333100 100644
--- a/modules/bibcite_export/src/Form/ExportAllForm.php
+++ b/modules/bibcite_export/src/Form/ExportAllForm.php
@@ -183,7 +183,7 @@ class ExportAllForm extends FormBase {
           'bibcite_export_batch_all', ['bibcite_reference', $format],
         ],
       ],
-      'file' => drupal_get_path('module', 'bibcite_export') . '/bibcite_export.batch.inc',
+      'file' => \Drupal::service('extension.list.module')->getPath('bibcite_export') . '/bibcite_export.batch.inc',
       'finished' => 'bibcite_export_batch_finished',
     ];
     batch_set($batch);
diff --git a/modules/bibcite_export/src/Form/ExportMultipleForm.php b/modules/bibcite_export/src/Form/ExportMultipleForm.php
index 8488bc3..c9356b0 100644
--- a/modules/bibcite_export/src/Form/ExportMultipleForm.php
+++ b/modules/bibcite_export/src/Form/ExportMultipleForm.php
@@ -148,7 +148,7 @@ class ExportMultipleForm extends ConfirmFormBase {
     $batch = [
       'title' => t('Export references'),
       'operations' => $operations,
-      'file' => drupal_get_path('module', 'bibcite_export') . '/bibcite_export.batch.inc',
+      'file' => \Drupal::service('extension.list.module')->getPath('bibcite_export') . '/bibcite_export.batch.inc',
       'finished' => 'bibcite_export_batch_finished',
     ];
 
diff --git a/modules/bibcite_import/src/Form/ImportForm.php b/modules/bibcite_import/src/Form/ImportForm.php
index f6ce6dc..a5cc31d 100644
--- a/modules/bibcite_import/src/Form/ImportForm.php
+++ b/modules/bibcite_import/src/Form/ImportForm.php
@@ -131,7 +131,7 @@ class ImportForm extends FormBase {
       'title' => t('Import reference data'),
       'operations' => [],
       'finished' => 'bibcite_import_batch_finished',
-      'file' => drupal_get_path('module', 'bibcite_import') . '/bibcite_import.batch.inc',
+      'file' => \Drupal::service('extension.list.module')->getPath('bibcite_import') . '/bibcite_import.batch.inc',
     ];
 
     foreach ($chunks as $chunk) {
diff --git a/src/HelpService.php b/src/HelpService.php
index 194f19d..0781a41 100644
--- a/src/HelpService.php
+++ b/src/HelpService.php
@@ -13,7 +13,7 @@ class HelpService implements HelpServiceInterface {
    * {@inheritdoc}
    */
   public function getHelpMarkup($links, $route, $module) {
-    $module_path = drupal_get_path('module', $module);
+    $module_path = \Drupal::service('extension.list.module')->getPath($module);
     $lang = \Drupal::languageManager()->getCurrentLanguage()->getId();
     $def = \Drupal::languageManager()->getDefaultLanguage()->getId();
     $path = $module_path . '/help/' . $lang . '/' . $route . 'html';
