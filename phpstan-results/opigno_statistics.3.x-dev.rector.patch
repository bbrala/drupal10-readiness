diff --git a/opigno_statistics.install b/opigno_statistics.install
index 7865e8b..9f74638 100644
--- a/opigno_statistics.install
+++ b/opigno_statistics.install
@@ -58,7 +58,7 @@ function opigno_statistics_install() {
  */
 function opigno_statistics_update_9001() {
   $config_storage = \Drupal::service('config.storage');
-  $opigno_module_path = drupal_get_path('module', 'opigno_module') . '/config/optional/';
+  $opigno_module_path = \Drupal::service('extension.list.module')->getPath('opigno_module') . '/config/optional/';
   $configs = [
     'core.entity_view_display.group.learning_path.list_item' => $opigno_module_path,
     'core.entity_view_display.user.user.compact' => $opigno_module_path,
@@ -124,7 +124,7 @@ function opigno_statistics_update_9002() {
  * Import statistics configs.
  */
 function opigno_statistics_update_9003() {
-  $config_path = drupal_get_path('module', 'opigno_statistics') . '/config/optional/';
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_statistics') . '/config/optional/';
   $config_source = new FileStorage($config_path);
   \Drupal::service('config.installer')->installOptionalConfig($config_source);
 }
@@ -134,7 +134,7 @@ function opigno_statistics_update_9003() {
  */
 function opigno_statistics_update_9004() {
   $config_storage = \Drupal::service('config.storage');
-  $config_path = drupal_get_path('module', 'opigno_module') . '/config/optional/';
+  $config_path = \Drupal::service('extension.list.module')->getPath('opigno_module') . '/config/optional/';
   $source = new FileStorage($config_path);
   $config_storage->write('views.view.opigno_score_modules', $source->read('views.view.opigno_score_modules'));
 }
diff --git a/src/Controller/UserController.php b/src/Controller/UserController.php
index bf2fc05..910a339 100644
--- a/src/Controller/UserController.php
+++ b/src/Controller/UserController.php
@@ -205,9 +205,9 @@ class UserController extends ControllerBase {
    *   Path to the image in theme.
    */
   private function getAchievementImagePath(string $image): string {
-    $path = drupal_get_path('theme', 'aristotle') . "/src/images/design/$image";
+    $path = \Drupal::service('extension.list.theme')->getPath('aristotle') . "/src/images/design/$image";
 
-    return file_exists($path) ? file_url_transform_relative(base_path() . $path) : '';
+    return file_exists($path) ? \Drupal::service('file_url_generator')->transformRelative(base_path() . $path) : '';
   }
 
   /**
diff --git a/src/Services/UserStatisticsManager.php b/src/Services/UserStatisticsManager.php
index e0d8fba..653cc19 100644
--- a/src/Services/UserStatisticsManager.php
+++ b/src/Services/UserStatisticsManager.php
@@ -602,12 +602,12 @@ class UserStatisticsManager {
    *   Render array to display the default user image.
    */
   public static function getDefaultUserPicture(?UserInterface $user = NULL): array {
-    $path = drupal_get_path('theme', 'aristotle') . '/src/images/content/profil.svg';
+    $path = \Drupal::service('extension.list.theme')->getPath('aristotle') . '/src/images/content/profil.svg';
     $name = $user instanceof UserInterface ? $user->getDisplayName() : t('User');
 
     return [
       '#theme' => 'image',
-      '#uri' => file_exists($path) ? file_url_transform_relative(base_path() . $path) : '',
+      '#uri' => file_exists($path) ? \Drupal::service('file_url_generator')->transformRelative(base_path() . $path) : '',
       '#alt' => $name,
       '#title' => $name,
     ];
diff --git a/tests/src/Functional/OpignoStatisticsBrowserTestBase.php b/tests/src/Functional/OpignoStatisticsBrowserTestBase.php
index b14b576..219122f 100644
--- a/tests/src/Functional/OpignoStatisticsBrowserTestBase.php
+++ b/tests/src/Functional/OpignoStatisticsBrowserTestBase.php
@@ -46,7 +46,7 @@ abstract class OpignoStatisticsBrowserTestBase extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->entityTypeManager = $this->container->get('entity_type.manager');
     $this->accountSwitcher = $this->container->get('account_switcher');
