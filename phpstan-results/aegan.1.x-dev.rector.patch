diff --git a/aegan.theme b/aegan.theme
index 98a0c7d..208f1fa 100755
--- a/aegan.theme
+++ b/aegan.theme
@@ -5,7 +5,7 @@
  * Functions to support theming in the Aegan theme.
  */
 
-define('THEME_PATH', base_path() . drupal_get_path('theme', 'aegan'));
+define('THEME_PATH', base_path() . \Drupal::service('extension.list.theme')->getPath('aegan'));
 
 use Drupal\image\Entity\ImageStyle;
 use Drupal\file\Entity\File;
@@ -60,7 +60,7 @@ function aegan_preprocess_page(&$vars) {
           $image_path = ImageStyle::load($image_style)->buildUrl($uri);
         }
         else {
-          $image_path = file_create_url($uri);
+          $image_path = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);
         }
       }
       else {
@@ -253,7 +253,7 @@ function aegan_form_system_theme_settings_alter(&$form, FormStateInterface $form
     '#default_value' => theme_get_setting('slideshow_visiblity', 'aegan'),
     '#description'   => t("Specify pages by using their paths. Enter one path per line. The '*' character is a wildcard. Example paths are /user for the current user's page and /user/* for every user page. front is the front page."),
   ];
-  $filename = drupal_get_path('theme', 'aegan') . '/aegan.theme';
+  $filename = \Drupal::service('extension.list.theme')->getPath('aegan') . '/aegan.theme';
   $form_state->addBuildInfo('files', [$filename]);
   // Custom submit to save the file permenant.
   $form['#submit'][] = 'aegan_settings_form_submit';
