[parsing] modules/contrib/libraries_delay_load/libraries_delay_load.module
[refactoring] modules/contrib/libraries_delay_load/libraries_delay_load.module
[post rectors] modules/contrib/libraries_delay_load/libraries_delay_load.module
[print] modules/contrib/libraries_delay_load/libraries_delay_load.module
[refactoring] modules/contrib/libraries_delay_load/libraries_delay_load.module
[post rectors] modules/contrib/libraries_delay_load/libraries_delay_load.module
[print] modules/contrib/libraries_delay_load/libraries_delay_load.module
[parsing] modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_integration/src/Plugin/Condition/AdminRoute.php
[printing skipped due error] modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_integration/src/Plugin/Condition/AdminRoute.php
[parsing] modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_integration/src/Plugin/Condition/RouteCondition.php
[printing skipped due error] modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_integration/src/Plugin/Condition/RouteCondition.php
[parsing] modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_integration/src/Plugin/RulesAction/RemoveAllJsStrategies.php
[printing skipped due error] modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_integration/src/Plugin/RulesAction/RemoveAllJsStrategies.php
[parsing] modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_integration/src/Plugin/RulesAction/SetJsStrategy.php
[printing skipped due error] modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_integration/src/Plugin/RulesAction/SetJsStrategy.php
[parsing] modules/contrib/libraries_delay_load/src/Asset/JsDelayer.php
[refactoring] modules/contrib/libraries_delay_load/src/Asset/JsDelayer.php
[post rectors] modules/contrib/libraries_delay_load/src/Asset/JsDelayer.php
[print] modules/contrib/libraries_delay_load/src/Asset/JsDelayer.php
[refactoring] modules/contrib/libraries_delay_load/src/Asset/JsDelayer.php
[post rectors] modules/contrib/libraries_delay_load/src/Asset/JsDelayer.php
[print] modules/contrib/libraries_delay_load/src/Asset/JsDelayer.php
[parsing] modules/contrib/libraries_delay_load/src/Controller/JsDelayStrategyListBuilder.php
[refactoring] modules/contrib/libraries_delay_load/src/Controller/JsDelayStrategyListBuilder.php
[post rectors] modules/contrib/libraries_delay_load/src/Controller/JsDelayStrategyListBuilder.php
[print] modules/contrib/libraries_delay_load/src/Controller/JsDelayStrategyListBuilder.php
[parsing] modules/contrib/libraries_delay_load/src/Entity/JsDelayStrategy.php
[refactoring] modules/contrib/libraries_delay_load/src/Entity/JsDelayStrategy.php
[post rectors] modules/contrib/libraries_delay_load/src/Entity/JsDelayStrategy.php
[print] modules/contrib/libraries_delay_load/src/Entity/JsDelayStrategy.php
[parsing] modules/contrib/libraries_delay_load/src/Event/StrategiesOrderAlter.php
[refactoring] modules/contrib/libraries_delay_load/src/Event/StrategiesOrderAlter.php
[post rectors] modules/contrib/libraries_delay_load/src/Event/StrategiesOrderAlter.php
[print] modules/contrib/libraries_delay_load/src/Event/StrategiesOrderAlter.php
[refactoring] modules/contrib/libraries_delay_load/src/Event/StrategiesOrderAlter.php
[post rectors] modules/contrib/libraries_delay_load/src/Event/StrategiesOrderAlter.php
[print] modules/contrib/libraries_delay_load/src/Event/StrategiesOrderAlter.php
[parsing] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyDeleteForm.php
[refactoring] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyDeleteForm.php
[post rectors] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyDeleteForm.php
[print] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyDeleteForm.php
[parsing] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyDuplicateForm.php
[refactoring] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyDuplicateForm.php
[post rectors] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyDuplicateForm.php
[print] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyDuplicateForm.php
[parsing] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyForm.php
[refactoring] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyForm.php
[post rectors] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyForm.php
[print] modules/contrib/libraries_delay_load/src/Form/JsDelayStrategyForm.php
[parsing] modules/contrib/libraries_delay_load/src/Form/ModuleConfigurationForm.php
[refactoring] modules/contrib/libraries_delay_load/src/Form/ModuleConfigurationForm.php
[post rectors] modules/contrib/libraries_delay_load/src/Form/ModuleConfigurationForm.php
[print] modules/contrib/libraries_delay_load/src/Form/ModuleConfigurationForm.php
[parsing] modules/contrib/libraries_delay_load/src/JsDelayStrategyInterface.php
[refactoring] modules/contrib/libraries_delay_load/src/JsDelayStrategyInterface.php
[post rectors] modules/contrib/libraries_delay_load/src/JsDelayStrategyInterface.php
[print] modules/contrib/libraries_delay_load/src/JsDelayStrategyInterface.php
[parsing] modules/contrib/libraries_delay_load/tests/modules/libraries_delay_load_strategies_test/src/EventSubscriber/StrategiesOrderTestSubscriber.php
[refactoring] modules/contrib/libraries_delay_load/tests/modules/libraries_delay_load_strategies_test/src/EventSubscriber/StrategiesOrderTestSubscriber.php
[post rectors] modules/contrib/libraries_delay_load/tests/modules/libraries_delay_load_strategies_test/src/EventSubscriber/StrategiesOrderTestSubscriber.php
[print] modules/contrib/libraries_delay_load/tests/modules/libraries_delay_load_strategies_test/src/EventSubscriber/StrategiesOrderTestSubscriber.php
[parsing] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerStrategiesAlterTest.php
[refactoring] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerStrategiesAlterTest.php
[post rectors] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerStrategiesAlterTest.php
[print] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerStrategiesAlterTest.php
[refactoring] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerStrategiesAlterTest.php
[post rectors] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerStrategiesAlterTest.php
[print] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerStrategiesAlterTest.php
[parsing] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerTest.php
[refactoring] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerTest.php
[post rectors] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerTest.php
[print] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerTest.php
[refactoring] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerTest.php
[post rectors] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerTest.php
[print] modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerTest.php

5 files with changes
====================

1) modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerTest.php:51

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->installConfig(['libraries_delay_load']);
@@ @@
     $this->jsDelayLoadStorage = $this->container->get('entity_type.manager')->getStorage('js_delay_strategy');
     $this->fileSystem = $this->container->get('file_system');

-    $this->jsPath = drupal_get_path('module', 'libraries_delay_load_javascript_test') . '/js/';
+    $this->jsPath = \Drupal::service('extension.list.module')->getPath('libraries_delay_load_javascript_test') . '/js/';
   }

   /**
@@ @@
     $randomJs = $this->jsPath . 'js_random.js';
     $this->assertArrayHasKey($randomJs, $resultJavascript);
     $this->assertArrayHasKey($this->jsPath . 'js6.js', $resultJavascript);
-    $selfJs = drupal_get_path('module', 'libraries_delay_load') . '/js/delayer.js';
+    $selfJs = \Drupal::service('extension.list.module')->getPath('libraries_delay_load') . '/js/delayer.js';
     $this->assertArrayHasKey($selfJs, $resultJavascript);

     // Check that a file containing the delayerSettings has been added.
@@ @@
     $randomJs = $this->jsPath . 'js_random.js';
     $this->assertArrayHasKey($randomJs, $resultJavascript);
     $this->assertArrayHasKey($this->jsPath . 'js6.js', $resultJavascript);
-    $selfJs = drupal_get_path('module', 'libraries_delay_load') . '/js/delayer.js';
+    $selfJs = \Drupal::service('extension.list.module')->getPath('libraries_delay_load') . '/js/delayer.js';
     $this->assertArrayHasKey($selfJs, $resultJavascript);

     // Check that a file containing the delayerSettings has been added.
@@ @@
     $this->jsDelayer->processAssetArray($resultJavascript);

     // Remove delayer.js, as should have been removed by the function.
-    $delayerJsFile = drupal_get_path('module', 'libraries_delay_load') . '/js/delayer.js';
+    $delayerJsFile = \Drupal::service('extension.list.module')->getPath('libraries_delay_load') . '/js/delayer.js';
     unset($inputJavascript[$delayerJsFile]);

     $this->assertEquals($resultJavascript, $inputJavascript);
@@ @@
     $inputJavascript[$externalJs2] = ['type' => 'external', 'data' => $externalJs2];

     // We need to add our javascript.
-    $selfJs = drupal_get_path('module', 'libraries_delay_load') . '/js/delayer.js';
+    $selfJs = \Drupal::service('extension.list.module')->getPath('libraries_delay_load') . '/js/delayer.js';
     $inputJavascript[$selfJs] = ['type' => 'file', 'data' => $selfJs];

     return $inputJavascript;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * AssertEqualsParameterToSpecificMethodsTypeRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/libraries_delay_load/tests/src/Kernel/JsDelayerStrategiesAlterTest.php:43

    ---------- begin diff ----------
@@ @@
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();

     $this->installConfig(['libraries_delay_load']);
    ----------- end diff -----------

Applied rules:
 * ExceptionAnnotationRector
 * RemoveDataProviderTestPrefixRector
 * ArgumentRemoverRector
 * RenameAnnotationRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * AddReturnTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/libraries_delay_load/src/Event/StrategiesOrderAlter.php:6

    ---------- begin diff ----------
@@ @@
 /**
  * Event that is fired after we retrieve the collection of available strategies.
  */
-class StrategiesOrderAlter extends Event {
+class StrategiesOrderAlter extends \Symfony\Contracts\EventDispatcher\Event {

   const EVENT_NAME = 'libraries_delay_load_strategies_order_alter';
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/libraries_delay_load/src/Asset/JsDelayer.php:109

    ---------- begin diff ----------
@@ @@

     if (!$strategy) {
       // Remove ourselves, as not useful on this page.
-      $delayerJsFile = drupal_get_path('module', 'libraries_delay_load') . '/js/delayer.js';
+      $delayerJsFile = \Drupal::service('extension.list.module')->getPath('libraries_delay_load') . '/js/delayer.js';
       unset($javascript[$delayerJsFile]);
       return;
     }
@@ @@
     $uri = $this->writeFile($fileContent, $cid);

     // Copy the js settings from libraries_delay_load.
-    $delayerJsFile = drupal_get_path('module', 'libraries_delay_load') . '/js/delayer.js';
+    $delayerJsFile = \Drupal::service('extension.list.module')->getPath('libraries_delay_load') . '/js/delayer.js';
     $settingsFile = $javascript[$delayerJsFile];
     $settingsFile['data'] = $uri;
     $javascript['delayerSettings'] = $settingsFile;
@@ @@
     $event = new StrategiesOrderAlter($strategies);

     // Get the event_dispatcher service and dispatch the event.
-    $this->eventDispatcher->dispatch(StrategiesOrderAlter::EVENT_NAME, $event);
+    $this->eventDispatcher->dispatch($event, StrategiesOrderAlter::EVENT_NAME);

     // Get updated strategies list.
     $strategies = $event->getStrategies();
@@ @@
       $uri = $this->writeFile($data, $cid);

       // Only workaround to get the URL from an URI with public://.
-      $url = file_create_url($uri);
+      $url = \Drupal::service('file_url_generator')->generateAbsoluteString($uri);

       // Sets the group at the right position.
       $group[$position] = ['type' => 'external', 'data' => $url];
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * MakeDispatchFirstArgumentEventRector
 * WrapReturnRector


5) modules/contrib/libraries_delay_load/libraries_delay_load.module:53

    ---------- begin diff ----------
@@ @@
 function libraries_delay_load_js_alter(&$javascript, AttachedAssetsInterface $assets) {
   // Only run if we have the delayer library added.
   // The library is currently only attached to pages.
-  $delayerJsFile = drupal_get_path('module', 'libraries_delay_load') . '/js/delayer.js';
+  $delayerJsFile = \Drupal::service('extension.list.module')->getPath('libraries_delay_load') . '/js/delayer.js';
   if (isset($javascript[$delayerJsFile])) {
     \Drupal::service('libraries_delay_load.delayer.js')->processAssetArray($javascript);
   }
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [ERROR] Could not process                                                      
         "modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_
         integration/src/Plugin/RulesAction/SetJsStrategy.php" file, due to:    
         "Analyze error: "Class Drupal\rules\Core\RulesActionBase not found.".  
         Include your files in "$parameters->set(Option::AUTOLOAD_PATHS, [...]);"
         or "$parameters->set(Option::BOOTSTRAP_FILES, [...]);" in "rector.php" 
         config.                                                                
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_
         integration/src/Plugin/RulesAction/RemoveAllJsStrategies.php" file, due
         to:                                                                    
         "Analyze error: "Class Drupal\rules\Core\RulesActionBase not found.".  
         Include your files in "$parameters->set(Option::AUTOLOAD_PATHS, [...]);"
         or "$parameters->set(Option::BOOTSTRAP_FILES, [...]);" in "rector.php" 
         config.                                                                
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_
         integration/src/Plugin/Condition/RouteCondition.php" file, due to:     
         "Analyze error: "Class Drupal\rules\Core\RulesConditionBase not found.".
         Include your files in "$parameters->set(Option::AUTOLOAD_PATHS, [...]);"
         or "$parameters->set(Option::BOOTSTRAP_FILES, [...]);" in "rector.php" 
         config.                                                                
         See https://github.com/rectorphp/rector#configuration".                

 [ERROR] Could not process                                                      
         "modules/contrib/libraries_delay_load/modules/libraries_delay_load_rules_
         integration/src/Plugin/Condition/AdminRoute.php" file, due to:         
         "Analyze error: "Class Drupal\rules\Core\RulesConditionBase not found.".
         Include your files in "$parameters->set(Option::AUTOLOAD_PATHS, [...]);"
         or "$parameters->set(Option::BOOTSTRAP_FILES, [...]);" in "rector.php" 
         config.                                                                
         See https://github.com/rectorphp/rector#configuration".                

