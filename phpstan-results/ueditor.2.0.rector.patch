diff --git a/composer.json b/composer.json
index d8aa3e4..71eca5d 100644
--- a/composer.json
+++ b/composer.json
@@ -4,6 +4,6 @@
   "license": "GPL-2.0+",
   "description": "UEditor for rich text fields.",
   "require": {
-      "drupal/core": "^8.7.7 || ^9"
+    "drupal/core": "^9.3 || ^10"
   }
 }
diff --git a/src/Plugin/Editor/UEditor.php b/src/Plugin/Editor/UEditor.php
index bd3abfd..99753b4 100644
--- a/src/Plugin/Editor/UEditor.php
+++ b/src/Plugin/Editor/UEditor.php
@@ -355,7 +355,7 @@ class UEditor extends EditorBase implements ContainerFactoryPluginInterface {
 
     if(isset($settings['basic'])){
       global $base_url;
-      $settings['basic']['editorPath'] = $base_url.'/'.drupal_get_path('module', 'ueditor') . '/lib/';
+      $settings['basic']['editorPath'] = $base_url.'/'.\Drupal::service('extension.list.module')->getPath('ueditor') . '/lib/';
       $settings['basic']['serverUrl'] = $base_url.'/ueditor/controller/upload';
       $settings['basic']['toolbars'][] = $this->ueditor_toolbars($settings['basic']['appearance']['toolbars']);
       $settings['basic']['enable_formula'] = $this->global_settings['ueditor_enable_formula_editor'];
diff --git a/src/Uploader/Upload.php b/src/Uploader/Upload.php
index 3d02498..6f21089 100644
--- a/src/Uploader/Upload.php
+++ b/src/Uploader/Upload.php
@@ -305,7 +305,7 @@ abstract class Upload {
         $label = "图片的";
       }else{
         //文字水印
-        $fontface = drupal_get_path('module', 'ueditor') . '/fonts/fzcyjt.ttf';
+        $fontface = \Drupal::service('extension.list.module')->getPath('ueditor') . '/fonts/fzcyjt.ttf';
         $temp = imagettfbbox(ceil($fontSize*1.2),0,$fontface,$waterText);//取得使用 TrueType 字体的文本的范围
         $w = $temp[2] - $temp[6];
         $h = $temp[3] - $temp[7];
diff --git a/ueditor.info.yml b/ueditor.info.yml
index 5c921df..b3aaddc 100644
--- a/ueditor.info.yml
+++ b/ueditor.info.yml
@@ -1,7 +1,7 @@
 name: UEditor
 type: module
 description: "UEditor for rich text fields."
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:editor
 
diff --git a/ueditor.module b/ueditor.module
index ede2d46..fbad8e3 100644
--- a/ueditor.module
+++ b/ueditor.module
@@ -23,8 +23,8 @@ function ueditor_page_attachments(array &$attachments) {
  */
 function _ueditor_realpath($path, $auto=FALSE) {
   $site_path = \Drupal::service('site.path');
-  $lib_path = drupal_get_path('module', 'ueditor').'/lib';
-  $mod_path = drupal_get_path('module', 'ueditor');
+  $lib_path = \Drupal::service('extension.list.module')->getPath('ueditor').'/lib';
+  $mod_path = \Drupal::service('extension.list.module')->getPath('ueditor');
   $path = strtr($path,
     array(
       '%b' => base_path(),
