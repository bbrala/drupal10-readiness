diff --git a/src/Form/RemoveViewsCustomTable.php b/src/Form/RemoveViewsCustomTable.php
index 8577437..7f2c342 100644
--- a/src/Form/RemoveViewsCustomTable.php
+++ b/src/Form/RemoveViewsCustomTable.php
@@ -115,12 +115,12 @@ class RemoveViewsCustomTable extends FormBase {
     $this->configEditable->clear($table_name);
     $result = $this->configEditable->save();
     if ($result) {
-      drupal_set_message($this->t('@table is removed from views custom table data.', [
+      $this->messenger()->addStatus($this->t('@table is removed from views custom table data.', [
         '@table' => $table_name,
       ]));
     }
     else {
-      drupal_set_message($this->t('Could not remove table from views view_custom_table.tables, please check log messages for error.'), 'error');
+      $this->messenger()->addError($this->t('Could not remove table from views view_custom_table.tables, please check log messages for error.'));
     }
     $form_state->setRedirect('view_custom_table.customtable');
   }
