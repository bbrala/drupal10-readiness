diff --git a/composer.json b/composer.json
index 58a661c..e407605 100644
--- a/composer.json
+++ b/composer.json
@@ -5,6 +5,6 @@
   "homepage": "https://www.drupal.org/project/view_custom_table",
   "license": "GPL-2.0-or-later",
   "require": {
-    "drupal/core": "^8 || ^9"
+    "drupal/core": "^9.3 || ^10"
   }
 }
diff --git a/src/Controller/AllTableList.php b/src/Controller/AllTableList.php
index 59b3bb2..6d750af 100644
--- a/src/Controller/AllTableList.php
+++ b/src/Controller/AllTableList.php
@@ -80,7 +80,7 @@ class AllTableList extends ControllerBase {
             'name' => $rowData['table_name'],
             'database' => $all_database_connections[$rowData['table_database']]['default']['database'],
             'description' => $rowData['description'],
-            'operations' => render($links),
+            'operations' => \Drupal::service('renderer')->render($links),
           ];
         }
         $headers = [
diff --git a/src/Controller/OwnTableList.php b/src/Controller/OwnTableList.php
index be657be..344625f 100644
--- a/src/Controller/OwnTableList.php
+++ b/src/Controller/OwnTableList.php
@@ -94,7 +94,7 @@ class OwnTableList extends ControllerBase {
               'name' => $rowData['table_name'],
               'database' => $all_database_connections[$rowData['table_database']]['default']['database'],
               'description' => $rowData['description'],
-              'operations' => render($links),
+              'operations' => \Drupal::service('renderer')->render($links),
             ];
           }
         }
diff --git a/src/Controller/TablesViews.php b/src/Controller/TablesViews.php
index 294dfc9..a0b97c1 100644
--- a/src/Controller/TablesViews.php
+++ b/src/Controller/TablesViews.php
@@ -124,7 +124,7 @@ class TablesViews extends ControllerBase {
           'name' => $view->label(),
           'machine_name' => $machine_name,
           'description' => $view->get('description'),
-          'operations' => render($links),
+          'operations' => \Drupal::service('renderer')->render($links),
         ];
       }
       $headers = [
diff --git a/src/Form/RemoveViewsCustomTable.php b/src/Form/RemoveViewsCustomTable.php
index 8577437..7f2c342 100644
--- a/src/Form/RemoveViewsCustomTable.php
+++ b/src/Form/RemoveViewsCustomTable.php
@@ -115,12 +115,12 @@ class RemoveViewsCustomTable extends FormBase {
     $this->configEditable->clear($table_name);
     $result = $this->configEditable->save();
     if ($result) {
-      drupal_set_message($this->t('@table is removed from views custom table data.', [
+      $this->messenger()->addStatus($this->t('@table is removed from views custom table data.', [
         '@table' => $table_name,
       ]));
     }
     else {
-      drupal_set_message($this->t('Could not remove table from views view_custom_table.tables, please check log messages for error.'), 'error');
+      $this->messenger()->addError($this->t('Could not remove table from views view_custom_table.tables, please check log messages for error.'));
     }
     $form_state->setRedirect('view_custom_table.customtable');
   }
diff --git a/view_custom_table.info.yml b/view_custom_table.info.yml
index cd501b7..bb32135 100644
--- a/view_custom_table.info.yml
+++ b/view_custom_table.info.yml
@@ -2,8 +2,7 @@ type: module
 name: Views Custom Table
 description: 'Extends views to use custom table data.'
 package: Views
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:views
 configure: view_custom_table.customtable
