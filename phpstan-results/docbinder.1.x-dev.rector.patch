diff --git a/docbinder.module b/docbinder.module
index cee309d..4ad4f57 100644
--- a/docbinder.module
+++ b/docbinder.module
@@ -96,5 +96,5 @@ function docbinder_theme($existing, $type, $theme, $path) {
  * Change File Formatter Template
  */
 function docbinder_theme_registry_alter(&$theme_registry) {
-  $theme_registry['file_link']['path'] = drupal_get_path('module', 'docbinder') . '/templates';
+  $theme_registry['file_link']['path'] = \Drupal::service('extension.list.module')->getPath('docbinder') . '/templates';
 }
diff --git a/src/Form/DocBinderDownloadForm.php b/src/Form/DocBinderDownloadForm.php
index df5eb6d..b7397e7 100644
--- a/src/Form/DocBinderDownloadForm.php
+++ b/src/Form/DocBinderDownloadForm.php
@@ -111,7 +111,7 @@ class DocBinderDownloadForm extends FormBase {
         $zip_filename = 'FileCollection_' . substr($fids_hash, 0, 8) . '.zip';
         $zip_filepath = $docbinder_folder . $zip_filename;
         try {
-          \Drupal::service('file_system')->prepareDirectory($docbinder_folder, FILE_CREATE_DIRECTORY);
+          \Drupal::service('file_system')->prepareDirectory($docbinder_folder, \Drupal\Core\File\FileSystemInterface::CREATE_DIRECTORY);
         }
         catch (FileException $e) {
           // Log or set message or doing something else.
@@ -198,7 +198,7 @@ class DocBinderDownloadForm extends FormBase {
    *   $add = array( 'sites/default/files/README.txt' );
    */
   public function filterCollection($files) {
-    $directory = \Drupal::service('file_system')->realpath(file_default_scheme() . "://");
+    $directory = \Drupal::service('file_system')->realpath(\Drupal::config('system.file')->get('default_scheme') . "://");
     /** @var File $file **/
     foreach ($files as $i => &$file) {
       $uri = $file->getFileUri();
