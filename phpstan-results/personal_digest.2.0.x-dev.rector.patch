diff --git a/personal_digest.info.yml b/personal_digest.info.yml
index 46552cf..c6491f5 100644
--- a/personal_digest.info.yml
+++ b/personal_digest.info.yml
@@ -1,9 +1,9 @@
-name: Personal Digest
-type: module
-description: Users configure their own regular mail digest
-project: personal_digest
-core_version_requirement: ^8 || ^9
-configure: personal_digest.settings
-dependencies:
-  - drupal:views
-
+name: Personal Digest
+type: module
+description: Users configure their own regular mail digest
+project: personal_digest
+core_version_requirement: ^9.3 || ^10
+configure: personal_digest.settings
+dependencies:
+  - drupal:views
+
diff --git a/src/Generator.php b/src/Generator.php
index 0e235a7..bced867 100644
--- a/src/Generator.php
+++ b/src/Generator.php
@@ -64,7 +64,7 @@ class Generator {
 
       if (count($view->result)) {
         $source = $this->renderer->renderPlain($result);
-        $digest_content[$combo] = render($source);
+        $digest_content[$combo] = \Drupal::service('renderer')->render($source);
       }
     }
 
