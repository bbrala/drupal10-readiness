diff --git a/simple_oauth_claims.info.yml b/simple_oauth_claims.info.yml
index 54adf47..f877d27 100644
--- a/simple_oauth_claims.info.yml
+++ b/simple_oauth_claims.info.yml
@@ -2,8 +2,7 @@ name: Simple OAuth Claims
 type: module
 description: 'Provides a claim configuration entity.'
 package: Authentication
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - simple_oauth
 configure: entity.claim.collection
diff --git a/simple_oauth_claims.module b/simple_oauth_claims.module
index 0678bc7..1f28d4f 100644
--- a/simple_oauth_claims.module
+++ b/simple_oauth_claims.module
@@ -103,7 +103,7 @@ function _simple_oauth_claims_prepare($field_type, $values) {
       break;
     case 'image':
       $file = File::load(reset($values)['target_id']);
-      $value = file_create_url($file->getFileUri());
+      $value = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
       break;
     case 'datetime':
     default:
