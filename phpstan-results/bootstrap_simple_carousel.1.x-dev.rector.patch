diff --git a/bootstrap_simple_carousel.info.yml b/bootstrap_simple_carousel.info.yml
index d3c03d8..ff78432 100644
--- a/bootstrap_simple_carousel.info.yml
+++ b/bootstrap_simple_carousel.info.yml
@@ -3,8 +3,7 @@ type: module
 description: 'Provide a bootstrap carousel.'
 package: Media
 
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 dependencies:
   - drupal:image
diff --git a/src/Plugin/Block/CarouselBlock.php b/src/Plugin/Block/CarouselBlock.php
index 01d0fdd..13515fa 100644
--- a/src/Plugin/Block/CarouselBlock.php
+++ b/src/Plugin/Block/CarouselBlock.php
@@ -127,10 +127,10 @@ class CarouselBlock extends BlockBase implements ContainerFactoryPluginInterface
         $file = $this->entityTypeManager->getStorage('file')->load($item->image_id);
         $image_style = $this->moduleSettings->get('image_style');
         if (empty($image_style) || $image_style == SettingsForm::ORIGINAL_IMAGE_STYLE_ID) {
-          $item->image_url = file_url_transform_relative(file_create_url($file->getFileUri()));
+          $item->image_url = \Drupal::service('file_url_generator')->generateString($file->getFileUri());
         }
         else {
-          $item->image_url = file_url_transform_relative($this->imageStyleService->load($image_style)
+          $item->image_url = \Drupal::service('file_url_generator')->transformRelative($this->imageStyleService->load($image_style)
             ->buildUrl($file->getFileUri()));
         }
         if (!empty($item->image_link)) {
diff --git a/tests/src/Unit/Service/CarouselServiceTest.php b/tests/src/Unit/Service/CarouselServiceTest.php
index 374b063..bd09a73 100644
--- a/tests/src/Unit/Service/CarouselServiceTest.php
+++ b/tests/src/Unit/Service/CarouselServiceTest.php
@@ -20,21 +20,21 @@ class CarouselServiceTest extends UnitTestCase {
   /**
    * The mocked renderer.
    *
-   * @var \Drupal\Core\Render\RendererInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @var \Drupal\Core\Render\RendererInterface|\PHPUnit\Framework\MockObject\MockObject
    */
   protected $renderer;
 
   /**
    * The mocked entity type manager.
    *
-   * @var \Drupal\Core\Entity\EntityTypeManagerInterface|\PHPUnit_Framework_MockObject_MockObject
+   * @var \Drupal\Core\Entity\EntityTypeManagerInterface|\PHPUnit\Framework\MockObject\MockObject
    */
   protected $entityTypeManager;
 
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     $this->renderer = $this->createMock('\Drupal\Core\Render\RendererInterface');
     $this->entityTypeManager = $this->createMock('\Drupal\Core\Entity\EntityTypeManagerInterface');
   }
