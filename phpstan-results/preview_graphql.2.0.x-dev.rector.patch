diff --git a/modules/preview_graphql_jwt/preview_graphql_jwt.module b/modules/preview_graphql_jwt/preview_graphql_jwt.module
index 8900b62..fc97f17 100644
--- a/modules/preview_graphql_jwt/preview_graphql_jwt.module
+++ b/modules/preview_graphql_jwt/preview_graphql_jwt.module
@@ -28,7 +28,7 @@ function preview_graphql_jwt_help($route_name, RouteMatchInterface $route_match)
         '#value' => $content,
       ];
       $output = '';
-      $output .= render($build);
+      $output .= \Drupal::service('renderer')->render($build);
       return $output;
   }
   return '';
diff --git a/preview_graphql.module b/preview_graphql.module
index 5a07b59..da6320c 100644
--- a/preview_graphql.module
+++ b/preview_graphql.module
@@ -32,7 +32,7 @@ function preview_graphql_help($route_name, RouteMatchInterface $route_match) {
         '#value' => $content,
       ];
       $output = '';
-      $output .= render($build);
+      $output .= \Drupal::service('renderer')->render($build);
       return $output;
   }
   return '';
diff --git a/src/Event/CarrierCallbackOptionEvent.php b/src/Event/CarrierCallbackOptionEvent.php
index 2976fe7..7bcd534 100644
--- a/src/Event/CarrierCallbackOptionEvent.php
+++ b/src/Event/CarrierCallbackOptionEvent.php
@@ -9,7 +9,7 @@ use Symfony\Component\EventDispatcher\Event;
  *
  * @see \Drupal\preview_graphql\Form\SettingsForm.
  */
-class CarrierCallbackOptionEvent extends Event {
+class CarrierCallbackOptionEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   const EVENT_NAME = 'preview_graphql.carrier_callback_option';
 
diff --git a/src/Event/PreviewGraphQlEventBase.php b/src/Event/PreviewGraphQlEventBase.php
index e636cd4..27b8540 100644
--- a/src/Event/PreviewGraphQlEventBase.php
+++ b/src/Event/PreviewGraphQlEventBase.php
@@ -7,7 +7,7 @@ use Symfony\Component\EventDispatcher\Event;
 /**
  * Event preview graphql Base.
  */
-abstract class PreviewGraphQlEventBase extends Event {
+abstract class PreviewGraphQlEventBase extends \Symfony\Contracts\EventDispatcher\Event {
 
   /**
    * The type carrier callback key.
diff --git a/src/Services/PreviewGraphQlManager.php b/src/Services/PreviewGraphQlManager.php
index 15788bd..e09e944 100644
--- a/src/Services/PreviewGraphQlManager.php
+++ b/src/Services/PreviewGraphQlManager.php
@@ -517,7 +517,7 @@ class PreviewGraphQlManager {
     // Get the value to transmit (token or cache id).
     $event = new GenerateKeyEvent($carrier_callback, $uuid);
     $this->previewGraphQlBackend->getEventDispatcher()
-      ->dispatch(GenerateKeyEvent::EVENT_NAME, $event);
+      ->dispatch($event, GenerateKeyEvent::EVENT_NAME);
     $url_parameter_value = $event->getValueKey();
     $method = $this->previewGraphQlBackend->getConfig()->get('method');
     // POST data method.
@@ -576,7 +576,7 @@ class PreviewGraphQlManager {
     // Event alter response before redirect.
     $event = new RedirectEvent($carrier_callback, $response, $url_parameter_value);
     $this->previewGraphQlBackend->getEventDispatcher()
-      ->dispatch(RedirectEvent::EVENT_NAME, $event);
+      ->dispatch($event, RedirectEvent::EVENT_NAME);
     $response = $event->getResponse();
     $form_state->disableRedirect();
     $form_state->setResponse($response);
