diff --git a/src/Controller/ChooseComponentController.php b/src/Controller/ChooseComponentController.php
index ac173e4..64bc5f7 100644
--- a/src/Controller/ChooseComponentController.php
+++ b/src/Controller/ChooseComponentController.php
@@ -168,7 +168,7 @@ class ChooseComponentController extends ControllerBase {
     // @todo Document and add tests for what is happening here.
     $component_types = $this->getComponentTypes($layout);
     $event = new LayoutParagraphsAllowedTypesEvent($component_types, $layout, $parent_uuid, $region);
-    $this->eventDispatcher->dispatch(LayoutParagraphsAllowedTypesEvent::EVENT_NAME, $event);
+    $this->eventDispatcher->dispatch($event, LayoutParagraphsAllowedTypesEvent::EVENT_NAME);
     return $event->getTypes();
   }
 
diff --git a/src/Event/LayoutParagraphsAllowedTypesEvent.php b/src/Event/LayoutParagraphsAllowedTypesEvent.php
index ca5b62d..078517f 100644
--- a/src/Event/LayoutParagraphsAllowedTypesEvent.php
+++ b/src/Event/LayoutParagraphsAllowedTypesEvent.php
@@ -14,7 +14,7 @@ use Drupal\layout_paragraphs\LayoutParagraphsLayout;
  * what Paragraph Types can be added in particular, specific regions/layout
  * combinations.
  */
-class LayoutParagraphsAllowedTypesEvent extends Event {
+class LayoutParagraphsAllowedTypesEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   const EVENT_NAME = 'layout_paragraphs_allowed_types';
 
diff --git a/src/Event/LayoutParagraphsUpdateLayoutEvent.php b/src/Event/LayoutParagraphsUpdateLayoutEvent.php
index 99a30cd..18a48e4 100644
--- a/src/Event/LayoutParagraphsUpdateLayoutEvent.php
+++ b/src/Event/LayoutParagraphsUpdateLayoutEvent.php
@@ -21,7 +21,7 @@ use Drupal\layout_paragraphs\LayoutParagraphsLayout;
  * builder interface should be refreshed by setting $needsRefresh to true in
  * this event.
  */
-class LayoutParagraphsUpdateLayoutEvent extends Event {
+class LayoutParagraphsUpdateLayoutEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   const EVENT_NAME = 'layout_paragraphs_update_layout';
 
diff --git a/tests/modules/layout_paragraphs_altered_template_test/layout_paragraphs_altered_template_test.module b/tests/modules/layout_paragraphs_altered_template_test/layout_paragraphs_altered_template_test.module
index 96d083c..e04f133 100644
--- a/tests/modules/layout_paragraphs_altered_template_test/layout_paragraphs_altered_template_test.module
+++ b/tests/modules/layout_paragraphs_altered_template_test/layout_paragraphs_altered_template_test.module
@@ -11,5 +11,5 @@
  * Replaces the paragraphs template directory with test templates.
  */
 function layout_paragraphs_altered_template_test_theme_registry_alter(&$theme_registry) {
-  $theme_registry['paragraph']['path'] = drupal_get_path('module', 'layout_paragraphs_altered_template_test') . '/templates';
+  $theme_registry['paragraph']['path'] = \Drupal::service('extension.list.module')->getPath('layout_paragraphs_altered_template_test') . '/templates';
 }
