diff --git a/apptiles.module b/apptiles.module
index 9575f8b..b227309 100644
--- a/apptiles.module
+++ b/apptiles.module
@@ -39,7 +39,7 @@ function apptiles_page_attachments(array &$attachments): void {
         '#tag' => 'link',
         '#attributes' => $attributes + [
           'rel' => $rel,
-          'href' => \file_url_transform_relative($href),
+          'href' => \Drupal::service('file_url_generator')->transformRelative($href),
         ],
       ]);
     };
@@ -48,7 +48,7 @@ function apptiles_page_attachments(array &$attachments): void {
     $metatag('mobile-web-app-capable', 'yes');
 
     if (\file_exists(APPTILES_BROWSERCONFIG)) {
-      $metatag('msapplication-config', \file_url_transform_relative(\file_create_url(APPTILES_BROWSERCONFIG)));
+      $metatag('msapplication-config', \Drupal::service('file_url_generator')->generateString(APPTILES_BROWSERCONFIG));
     }
 
     /* @see https://developer.chrome.com/multidevice/android/installtohomescreen */
