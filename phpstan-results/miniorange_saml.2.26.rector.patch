diff --git a/src/MetadataReader.php b/src/MetadataReader.php
index 506099b..8edb0d9 100644
--- a/src/MetadataReader.php
+++ b/src/MetadataReader.php
@@ -14,7 +14,7 @@ class MetadataReader{
 
 		foreach ($entityDescriptors as $entityDescriptor) {
 			$idpSSODescriptor = Utilities::xpQuery($entityDescriptor, './saml_metadata:IDPSSODescriptor');
-			
+
 			if(isset($idpSSODescriptor) && !empty($idpSSODescriptor)){
 				array_push($this->identityProviders,new IdentityProviders($entityDescriptor));
 			}
diff --git a/src/Utilities.php b/src/Utilities.php
index fd1ec56..96fb8a8 100644
--- a/src/Utilities.php
+++ b/src/Utilities.php
@@ -150,7 +150,7 @@ class Utilities {
         <h4 class="mo_ns_image1">Looking for a Drupal ' . $mo_module . '?</h4>
             <tr class="mo_ns_row">
                 <th class="mo_ns_image1"><img
-                            src="'.$base_url . '/' . drupal_get_path("module", "miniorange_saml") . '/includes/images/'.$mo_image.'"
+                            src="'.$base_url . '/' . \Drupal::service('extension.list.module')->getPath("miniorange_saml") . '/includes/images/'.$mo_image.'"
                             alt="miniOrange icon" height=10% width=35%>
                 <br>
                         <h4>Drupal ' . $mo_module . '</h4>
