diff --git a/src/Controller/CertificateController.php b/src/Controller/CertificateController.php
index 01b1ca2..bcfbaf6 100644
--- a/src/Controller/CertificateController.php
+++ b/src/Controller/CertificateController.php
@@ -215,7 +215,7 @@ class CertificateController extends ControllerBase {
     // If no snapshot HTML found, load the entity
     if (empty($html)) {
       $renderView = $certificate_template->renderView($user, $entity);
-      $html = render($renderView);
+      $html = \Drupal::service('renderer')->render($renderView);
     }
 
     // Add base HREF so images work.
diff --git a/tests/src/Functional/CertificateTest.php b/tests/src/Functional/CertificateTest.php
index 20d6b98..ef91741 100644
--- a/tests/src/Functional/CertificateTest.php
+++ b/tests/src/Functional/CertificateTest.php
@@ -26,7 +26,7 @@ class CertificateTest extends BrowserTestBase {
   // @todo remove node as dep, something in PDF requiring it
   protected static $modules = ['certificate', 'certificate_test', 'node'];
 
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->admin_user = $this->createUser(array('administer certificate'));
 
