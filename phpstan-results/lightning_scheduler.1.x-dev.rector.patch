diff --git a/lightning_scheduler.module b/lightning_scheduler.module
index 22dc004..fb06d94 100644
--- a/lightning_scheduler.module
+++ b/lightning_scheduler.module
@@ -15,7 +15,7 @@ use Drupal\lightning_scheduler\Plugin\Field\FieldWidget\ModerationStateWidget;
  */
 function lightning_scheduler_library_info_alter(array &$libraries, $extension) {
   if ($extension === 'seven') {
-    $dir = drupal_get_path('module', 'lightning_scheduler');
+    $dir = \Drupal::service('extension.list.module')->getPath('lightning_scheduler');
 
     $libraries['lightning_scheduler.widget'] = [
       'css' => [
diff --git a/tests/src/Functional/InlineEntityFormTest.php b/tests/src/Functional/InlineEntityFormTest.php
index ec23b92..becba25 100644
--- a/tests/src/Functional/InlineEntityFormTest.php
+++ b/tests/src/Functional/InlineEntityFormTest.php
@@ -33,7 +33,7 @@ class InlineEntityFormTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->createContentType(['type' => 'alpha']);
diff --git a/tests/src/Functional/ScheduledTransitionTest.php b/tests/src/Functional/ScheduledTransitionTest.php
index 384640d..513106c 100644
--- a/tests/src/Functional/ScheduledTransitionTest.php
+++ b/tests/src/Functional/ScheduledTransitionTest.php
@@ -30,7 +30,7 @@ class ScheduledTransitionTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->drupalCreateContentType(['type' => 'page']);
diff --git a/tests/src/FunctionalJavascript/TransitionTest.php b/tests/src/FunctionalJavascript/TransitionTest.php
index fdb443f..68d2481 100644
--- a/tests/src/FunctionalJavascript/TransitionTest.php
+++ b/tests/src/FunctionalJavascript/TransitionTest.php
@@ -31,7 +31,7 @@ class TransitionTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
 
diff --git a/tests/src/FunctionalJavascript/UiTest.php b/tests/src/FunctionalJavascript/UiTest.php
index c896121..14a6bae 100644
--- a/tests/src/FunctionalJavascript/UiTest.php
+++ b/tests/src/FunctionalJavascript/UiTest.php
@@ -29,7 +29,7 @@ class UiTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->drupalPlaceBlock('local_tasks_block');
     $this->setUpTimeZone();
diff --git a/tests/src/Kernel/TransitionManagerTest.php b/tests/src/Kernel/TransitionManagerTest.php
index 9f4db4f..026021a 100644
--- a/tests/src/Kernel/TransitionManagerTest.php
+++ b/tests/src/Kernel/TransitionManagerTest.php
@@ -15,6 +15,7 @@ use Drupal\lightning_scheduler\TransitionManager;
  */
 class TransitionManagerTest extends KernelTestBase {
 
+  use \Prophecy\PhpUnit\ProphecyTrait;
   /**
    * {@inheritdoc}
    */
