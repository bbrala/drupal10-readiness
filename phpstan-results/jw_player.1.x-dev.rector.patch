diff --git a/jw_player.module b/jw_player.module
index 96d9563..f389e4b 100755
--- a/jw_player.module
+++ b/jw_player.module
@@ -234,7 +234,7 @@ function jw_player_library_info_alter(&$libraries, $extension) {
     // Use integration files from library definition.
     foreach ($info['integration files'] as $module => $files) {
       foreach (array_keys($files) as $type) {
-        $module_path = drupal_get_path('module', $module);
+        $module_path = \Drupal::service('extension.list.module')->getPath($module);
         foreach ($files[$type] as $data => $option) {
           if (is_numeric($data)) {
             $option = "{$module_path}/{$option}";
diff --git a/src/Element/JwPlayer.php b/src/Element/JwPlayer.php
index ad70561..21d63cc 100644
--- a/src/Element/JwPlayer.php
+++ b/src/Element/JwPlayer.php
@@ -186,7 +186,7 @@ class JwPlayer extends RenderElement {
     $library = $library_discovery->getLibraryByName('jw_player', 'jwplayer');
 
     if (!empty($library['library path'])) {
-      $defaults['base'] = file_create_url($library['library path'] . '/');
+      $defaults['base'] = \Drupal::service('file_url_generator')->generateAbsoluteString($library['library path'] . '/');
       // JW Player 7+ no longer uses the base for the flash path but supports
       // an explicit configuration option for it again.
       $defaults['flashplayer'] = $defaults['base'] . 'jwplayer.flash.swf';
diff --git a/src/Plugin/Field/FieldFormatter/JwplayerFormatter.php b/src/Plugin/Field/FieldFormatter/JwplayerFormatter.php
index 308505b..9541a83 100644
--- a/src/Plugin/Field/FieldFormatter/JwplayerFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/JwplayerFormatter.php
@@ -210,7 +210,7 @@ class JwplayerFormatter extends FormatterBase {
       if ($item->entity) {
         $file_uri = $item->entity->getFileUri();
         $file_mime = $item->entity->getMimeType();
-        $uri = file_create_url($file_uri);
+        $uri = \Drupal::service('file_url_generator')->generateAbsoluteString($file_uri);
 
         // Add cache tags for the referenced file and the preset if it can be
         // loaded, to prevent fatal errors.
