diff --git a/colorbutton.info.yml b/colorbutton.info.yml
index 6234b3f..7d4c1d7 100644
--- a/colorbutton.info.yml
+++ b/colorbutton.info.yml
@@ -2,8 +2,7 @@ name: CKEditor Color Button
 type: module
 description: "Adds the Color Button plugin to CKEditor."
 package: CKEditor
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 dependencies:
   - drupal:ckeditor
diff --git a/tests/src/FunctionalJavascript/ColorbuttonTest.php b/tests/src/FunctionalJavascript/ColorbuttonTest.php
index b7c6b3a..3c1db31 100644
--- a/tests/src/FunctionalJavascript/ColorbuttonTest.php
+++ b/tests/src/FunctionalJavascript/ColorbuttonTest.php
@@ -33,7 +33,7 @@ class ColorbuttonTest extends WebDriverTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     NodeType::create([
@@ -93,7 +93,7 @@ class ColorbuttonTest extends WebDriverTestBase {
     $json_encode = function ($html) {
       return trim(Json::encode($html), '"');
     };
-    $markup = $json_encode(file_url_transform_relative(file_create_url('libraries/colorbutton/icons/textcolor.png')));
+    $markup = $json_encode(\Drupal::service('file_url_generator')->generateString('libraries/colorbutton/icons/textcolor.png'));
     $this->assertSession()->responseContains($markup);
 
     // Asserts color buttons is present in the toolbar.
