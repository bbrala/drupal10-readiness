[parsing] modules/contrib/website_toolbox_forum/src/Form/WebsitetoolboxSync.php
[refactoring] modules/contrib/website_toolbox_forum/src/Form/WebsitetoolboxSync.php
[post rectors] modules/contrib/website_toolbox_forum/src/Form/WebsitetoolboxSync.php
[print] modules/contrib/website_toolbox_forum/src/Form/WebsitetoolboxSync.php
[parsing] modules/contrib/website_toolbox_forum/website_toolbox_forum.api.inc
[refactoring] modules/contrib/website_toolbox_forum/website_toolbox_forum.api.inc
[post rectors] modules/contrib/website_toolbox_forum/website_toolbox_forum.api.inc
[print] modules/contrib/website_toolbox_forum/website_toolbox_forum.api.inc
[parsing] modules/contrib/website_toolbox_forum/website_toolbox_forum.install
[refactoring] modules/contrib/website_toolbox_forum/website_toolbox_forum.install
[post rectors] modules/contrib/website_toolbox_forum/website_toolbox_forum.install
[print] modules/contrib/website_toolbox_forum/website_toolbox_forum.install
[parsing] modules/contrib/website_toolbox_forum/website_toolbox_forum.module
[refactoring] modules/contrib/website_toolbox_forum/website_toolbox_forum.module
[post rectors] modules/contrib/website_toolbox_forum/website_toolbox_forum.module
[print] modules/contrib/website_toolbox_forum/website_toolbox_forum.module
[refactoring] modules/contrib/website_toolbox_forum/website_toolbox_forum.module
[post rectors] modules/contrib/website_toolbox_forum/website_toolbox_forum.module
[print] modules/contrib/website_toolbox_forum/website_toolbox_forum.module

1 file with changes
===================

1) modules/contrib/website_toolbox_forum/website_toolbox_forum.module:96

    ---------- begin diff ----------
@@ @@
             $redirec_url = removeParam($redirec_url,"authtoken");
             $redirec_url = removeParam($redirec_url,"wtlogin");
             $redirec_url = urldecode($redirec_url);
-            
+
             //Setting redirection URL based on frontend or backend logout
             //$word defined to look for string wp-admin in redirect_url 
             $word="wp-admin";
@@ @@
     );        
     $user = \Drupal\user\Entity\User::load($entity->id());
     if(!$user->user_picture->isEmpty()){
-      $avatarUrl = file_create_url($user->user_picture->entity->getFileUri());
+      $avatarUrl = \Drupal::service('file_url_generator')->generateAbsoluteString($user->user_picture->entity->getFileUri());
     }
     $forumsApiKey = \Drupal::config('node.settings')->get('forum_api_key') ;
     $forumUrl     = \Drupal::config('node.settings')->get('forum_url'); 
@@ @@
     $URL          = $forumUrl . "/register/create_account/";
     $request = \Drupal::httpClient()->post($URL, ['verify' => true,'form_params' => ['apikey' => $forumsApiKey,'member' => $username,'email' => $email,'externalUserid' => $userId,"avatarUrl" => $avatarUrl,]])->getBody()->getContents();      
     if (!$request) {
-        drupal_set_message($result->error);
+        \Drupal::messenger()->addStatus($result->error);
         die();
     }
     /*$getAuthDetails = Drupal\website_toolbox_forum\getForumAuthtoken($userData, "register");
@@ @@
   $externalUserid = $entity->id();
   $user = \Drupal\user\Entity\User::load($entity->id());
   if(!$user->user_picture->isEmpty()){
-    $avatarUrl = file_create_url($user->user_picture->entity->getFileUri());
+    $avatarUrl = \Drupal::service('file_url_generator')->generateAbsoluteString($user->user_picture->entity->getFileUri());
   }
   $email = $entity->getEmail();
   $userDetails = array("email" => $email,
    ----------- end diff -----------

Applied rules:
 * DrupalSetMessageRector
 * FileCreateUrlRector
 * ArgumentRemoverRector


 [OK] 1 file has been changed by Rector                                         

