diff --git a/login_by.info.yml b/login_by.info.yml
index b43ee99..9f9d7c0 100644
--- a/login_by.info.yml
+++ b/login_by.info.yml
@@ -2,9 +2,8 @@ name: Login By
 type: module
 description: 'User allow login by - email, username and both.'
 # version: 8.x-1.0
-core: 8.x
 # project: login_by
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 configure: login_by.settings_form
 
diff --git a/login_by.module b/login_by.module
index a571b05..da9851e 100644
--- a/login_by.module
+++ b/login_by.module
@@ -113,7 +113,7 @@ function login_by_email_validate($form, FormStateInterface $form_state) {
 
   // load by username.
   if ($user = user_load_by_name($username)) {
-    $form_state->setErrorByName('name', t('Unrecognized email address. <a href=":password">Forgot your password?</a>', [':password' => \Drupal::url('user.pass', [], ['query' => ['name' => $username]])]));
+    $form_state->setErrorByName('name', t('Unrecognized email address. <a href=":password">Forgot your password?</a>', [':password' => \Drupal\Core\Url::fromRoute('user.pass', [], ['query' => ['name' => $username]])->toString()]));
     $form_state->setRebuild();
     return FALSE;
   }
@@ -157,6 +157,6 @@ function login_by_preprocess_page(&$variables) {
   $variables['site_name'] = $site_config->get('name');
   $variables['site_slogan'] = $site_config->get('slogan');
   // logo needs to be placed within specified folder
-  $variables['logopath'] = file_url_transform_relative(file_create_url(theme_get_setting('logo.url')));
+  $variables['logopath'] = \Drupal::service('file_url_generator')->generateString(theme_get_setting('logo.url'));
 
 }
\ No newline at end of file
