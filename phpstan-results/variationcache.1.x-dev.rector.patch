diff --git a/tests/src/Unit/VariationCacheTest.php b/tests/src/Unit/VariationCacheTest.php
index 2ffc089..c48e435 100644
--- a/tests/src/Unit/VariationCacheTest.php
+++ b/tests/src/Unit/VariationCacheTest.php
@@ -18,6 +18,7 @@ use Symfony\Component\HttpFoundation\RequestStack;
  */
 class VariationCacheTest extends UnitTestCase {
 
+  use \Prophecy\PhpUnit\ProphecyTrait;
   /**
    * The prophesized request stack.
    *
@@ -120,7 +121,7 @@ class VariationCacheTest extends UnitTestCase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->requestStack = $this->prophesize(RequestStack::class);
     $this->memoryBackend = new MemoryBackend();
@@ -395,7 +396,8 @@ class VariationCacheTest extends UnitTestCase {
     // cache using context A and then tries to store something using context B,
     // something is wrong. There should always be at least one shared context at
     // the top level or else the cache cannot do its job.
-    $this->setExpectedException(\LogicException::class, "The complete set of cache contexts for a variation cache item must contain all of the initial cache contexts.");
+    $this->expectException(\LogicException::class);
+    $this->expectExceptionMessage("The complete set of cache contexts for a variation cache item must contain all of the initial cache contexts.");
 
     $this->housingType = 'house';
     $house_cacheability = (new CacheableMetadata())
