diff --git a/image_approval.module b/image_approval.module
index 182244a..8c46a7b 100644
--- a/image_approval.module
+++ b/image_approval.module
@@ -81,9 +81,9 @@ function image_approval_save_upload_file($upload) {
   $url = $file->getFileUri();
   $info = pathinfo($url);
   \Drupal::service('file_system')->prepareDirectory($info['dirname'], FileSystemInterface::CREATE_DIRECTORY);
-  $destination = file_stream_wrapper_uri_normalize($info['dirname'] . '/picture-' . $uid . '-' . REQUEST_TIME . '.' . $info['extension']);
+  $destination = file_stream_wrapper_uri_normalize($info['dirname'] . '/picture-' . $uid . '-' . \Drupal::time()->getRequestTime() . '.' . $info['extension']);
   // Move the temporary file into the final location.
-  $file = file_move($file, $destination, FILE_EXISTS_RENAME);
+  $file = file_move($file, $destination, \Drupal\Core\File\FileSystemInterface::EXISTS_RENAME);
   $file->setPermanent();
   $file->save();
   image_approval_image_to_be_moderated($uid, $upload);
@@ -107,7 +107,7 @@ function image_approval_image_to_be_moderated($user_id, $fid) {
     ->values([
       'uid' => $user_id,
       'fid' => $fid,
-      'timestamp' => REQUEST_TIME,
+      'timestamp' => \Drupal::time()->getRequestTime(),
       'status' => ImageApprovalItemInterface::IMAGE_APPROVAL_PENDING ,
       'name' => $username ,
     ])
@@ -157,7 +157,7 @@ function image_approval_do_approval($fid, $status = ImageApprovalItemInterface::
     ->fields([
       'status' => $status,
       'moderator' => $user->getDisplayName(),
-      'timestamp' => REQUEST_TIME,
+      'timestamp' => \Drupal::time()->getRequestTime(),
     ])
     ->condition('fid', $fid)
     ->execute();
@@ -204,7 +204,7 @@ function image_approval_do_disapprove($fid, $status = ImageApprovalItemInterface
     ->fields([
       'status' => $status,
       'moderator' => $user->getDisplayName(),
-      'timestamp' => REQUEST_TIME,
+      'timestamp' => \Drupal::time()->getRequestTime(),
     ])
     ->condition('fid', $fid)
     ->execute();
