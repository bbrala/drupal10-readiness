diff --git a/src/Plugin/CKEditorPlugin/TokenBrowser.php b/src/Plugin/CKEditorPlugin/TokenBrowser.php
index 555cf2f..8228a3d 100644
--- a/src/Plugin/CKEditorPlugin/TokenBrowser.php
+++ b/src/Plugin/CKEditorPlugin/TokenBrowser.php
@@ -75,7 +75,7 @@ class TokenBrowser extends CKEditorPluginBase implements ContainerFactoryPluginI
       'tokenbrowser' => [
         'id' => 'tokenbrowser',
         'label' => t('Token browser'),
-        'image' => file_create_url($this->getImage()),
+        'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($this->getImage()),
         'link' => $this->getUrl($token_types)->toString(),
       ],
     ];
@@ -149,7 +149,7 @@ class TokenBrowser extends CKEditorPluginBase implements ContainerFactoryPluginI
    *   The string representation of the module's path.
    */
   protected function getModulePath(string $module_name): string {
-    return drupal_get_path('module', $module_name);
+    return \Drupal::service('extension.list.module')->getPath($module_name);
   }
 
   /**
diff --git a/token_filter.info.yml b/token_filter.info.yml
index 7acecde..8d1a0b7 100644
--- a/token_filter.info.yml
+++ b/token_filter.info.yml
@@ -1,8 +1,7 @@
 type: module
 name: 'Token Filter'
 description: 'Allows token values to be used as filters.'
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:filter
   - token:token
