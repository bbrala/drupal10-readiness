diff --git a/composer.json b/composer.json
index d955918..5910530 100644
--- a/composer.json
+++ b/composer.json
@@ -15,6 +15,6 @@
   },
   "license": "GPL-2.0+",
   "require": {
-    "drupal/core": "^8 || ^9"
+    "drupal/core": "^9.3 || ^10"
   }
 }
diff --git a/youtube_cookies.info.yml b/youtube_cookies.info.yml
index 1af9750..ad085e0 100644
--- a/youtube_cookies.info.yml
+++ b/youtube_cookies.info.yml
@@ -2,6 +2,5 @@ name: youtube_cookies
 type: module
 description: Manage youtube cookie privacy
 package: Media
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 configure: youtube_cookies.settings
diff --git a/youtube_cookies.module b/youtube_cookies.module
index 9eb4b47..d4dea0b 100644
--- a/youtube_cookies.module
+++ b/youtube_cookies.module
@@ -46,7 +46,7 @@ function youtube_cookies_popup_message($message) {
       ],
     ],
   ];
-  return render($button);
+  return \Drupal::service('renderer')->render($button);
 }
 
 /**
@@ -70,7 +70,7 @@ function youtube_cookies_popup_button($provider) {
       ],
     ],
   ];
-  return render($button);
+  return \Drupal::service('renderer')->render($button);
 }
 
 /**
@@ -90,7 +90,7 @@ function youtube_cookies_ok_button() {
       ],
     ],
   ];
-  return render($button);
+  return \Drupal::service('renderer')->render($button);
 }
 
 /**
@@ -110,5 +110,5 @@ function youtube_cookies_exit_button() {
       ],
     ],
   ];
-  return render($button);
+  return \Drupal::service('renderer')->render($button);
 }
