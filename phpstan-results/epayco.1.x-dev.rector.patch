diff --git a/src/Controller/FactoryListBuilder.php b/src/Controller/FactoryListBuilder.php
index 26d18ed..094a6f3 100644
--- a/src/Controller/FactoryListBuilder.php
+++ b/src/Controller/FactoryListBuilder.php
@@ -47,7 +47,7 @@ class FactoryListBuilder extends ConfigEntityListBuilder {
     foreach ($this->getVars($entity) as $key => $value) {
       array_push($row['info']['#items'], $key . ': ' . $value);
     }
-    $row['info'] = render($row['info']);
+    $row['info'] = \Drupal::service('renderer')->render($row['info']);
 
     return $row + parent::buildRow($entity);
   }
diff --git a/src/Controller/TransactionResponse.php b/src/Controller/TransactionResponse.php
index 69b0bfe..937d2c0 100644
--- a/src/Controller/TransactionResponse.php
+++ b/src/Controller/TransactionResponse.php
@@ -90,7 +90,7 @@ class TransactionResponse implements ContainerInjectionInterface {
         if ($data['success']) {
           /** @var \Drupal\epayco\Event\GatewayTransactionEvent $event */
           $event = new GatewayTransactionEvent($data);
-          $this->eventDispatcher->dispatch(GatewayTransactionEvents::EPAYCO_TRANSACTION_RESPONSE, $event);
+          $this->eventDispatcher->dispatch($event, GatewayTransactionEvents::EPAYCO_TRANSACTION_RESPONSE);
         }
       }
     }
diff --git a/src/Event/GatewayTransactionEvent.php b/src/Event/GatewayTransactionEvent.php
index 9caecd3..95c7a19 100644
--- a/src/Event/GatewayTransactionEvent.php
+++ b/src/Event/GatewayTransactionEvent.php
@@ -9,7 +9,7 @@ use Symfony\Component\EventDispatcher\Event;
  *
  * @package Drupal\epayco\Event
  */
-class GatewayTransactionEvent extends Event {
+class GatewayTransactionEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   /**
    * Transaction data.
