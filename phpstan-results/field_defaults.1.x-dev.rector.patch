diff --git a/src/Commands/FieldDefaultsBulkCommands.php b/src/Commands/FieldDefaultsBulkCommands.php
index e58b403..88d8a73 100644
--- a/src/Commands/FieldDefaultsBulkCommands.php
+++ b/src/Commands/FieldDefaultsBulkCommands.php
@@ -164,7 +164,7 @@ class FieldDefaultsBulkCommands extends DrushCommands {
       'title' => dt('Processing default values'),
       'operations' => $operations,
       'finished' => 'field_defaults_batch_finished',
-      'file' => drupal_get_path('module', 'field_defaults') . '/field_defaults.module',
+      'file' => \Drupal::service('extension.list.module')->getPath('field_defaults') . '/field_defaults.module',
     ];
 
     batch_set($batch);
diff --git a/src/Tests/BooleanTest.php b/src/Tests/BooleanTest.php
index c6797e0..3c567a8 100644
--- a/src/Tests/BooleanTest.php
+++ b/src/Tests/BooleanTest.php
@@ -18,7 +18,7 @@ class BooleanTest extends FieldDefaultsTestBase {
 
     // Ensure value is checked on any random node.
     $this->drupalGet('node/' . rand(1, 20) . '/edit');
-    $this->assertFieldChecked('edit-field-' . $fieldName . '-value');
+    $this->assertSession()->checkboxChecked('edit-field-' . $fieldName . '-value');
   }
 
 }
