diff --git a/protected_submissions.info.yml b/protected_submissions.info.yml
index 975773e..3383de5 100644
--- a/protected_submissions.info.yml
+++ b/protected_submissions.info.yml
@@ -2,8 +2,7 @@ name: Protected Submissions
 description: Prevents submissions that contain undesired patterns.
 package: Spam control
 type: module
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.1 || ^10
 configure: protected_submissions.admin
 
 # Information added by Drupal.org packaging script on 2022-05-19
diff --git a/tests/src/Functional/ProtectedSubmissionsTest.php b/tests/src/Functional/ProtectedSubmissionsTest.php
index 37af372..68bc63b 100644
--- a/tests/src/Functional/ProtectedSubmissionsTest.php
+++ b/tests/src/Functional/ProtectedSubmissionsTest.php
@@ -68,10 +68,11 @@ class ProtectedSubmissionsTest extends BrowserTestBase {
     $input = [
       'edit-comment-body-0-value' => $inputString,
     ];
-    $this->drupalPostForm('node/1', $input, $this->t('Save'));
+    $this->drupalGet('node/1');
+    $this->submitForm($input, $this->t('Save'));
 
     // Ensure we get a 200 response.
-    $this->assertResponse(Response::HTTP_OK);
+    $this->assertSession()->statusCodeEquals(Response::HTTP_OK);
 
     // Ensure the rejected message is displayed.
     $message = $this->config('protected_submissions.settings')->get('protected_submissions.reject_message');
@@ -82,10 +83,11 @@ class ProtectedSubmissionsTest extends BrowserTestBase {
     $input = [
       'edit-comment-body-0-value' => 'a normal comment',
     ];
-    $this->drupalPostForm('node/1', $input, $this->t('Save'));
+    $this->drupalGet('node/1');
+    $this->submitForm($input, $this->t('Save'));
 
     // Ensure we get a 200 response.
-    $this->assertResponse(Response::HTTP_OK);
+    $this->assertSession()->statusCodeEquals(Response::HTTP_OK);
 
     // Ensure our normal post was posted.
     $this->assertSession()->responseContains('Your comment has been posted.');
