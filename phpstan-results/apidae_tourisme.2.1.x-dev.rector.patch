diff --git a/src/ApidaeSync.php b/src/ApidaeSync.php
index 39311b3..6cb9178 100644
--- a/src/ApidaeSync.php
+++ b/src/ApidaeSync.php
@@ -846,13 +846,13 @@ class ApidaeSync {
         }
         if ($data = file_get_contents($url)) {
           if ($this->mediaImageStyle !== NULL) {
-            $file = file_save_data($data, $temporarydDestination, FileSystemInterface::EXISTS_REPLACE);
+            $file = \Drupal::service('file.repository')->writeData($data, $temporarydDestination, FileSystemInterface::EXISTS_REPLACE);
             $style->createDerivative($temporarydDestination, $destination);
             unlink($temporarydDestination);
             $file->setFileUri($destination);
           }
           else {
-            $file = file_save_data($data, $destination, FileSystemInterface::EXISTS_REPLACE);
+            $file = \Drupal::service('file.repository')->writeData($data, $destination, FileSystemInterface::EXISTS_REPLACE);
           }
           $file->save();
           $files[] = [
diff --git a/src/Event/ApidaeNodePresaveEvent.php b/src/Event/ApidaeNodePresaveEvent.php
index a0e4a75..0008f92 100644
--- a/src/Event/ApidaeNodePresaveEvent.php
+++ b/src/Event/ApidaeNodePresaveEvent.php
@@ -10,7 +10,7 @@ use Symfony\Component\EventDispatcher\Event;
  *
  * @package Drupal\apidae_tourisme\Event
  */
-class ApidaeNodePresaveEvent extends Event {
+class ApidaeNodePresaveEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   public const EVENT_NAME = 'apidae_tourisme_node_presave';
 
diff --git a/src/Event/ApidaeQueryBuilderEvent.php b/src/Event/ApidaeQueryBuilderEvent.php
index 9a30ab5..72b746f 100644
--- a/src/Event/ApidaeQueryBuilderEvent.php
+++ b/src/Event/ApidaeQueryBuilderEvent.php
@@ -9,7 +9,7 @@ use Symfony\Component\EventDispatcher\Event;
  *
  * @package Drupal\apidae_tourisme\Event
  */
-class ApidaeQueryBuilderEvent extends Event {
+class ApidaeQueryBuilderEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   public const EVENT_NAME = 'apidae_tourisme_query_builder';
 
