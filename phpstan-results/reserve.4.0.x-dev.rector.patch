diff --git a/reserve.inc b/reserve.inc
index fb15c44..71b2037 100644
--- a/reserve.inc
+++ b/reserve.inc
@@ -696,7 +696,9 @@ function reserve_start_conflicts($room, $yyyy_mmdd, $time) {
     )
   ";
   $conflicts_found = FALSE;
-  $conflicts_found = db_query($sql, array(
+  // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+  // You will need to use `\Drupal\core\Database\Database::getConnection()` if you do not yet have access to the container here.
+  $conflicts_found = \Drupal::database()->query($sql, array(
       ':room' => $room,
       ':date0' => $search_items[0]['date'], ':time0' => $search_items[0]['start_time'], ':length0' => $search_items[0]['length'],
       ':date1' => $search_items[1]['date'], ':time1' => $search_items[1]['start_time'], ':length1' => $search_items[1]['length'],
@@ -705,8 +707,7 @@ function reserve_start_conflicts($room, $yyyy_mmdd, $time) {
       ':date4' => $search_items[4]['date'], ':time4' => $search_items[4]['start_time'], ':length4' => $search_items[4]['length'],
       ':date5' => $search_items[5]['date'], ':time5' => $search_items[5]['start_time'], ':length5' => $search_items[5]['length'],
       ':date6' => $search_items[6]['date'], ':time6' => $search_items[6]['start_time'], ':length6' => $search_items[6]['length'],
-      ':date7' => $search_items[7]['date'], ':time7' => $search_items[7]['start_time'], ':length7' => $search_items[7]['length'])
-  )->rowCount();
+      ':date7' => $search_items[7]['date'], ':time7' => $search_items[7]['start_time'], ':length7' => $search_items[7]['length']))->rowCount();
   return $conflicts_found;
 }
 
