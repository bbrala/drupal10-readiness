diff --git a/src/Controller/NewCommentController.php b/src/Controller/NewCommentController.php
index dbe39b5..014d17a 100644
--- a/src/Controller/NewCommentController.php
+++ b/src/Controller/NewCommentController.php
@@ -125,7 +125,7 @@ class NewCommentController extends ControllerBase {
             ->format('U');
           if ($this->time->getRequestTime() <= strtotime('+1 hour', $created)) {
             $this->tempStore->set($comment_id, TRUE);
-            $this->eventDispatcher->dispatch(NewCommentEvent::NEW_COMMENT, new NewCommentEvent($post));
+            $this->eventDispatcher->dispatch(new NewCommentEvent($post), NewCommentEvent::NEW_COMMENT);
 
             // Clear flood control for this user as this was a genuine comment.
             $this->flood->clear('disqus.new_comment');
diff --git a/src/DisqusCommentManager.php b/src/DisqusCommentManager.php
index e853914..cad4b0d 100644
--- a/src/DisqusCommentManager.php
+++ b/src/DisqusCommentManager.php
@@ -201,7 +201,7 @@ class DisqusCommentManager implements DisqusCommentManagerInterface {
         $data['avatar'] = !empty($file_uri) ? $file_uri : NULL;
       }
       if (isset($data['avatar'])) {
-        $data['avatar'] = file_create_url($data['avatar']);
+        $data['avatar'] = \Drupal::service('file_url_generator')->generateAbsoluteString($data['avatar']);
       }
     }
     $this->moduleHandler->alter('disqus_user_data', $data);
diff --git a/src/Event/NewCommentEvent.php b/src/Event/NewCommentEvent.php
index d1752bf..3c3a912 100644
--- a/src/Event/NewCommentEvent.php
+++ b/src/Event/NewCommentEvent.php
@@ -7,7 +7,7 @@ use Symfony\Component\EventDispatcher\Event;
 /**
  * Wraps a new comment event for event listeners.
  */
-class NewCommentEvent extends Event {
+class NewCommentEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   const NEW_COMMENT = 'disqus.comment.new';
 
