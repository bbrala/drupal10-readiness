diff --git a/rumbletalk_chat.info.yml b/rumbletalk_chat.info.yml
index 088f66a..02dc91c 100644
--- a/rumbletalk_chat.info.yml
+++ b/rumbletalk_chat.info.yml
@@ -3,7 +3,7 @@ description: The RumbleTalk Group chat is a module which allows you to embed a c
 package: RumbleTalk
 
 type: module
-core_version_requirement: ^8.8.0 || ^9
+core_version_requirement: ^9.3 || ^10
 # Information added by Drupal.org packaging script on 2021-11-11
 version: '1.0.2'
 project: 'rumbletalk'
diff --git a/src/Form/ChatForm.php b/src/Form/ChatForm.php
index 3e2e6d0..8a069bd 100644
--- a/src/Form/ChatForm.php
+++ b/src/Form/ChatForm.php
@@ -330,7 +330,7 @@ class ChatForm extends FormBase
 					a.src = 'https://d1pfint8izqszg.cloudfront.net/api/' + v + '/sdk.js';
 					b.parentNode.insertBefore(a, b);
 					})('rtmq', 'v1.0.0', window, document, 'script'); 
-				</script>" . "<script>rtmq('login',{hash: '". $hashcode . "', username: '". $user. "', image: '" . file_create_url($picture) . "', forceLogin: 'true'})</script>"
+				</script>" . "<script>rtmq('login',{hash: '". $hashcode . "', username: '". $user. "', image: '" . \Drupal::service('file_url_generator')->generateAbsoluteString($picture) . "', forceLogin: 'true'})</script>"
 					),
 				];
 			} 
diff --git a/src/Form/DisplayChatForm.php b/src/Form/DisplayChatForm.php
index c7c7135..9574e50 100644
--- a/src/Form/DisplayChatForm.php
+++ b/src/Form/DisplayChatForm.php
@@ -71,7 +71,7 @@ class DisplayChatForm extends FormBase
 					$pictureUri = $account->get('user_picture')->entity
 						? $account->get('user_picture')->entity->getFileUri()
 						: '';
-					$pictureUrl = file_create_url($pictureUri);
+					$pictureUrl = \Drupal::service('file_url_generator')->generateAbsoluteString($pictureUri);
 				
 					if ($pictureUri != '') {
 						$form['members_script'] = [
