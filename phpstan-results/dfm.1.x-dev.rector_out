[parsing] modules/contrib/dfm/dfm.api.php
[refactoring] modules/contrib/dfm/dfm.api.php
[post rectors] modules/contrib/dfm/dfm.api.php
[print] modules/contrib/dfm/dfm.api.php
[refactoring] modules/contrib/dfm/dfm.api.php
[post rectors] modules/contrib/dfm/dfm.api.php
[print] modules/contrib/dfm/dfm.api.php
[parsing] modules/contrib/dfm/dfm.install
[refactoring] modules/contrib/dfm/dfm.install
[post rectors] modules/contrib/dfm/dfm.install
[print] modules/contrib/dfm/dfm.install
[parsing] modules/contrib/dfm/dfm.module
[refactoring] modules/contrib/dfm/dfm.module
[post rectors] modules/contrib/dfm/dfm.module
[print] modules/contrib/dfm/dfm.module
[parsing] modules/contrib/dfm/src/Controller/DfmController.php
[refactoring] modules/contrib/dfm/src/Controller/DfmController.php
[post rectors] modules/contrib/dfm/src/Controller/DfmController.php
[print] modules/contrib/dfm/src/Controller/DfmController.php
[parsing] modules/contrib/dfm/src/Dfm.php
[refactoring] modules/contrib/dfm/src/Dfm.php
[post rectors] modules/contrib/dfm/src/Dfm.php
[print] modules/contrib/dfm/src/Dfm.php
[refactoring] modules/contrib/dfm/src/Dfm.php
[post rectors] modules/contrib/dfm/src/Dfm.php
[print] modules/contrib/dfm/src/Dfm.php
[parsing] modules/contrib/dfm/src/DfmDrupal.php
[refactoring] modules/contrib/dfm/src/DfmDrupal.php
[post rectors] modules/contrib/dfm/src/DfmDrupal.php
[print] modules/contrib/dfm/src/DfmDrupal.php
[refactoring] modules/contrib/dfm/src/DfmDrupal.php
[post rectors] modules/contrib/dfm/src/DfmDrupal.php
[print] modules/contrib/dfm/src/DfmDrupal.php
[parsing] modules/contrib/dfm/src/DfmFileField.php
[refactoring] modules/contrib/dfm/src/DfmFileField.php
[post rectors] modules/contrib/dfm/src/DfmFileField.php
[print] modules/contrib/dfm/src/DfmFileField.php
[parsing] modules/contrib/dfm/src/DfmProfileListBuilder.php
[refactoring] modules/contrib/dfm/src/DfmProfileListBuilder.php
[post rectors] modules/contrib/dfm/src/DfmProfileListBuilder.php
[print] modules/contrib/dfm/src/DfmProfileListBuilder.php
[parsing] modules/contrib/dfm/src/Entity/DfmProfile.php
[refactoring] modules/contrib/dfm/src/Entity/DfmProfile.php
[post rectors] modules/contrib/dfm/src/Entity/DfmProfile.php
[print] modules/contrib/dfm/src/Entity/DfmProfile.php
[parsing] modules/contrib/dfm/src/EventSubscriber/DfmSubscriber.php
[refactoring] modules/contrib/dfm/src/EventSubscriber/DfmSubscriber.php
[post rectors] modules/contrib/dfm/src/EventSubscriber/DfmSubscriber.php
[print] modules/contrib/dfm/src/EventSubscriber/DfmSubscriber.php
[refactoring] modules/contrib/dfm/src/EventSubscriber/DfmSubscriber.php
[post rectors] modules/contrib/dfm/src/EventSubscriber/DfmSubscriber.php
[print] modules/contrib/dfm/src/EventSubscriber/DfmSubscriber.php
[parsing] modules/contrib/dfm/src/Form/DfmProfileDeleteForm.php
[refactoring] modules/contrib/dfm/src/Form/DfmProfileDeleteForm.php
[post rectors] modules/contrib/dfm/src/Form/DfmProfileDeleteForm.php
[print] modules/contrib/dfm/src/Form/DfmProfileDeleteForm.php
[parsing] modules/contrib/dfm/src/Form/DfmProfileForm.php
[refactoring] modules/contrib/dfm/src/Form/DfmProfileForm.php
[post rectors] modules/contrib/dfm/src/Form/DfmProfileForm.php
[print] modules/contrib/dfm/src/Form/DfmProfileForm.php
[parsing] modules/contrib/dfm/src/Form/DfmSettingsForm.php
[refactoring] modules/contrib/dfm/src/Form/DfmSettingsForm.php
[post rectors] modules/contrib/dfm/src/Form/DfmSettingsForm.php
[print] modules/contrib/dfm/src/Form/DfmSettingsForm.php
[parsing] modules/contrib/dfm/src/Plugin/BUEditorPlugin/DfmBUEditor.php
[printing skipped due error] modules/contrib/dfm/src/Plugin/BUEditorPlugin/DfmBUEditor.php
[parsing] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditor.php
[refactoring] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditor.php
[post rectors] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditor.php
[print] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditor.php
[refactoring] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditor.php
[post rectors] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditor.php
[print] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditor.php
[parsing] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicImage.php
[refactoring] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicImage.php
[post rectors] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicImage.php
[print] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicImage.php
[refactoring] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicImage.php
[post rectors] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicImage.php
[print] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicImage.php
[parsing] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicLink.php
[refactoring] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicLink.php
[post rectors] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicLink.php
[print] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicLink.php
[refactoring] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicLink.php
[post rectors] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicLink.php
[print] modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicLink.php

7 files with changes
====================

1) modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicLink.php:18

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'dfm') . '/js/dfm.ckeditor.classic_link.js';
+    return \Drupal::service('extension.list.module')->getPath('dfm') . '/js/dfm.ckeditor.classic_link.js';
   }

   /**
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


2) modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditorClassicImage.php:18

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'dfm') . '/js/dfm.ckeditor.classic_image.js';
+    return \Drupal::service('extension.list.module')->getPath('dfm') . '/js/dfm.ckeditor.classic_image.js';
   }

   /**
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


3) modules/contrib/dfm/src/Plugin/CKEditorPlugin/DfmCKEditor.php:18

    ---------- begin diff ----------
@@ @@
    * {@inheritdoc}
    */
   public function getFile() {
-    return drupal_get_path('module', 'dfm') . '/js/dfm.ckeditor.js';
+    return \Drupal::service('extension.list.module')->getPath('dfm') . '/js/dfm.ckeditor.js';
   }

   /**
@@ @@
    * {@inheritdoc}
    */
   public function getButtons() {
-    $path = drupal_get_path('module', 'dfm') . '/css/images';
+    $path = \Drupal::service('extension.list.module')->getPath('dfm') . '/css/images';
     return [
       'dfm_image' => [
         'label' => t('Insert images using Drupella File Manager'),
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector
 * ChangeMethodVisibilityRector


4) modules/contrib/dfm/src/EventSubscriber/DfmSubscriber.php:19

    ---------- begin diff ----------
@@ @@
   /**
    * Performs operations before the request is processed.
    */
-  public function requestInit(GetResponseEvent $event) {
+  public function requestInit(\Symfony\Component\HttpKernel\Event\RequestEvent $event) {
     // Allow image derivatives temporarily.
     $request = $event->getRequest();
     $itok = $request->query->get('dfm_itok');
    ----------- end diff -----------

Applied rules:
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * RenameClassRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


5) modules/contrib/dfm/src/DfmDrupal.php:64

    ---------- begin diff ----------
@@ @@
     $jspath = $jsdir . '/dfm.' . $lang . '.js';
     // Translation file was created before. Just add it to page.
     if (file_exists($jspath)) {
-      if ($jsurl = file_create_url($jspath)) {
+      if ($jsurl = \Drupal::service('file_url_generator')->generateAbsoluteString($jspath)) {
         $dfm->addJs($jsurl);
       }
       return;
@@ @@
         $jspath = $jsdir . '/dfm.' . $dfm->getConf('lang') . '.js';
         if (@file_put_contents($jspath, 'dfm.extend(dfm.i18n, {' . implode(',', $lines) . '});')) {
           $fs->chmod($jspath);
-          if ($jsurl = file_create_url($jspath)) {
+          if ($jsurl = \Drupal::service('file_url_generator')->generateAbsoluteString($jspath)) {
             $dfm->addJs($jsurl);
           }
         }
@@ @@
     try {
       // Update body of nodes/blocks
       if ($dfm->getConf('fixBodyOnMove')) {
-        if ($url = file_create_url($filepath)) {
-          if ($newurl = file_create_url($newpath)) {
+        if ($url = \Drupal::service('file_url_generator')->generateAbsoluteString($filepath)) {
+          if ($newurl = \Drupal::service('file_url_generator')->generateAbsoluteString($newpath)) {
             // Fix Absolute urls
             static::fixFileMove($url, $newurl, $isdir);
             // Fix relative urls.
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector


6) modules/contrib/dfm/src/Dfm.php:127

    ---------- begin diff ----------
@@ @@
     $conf['rootDirPath'] = $conf['scheme'] . '://';
     $conf['rootDirUrl'] = preg_replace('@/(?:%2E|\.)$@i', '', file_create_url($conf['rootDirPath'] . '.'));
     if (empty($conf['absUrls'])) {
-      $conf['rootDirUrl'] = file_url_transform_relative($conf['rootDirUrl']);
+      $conf['rootDirUrl'] = \Drupal::service('file_url_generator')->transformRelative($conf['rootDirUrl']);
     }
     $conf['scriptDirPath'] = static::scriptPath();
     $conf['baseUrl'] = base_path();
@@ @@
   public static function scriptPath($subpath = NULL) {
     static $libpath;
     if (!isset($libpath)) {
-      $libpath = drupal_get_path('module', 'dfm') . '/library';
+      $libpath = \Drupal::service('extension.list.module')->getPath('dfm') . '/library';
       if (!file_exists($libpath)) {
         $libpath = DrupalKernel::findSitePath(\Drupal::request()) . '/libraries/dfm_lite';
         if (!file_exists($libpath)) {
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector
 * PseudoNamespaceToNamespaceRector
 * WrapReturnRector
 * AddParamTypeDeclarationRector


7) modules/contrib/dfm/dfm.api.php:97

    ---------- begin diff ----------
@@ @@
  */
 function hook_preprocess_dfm_page(array &$page) {
   // Define always included js/css
-  $path = base_path() . drupal_get_path('module', 'my');
+  $path = base_path() . \Drupal::service('extension.list.module')->getPath('my');
   $query_string = $page['qs'];
   $page['jsUrls']['my_js'] = $path . '/js/my.dfm.js' . $query_string;
   $page['cssUrls']['my_css'] = $path . '/css/my.dfm.css' . $query_string;
    ----------- end diff -----------

Applied rules:
 * DrupalGetPathRector
 * ArgumentRemoverRector


 [ERROR] Could not process                                                      
         "modules/contrib/dfm/src/Plugin/BUEditorPlugin/DfmBUEditor.php" file, due
         to:                                                                    
         "Analyze error: "Class Drupal\bueditor\BUEditorPluginBase not found.". 
         Include your files in "$parameters->set(Option::AUTOLOAD_PATHS, [...]);"
         or "$parameters->set(Option::BOOTSTRAP_FILES, [...]);" in "rector.php" 
         config.                                                                
         See https://github.com/rectorphp/rector#configuration".                

