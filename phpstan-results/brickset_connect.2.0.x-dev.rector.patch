diff --git a/brickset_connect.info.yml b/brickset_connect.info.yml
index 7fb0897..a3d6ab8 100644
--- a/brickset_connect.info.yml
+++ b/brickset_connect.info.yml
@@ -3,8 +3,7 @@ description: Creates a content type and provides an import tool for brick set in
 package: Custom
 type: module
 version: 2.0
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 dependencies:
   - drupal:views
diff --git a/src/BrickSet.php b/src/BrickSet.php
index ee0d521..a77f0e2 100644
--- a/src/BrickSet.php
+++ b/src/BrickSet.php
@@ -77,7 +77,7 @@ class BrickSet {
 				\Drupal::logger('brickset_connect')->notice('Saving image: ' . $image);
 				$ext = pathinfo($image, PATHINFO_EXTENSION);
 				$data = file_get_contents($image);
-				$file = file_save_data($data, 'public://' . $this->set_number . '-' . $i . '.' . $ext, Drupal\Core\File\FileSystemInterface::EXISTS_REPLACE);
+				$file = \Drupal::service('file.repository')->writeData($data, 'public://' . $this->set_number . '-' . $i . '.' . $ext, Drupal\Core\File\FileSystemInterface::EXISTS_REPLACE);
 				$image_entities[$i] = ['target_id' => $file->id()];
 				$i++;
 			}
