diff --git a/src/Plugin/Action/UpdateResourceDescriptionFile.php b/src/Plugin/Action/UpdateResourceDescriptionFile.php
index d8228bf..c329614 100644
--- a/src/Plugin/Action/UpdateResourceDescriptionFile.php
+++ b/src/Plugin/Action/UpdateResourceDescriptionFile.php
@@ -120,7 +120,7 @@ class UpdateResourceDescriptionFile extends ConfigurableActionBase implements Co
       try {
         // Call for the new file and save it.
         $stream = $this->utils->getResourceDescription($node->id(), $this->configuration['file_type']);
-        $file = file_save_data($stream->getContents(), $path, FileSystemInterface::EXISTS_REPLACE);
+        $file = \Drupal::service('file.repository')->writeData($stream->getContents(), $path, FileSystemInterface::EXISTS_REPLACE);
       }
       catch (ServerException $se) {
         throw new \Exception("Failed to retrieve resource description from ArchivesSpace: " . $se->getMessage());
diff --git a/tests/src/Functional/LoadTest.php b/tests/src/Functional/LoadTest.php
index e3650e6..819a52a 100644
--- a/tests/src/Functional/LoadTest.php
+++ b/tests/src/Functional/LoadTest.php
@@ -29,7 +29,7 @@ class LoadTest extends BrowserTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->user = $this->drupalCreateUser(['administer site configuration']);
     $this->drupalLogin($this->user);
