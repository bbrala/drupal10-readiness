diff --git a/src/Service/ImageBuilder.php b/src/Service/ImageBuilder.php
index 0e86942..68b21d8 100644
--- a/src/Service/ImageBuilder.php
+++ b/src/Service/ImageBuilder.php
@@ -76,7 +76,7 @@ class ImageBuilder implements ImageBuilderInterface {
       return $image_style->buildUrl($image_url);
     }
 
-    return file_create_url($image_url);
+    return \Drupal::service('file_url_generator')->generateAbsoluteString($image_url);
   }
 
   /**
diff --git a/tests/src/Kernel/ImageBuilderTokenTest.php b/tests/src/Kernel/ImageBuilderTokenTest.php
index 50d07d1..ac82a71 100644
--- a/tests/src/Kernel/ImageBuilderTokenTest.php
+++ b/tests/src/Kernel/ImageBuilderTokenTest.php
@@ -107,7 +107,7 @@ class ImageBuilderTokenTest extends KernelTestBase {
       'node-field_paragraphs' => $node->get('field_paragraphs'),
     ];
     $tokens = [
-      'image' => file_create_url($image->getFileUri()),
+      'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($image->getFileUri()),
       'image:test' => $this->imageStyle->buildUrl($image->getFileUri()),
     ];
     $this->assertTokens('node:field_paragraphs', $data, $tokens);
@@ -150,7 +150,7 @@ class ImageBuilderTokenTest extends KernelTestBase {
       'node-field_paragraphs' => $node->get('field_paragraphs'),
     ];
     $tokens = [
-      'image' => file_create_url($image_1->getFileUri()),
+      'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_1->getFileUri()),
       'image:test' => $this->imageStyle->buildUrl($image_1->getFileUri()),
     ];
     $this->assertTokens('node:field_paragraphs', $data, $tokens);
@@ -229,7 +229,7 @@ class ImageBuilderTokenTest extends KernelTestBase {
       'node-field_paragraphs' => $node->get('field_paragraphs'),
     ];
     $tokens = [
-      'image' => file_create_url($image_1->getFileUri()),
+      'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_1->getFileUri()),
       'image:test' => $this->imageStyle->buildUrl($image_1->getFileUri()),
     ];
     $this->assertTokens('node:field_paragraphs', $data, $tokens);
@@ -259,7 +259,7 @@ class ImageBuilderTokenTest extends KernelTestBase {
       'node-field_paragraphs' => $node->get('field_paragraphs'),
     ];
     $tokens = [
-      'image' => file_create_url($media->get('field_media_image')->entity->getFileUri()),
+      'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($media->get('field_media_image')->entity->getFileUri()),
       'image:test' => $this->imageStyle->buildUrl($media->get('field_media_image')->entity->getFileUri()),
     ];
     $this->assertTokens('node:field_paragraphs', $data, $tokens);
@@ -294,7 +294,7 @@ class ImageBuilderTokenTest extends KernelTestBase {
       'node-field_paragraphs' => $node->get('field_paragraphs'),
     ];
     $tokens = [
-      'image' => file_create_url($media->get('field_media_image')->entity->getFileUri()),
+      'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($media->get('field_media_image')->entity->getFileUri()),
       'image:test' => $this->imageStyle->buildUrl($media->get('field_media_image')->entity->getFileUri()),
     ];
     $this->assertTokens('node:field_paragraphs', $data, $tokens);
@@ -373,7 +373,7 @@ class ImageBuilderTokenTest extends KernelTestBase {
       'node-field_paragraphs' => $node->get('field_paragraphs'),
     ];
     $tokens = [
-      'image' => file_create_url($media_1->get('field_media_image')->entity->getFileUri()),
+      'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($media_1->get('field_media_image')->entity->getFileUri()),
       'image:test' => $this->imageStyle->buildUrl($media_1->get('field_media_image')->entity->getFileUri()),
     ];
     $this->assertTokens('node:field_paragraphs', $data, $tokens);
@@ -410,7 +410,7 @@ class ImageBuilderTokenTest extends KernelTestBase {
       'node-field_paragraphs' => $node->get('field_paragraphs'),
     ];
     $tokens = [
-      'image' => file_create_url($media->get('field_media_image')->entity->getFileUri()),
+      'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($media->get('field_media_image')->entity->getFileUri()),
       'image:test' => $this->imageStyle->buildUrl($media->get('field_media_image')->entity->getFileUri()),
     ];
     $this->assertTokens('node:field_paragraphs', $data, $tokens);
@@ -447,7 +447,7 @@ class ImageBuilderTokenTest extends KernelTestBase {
       'node-field_paragraphs' => $node->get('field_paragraphs'),
     ];
     $tokens = [
-      'image' => file_create_url($image_media->get('field_media_image')->entity->getFileUri()),
+      'image' => \Drupal::service('file_url_generator')->generateAbsoluteString($image_media->get('field_media_image')->entity->getFileUri()),
       'image:test' => $this->imageStyle->buildUrl($image_media->get('field_media_image')->entity->getFileUri()),
     ];
     $this->assertTokens('node:field_paragraphs', $data, $tokens);
