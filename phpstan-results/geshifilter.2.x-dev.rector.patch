diff --git a/codesnippetgeshi/codesnippetgeshi.module b/codesnippetgeshi/codesnippetgeshi.module
index 85513f6..c71b608 100755
--- a/codesnippetgeshi/codesnippetgeshi.module
+++ b/codesnippetgeshi/codesnippetgeshi.module
@@ -42,5 +42,5 @@ function codesnippetgeshi_editor_js_settings_alter(array &$settings) {
  */
 function codesnippetgeshi_ckeditor_css_alter(array &$css, Editor $editor) {
   // Add a css file to use inside ckeditor.
-  $css[] = drupal_get_path('module', 'codesnippetgeshi') . '/css/style-ckeditor.css';
+  $css[] = \Drupal::service('extension.list.module')->getPath('codesnippetgeshi') . '/css/style-ckeditor.css';
 }
diff --git a/codesnippetgeshi/src/Plugin/CKEditorPlugin/CodeSnippetGeshiCKEditorButton.php b/codesnippetgeshi/src/Plugin/CKEditorPlugin/CodeSnippetGeshiCKEditorButton.php
index eb58616..d0968af 100755
--- a/codesnippetgeshi/src/Plugin/CKEditorPlugin/CodeSnippetGeshiCKEditorButton.php
+++ b/codesnippetgeshi/src/Plugin/CKEditorPlugin/CodeSnippetGeshiCKEditorButton.php
@@ -23,7 +23,7 @@ class CodeSnippetGeshiCKEditorButton extends CKEditorPluginBase {
     return [
       'CodeSnippet' => [
         'label' => t('Add a button to use codesnippetgeshi plugin.'),
-        'image' => drupal_get_path('module', 'codesnippetgeshi') . '/icons/codesnippet.png',
+        'image' => \Drupal::service('extension.list.module')->getPath('codesnippetgeshi') . '/icons/codesnippet.png',
       ],
     ];
   }
