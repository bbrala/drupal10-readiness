diff --git a/fixed_text_link_formatter.info.yml b/fixed_text_link_formatter.info.yml
index 2a96943..ab7e885 100644
--- a/fixed_text_link_formatter.info.yml
+++ b/fixed_text_link_formatter.info.yml
@@ -1,7 +1,6 @@
 name: Fixed Text Link Formatter
 type: module
 description: Formats a link field with a configurable fixed link text.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 dependencies:
   - drupal:link
diff --git a/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php b/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php
index 9ca5515..5c66451 100644
--- a/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php
+++ b/src/Plugin/Field/FieldFormatter/FixedTextFileUrl.php
@@ -104,7 +104,7 @@ class FixedTextFileUrl extends FileFormatterBase {
     /** @var \Drupal\file\Entity\File $file */
     foreach ($this->getEntitiesToView($items, $langcode) as $delta => $file) {
       $text = $this->getLinkText();
-      $url = Url::fromUri(file_create_url($file->getFileUri()));
+      $url = \Drupal::service('file_url_generator')->generate($file->getFileUri());
       $link = Link::fromTextAndUrl($text, $url);
 
       $build = $link->toRenderable();
diff --git a/tests/src/Functional/FixedTextLinkTest.php b/tests/src/Functional/FixedTextLinkTest.php
index 2f06ce4..048a05c 100644
--- a/tests/src/Functional/FixedTextLinkTest.php
+++ b/tests/src/Functional/FixedTextLinkTest.php
@@ -49,7 +49,7 @@ class FixedTextLinkTest extends BrowserTestBase {
    */
   private $linkFieldName;
 
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
 
     $this->entityDisplayRepository = $this->container->get('entity_display.repository');
