diff --git a/celum_connect.install b/celum_connect.install
index 9bf1adc..ad24a1a 100644
--- a/celum_connect.install
+++ b/celum_connect.install
@@ -10,7 +10,7 @@
  */
 function celum_connect_install() {
     $directory = 'public://celum_connect';
-    if (file_prepare_directory($directory, FILE_CREATE_DIRECTORY)) {
+    if (\Drupal::service('file_system')->prepareDirectory($directory, \Drupal\Core\File\FileSystemInterface::CREATE_DIRECTORY)) {
         \Drupal::messenger()->addMessage("Directory created successfully");
     }else{
         \Drupal::messenger()->addMessage("Directory not created");
diff --git a/src/Plugin/Field/FieldType/CelumConnectFieldType.php b/src/Plugin/Field/FieldType/CelumConnectFieldType.php
index eb51fc6..f60731d 100644
--- a/src/Plugin/Field/FieldType/CelumConnectFieldType.php
+++ b/src/Plugin/Field/FieldType/CelumConnectFieldType.php
@@ -162,12 +162,12 @@ class CelumConnectFieldType extends FieldItemBase implements FieldItemInterface{
                 $download_url = $url."/direct/download?id=".$id."&format=".$dlf."&consumer=Drupal8";
                 if(system_retrieve_file($download_url,
                   \Drupal::config('system.file')->get('default_scheme')."://celum_connect/".$id."_".$version."_".$dlf.".".$fileExtension,
-                    TRUE, FILE_EXISTS_REPLACE)){
+                    TRUE, \Drupal\Core\File\FileSystemInterface::EXISTS_REPLACE)){
                     system_retrieve_file(
                         $thumb_url,
                       \Drupal::config('system.file')->get('default_scheme')."://celum_connect/".$id."_".$version."_".$dlf.".".$fileExtension."_thumb",
                         TRUE,
-                        FILE_EXISTS_REPLACE);
+                        \Drupal\Core\File\FileSystemInterface::EXISTS_REPLACE);
                   \Drupal::messenger()->addMessage("File uploaded successfully");
                 }else{
                   \Drupal::messenger()->addMessage("Failed to upload File",'error');
