[parsing] modules/contrib/imageapi_optimize_webp/imageapi_optimize_webp.module
[refactoring] modules/contrib/imageapi_optimize_webp/imageapi_optimize_webp.module
[post rectors] modules/contrib/imageapi_optimize_webp/imageapi_optimize_webp.module
[print] modules/contrib/imageapi_optimize_webp/imageapi_optimize_webp.module
[parsing] modules/contrib/imageapi_optimize_webp/modules/imageapi_optimize_webp_responsive/imageapi_optimize_webp_responsive.module
[refactoring] modules/contrib/imageapi_optimize_webp/modules/imageapi_optimize_webp_responsive/imageapi_optimize_webp_responsive.module
[post rectors] modules/contrib/imageapi_optimize_webp/modules/imageapi_optimize_webp_responsive/imageapi_optimize_webp_responsive.module
[print] modules/contrib/imageapi_optimize_webp/modules/imageapi_optimize_webp_responsive/imageapi_optimize_webp_responsive.module
[refactoring] modules/contrib/imageapi_optimize_webp/modules/imageapi_optimize_webp_responsive/imageapi_optimize_webp_responsive.module
[post rectors] modules/contrib/imageapi_optimize_webp/modules/imageapi_optimize_webp_responsive/imageapi_optimize_webp_responsive.module
[print] modules/contrib/imageapi_optimize_webp/modules/imageapi_optimize_webp_responsive/imageapi_optimize_webp_responsive.module
[parsing] modules/contrib/imageapi_optimize_webp/src/Controller/ImageStyleDownloadController.php
[refactoring] modules/contrib/imageapi_optimize_webp/src/Controller/ImageStyleDownloadController.php
[post rectors] modules/contrib/imageapi_optimize_webp/src/Controller/ImageStyleDownloadController.php
[print] modules/contrib/imageapi_optimize_webp/src/Controller/ImageStyleDownloadController.php
[parsing] modules/contrib/imageapi_optimize_webp/src/Entity/ImageAPIOptimizeWebPPipeline.php
[refactoring] modules/contrib/imageapi_optimize_webp/src/Entity/ImageAPIOptimizeWebPPipeline.php
[post rectors] modules/contrib/imageapi_optimize_webp/src/Entity/ImageAPIOptimizeWebPPipeline.php
[print] modules/contrib/imageapi_optimize_webp/src/Entity/ImageAPIOptimizeWebPPipeline.php
[parsing] modules/contrib/imageapi_optimize_webp/src/Plugin/ImageAPIOptimizeProcessor/WebP.php
[refactoring] modules/contrib/imageapi_optimize_webp/src/Plugin/ImageAPIOptimizeProcessor/WebP.php
[post rectors] modules/contrib/imageapi_optimize_webp/src/Plugin/ImageAPIOptimizeProcessor/WebP.php
[print] modules/contrib/imageapi_optimize_webp/src/Plugin/ImageAPIOptimizeProcessor/WebP.php
[parsing] modules/contrib/imageapi_optimize_webp/src/Routing/RouteSubscriber.php
[refactoring] modules/contrib/imageapi_optimize_webp/src/Routing/RouteSubscriber.php
[post rectors] modules/contrib/imageapi_optimize_webp/src/Routing/RouteSubscriber.php
[print] modules/contrib/imageapi_optimize_webp/src/Routing/RouteSubscriber.php

1 file with changes
===================

1) modules/contrib/imageapi_optimize_webp/modules/imageapi_optimize_webp_responsive/imageapi_optimize_webp_responsive.module:48

    ---------- begin diff ----------
@@ @@
         // If WebP processor exits on pipeline, build another map for jpg => webp paths.
         if ($pipeline_webp_map[$image_style->getPipeline()]) {
           $image_uri = $image_style->buildUri($variables['uri']);
-          $image_url = file_create_url($image_uri);
-          $image_relative_path = file_url_transform_relative($image_url);
+          $image_url = \Drupal::service('file_url_generator')->generateAbsoluteString($image_uri);
+          $image_relative_path = \Drupal::service('file_url_generator')->transformRelative($image_url);

           $image_relative_path_file = explode('?', $image_relative_path)[0];
           $webp_relative_path = str_replace($image_relative_path_file,
    ----------- end diff -----------

Applied rules:
 * FileCreateUrlRector
 * FileUrlTransformRelativeRector
 * ArgumentRemoverRector


 [OK] 1 file has been changed by Rector                                         

