diff --git a/inlinejs.info.yml b/inlinejs.info.yml
index a2b4d6d..41f748b 100644
--- a/inlinejs.info.yml
+++ b/inlinejs.info.yml
@@ -1,8 +1,7 @@
 name: Inline JS
 type: module
 description: Allows to add inline JavaScripts snipt.
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 # Information added by Drupal.org packaging script on 2020-05-24
 version: '2.0.0'
diff --git a/src/Asset/InlineJsCollectionRenderer.php b/src/Asset/InlineJsCollectionRenderer.php
index 421dcdc..d7ef63c 100644
--- a/src/Asset/InlineJsCollectionRenderer.php
+++ b/src/Asset/InlineJsCollectionRenderer.php
@@ -60,7 +60,7 @@ class InlineJsCollectionRenderer extends JsCollectionRenderer {
         case 'file':
           $query_string = $js_asset['version'] == -1 ? $default_query_string : 'v=' . $js_asset['version'];
           $query_string_separator = (strpos($js_asset['data'], '?') !== FALSE) ? '&' : '?';
-          $element['#attributes']['src'] = file_create_url($js_asset['data']);
+          $element['#attributes']['src'] = \Drupal::service('file_url_generator')->generateAbsoluteString($js_asset['data']);
           // Only add the cache-busting query string if this isn't an aggregate
           // file.
           if (!isset($js_asset['preprocessed'])) {
