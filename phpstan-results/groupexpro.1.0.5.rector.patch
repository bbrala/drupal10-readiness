diff --git a/modules/openy_group_schedules/src/Controller/SearchResultsController.php b/modules/openy_group_schedules/src/Controller/SearchResultsController.php
index 42361b8..587259d 100644
--- a/modules/openy_group_schedules/src/Controller/SearchResultsController.php
+++ b/modules/openy_group_schedules/src/Controller/SearchResultsController.php
@@ -69,7 +69,7 @@ class SearchResultsController extends ControllerBase implements ContainerInjecti
     }
     $viewBuilder = $this->entityTypeManager->getViewBuilder('node');
     $node_view = $viewBuilder->view($node, 'groupex');
-    $markup = render($node_view);
+    $markup = \Drupal::service('renderer')->render($node_view);
 
     return [
       '#markup' => $markup,
diff --git a/modules/openy_group_schedules/src/EventSubscriber/GroupexPageResponseSubscriber.php b/modules/openy_group_schedules/src/EventSubscriber/GroupexPageResponseSubscriber.php
index 997fa36..924aa7b 100644
--- a/modules/openy_group_schedules/src/EventSubscriber/GroupexPageResponseSubscriber.php
+++ b/modules/openy_group_schedules/src/EventSubscriber/GroupexPageResponseSubscriber.php
@@ -16,10 +16,10 @@ class GroupexPageResponseSubscriber implements EventSubscriberInterface {
    *
    * We are dealing with Dynamic Page Cache and BigPipe plus lazy loaders.
    *
-   * @param \Symfony\Component\HttpKernel\Event\GetResponseEvent $event
+   * @param \Symfony\Component\HttpKernel\Event\RequestEvent $event
    *   Passed event.
    */
-  public function groupexSessionStart(GetResponseEvent $event) {
+  public function groupexSessionStart(\Symfony\Component\HttpKernel\Event\RequestEvent $event) {
     $request = $event->getRequest();
     $uri = str_replace(base_path(), '/', $request->getRequestUri());
     if ($url_object = \Drupal::service('path.validator')->getUrlIfValid($uri)) {
