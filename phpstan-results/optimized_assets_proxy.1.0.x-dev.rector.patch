diff --git a/src/AssetDumper.php b/src/AssetDumper.php
index aa5903c..da1b306 100644
--- a/src/AssetDumper.php
+++ b/src/AssetDumper.php
@@ -15,7 +15,7 @@ class AssetDumper extends CoreAssetDumper {
       ->fields([
         'file' => basename($uri),
         'data' => $data,
-        'timestamp' => REQUEST_TIME,
+        'timestamp' => \Drupal::time()->getRequestTime(),
       ])
       ->execute();
 
diff --git a/src/EventSubscriber/MissingAsset.php b/src/EventSubscriber/MissingAsset.php
index 21fdf2b..948bf25 100644
--- a/src/EventSubscriber/MissingAsset.php
+++ b/src/EventSubscriber/MissingAsset.php
@@ -52,7 +52,7 @@ class MissingAsset implements EventSubscriberInterface {
     $this->eventDispatcher = $event_dispatcher;
   }
 
-  public function findAndWrite(GetResponseEvent $event) {
+  public function findAndWrite(\Symfony\Component\HttpKernel\Event\RequestEvent $event) {
     $request_path = $event->getRequest()->getPathInfo();
 
     //$assets_path = file_url_transform_relative(file_create_url('assets://'));
