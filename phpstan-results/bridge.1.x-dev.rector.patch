diff --git a/bridge.theme b/bridge.theme
index ed187a0..b15fec1 100644
--- a/bridge.theme
+++ b/bridge.theme
@@ -19,7 +19,7 @@ use Drupal\Core\Render\Markup;
 function _bridge_include($theme, $path) {
   static $themes = array();
   if (!isset($themes[$theme])) {
-    $themes[$theme] = drupal_get_path('theme', $theme);
+    $themes[$theme] = \Drupal::service('extension.list.theme')->getPath($theme);
   }
   if ($themes[$theme] && ($file = DRUPAL_ROOT . '/' . $themes[$theme] . '/' . $path) && file_exists($file)) {
     include_once $file;
@@ -82,7 +82,7 @@ function bridge_preprocess_media(&$variables) {
     case "file":
 
         if (isset($variables['elements']['field_file'][0]['#fid'])) {
-            $file = file_load($variables['elements']['field_file'][0]['#fid']);
+            $file = \Drupal::service('entity_type.manager')->getStorage('file')->load($variables['elements']['field_file'][0]['#fid']);
         } else{
             $file = ($variables['elements']['field_file'][0]['#file']);
         }
diff --git a/includes/preprocess.inc b/includes/preprocess.inc
index 7f4426f..6224ee4 100644
--- a/includes/preprocess.inc
+++ b/includes/preprocess.inc
@@ -190,7 +190,7 @@ function bridge_preprocess_file_link(&$vars) {
   $vars['type'] = strtoupper($fileParts['extension']);
 
 
-  $vars['icon_directory'] = drupal_get_path("theme", "bridge") . "/img/ico/file";
+  $vars['icon_directory'] = \Drupal::service('extension.list.theme')->getPath("bridge") . "/img/ico/file";
   $icon_class = file_icon_class($vars['file']->getMimeType());
   $vars['icon'] = array(
     '#theme' => 'image',
