diff --git a/custom_cache.info.yml b/custom_cache.info.yml
index 72ba4d2..1a7b878 100644
--- a/custom_cache.info.yml
+++ b/custom_cache.info.yml
@@ -2,4 +2,4 @@ name: Custom cache
 type: module
 description: "Provides a cache backend that puts a limit on what constitutes 'permanent'."
 version: '8.x-1.0'
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^8.8 || ^9 || ^10
diff --git a/src/CustomCacheDatabaseBackend.php b/src/CustomCacheDatabaseBackend.php
index bcebe37..60c820a 100644
--- a/src/CustomCacheDatabaseBackend.php
+++ b/src/CustomCacheDatabaseBackend.php
@@ -28,7 +28,7 @@ class CustomCacheDatabaseBackend extends DatabaseBackend {
       }
       if (!isset($item['expire']) || $item['expire'] === Cache::PERMANENT) {
         // Enforce a maximum lifetime.
-        $item['expire'] = REQUEST_TIME + Settings::get('custom_cache_melt_time', 86400);
+        $item['expire'] = \Drupal::time()->getRequestTime() + Settings::get('custom_cache_melt_time', 86400);
       }
       $cid = self::clearCid($cid);
       $NewItems[$cid] = $item;
