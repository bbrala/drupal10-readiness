diff --git a/src/JanrainMarkupBuilder.php b/src/JanrainMarkupBuilder.php
index 485e9b2..86dabb4 100644
--- a/src/JanrainMarkupBuilder.php
+++ b/src/JanrainMarkupBuilder.php
@@ -62,12 +62,12 @@ class JanrainMarkupBuilder {
     }
 
     // Federate.
-    $settings['capture']['federate_xd_reciever'] = $base_url . $base_path . drupal_get_path('module', 'janrain_capture') . '/xdcomm.html';
+    $settings['capture']['federate_xd_reciever'] = $base_url . $base_path . \Drupal::service('extension.list.module')->getPath('janrain_capture') . '/xdcomm.html';
 
-    $settings['capture']['stylesheets'][] = file_create_url(drupal_get_path('module', 'janrain_capture') . '/janrain-capture-screens/stylesheets/janrain.css');
+    $settings['capture']['stylesheets'][] = \Drupal::service('file_url_generator')->generateAbsoluteString(\Drupal::service('extension.list.module')->getPath('janrain_capture') . '/janrain-capture-screens/stylesheets/janrain.css');
 
     if (isset($settings['screens']['folder'])) {
-      $settings['capture']['stylesheets'][] = file_create_url($settings['screens']['folder'] . '/stylesheets/janrain.css');
+      $settings['capture']['stylesheets'][] = \Drupal::service('file_url_generator')->generateAbsoluteString($settings['screens']['folder'] . '/stylesheets/janrain.css');
     }
 
     // @todo Investigate docs for more info about federateSupportedSegments.
