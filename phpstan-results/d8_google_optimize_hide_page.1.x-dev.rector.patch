diff --git a/d8_google_optimize_hide_page.info.yml b/d8_google_optimize_hide_page.info.yml
index a722c4a..56aaae5 100755
--- a/d8_google_optimize_hide_page.info.yml
+++ b/d8_google_optimize_hide_page.info.yml
@@ -4,5 +4,4 @@ package: Statistics
 configure: d8_google_optimize_hide_page.settings
 
 type: module
-core: 8.x
-core_version_requirement: ^8 || ^9
+core_version_requirement: ^9.3 || ^10
diff --git a/d8_google_optimize_hide_page.module b/d8_google_optimize_hide_page.module
index 4c91a0e..bd52d52 100755
--- a/d8_google_optimize_hide_page.module
+++ b/d8_google_optimize_hide_page.module
@@ -199,7 +199,7 @@ function d8_google_optimize_hide_page_page_attachments(array &$attachments) {
   if ($isExternalFile) {
     /** @var \Drupal\Core\Routing\UrlGeneratorInterface $urlGenerator */
     $urlGenerator = \Drupal::service('url_generator');
-    $cssPath = drupal_get_path('module', 'd8_google_optimize_hide_page') . '/d8_google_optimize_hide_page.css';
+    $cssPath = \Drupal::service('extension.list.module')->getPath('d8_google_optimize_hide_page') . '/d8_google_optimize_hide_page.css';
 
     $attachments['#attached']['html_head'][] = [
       [
