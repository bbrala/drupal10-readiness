diff --git a/src/Form/ConfigTestForm.php b/src/Form/ConfigTestForm.php
index 572f234..d7ce125 100644
--- a/src/Form/ConfigTestForm.php
+++ b/src/Form/ConfigTestForm.php
@@ -65,7 +65,7 @@ class ConfigTestForm extends ConfigFormBase {
     if ($route_name == 'entity.oswald_bot.test_form') {
       $params = \Drupal::routeMatch()->getParameters()->all();
       $bot_id = $params['oswald_bot'];
-      $controller = \Drupal::entityManager()
+      $controller = \Drupal::service('entity_type.manager')
         ->getStorage('oswald_bot');
       $bot_entity = $controller->load($bot_id);
       $form['oswald_test'] = [
diff --git a/src/Form/OswaldBotForm.php b/src/Form/OswaldBotForm.php
index 13b793c..bb09162 100644
--- a/src/Form/OswaldBotForm.php
+++ b/src/Form/OswaldBotForm.php
@@ -58,14 +58,14 @@ class OswaldBotForm extends ContentEntityForm {
               '%label' => $entity->label(),
             ]));
         } else {
-          drupal_set_message($this->t('Created the %label.', [
+          $this->messenger()->addStatus($this->t('Created the %label.', [
               '%label' => $entity->label(),
             ]));
         }
         break;
 
       default:
-        drupal_set_message($this->t('Saved the %label.', [
+        $this->messenger()->addStatus($this->t('Saved the %label.', [
           '%label' => $entity->label(),
         ]));
     }
