diff --git a/src/Plugin/Field/FieldFormatter/BgImageFormatter.php b/src/Plugin/Field/FieldFormatter/BgImageFormatter.php
index 598e7a3..fcb87bf 100644
--- a/src/Plugin/Field/FieldFormatter/BgImageFormatter.php
+++ b/src/Plugin/Field/FieldFormatter/BgImageFormatter.php
@@ -577,10 +577,10 @@ class BgImageFormatter extends ImageFormatter {
         $file_url = $style->buildUrl($file->getFileUri());
       }
       else {
-        $file_url = file_create_url($file->getFileUri());
+        $file_url = \Drupal::service('file_url_generator')->generateAbsoluteString($file->getFileUri());
       }
 
-      $image_url = $path_format === 'absolute' ? $file_url : file_url_transform_relative($file_url);
+      $image_url = $path_format === 'absolute' ? $file_url : \Drupal::service('file_url_generator')->transformRelative($file_url);
 
       $css = $this->getBackgroundImageCss($image_url, $css_settings);
 
