diff --git a/htmlawed.info.yml b/htmlawed.info.yml
index f047b59..506cabc 100644
--- a/htmlawed.info.yml
+++ b/htmlawed.info.yml
@@ -2,7 +2,7 @@ name: htmLawed HTML filter/purifier
 description: Use htmLawed to restrict and correct HTML for compliance with admin. policy and standards and for security
 type: module
 package: filter
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^9.3 || ^10
 
 # Information added by Drupal.org packaging script on 2020-04-11
 version: '4.0.0'
diff --git a/htmlawed.module b/htmlawed.module
index 27303e2..42cf2a9 100644
--- a/htmlawed.module
+++ b/htmlawed.module
@@ -19,7 +19,7 @@ function htmlawed_help($route_name, RouteMatchInterface $route_match) {
   // If Libraries module is enabled, use htmLawed library through it;
   // else use the htmLawed library provided with the htmLawed module;
   // we need the library here to get the htmLawed version number and documentation.
-  $module_path = drupal_get_path('module', 'htmlawed');
+  $module_path = \Drupal::service('extension.list.module')->getPath('htmlawed');
   if (function_exists('libraries_load') && ($library = libraries_load('htmLawed')) && !empty($library['loaded']) && function_exists('hl_version')) {
     $doc_path = libraries_get_path('htmLawed') . '/';
     $Libraries_api_used = 1;
diff --git a/src/Plugin/Filter/Filterhtmlawed.php b/src/Plugin/Filter/Filterhtmlawed.php
index 4eed656..92d0d96 100644
--- a/src/Plugin/Filter/Filterhtmlawed.php
+++ b/src/Plugin/Filter/Filterhtmlawed.php
@@ -64,7 +64,7 @@ class Filterhtmlawed extends FilterBase {
 
     // If Libraries module (API 3.x) is enabled, use htmLawed library through it;
     // else use the htmLawed library provided with the htmLawed module.
-    $module_path = drupal_get_path('module', 'htmlawed');
+    $module_path = \Drupal::service('extension.list.module')->getPath('htmlawed');
     if (function_exists('libraries_load') && ($library = libraries_load('htmLawed')) && !empty($library['loaded']) && function_exists('htmLawed')) {
       $doc_path = libraries_get_path('htmLawed') . '/';
       $Libraries_api_used = 1;
