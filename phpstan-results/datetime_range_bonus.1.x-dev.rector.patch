diff --git a/datetime_range_bonus.info.yml b/datetime_range_bonus.info.yml
index 678b141..f9a6849 100644
--- a/datetime_range_bonus.info.yml
+++ b/datetime_range_bonus.info.yml
@@ -3,4 +3,4 @@ type: module
 description: Implements some bonus features for the datetime range core field.
 dependencies:
   - drupal:datetime_range
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^8.8 || ^9 || ^10
diff --git a/src/Plugin/Field/FieldFormatter/AggregatedCustomDateRange.php b/src/Plugin/Field/FieldFormatter/AggregatedCustomDateRange.php
index 80ce1e8..e09f316 100644
--- a/src/Plugin/Field/FieldFormatter/AggregatedCustomDateRange.php
+++ b/src/Plugin/Field/FieldFormatter/AggregatedCustomDateRange.php
@@ -178,7 +178,7 @@ class AggregatedCustomDateRange extends DateRangeCustomFormatter {
     $date_formats = $this->dateFormatStorage->loadMultiple();
     $formatter_options = array();
     foreach ($date_formats as $date_format) {
-      $formatter_options[$date_format->id()] = $date_format->label() . '(' .$this->dateFormatter->format(REQUEST_TIME, $date_format->id()) . ')';
+      $formatter_options[$date_format->id()] = $date_format->label() . '(' .$this->dateFormatter->format(\Drupal::time()->getRequestTime(), $date_format->id()) . ')';
     }
 
     $different_time_settings = $this->getSetting('different_time');
