diff --git a/library_manager.drush.inc b/library_manager.drush.inc
index 0eb04c5..3844c32 100644
--- a/library_manager.drush.inc
+++ b/library_manager.drush.inc
@@ -102,7 +102,7 @@ function drush_library_manager_lm_check_assets() {
       foreach ($library_info[$asset_type] as $file) {
 
         if ($file['type'] == 'file') {
-          $url = file_create_url($file['data']);
+          $url = \Drupal::service('file_url_generator')->generateAbsoluteString($file['data']);
         }
         elseif ($file['type'] == 'external') {
           $url = $file['data'];
diff --git a/src/Commands/LibraryManagerCommands.php b/src/Commands/LibraryManagerCommands.php
index 5a35c7c..bf7196d 100644
--- a/src/Commands/LibraryManagerCommands.php
+++ b/src/Commands/LibraryManagerCommands.php
@@ -152,7 +152,7 @@ class LibraryManagerCommands extends DrushCommands {
         foreach ($library_info[$asset_type] as $file) {
 
           if ($file['type'] == 'file') {
-            $url = file_create_url($file['data']);
+            $url = \Drupal::service('file_url_generator')->generateAbsoluteString($file['data']);
           }
           elseif ($file['type'] == 'external') {
             $url = $file['data'];
diff --git a/src/Form/AssetsCheckForm.php b/src/Form/AssetsCheckForm.php
index 13bbc2d..5666f99 100644
--- a/src/Form/AssetsCheckForm.php
+++ b/src/Form/AssetsCheckForm.php
@@ -108,7 +108,7 @@ class AssetsCheckForm extends FormBase {
       foreach (['css', 'js'] as $asset_type) {
         foreach ($library_info[$asset_type] as $file) {
           if ($file['type'] == 'file') {
-            $operations[] = [$processCallback, [file_create_url($file['data'])]];
+            $operations[] = [$processCallback, [\Drupal::service('file_url_generator')->generateAbsoluteString($file['data'])]];
           }
           elseif ($file['type'] == 'external') {
             $operations[] = [$processCallback, [$file['data']]];
diff --git a/src/LibraryDiscovery.php b/src/LibraryDiscovery.php
index bb84ff9..20c26a3 100644
--- a/src/LibraryDiscovery.php
+++ b/src/LibraryDiscovery.php
@@ -129,9 +129,11 @@ class LibraryDiscovery extends BaseLibraryDiscovery implements LibraryDiscoveryI
    * {@inheritdoc}
    */
   public function getExtensionPath($extension) {
+    // TODO: Drupal Rector Notice: Please delete the following comment after you've made any necessary changes.
+    // Unsupported extension type encountered, using extension.path.resolver instead of extension.list
     $path = $extension == 'core' ?
       'core' :
-      drupal_get_path($this->moduleHandler->moduleExists($extension) ? 'module' : 'theme', $extension);
+      \Drupal::service('extension.path.resolver')->getPath($this->moduleHandler->moduleExists($extension) ? 'module' : 'theme', $extension);
 
     return $path . '/';
   }
diff --git a/tests/src/Unit/LocalTasksTest.php b/tests/src/Unit/LocalTasksTest.php
index a70b3b6..7062151 100644
--- a/tests/src/Unit/LocalTasksTest.php
+++ b/tests/src/Unit/LocalTasksTest.php
@@ -14,7 +14,7 @@ class LocalTasksTest extends LocalTaskIntegrationTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     // The module can be located in subdirectory.
     preg_match('#.*/(modules/.*library_manager)/tests/src/Unit$#', __DIR__, $matches);
     $this->directoryList = ['library_manager' => $matches[1]];
