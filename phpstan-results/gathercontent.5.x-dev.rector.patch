diff --git a/gathercontent_ui/src/Form/ContentImportSelectForm.php b/gathercontent_ui/src/Form/ContentImportSelectForm.php
index 25bbc26..15302d9 100644
--- a/gathercontent_ui/src/Form/ContentImportSelectForm.php
+++ b/gathercontent_ui/src/Form/ContentImportSelectForm.php
@@ -527,7 +527,7 @@ class ContentImportSelectForm extends FormBase {
           'title' => $this->t('Importing content ...'),
           'operations' => $operations,
           'finished' => 'gathercontent_ui_import_finished',
-          'file' => drupal_get_path('module', 'gathercontent') . '/gathercontent.module',
+          'file' => \Drupal::service('extension.list.module')->getPath('gathercontent') . '/gathercontent.module',
           'init_message' => $this->t('Import is starting ...'),
           'progress_message' => $this->t('Processed @current out of @total.'),
           'error_message' => $this->t('An error occurred during processing'),
diff --git a/gathercontent_upload/src/Event/PostNodeUploadEvent.php b/gathercontent_upload/src/Event/PostNodeUploadEvent.php
index 77874dc..190abf4 100644
--- a/gathercontent_upload/src/Event/PostNodeUploadEvent.php
+++ b/gathercontent_upload/src/Event/PostNodeUploadEvent.php
@@ -8,7 +8,7 @@ use Symfony\Component\EventDispatcher\Event;
 /**
  * Wraps a post node upload event for event listeners.
  */
-class PostNodeUploadEvent extends Event {
+class PostNodeUploadEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   /**
    * Node object.
diff --git a/gathercontent_upload/src/Event/PreNodeUploadEvent.php b/gathercontent_upload/src/Event/PreNodeUploadEvent.php
index 57c10e9..da99f1d 100644
--- a/gathercontent_upload/src/Event/PreNodeUploadEvent.php
+++ b/gathercontent_upload/src/Event/PreNodeUploadEvent.php
@@ -8,7 +8,7 @@ use Symfony\Component\EventDispatcher\Event;
 /**
  * Wraps a pre node upload event for event listeners.
  */
-class PreNodeUploadEvent extends Event {
+class PreNodeUploadEvent extends \Symfony\Contracts\EventDispatcher\Event {
 
   /**
    * Node object.
diff --git a/gathercontent_upload/src/Export/Exporter.php b/gathercontent_upload/src/Export/Exporter.php
index eb020a8..9de2751 100644
--- a/gathercontent_upload/src/Export/Exporter.php
+++ b/gathercontent_upload/src/Export/Exporter.php
@@ -175,7 +175,7 @@ class Exporter implements ContainerInjectionInterface {
     $data = $this->processGroups($entity, $mapping);
 
     $event = $this->eventDispatcher
-      ->dispatch(GatherUploadContentEvents::PRE_NODE_UPLOAD, new PreNodeUploadEvent($entity, $data));
+      ->dispatch(new PreNodeUploadEvent($entity, $data), GatherUploadContentEvents::PRE_NODE_UPLOAD);
 
     /** @var \Drupal\gathercontent_upload\Event\PreNodeUploadEvent $event */
     $data = $event->getGathercontentValues();
@@ -193,7 +193,7 @@ class Exporter implements ContainerInjectionInterface {
     }
 
     $this->eventDispatcher
-      ->dispatch(GatherUploadContentEvents::POST_NODE_UPLOAD, new PostNodeUploadEvent($entity, $data));
+      ->dispatch(new PostNodeUploadEvent($entity, $data), GatherUploadContentEvents::POST_NODE_UPLOAD);
 
     if (empty($context['results']['mappings'][$mapping->id()])) {
       $context['results']['mappings'][$mapping->id()] = [
diff --git a/gathercontent_upload/tests/src/Kernel/GatherContentUploadTestBase.php b/gathercontent_upload/tests/src/Kernel/GatherContentUploadTestBase.php
index 5271470..8057f5d 100644
--- a/gathercontent_upload/tests/src/Kernel/GatherContentUploadTestBase.php
+++ b/gathercontent_upload/tests/src/Kernel/GatherContentUploadTestBase.php
@@ -53,7 +53,7 @@ class GatherContentUploadTestBase extends EntityKernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->installSchema('node', 'node_access');
diff --git a/gathercontent_upload_ui/src/Form/ContentUploadSelectForm.php b/gathercontent_upload_ui/src/Form/ContentUploadSelectForm.php
index 7c0ae10..3d363ed 100644
--- a/gathercontent_upload_ui/src/Form/ContentUploadSelectForm.php
+++ b/gathercontent_upload_ui/src/Form/ContentUploadSelectForm.php
@@ -414,7 +414,7 @@ class ContentUploadSelectForm extends FormBase {
           'title' => $this->t('Uploading content ...'),
           'operations' => $operations,
           'finished' => 'gathercontent_upload_finished',
-          'file' => drupal_get_path('module', 'gathercontent_upload_ui') . '/gathercontent_upload_ui.module',
+          'file' => \Drupal::service('extension.list.module')->getPath('gathercontent_upload_ui') . '/gathercontent_upload_ui.module',
           'init_message' => $this->t('Upload is starting ...'),
           'progress_message' => $this->t('Processed @current out of @total.'),
           'error_message' => $this->t('An error occurred during processing'),
diff --git a/src/DrupalGatherContentClient.php b/src/DrupalGatherContentClient.php
index 3d76ea0..11ab315 100644
--- a/src/DrupalGatherContentClient.php
+++ b/src/DrupalGatherContentClient.php
@@ -171,7 +171,7 @@ class DrupalGatherContentClient extends GatherContentClient {
 
             $path = $directory . '/' . $files[$index]->filename;
 
-            $importedFile = file_save_data($response->getBody(), $path);
+            $importedFile = \Drupal::service('file.repository')->writeData($response->getBody(), $path);
 
             if ($importedFile) {
               $importedFile
diff --git a/tests/modules/gathercontent_test/src/MockData.php b/tests/modules/gathercontent_test/src/MockData.php
index e0e2e5b..15928a9 100644
--- a/tests/modules/gathercontent_test/src/MockData.php
+++ b/tests/modules/gathercontent_test/src/MockData.php
@@ -178,7 +178,7 @@ class MockData {
       $file->userId = static::getUniqueInt();
       $file->itemId = $item->id;
       $file->field = $element->id;
-      $file->url = static::$drupalRoot . '/' . drupal_get_path('module', 'gathercontent_test') . '/images/test.png';
+      $file->url = static::$drupalRoot . '/' . \Drupal::service('extension.list.module')->getPath('gathercontent_test') . '/images/test.png';
       $file->fileName = 'test.jpg';
       $file->size = 60892;
       $file->type = 'field';
diff --git a/tests/src/Kernel/GcImportTestBase.php b/tests/src/Kernel/GcImportTestBase.php
index c955a33..8c43a27 100644
--- a/tests/src/Kernel/GcImportTestBase.php
+++ b/tests/src/Kernel/GcImportTestBase.php
@@ -25,7 +25,7 @@ class GcImportTestBase extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->installSchema('node', 'node_access');
     $this->installEntitySchema('node');
diff --git a/tests/src/Kernel/GcMigrateTestBase.php b/tests/src/Kernel/GcMigrateTestBase.php
index 084a6b9..98dcfec 100644
--- a/tests/src/Kernel/GcMigrateTestBase.php
+++ b/tests/src/Kernel/GcMigrateTestBase.php
@@ -24,7 +24,7 @@ class GcMigrateTestBase extends MigrateTestBase {
   /**
    * {@inheritdoc}
    */
-  public function setUp() {
+  public function setUp(): void {
     parent::setUp();
     $this->installSchema('node', 'node_access');
     $this->installEntitySchema('node');
